!function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e(e.s=16)}([function(t,e,n){"use strict";function i(t){return"[object Array]"===M.call(t)}function r(t){return"[object ArrayBuffer]"===M.call(t)}function o(t){return"undefined"!==typeof FormData&&t instanceof FormData}function a(t){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer}function s(t){return"string"===typeof t}function l(t){return"number"===typeof t}function u(t){return"undefined"===typeof t}function c(t){return null!==t&&"object"===typeof t}function h(t){return"[object Date]"===M.call(t)}function p(t){return"[object File]"===M.call(t)}function d(t){return"[object Blob]"===M.call(t)}function f(t){return"[object Function]"===M.call(t)}function y(t){return c(t)&&f(t.pipe)}function m(t){return"undefined"!==typeof URLSearchParams&&t instanceof URLSearchParams}function v(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}function g(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)}function x(t,e){if(null!==t&&"undefined"!==typeof t)if("object"!==typeof t&&(t=[t]),i(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.call(null,t[o],o,t)}function _(){function t(t,n){"object"===typeof e[n]&&"object"===typeof t?e[n]=_(e[n],t):e[n]=t}for(var e={},n=0,i=arguments.length;n<i;n++)x(arguments[n],t);return e}function b(t,e,n){return x(e,function(e,i){t[i]=n&&"function"===typeof e?w(e,n):e}),t}var w=n(10),E=n(36),M=Object.prototype.toString;t.exports={isArray:i,isArrayBuffer:r,isBuffer:E,isFormData:o,isArrayBufferView:a,isString:s,isNumber:l,isObject:c,isUndefined:u,isDate:h,isFile:p,isBlob:d,isFunction:f,isStream:y,isURLSearchParams:m,isStandardBrowserEnv:g,forEach:x,merge:_,extend:b,trim:v}},function(t,e,n){!function(e,n){t.exports=n()}(0,function(){"use strict";function t(t,e){var n=[],i=0;if(t&&!e&&t instanceof Dt)return t;if(t)if("string"===typeof t){var r,o,a=t.trim();if(a.indexOf("<")>=0&&a.indexOf(">")>=0){var s="div";for(0===a.indexOf("<li")&&(s="ul"),0===a.indexOf("<tr")&&(s="tbody"),0!==a.indexOf("<td")&&0!==a.indexOf("<th")||(s="tr"),0===a.indexOf("<tbody")&&(s="table"),0===a.indexOf("<option")&&(s="select"),o=zt.createElement(s),o.innerHTML=a,i=0;i<o.childNodes.length;i+=1)n.push(o.childNodes[i])}else for(r=e||"#"!==t[0]||t.match(/[ .<>:~]/)?(e||zt).querySelectorAll(t.trim()):[zt.getElementById(t.trim().split("#")[1])],i=0;i<r.length;i+=1)r[i]&&n.push(r[i])}else if(t.nodeType||t===Ot||t===zt)n.push(t);else if(t.length>0&&t[0].nodeType)for(i=0;i<t.length;i+=1)n.push(t[i]);return new Dt(n)}function e(t){for(var e=[],n=0;n<t.length;n+=1)-1===e.indexOf(t[n])&&e.push(t[n]);return e}function n(t){var e=this;if("undefined"===typeof t)return this;for(var n=t.split(" "),i=0;i<n.length;i+=1)for(var r=0;r<this.length;r+=1)"undefined"!==typeof e[r].classList&&e[r].classList.add(n[i]);return this}function i(t){for(var e=this,n=t.split(" "),i=0;i<n.length;i+=1)for(var r=0;r<this.length;r+=1)"undefined"!==typeof e[r].classList&&e[r].classList.remove(n[i]);return this}function r(t){return!!this[0]&&this[0].classList.contains(t)}function o(t){for(var e=this,n=t.split(" "),i=0;i<n.length;i+=1)for(var r=0;r<this.length;r+=1)"undefined"!==typeof e[r].classList&&e[r].classList.toggle(n[i]);return this}function a(t,e){var n=arguments,i=this;if(1!==arguments.length||"string"!==typeof t){for(var r=0;r<this.length;r+=1)if(2===n.length)i[r].setAttribute(t,e);else for(var o in t)i[r][o]=t[o],i[r].setAttribute(o,t[o]);return this}if(this[0])return this[0].getAttribute(t)}function s(t){for(var e=this,n=0;n<this.length;n+=1)e[n].removeAttribute(t);return this}function l(t,e){var n,i=this;if("undefined"!==typeof e){for(var r=0;r<this.length;r+=1)n=i[r],n.dom7ElementDataStorage||(n.dom7ElementDataStorage={}),n.dom7ElementDataStorage[t]=e;return this}if(n=this[0]){if(n.dom7ElementDataStorage&&t in n.dom7ElementDataStorage)return n.dom7ElementDataStorage[t];var o=n.getAttribute("data-"+t);if(o)return o}else;}function u(t){for(var e=this,n=0;n<this.length;n+=1){var i=e[n].style;i.webkitTransform=t,i.transform=t}return this}function c(t){var e=this;"string"!==typeof t&&(t+="ms");for(var n=0;n<this.length;n+=1){var i=e[n].style;i.webkitTransitionDuration=t,i.transitionDuration=t}return this}function h(){function e(e){var n=e.target;if(n){var i=e.target.dom7EventData||[];if(i.unshift(e),t(n).is(l))u.apply(n,i);else for(var r=t(n).parents(),o=0;o<r.length;o+=1)t(r[o]).is(l)&&u.apply(r[o],i)}}function n(t){var e=t&&t.target?t.target.dom7EventData||[]:[];e.unshift(t),u.apply(this,e)}for(var i,r=this,o=[],a=arguments.length;a--;)o[a]=arguments[a];var s=o[0],l=o[1],u=o[2],c=o[3];"function"===typeof o[1]&&(i=o,s=i[0],u=i[1],c=i[2],l=void 0),c||(c=!1);for(var h,p=s.split(" "),d=0;d<this.length;d+=1){var f=r[d];if(l)for(h=0;h<p.length;h+=1)f.dom7LiveListeners||(f.dom7LiveListeners=[]),f.dom7LiveListeners.push({type:s,listener:u,proxyListener:e}),f.addEventListener(p[h],e,c);else for(h=0;h<p.length;h+=1)f.dom7Listeners||(f.dom7Listeners=[]),f.dom7Listeners.push({type:s,listener:u,proxyListener:n}),f.addEventListener(p[h],n,c)}return this}function p(){for(var t,e=this,n=[],i=arguments.length;i--;)n[i]=arguments[i];var r=n[0],o=n[1],a=n[2],s=n[3];"function"===typeof n[1]&&(t=n,r=t[0],a=t[1],s=t[2],o=void 0),s||(s=!1);for(var l=r.split(" "),u=0;u<l.length;u+=1)for(var c=0;c<this.length;c+=1){var h=e[c];if(o){if(h.dom7LiveListeners)for(var p=0;p<h.dom7LiveListeners.length;p+=1)a?h.dom7LiveListeners[p].listener===a&&h.removeEventListener(l[u],h.dom7LiveListeners[p].proxyListener,s):h.dom7LiveListeners[p].type===l[u]&&h.removeEventListener(l[u],h.dom7LiveListeners[p].proxyListener,s)}else if(h.dom7Listeners)for(var d=0;d<h.dom7Listeners.length;d+=1)a?h.dom7Listeners[d].listener===a&&h.removeEventListener(l[u],h.dom7Listeners[d].proxyListener,s):h.dom7Listeners[d].type===l[u]&&h.removeEventListener(l[u],h.dom7Listeners[d].proxyListener,s)}return this}function d(){for(var t=this,e=[],n=arguments.length;n--;)e[n]=arguments[n];for(var i=e[0].split(" "),r=e[1],o=0;o<i.length;o+=1)for(var a=0;a<this.length;a+=1){var s=void 0;try{s=new Ot.CustomEvent(i[o],{detail:r,bubbles:!0,cancelable:!0})}catch(t){s=zt.createEvent("Event"),s.initEvent(i[o],!0,!0),s.detail=r}t[a].dom7EventData=e.filter(function(t,e){return e>0}),t[a].dispatchEvent(s),t[a].dom7EventData=[],delete t[a].dom7EventData}return this}function f(t){function e(o){if(o.target===this)for(t.call(this,o),n=0;n<i.length;n+=1)r.off(i[n],e)}var n,i=["webkitTransitionEnd","transitionend"],r=this;if(t)for(n=0;n<i.length;n+=1)r.on(i[n],e);return this}function y(t){if(this.length>0){if(t){var e=this.styles();return this[0].offsetWidth+parseFloat(e.getPropertyValue("margin-right"))+parseFloat(e.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null}function m(t){if(this.length>0){if(t){var e=this.styles();return this[0].offsetHeight+parseFloat(e.getPropertyValue("margin-top"))+parseFloat(e.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null}function v(){if(this.length>0){var t=this[0],e=t.getBoundingClientRect(),n=zt.body,i=t.clientTop||n.clientTop||0,r=t.clientLeft||n.clientLeft||0,o=t===Ot?Ot.scrollY:t.scrollTop,a=t===Ot?Ot.scrollX:t.scrollLeft;return{top:e.top+o-i,left:e.left+a-r}}return null}function g(){return this[0]?Ot.getComputedStyle(this[0],null):{}}function x(t,e){var n,i=this;if(1===arguments.length){if("string"!==typeof t){for(n=0;n<this.length;n+=1)for(var r in t)i[n].style[r]=t[r];return this}if(this[0])return Ot.getComputedStyle(this[0],null).getPropertyValue(t)}if(2===arguments.length&&"string"===typeof t){for(n=0;n<this.length;n+=1)i[n].style[t]=e;return this}return this}function _(t){var e=this;if(!t)return this;for(var n=0;n<this.length;n+=1)if(!1===t.call(e[n],n,e[n]))return e;return this}function b(t){var e=this;if("undefined"===typeof t)return this[0]?this[0].innerHTML:void 0;for(var n=0;n<this.length;n+=1)e[n].innerHTML=t;return this}function w(t){var e=this;if("undefined"===typeof t)return this[0]?this[0].textContent.trim():null;for(var n=0;n<this.length;n+=1)e[n].textContent=t;return this}function E(e){var n,i,r=this[0];if(!r||"undefined"===typeof e)return!1;if("string"===typeof e){if(r.matches)return r.matches(e);if(r.webkitMatchesSelector)return r.webkitMatchesSelector(e);if(r.msMatchesSelector)return r.msMatchesSelector(e);for(n=t(e),i=0;i<n.length;i+=1)if(n[i]===r)return!0;return!1}if(e===zt)return r===zt;if(e===Ot)return r===Ot;if(e.nodeType||e instanceof Dt){for(n=e.nodeType?[e]:e,i=0;i<n.length;i+=1)if(n[i]===r)return!0;return!1}return!1}function M(){var t,e=this[0];if(e){for(t=0;null!==(e=e.previousSibling);)1===e.nodeType&&(t+=1);return t}}function T(t){if("undefined"===typeof t)return this;var e,n=this.length;return t>n-1?new Dt([]):t<0?(e=n+t,new Dt(e<0?[]:[this[e]])):new Dt([this[t]])}function S(){for(var t=this,e=[],n=arguments.length;n--;)e[n]=arguments[n];for(var i,r=0;r<e.length;r+=1){i=e[r];for(var o=0;o<this.length;o+=1)if("string"===typeof i){var a=zt.createElement("div");for(a.innerHTML=i;a.firstChild;)t[o].appendChild(a.firstChild)}else if(i instanceof Dt)for(var s=0;s<i.length;s+=1)t[o].appendChild(i[s]);else t[o].appendChild(i)}return this}function A(t){var e,n,i=this;for(e=0;e<this.length;e+=1)if("string"===typeof t){var r=zt.createElement("div");for(r.innerHTML=t,n=r.childNodes.length-1;n>=0;n-=1)i[e].insertBefore(r.childNodes[n],i[e].childNodes[0])}else if(t instanceof Dt)for(n=0;n<t.length;n+=1)i[e].insertBefore(t[n],i[e].childNodes[0]);else i[e].insertBefore(t,i[e].childNodes[0]);return this}function C(e){return new Dt(this.length>0?e?this[0].nextElementSibling&&t(this[0].nextElementSibling).is(e)?[this[0].nextElementSibling]:[]:this[0].nextElementSibling?[this[0].nextElementSibling]:[]:[])}function L(e){var n=[],i=this[0];if(!i)return new Dt([]);for(;i.nextElementSibling;){var r=i.nextElementSibling;e?t(r).is(e)&&n.push(r):n.push(r),i=r}return new Dt(n)}function k(e){if(this.length>0){var n=this[0];return new Dt(e?n.previousElementSibling&&t(n.previousElementSibling).is(e)?[n.previousElementSibling]:[]:n.previousElementSibling?[n.previousElementSibling]:[])}return new Dt([])}function P(e){var n=[],i=this[0];if(!i)return new Dt([]);for(;i.previousElementSibling;){var r=i.previousElementSibling;e?t(r).is(e)&&n.push(r):n.push(r),i=r}return new Dt(n)}function I(n){for(var i=this,r=[],o=0;o<this.length;o+=1)null!==i[o].parentNode&&(n?t(i[o].parentNode).is(n)&&r.push(i[o].parentNode):r.push(i[o].parentNode));return t(e(r))}function R(n){for(var i=this,r=[],o=0;o<this.length;o+=1)for(var a=i[o].parentNode;a;)n?t(a).is(n)&&r.push(a):r.push(a),a=a.parentNode;return t(e(r))}function z(t){var e=this;return"undefined"===typeof t?new Dt([]):(e.is(t)||(e=e.parents(t).eq(0)),e)}function O(t){for(var e=this,n=[],i=0;i<this.length;i+=1)for(var r=e[i].querySelectorAll(t),o=0;o<r.length;o+=1)n.push(r[o]);return new Dt(n)}function D(n){for(var i=this,r=[],o=0;o<this.length;o+=1)for(var a=i[o].childNodes,s=0;s<a.length;s+=1)n?1===a[s].nodeType&&t(a[s]).is(n)&&r.push(a[s]):1===a[s].nodeType&&r.push(a[s]);return new Dt(e(r))}function B(){for(var t=this,e=0;e<this.length;e+=1)t[e].parentNode&&t[e].parentNode.removeChild(t[e]);return this}function N(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];var i,r,o=this;for(i=0;i<e.length;i+=1){var a=t(e[i]);for(r=0;r<a.length;r+=1)o[o.length]=a[r],o.length+=1}return o}function F(){var t,e,n=this,i=n.$el;t="undefined"!==typeof n.params.width?n.params.width:i[0].clientWidth,e="undefined"!==typeof n.params.height?n.params.height:i[0].clientHeight,0===t&&n.isHorizontal()||0===e&&n.isVertical()||(t=t-parseInt(i.css("padding-left"),10)-parseInt(i.css("padding-right"),10),e=e-parseInt(i.css("padding-top"),10)-parseInt(i.css("padding-bottom"),10),Nt.extend(n,{width:t,height:e,size:n.isHorizontal()?t:e}))}function U(){var t=this,e=t.params,n=t.$wrapperEl,i=t.size,r=t.rtlTranslate,o=t.wrongRTL,a=n.children("."+t.params.slideClass),s=t.virtual&&e.virtual.enabled,l=s?t.virtual.slides.length:a.length,u=[],c=[],h=[],p=e.slidesOffsetBefore;"function"===typeof p&&(p=e.slidesOffsetBefore.call(t));var d=e.slidesOffsetAfter;"function"===typeof d&&(d=e.slidesOffsetAfter.call(t));var f=l,y=t.snapGrid.length,m=t.snapGrid.length,v=e.spaceBetween,g=-p,x=0,_=0;if("undefined"!==typeof i){"string"===typeof v&&v.indexOf("%")>=0&&(v=parseFloat(v.replace("%",""))/100*i),t.virtualSize=-v,r?a.css({marginLeft:"",marginTop:""}):a.css({marginRight:"",marginBottom:""});var b;e.slidesPerColumn>1&&(b=Math.floor(l/e.slidesPerColumn)===l/t.params.slidesPerColumn?l:Math.ceil(l/e.slidesPerColumn)*e.slidesPerColumn,"auto"!==e.slidesPerView&&"row"===e.slidesPerColumnFill&&(b=Math.max(b,e.slidesPerView*e.slidesPerColumn)));for(var w,E=e.slidesPerColumn,M=b/E,T=M-(e.slidesPerColumn*M-l),S=0;S<l;S+=1){w=0;var A=a.eq(S);if(e.slidesPerColumn>1){var C=void 0,L=void 0,k=void 0;"column"===e.slidesPerColumnFill?(L=Math.floor(S/E),k=S-L*E,(L>T||L===T&&k===E-1)&&(k+=1)>=E&&(k=0,L+=1),C=L+k*b/E,A.css({"-webkit-box-ordinal-group":C,"-moz-box-ordinal-group":C,"-ms-flex-order":C,"-webkit-order":C,order:C})):(k=Math.floor(S/M),L=S-k*M),A.css("margin-"+(t.isHorizontal()?"top":"left"),0!==k&&e.spaceBetween&&e.spaceBetween+"px").attr("data-swiper-column",L).attr("data-swiper-row",k)}if("none"!==A.css("display")){if("auto"===e.slidesPerView){var P=Ot.getComputedStyle(A[0],null);w=t.isHorizontal()?A[0].getBoundingClientRect().width+parseFloat(P.getPropertyValue("margin-left"))+parseFloat(P.getPropertyValue("margin-right")):A[0].getBoundingClientRect().height+parseFloat(P.getPropertyValue("margin-top"))+parseFloat(P.getPropertyValue("margin-bottom")),e.roundLengths&&(w=Math.floor(w))}else w=(i-(e.slidesPerView-1)*v)/e.slidesPerView,e.roundLengths&&(w=Math.floor(w)),a[S]&&(t.isHorizontal()?a[S].style.width=w+"px":a[S].style.height=w+"px");a[S]&&(a[S].swiperSlideSize=w),h.push(w),e.centeredSlides?(g=g+w/2+x/2+v,0===x&&0!==S&&(g=g-i/2-v),0===S&&(g=g-i/2-v),Math.abs(g)<.001&&(g=0),_%e.slidesPerGroup===0&&u.push(g),c.push(g)):(_%e.slidesPerGroup===0&&u.push(g),c.push(g),g=g+w+v),t.virtualSize+=w+v,x=w,_+=1}}t.virtualSize=Math.max(t.virtualSize,i)+d;var I;if(r&&o&&("slide"===e.effect||"coverflow"===e.effect)&&n.css({width:t.virtualSize+e.spaceBetween+"px"}),Ft.flexbox&&!e.setWrapperSize||(t.isHorizontal()?n.css({width:t.virtualSize+e.spaceBetween+"px"}):n.css({height:t.virtualSize+e.spaceBetween+"px"})),e.slidesPerColumn>1&&(t.virtualSize=(w+e.spaceBetween)*b,t.virtualSize=Math.ceil(t.virtualSize/e.slidesPerColumn)-e.spaceBetween,t.isHorizontal()?n.css({width:t.virtualSize+e.spaceBetween+"px"}):n.css({height:t.virtualSize+e.spaceBetween+"px"}),e.centeredSlides)){I=[];for(var R=0;R<u.length;R+=1)u[R]<t.virtualSize+u[0]&&I.push(u[R]);u=I}if(!e.centeredSlides){I=[];for(var z=0;z<u.length;z+=1)u[z]<=t.virtualSize-i&&I.push(u[z]);u=I,Math.floor(t.virtualSize-i)-Math.floor(u[u.length-1])>1&&u.push(t.virtualSize-i)}0===u.length&&(u=[0]),0!==e.spaceBetween&&(t.isHorizontal()?r?a.css({marginLeft:v+"px"}):a.css({marginRight:v+"px"}):a.css({marginBottom:v+"px"})),Nt.extend(t,{slides:a,snapGrid:u,slidesGrid:c,slidesSizesGrid:h}),l!==f&&t.emit("slidesLengthChange"),u.length!==y&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),c.length!==m&&t.emit("slidesGridLengthChange"),(e.watchSlidesProgress||e.watchSlidesVisibility)&&t.updateSlidesOffset()}}function j(t){var e,n=this,i=[],r=0;if("number"===typeof t?n.setTransition(t):!0===t&&n.setTransition(n.params.speed),"auto"!==n.params.slidesPerView&&n.params.slidesPerView>1)for(e=0;e<Math.ceil(n.params.slidesPerView);e+=1){var o=n.activeIndex+e;if(o>n.slides.length)break;i.push(n.slides.eq(o)[0])}else i.push(n.slides.eq(n.activeIndex)[0]);for(e=0;e<i.length;e+=1)if("undefined"!==typeof i[e]){var a=i[e].offsetHeight;r=a>r?a:r}r&&n.$wrapperEl.css("height",r+"px")}function V(){for(var t=this,e=t.slides,n=0;n<e.length;n+=1)e[n].swiperSlideOffset=t.isHorizontal()?e[n].offsetLeft:e[n].offsetTop}function G(t){void 0===t&&(t=this.translate||0);var e=this,n=e.params,i=e.slides,r=e.rtlTranslate;if(0!==i.length){"undefined"===typeof i[0].swiperSlideOffset&&e.updateSlidesOffset();var o=-t;r&&(o=t),i.removeClass(n.slideVisibleClass);for(var a=0;a<i.length;a+=1){var s=i[a],l=(o+(n.centeredSlides?e.minTranslate():0)-s.swiperSlideOffset)/(s.swiperSlideSize+n.spaceBetween);if(n.watchSlidesVisibility){var u=-(o-s.swiperSlideOffset),c=u+e.slidesSizesGrid[a];(u>=0&&u<e.size||c>0&&c<=e.size||u<=0&&c>=e.size)&&i.eq(a).addClass(n.slideVisibleClass)}s.progress=r?-l:l}}}function H(t){void 0===t&&(t=this.translate||0);var e=this,n=e.params,i=e.maxTranslate()-e.minTranslate(),r=e.progress,o=e.isBeginning,a=e.isEnd,s=o,l=a;0===i?(r=0,o=!0,a=!0):(r=(t-e.minTranslate())/i,o=r<=0,a=r>=1),Nt.extend(e,{progress:r,isBeginning:o,isEnd:a}),(n.watchSlidesProgress||n.watchSlidesVisibility)&&e.updateSlidesProgress(t),o&&!s&&e.emit("reachBeginning toEdge"),a&&!l&&e.emit("reachEnd toEdge"),(s&&!o||l&&!a)&&e.emit("fromEdge"),e.emit("progress",r)}function W(){var t=this,e=t.slides,n=t.params,i=t.$wrapperEl,r=t.activeIndex,o=t.realIndex,a=t.virtual&&n.virtual.enabled;e.removeClass(n.slideActiveClass+" "+n.slideNextClass+" "+n.slidePrevClass+" "+n.slideDuplicateActiveClass+" "+n.slideDuplicateNextClass+" "+n.slideDuplicatePrevClass);var s;s=a?t.$wrapperEl.find("."+n.slideClass+'[data-swiper-slide-index="'+r+'"]'):e.eq(r),s.addClass(n.slideActiveClass),n.loop&&(s.hasClass(n.slideDuplicateClass)?i.children("."+n.slideClass+":not(."+n.slideDuplicateClass+')[data-swiper-slide-index="'+o+'"]').addClass(n.slideDuplicateActiveClass):i.children("."+n.slideClass+"."+n.slideDuplicateClass+'[data-swiper-slide-index="'+o+'"]').addClass(n.slideDuplicateActiveClass));var l=s.nextAll("."+n.slideClass).eq(0).addClass(n.slideNextClass);n.loop&&0===l.length&&(l=e.eq(0),l.addClass(n.slideNextClass));var u=s.prevAll("."+n.slideClass).eq(0).addClass(n.slidePrevClass);n.loop&&0===u.length&&(u=e.eq(-1),u.addClass(n.slidePrevClass)),n.loop&&(l.hasClass(n.slideDuplicateClass)?i.children("."+n.slideClass+":not(."+n.slideDuplicateClass+')[data-swiper-slide-index="'+l.attr("data-swiper-slide-index")+'"]').addClass(n.slideDuplicateNextClass):i.children("."+n.slideClass+"."+n.slideDuplicateClass+'[data-swiper-slide-index="'+l.attr("data-swiper-slide-index")+'"]').addClass(n.slideDuplicateNextClass),u.hasClass(n.slideDuplicateClass)?i.children("."+n.slideClass+":not(."+n.slideDuplicateClass+')[data-swiper-slide-index="'+u.attr("data-swiper-slide-index")+'"]').addClass(n.slideDuplicatePrevClass):i.children("."+n.slideClass+"."+n.slideDuplicateClass+'[data-swiper-slide-index="'+u.attr("data-swiper-slide-index")+'"]').addClass(n.slideDuplicatePrevClass))}function q(t){var e,n=this,i=n.rtlTranslate?n.translate:-n.translate,r=n.slidesGrid,o=n.snapGrid,a=n.params,s=n.activeIndex,l=n.realIndex,u=n.snapIndex,c=t;if("undefined"===typeof c){for(var h=0;h<r.length;h+=1)"undefined"!==typeof r[h+1]?i>=r[h]&&i<r[h+1]-(r[h+1]-r[h])/2?c=h:i>=r[h]&&i<r[h+1]&&(c=h+1):i>=r[h]&&(c=h);a.normalizeSlideIndex&&(c<0||"undefined"===typeof c)&&(c=0)}if(e=o.indexOf(i)>=0?o.indexOf(i):Math.floor(c/a.slidesPerGroup),e>=o.length&&(e=o.length-1),c===s)return void(e!==u&&(n.snapIndex=e,n.emit("snapIndexChange")));var p=parseInt(n.slides.eq(c).attr("data-swiper-slide-index")||c,10);Nt.extend(n,{snapIndex:e,realIndex:p,previousIndex:s,activeIndex:c}),n.emit("activeIndexChange"),n.emit("snapIndexChange"),l!==p&&n.emit("realIndexChange"),n.emit("slideChange")}function Y(e){var n=this,i=n.params,r=t(e.target).closest("."+i.slideClass)[0],o=!1;if(r)for(var a=0;a<n.slides.length;a+=1)n.slides[a]===r&&(o=!0);if(!r||!o)return n.clickedSlide=void 0,void(n.clickedIndex=void 0);n.clickedSlide=r,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(t(r).attr("data-swiper-slide-index"),10):n.clickedIndex=t(r).index(),i.slideToClickedSlide&&void 0!==n.clickedIndex&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}function X(t){void 0===t&&(t=this.isHorizontal()?"x":"y");var e=this,n=e.params,i=e.rtlTranslate,r=e.translate,o=e.$wrapperEl;if(n.virtualTranslate)return i?-r:r;var a=Nt.getTranslate(o[0],t);return i&&(a=-a),a||0}function $(t,e){var n=this,i=n.rtlTranslate,r=n.params,o=n.$wrapperEl,a=n.progress,s=0,l=0;n.isHorizontal()?s=i?-t:t:l=t,r.roundLengths&&(s=Math.floor(s),l=Math.floor(l)),r.virtualTranslate||(Ft.transforms3d?o.transform("translate3d("+s+"px, "+l+"px, 0px)"):o.transform("translate("+s+"px, "+l+"px)")),n.translate=n.isHorizontal()?s:l;var u,c=n.maxTranslate()-n.minTranslate();u=0===c?0:(t-n.minTranslate())/c,u!==a&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function Z(){return-this.snapGrid[0]}function J(){return-this.snapGrid[this.snapGrid.length-1]}function K(t,e){var n=this;n.$wrapperEl.transition(t),n.emit("setTransition",t,e)}function Q(t,e){void 0===t&&(t=!0);var n=this,i=n.activeIndex,r=n.params,o=n.previousIndex;r.autoHeight&&n.updateAutoHeight();var a=e;if(a||(a=i>o?"next":i<o?"prev":"reset"),n.emit("transitionStart"),t&&i!==o){if("reset"===a)return void n.emit("slideResetTransitionStart");n.emit("slideChangeTransitionStart"),"next"===a?n.emit("slideNextTransitionStart"):n.emit("slidePrevTransitionStart")}}function tt(t,e){void 0===t&&(t=!0);var n=this,i=n.activeIndex,r=n.previousIndex;n.animating=!1,n.setTransition(0);var o=e;if(o||(o=i>r?"next":i<r?"prev":"reset"),n.emit("transitionEnd"),t&&i!==r){if("reset"===o)return void n.emit("slideResetTransitionEnd");n.emit("slideChangeTransitionEnd"),"next"===o?n.emit("slideNextTransitionEnd"):n.emit("slidePrevTransitionEnd")}}function et(t,e,n,i){void 0===t&&(t=0),void 0===e&&(e=this.params.speed),void 0===n&&(n=!0);var r=this,o=t;o<0&&(o=0);var a=r.params,s=r.snapGrid,l=r.slidesGrid,u=r.previousIndex,c=r.activeIndex,h=r.rtlTranslate,p=r.$wrapperEl;if(r.animating&&a.preventIntercationOnTransition)return!1;var d=Math.floor(o/a.slidesPerGroup);d>=s.length&&(d=s.length-1),(c||a.initialSlide||0)===(u||0)&&n&&r.emit("beforeSlideChangeStart");var f=-s[d];if(r.updateProgress(f),a.normalizeSlideIndex)for(var y=0;y<l.length;y+=1)-Math.floor(100*f)>=Math.floor(100*l[y])&&(o=y);if(r.initialized&&o!==c){if(!r.allowSlideNext&&f<r.translate&&f<r.minTranslate())return!1;if(!r.allowSlidePrev&&f>r.translate&&f>r.maxTranslate()&&(c||0)!==o)return!1}var m;return m=o>c?"next":o<c?"prev":"reset",h&&-f===r.translate||!h&&f===r.translate?(r.updateActiveIndex(o),a.autoHeight&&r.updateAutoHeight(),r.updateSlidesClasses(),"slide"!==a.effect&&r.setTranslate(f),"reset"!==m&&(r.transitionStart(n,m),r.transitionEnd(n,m)),!1):(0!==e&&Ft.transition?(r.setTransition(e),r.setTranslate(f),r.updateActiveIndex(o),r.updateSlidesClasses(),r.emit("beforeTransitionStart",e,i),r.transitionStart(n,m),r.animating||(r.animating=!0,p.transitionEnd(function(){r&&!r.destroyed&&r.transitionEnd(n,m)}))):(r.setTransition(0),r.setTranslate(f),r.updateActiveIndex(o),r.updateSlidesClasses(),r.emit("beforeTransitionStart",e,i),r.transitionStart(n,m),r.transitionEnd(n,m)),!0)}function nt(t,e,n,i){void 0===t&&(t=0),void 0===e&&(e=this.params.speed),void 0===n&&(n=!0);var r=this,o=t;return r.params.loop&&(o+=r.loopedSlides),r.slideTo(o,e,n,i)}function it(t,e,n){void 0===t&&(t=this.params.speed),void 0===e&&(e=!0);var i=this,r=i.params,o=i.animating;return r.loop?!o&&(i.loopFix(),i._clientLeft=i.$wrapperEl[0].clientLeft,i.slideTo(i.activeIndex+r.slidesPerGroup,t,e,n)):i.slideTo(i.activeIndex+r.slidesPerGroup,t,e,n)}function rt(t,e,n){void 0===t&&(t=this.params.speed),void 0===e&&(e=!0);var i=this,r=i.params,o=i.animating,a=i.snapGrid,s=i.slidesGrid,l=i.rtlTranslate;if(r.loop){if(o)return!1;i.loopFix(),i._clientLeft=i.$wrapperEl[0].clientLeft}var u,c=l?i.translate:-i.translate,h=(a[a.indexOf(c)],a[a.indexOf(c)-1]);return h&&(u=s.indexOf(h))<0&&(u=i.activeIndex-1),i.slideTo(u,t,e,n)}function ot(t,e,n){void 0===t&&(t=this.params.speed),void 0===e&&(e=!0);var i=this;return i.slideTo(i.activeIndex,t,e,n)}function at(t,e,n){void 0===t&&(t=this.params.speed),void 0===e&&(e=!0);var i=this,r=i.activeIndex,o=Math.floor(r/i.params.slidesPerGroup);if(o<i.snapGrid.length-1){var a=i.rtlTranslate?i.translate:-i.translate,s=i.snapGrid[o];a-s>(i.snapGrid[o+1]-s)/2&&(r=i.params.slidesPerGroup)}return i.slideTo(r,t,e,n)}function st(){var e,n=this,i=n.params,r=n.$wrapperEl,o="auto"===i.slidesPerView?n.slidesPerViewDynamic():i.slidesPerView,a=n.clickedIndex;if(i.loop){if(n.animating)return;e=parseInt(t(n.clickedSlide).attr("data-swiper-slide-index"),10),i.centeredSlides?a<n.loopedSlides-o/2||a>n.slides.length-n.loopedSlides+o/2?(n.loopFix(),a=r.children("."+i.slideClass+'[data-swiper-slide-index="'+e+'"]:not(.'+i.slideDuplicateClass+")").eq(0).index(),Nt.nextTick(function(){n.slideTo(a)})):n.slideTo(a):a>n.slides.length-o?(n.loopFix(),a=r.children("."+i.slideClass+'[data-swiper-slide-index="'+e+'"]:not(.'+i.slideDuplicateClass+")").eq(0).index(),Nt.nextTick(function(){n.slideTo(a)})):n.slideTo(a)}else n.slideTo(a)}function lt(){var e=this,n=e.params,i=e.$wrapperEl;i.children("."+n.slideClass+"."+n.slideDuplicateClass).remove();var r=i.children("."+n.slideClass);if(n.loopFillGroupWithBlank){var o=n.slidesPerGroup-r.length%n.slidesPerGroup;if(o!==n.slidesPerGroup){for(var a=0;a<o;a+=1){var s=t(zt.createElement("div")).addClass(n.slideClass+" "+n.slideBlankClass);i.append(s)}r=i.children("."+n.slideClass)}}"auto"!==n.slidesPerView||n.loopedSlides||(n.loopedSlides=r.length),e.loopedSlides=parseInt(n.loopedSlides||n.slidesPerView,10),e.loopedSlides+=n.loopAdditionalSlides,e.loopedSlides>r.length&&(e.loopedSlides=r.length);var l=[],u=[];r.each(function(n,i){var o=t(i);n<e.loopedSlides&&u.push(i),n<r.length&&n>=r.length-e.loopedSlides&&l.push(i),o.attr("data-swiper-slide-index",n)});for(var c=0;c<u.length;c+=1)i.append(t(u[c].cloneNode(!0)).addClass(n.slideDuplicateClass));for(var h=l.length-1;h>=0;h-=1)i.prepend(t(l[h].cloneNode(!0)).addClass(n.slideDuplicateClass))}function ut(){var t,e=this,n=e.params,i=e.activeIndex,r=e.slides,o=e.loopedSlides,a=e.allowSlidePrev,s=e.allowSlideNext,l=e.snapGrid,u=e.rtlTranslate;e.allowSlidePrev=!0,e.allowSlideNext=!0;var c=-l[i],h=c-e.getTranslate();if(i<o){t=r.length-3*o+i,t+=o;e.slideTo(t,0,!1,!0)&&0!==h&&e.setTranslate((u?-e.translate:e.translate)-h)}else if("auto"===n.slidesPerView&&i>=2*o||i>r.length-2*n.slidesPerView){t=-r.length+i+o,t+=o;var p=e.slideTo(t,0,!1,!0);p&&0!==h&&e.setTranslate((u?-e.translate:e.translate)-h)}e.allowSlidePrev=a,e.allowSlideNext=s}function ct(){var t=this,e=t.$wrapperEl,n=t.params,i=t.slides;e.children("."+n.slideClass+"."+n.slideDuplicateClass).remove(),i.removeAttr("data-swiper-slide-index")}function ht(t){var e=this;if(!Ft.touch&&e.params.simulateTouch){var n=e.el;n.style.cursor="move",n.style.cursor=t?"-webkit-grabbing":"-webkit-grab",n.style.cursor=t?"-moz-grabbin":"-moz-grab",n.style.cursor=t?"grabbing":"grab"}}function pt(){var t=this;Ft.touch||(t.el.style.cursor="")}function dt(t){var e=this,n=e.$wrapperEl,i=e.params;if(i.loop&&e.loopDestroy(),"object"===typeof t&&"length"in t)for(var r=0;r<t.length;r+=1)t[r]&&n.append(t[r]);else n.append(t);i.loop&&e.loopCreate(),i.observer&&Ft.observer||e.update()}function ft(t){var e=this,n=e.params,i=e.$wrapperEl,r=e.activeIndex;n.loop&&e.loopDestroy();var o=r+1;if("object"===typeof t&&"length"in t){for(var a=0;a<t.length;a+=1)t[a]&&i.prepend(t[a]);o=r+t.length}else i.prepend(t);n.loop&&e.loopCreate(),n.observer&&Ft.observer||e.update(),e.slideTo(o,0,!1)}function yt(t){var e=this,n=e.params,i=e.$wrapperEl,r=e.activeIndex;n.loop&&(e.loopDestroy(),e.slides=i.children("."+n.slideClass));var o,a=r;if("object"===typeof t&&"length"in t){for(var s=0;s<t.length;s+=1)o=t[s],e.slides[o]&&e.slides.eq(o).remove(),o<a&&(a-=1);a=Math.max(a,0)}else o=t,e.slides[o]&&e.slides.eq(o).remove(),o<a&&(a-=1),a=Math.max(a,0);n.loop&&e.loopCreate(),n.observer&&Ft.observer||e.update(),n.loop?e.slideTo(a+e.loopedSlides,0,!1):e.slideTo(a,0,!1)}function mt(){for(var t=this,e=[],n=0;n<t.slides.length;n+=1)e.push(n);t.removeSlide(e)}function vt(e){var n=this,i=n.touchEventsData,r=n.params,o=n.touches;if(!n.animating||!r.preventIntercationOnTransition){var a=e;if(a.originalEvent&&(a=a.originalEvent),i.isTouchEvent="touchstart"===a.type,(i.isTouchEvent||!("which"in a)||3!==a.which)&&(!i.isTouched||!i.isMoved)){if(r.noSwiping&&t(a.target).closest(r.noSwipingSelector?r.noSwipingSelector:"."+r.noSwipingClass)[0])return void(n.allowClick=!0);if(!r.swipeHandler||t(a).closest(r.swipeHandler)[0]){o.currentX="touchstart"===a.type?a.targetTouches[0].pageX:a.pageX,o.currentY="touchstart"===a.type?a.targetTouches[0].pageY:a.pageY;var s=o.currentX,l=o.currentY;if(!($t.ios&&!$t.cordova&&r.iOSEdgeSwipeDetection&&s<=r.iOSEdgeSwipeThreshold&&s>=Ot.screen.width-r.iOSEdgeSwipeThreshold)){if(Nt.extend(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=s,o.startY=l,i.touchStartTime=Nt.now(),n.allowClick=!0,n.updateSize(),n.swipeDirection=void 0,r.threshold>0&&(i.allowThresholdMove=!1),"touchstart"!==a.type){var u=!0;t(a.target).is(i.formElements)&&(u=!1),zt.activeElement&&t(zt.activeElement).is(i.formElements)&&zt.activeElement!==a.target&&zt.activeElement.blur(),u&&n.allowTouchMove&&a.preventDefault()}n.emit("touchStart",a)}}}}}function gt(e){var n=this,i=n.touchEventsData,r=n.params,o=n.touches,a=n.rtlTranslate,s=e;if(s.originalEvent&&(s=s.originalEvent),!i.isTouched)return void(i.startMoving&&i.isScrolling&&n.emit("touchMoveOpposite",s));if(!i.isTouchEvent||"mousemove"!==s.type){var l="touchmove"===s.type?s.targetTouches[0].pageX:s.pageX,u="touchmove"===s.type?s.targetTouches[0].pageY:s.pageY;if(s.preventedByNestedSwiper)return o.startX=l,void(o.startY=u);if(!n.allowTouchMove)return n.allowClick=!1,void(i.isTouched&&(Nt.extend(o,{startX:l,startY:u,currentX:l,currentY:u}),i.touchStartTime=Nt.now()));if(i.isTouchEvent&&r.touchReleaseOnEdges&&!r.loop)if(n.isVertical()){if(u<o.startY&&n.translate<=n.maxTranslate()||u>o.startY&&n.translate>=n.minTranslate())return i.isTouched=!1,void(i.isMoved=!1)}else if(l<o.startX&&n.translate<=n.maxTranslate()||l>o.startX&&n.translate>=n.minTranslate())return;if(i.isTouchEvent&&zt.activeElement&&s.target===zt.activeElement&&t(s.target).is(i.formElements))return i.isMoved=!0,void(n.allowClick=!1);if(i.allowTouchCallbacks&&n.emit("touchMove",s),!(s.targetTouches&&s.targetTouches.length>1)){o.currentX=l,o.currentY=u;var c=o.currentX-o.startX,h=o.currentY-o.startY;if("undefined"===typeof i.isScrolling){var p;n.isHorizontal()&&o.currentY===o.startY||n.isVertical()&&o.currentX===o.startX?i.isScrolling=!1:c*c+h*h>=25&&(p=180*Math.atan2(Math.abs(h),Math.abs(c))/Math.PI,i.isScrolling=n.isHorizontal()?p>r.touchAngle:90-p>r.touchAngle)}if(i.isScrolling&&n.emit("touchMoveOpposite",s),"undefined"===typeof startMoving&&(o.currentX===o.startX&&o.currentY===o.startY||(i.startMoving=!0)),i.isScrolling)return void(i.isTouched=!1);if(i.startMoving){n.allowClick=!1,s.preventDefault(),r.touchMoveStopPropagation&&!r.nested&&s.stopPropagation(),i.isMoved||(r.loop&&n.loopFix(),i.startTranslate=n.getTranslate(),n.setTransition(0),n.animating&&n.$wrapperEl.trigger("webkitTransitionEnd transitionend"),i.allowMomentumBounce=!1,!r.grabCursor||!0!==n.allowSlideNext&&!0!==n.allowSlidePrev||n.setGrabCursor(!0),n.emit("sliderFirstMove",s)),n.emit("sliderMove",s),i.isMoved=!0;var d=n.isHorizontal()?c:h;o.diff=d,d*=r.touchRatio,a&&(d=-d),n.swipeDirection=d>0?"prev":"next",i.currentTranslate=d+i.startTranslate;var f=!0,y=r.resistanceRatio;if(r.touchReleaseOnEdges&&(y=0),d>0&&i.currentTranslate>n.minTranslate()?(f=!1,r.resistance&&(i.currentTranslate=n.minTranslate()-1+Math.pow(-n.minTranslate()+i.startTranslate+d,y))):d<0&&i.currentTranslate<n.maxTranslate()&&(f=!1,r.resistance&&(i.currentTranslate=n.maxTranslate()+1-Math.pow(n.maxTranslate()-i.startTranslate-d,y))),f&&(s.preventedByNestedSwiper=!0),!n.allowSlideNext&&"next"===n.swipeDirection&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!n.allowSlidePrev&&"prev"===n.swipeDirection&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),r.threshold>0){if(!(Math.abs(d)>r.threshold||i.allowThresholdMove))return void(i.currentTranslate=i.startTranslate);if(!i.allowThresholdMove)return i.allowThresholdMove=!0,o.startX=o.currentX,o.startY=o.currentY,i.currentTranslate=i.startTranslate,void(o.diff=n.isHorizontal()?o.currentX-o.startX:o.currentY-o.startY)}r.followFinger&&((r.freeMode||r.watchSlidesProgress||r.watchSlidesVisibility)&&(n.updateActiveIndex(),n.updateSlidesClasses()),r.freeMode&&(0===i.velocities.length&&i.velocities.push({position:o[n.isHorizontal()?"startX":"startY"],time:i.touchStartTime}),i.velocities.push({position:o[n.isHorizontal()?"currentX":"currentY"],time:Nt.now()})),n.updateProgress(i.currentTranslate),n.setTranslate(i.currentTranslate))}}}}function xt(t){var e=this,n=e.touchEventsData,i=e.params,r=e.touches,o=e.rtlTranslate,a=e.$wrapperEl,s=e.slidesGrid,l=e.snapGrid,u=t;if(u.originalEvent&&(u=u.originalEvent),n.allowTouchCallbacks&&e.emit("touchEnd",u),n.allowTouchCallbacks=!1,!n.isTouched)return n.isMoved&&i.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,void(n.startMoving=!1);i.grabCursor&&n.isMoved&&n.isTouched&&(!0===e.allowSlideNext||!0===e.allowSlidePrev)&&e.setGrabCursor(!1);var c=Nt.now(),h=c-n.touchStartTime;if(e.allowClick&&(e.updateClickedSlide(u),e.emit("tap",u),h<300&&c-n.lastClickTime>300&&(n.clickTimeout&&clearTimeout(n.clickTimeout),n.clickTimeout=Nt.nextTick(function(){e&&!e.destroyed&&e.emit("click",u)},300)),h<300&&c-n.lastClickTime<300&&(n.clickTimeout&&clearTimeout(n.clickTimeout),e.emit("doubleTap",u))),n.lastClickTime=Nt.now(),Nt.nextTick(function(){e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||0===r.diff||n.currentTranslate===n.startTranslate)return n.isTouched=!1,n.isMoved=!1,void(n.startMoving=!1);n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;var p;if(p=i.followFinger?o?e.translate:-e.translate:-n.currentTranslate,i.freeMode){if(p<-e.minTranslate())return void e.slideTo(e.activeIndex);if(p>-e.maxTranslate())return void(e.slides.length<l.length?e.slideTo(l.length-1):e.slideTo(e.slides.length-1));if(i.freeModeMomentum){if(n.velocities.length>1){var d=n.velocities.pop(),f=n.velocities.pop(),y=d.position-f.position,m=d.time-f.time;e.velocity=y/m,e.velocity/=2,Math.abs(e.velocity)<i.freeModeMinimumVelocity&&(e.velocity=0),(m>150||Nt.now()-d.time>300)&&(e.velocity=0)}else e.velocity=0;e.velocity*=i.freeModeMomentumVelocityRatio,n.velocities.length=0;var v=1e3*i.freeModeMomentumRatio,g=e.velocity*v,x=e.translate+g;o&&(x=-x);var _,b,w=!1,E=20*Math.abs(e.velocity)*i.freeModeMomentumBounceRatio;if(x<e.maxTranslate())i.freeModeMomentumBounce?(x+e.maxTranslate()<-E&&(x=e.maxTranslate()-E),_=e.maxTranslate(),w=!0,n.allowMomentumBounce=!0):x=e.maxTranslate(),i.loop&&i.centeredSlides&&(b=!0);else if(x>e.minTranslate())i.freeModeMomentumBounce?(x-e.minTranslate()>E&&(x=e.minTranslate()+E),_=e.minTranslate(),w=!0,n.allowMomentumBounce=!0):x=e.minTranslate(),i.loop&&i.centeredSlides&&(b=!0);else if(i.freeModeSticky){for(var M,T=0;T<l.length;T+=1)if(l[T]>-x){M=T;break}x=Math.abs(l[M]-x)<Math.abs(l[M-1]-x)||"next"===e.swipeDirection?l[M]:l[M-1],x=-x}if(b&&e.once("transitionEnd",function(){e.loopFix()}),0!==e.velocity)v=o?Math.abs((-x-e.translate)/e.velocity):Math.abs((x-e.translate)/e.velocity);else if(i.freeModeSticky)return void e.slideToClosest();i.freeModeMomentumBounce&&w?(e.updateProgress(_),e.setTransition(v),e.setTranslate(x),e.transitionStart(!0,e.swipeDirection),e.animating=!0,a.transitionEnd(function(){e&&!e.destroyed&&n.allowMomentumBounce&&(e.emit("momentumBounce"),e.setTransition(i.speed),e.setTranslate(_),a.transitionEnd(function(){e&&!e.destroyed&&e.transitionEnd()}))})):e.velocity?(e.updateProgress(x),e.setTransition(v),e.setTranslate(x),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,a.transitionEnd(function(){e&&!e.destroyed&&e.transitionEnd()}))):e.updateProgress(x),e.updateActiveIndex(),e.updateSlidesClasses()}else if(i.freeModeSticky)return void e.slideToClosest();return void((!i.freeModeMomentum||h>=i.longSwipesMs)&&(e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses()))}for(var S=0,A=e.slidesSizesGrid[0],C=0;C<s.length;C+=i.slidesPerGroup)"undefined"!==typeof s[C+i.slidesPerGroup]?p>=s[C]&&p<s[C+i.slidesPerGroup]&&(S=C,A=s[C+i.slidesPerGroup]-s[C]):p>=s[C]&&(S=C,A=s[s.length-1]-s[s.length-2]);var L=(p-s[S])/A;if(h>i.longSwipesMs){if(!i.longSwipes)return void e.slideTo(e.activeIndex);"next"===e.swipeDirection&&(L>=i.longSwipesRatio?e.slideTo(S+i.slidesPerGroup):e.slideTo(S)),"prev"===e.swipeDirection&&(L>1-i.longSwipesRatio?e.slideTo(S+i.slidesPerGroup):e.slideTo(S))}else{if(!i.shortSwipes)return void e.slideTo(e.activeIndex);"next"===e.swipeDirection&&e.slideTo(S+i.slidesPerGroup),"prev"===e.swipeDirection&&e.slideTo(S)}}function _t(){var t=this,e=t.params,n=t.el;if(!n||0!==n.offsetWidth){e.breakpoints&&t.setBreakpoint();var i=t.allowSlideNext,r=t.allowSlidePrev,o=t.snapGrid;if(t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),e.freeMode){var a=Math.min(Math.max(t.translate,t.maxTranslate()),t.minTranslate());t.setTranslate(a),t.updateActiveIndex(),t.updateSlidesClasses(),e.autoHeight&&t.updateAutoHeight()}else t.updateSlidesClasses(),("auto"===e.slidesPerView||e.slidesPerView>1)&&t.isEnd&&!t.params.centeredSlides?t.slideTo(t.slides.length-1,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0);t.allowSlidePrev=r,t.allowSlideNext=i,t.params.watchOverflow&&o!==t.snapGrid&&t.checkOverflow()}}function bt(t){var e=this;e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation()))}function wt(){var t=this,e=t.params,n=t.touchEvents,i=t.el,r=t.wrapperEl;t.onTouchStart=vt.bind(t),t.onTouchMove=gt.bind(t),t.onTouchEnd=xt.bind(t),t.onClick=bt.bind(t);var o="container"===e.touchEventsTarget?i:r,a=!!e.nested;if(Ft.touch||!Ft.pointerEvents&&!Ft.prefixedPointerEvents){if(Ft.touch){var s=!("touchstart"!==n.start||!Ft.passiveListener||!e.passiveListeners)&&{passive:!0,capture:!1};o.addEventListener(n.start,t.onTouchStart,s),o.addEventListener(n.move,t.onTouchMove,Ft.passiveListener?{passive:!1,capture:a}:a),o.addEventListener(n.end,t.onTouchEnd,s)}(e.simulateTouch&&!$t.ios&&!$t.android||e.simulateTouch&&!Ft.touch&&$t.ios)&&(o.addEventListener("mousedown",t.onTouchStart,!1),zt.addEventListener("mousemove",t.onTouchMove,a),zt.addEventListener("mouseup",t.onTouchEnd,!1))}else o.addEventListener(n.start,t.onTouchStart,!1),zt.addEventListener(n.move,t.onTouchMove,a),zt.addEventListener(n.end,t.onTouchEnd,!1);(e.preventClicks||e.preventClicksPropagation)&&o.addEventListener("click",t.onClick,!0),t.on("resize observerUpdate",_t,!0)}function Et(){var t=this,e=t.params,n=t.touchEvents,i=t.el,r=t.wrapperEl,o="container"===e.touchEventsTarget?i:r,a=!!e.nested;if(Ft.touch||!Ft.pointerEvents&&!Ft.prefixedPointerEvents){if(Ft.touch){var s=!("onTouchStart"!==n.start||!Ft.passiveListener||!e.passiveListeners)&&{passive:!0,capture:!1};o.removeEventListener(n.start,t.onTouchStart,s),o.removeEventListener(n.move,t.onTouchMove,a),o.removeEventListener(n.end,t.onTouchEnd,s)}(e.simulateTouch&&!$t.ios&&!$t.android||e.simulateTouch&&!Ft.touch&&$t.ios)&&(o.removeEventListener("mousedown",t.onTouchStart,!1),zt.removeEventListener("mousemove",t.onTouchMove,a),zt.removeEventListener("mouseup",t.onTouchEnd,!1))}else o.removeEventListener(n.start,t.onTouchStart,!1),zt.removeEventListener(n.move,t.onTouchMove,a),zt.removeEventListener(n.end,t.onTouchEnd,!1);(e.preventClicks||e.preventClicksPropagation)&&o.removeEventListener("click",t.onClick,!0),t.off("resize observerUpdate",_t)}function Mt(){var t=this,e=t.activeIndex,n=t.loopedSlides;void 0===n&&(n=0);var i=t.params,r=i.breakpoints;if(r&&(!r||0!==Object.keys(r).length)){var o=t.getBreakpoint(r);if(o&&t.currentBreakpoint!==o){var a=o in r?r[o]:t.originalParams,s=i.loop&&a.slidesPerView!==i.slidesPerView;Nt.extend(t.params,a),Nt.extend(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),t.currentBreakpoint=o,s&&(t.loopDestroy(),t.loopCreate(),t.updateSlides(),t.slideTo(e-n+t.loopedSlides,0,!1)),t.emit("breakpoint",a)}}}function Tt(t){if(t){var e=!1,n=[];Object.keys(t).forEach(function(t){n.push(t)}),n.sort(function(t,e){return parseInt(t,10)-parseInt(e,10)});for(var i=0;i<n.length;i+=1){var r=n[i];r>=Ot.innerWidth&&!e&&(e=r)}return e||"max"}}function St(){var t=this,e=t.classNames,n=t.params,i=t.rtl,r=t.$el,o=[];o.push(n.direction),n.freeMode&&o.push("free-mode"),Ft.flexbox||o.push("no-flexbox"),n.autoHeight&&o.push("autoheight"),i&&o.push("rtl"),n.slidesPerColumn>1&&o.push("multirow"),$t.android&&o.push("android"),$t.ios&&o.push("ios"),Kt.isIE&&(Ft.pointerEvents||Ft.prefixedPointerEvents)&&o.push("wp8-"+n.direction),o.forEach(function(t){e.push(n.containerModifierClass+t)}),r.addClass(e.join(" "))}function At(){var t=this,e=t.$el,n=t.classNames;e.removeClass(n.join(" "))}function Ct(t,e,n,i,r,o){function a(){o&&o()}var s;t.complete&&r?a():e?(s=new Ot.Image,s.onload=a,s.onerror=a,i&&(s.sizes=i),n&&(s.srcset=n),e&&(s.src=e)):a()}function Lt(){function t(){"undefined"!==typeof e&&null!==e&&e&&!e.destroyed&&(void 0!==e.imagesLoaded&&(e.imagesLoaded+=1),e.imagesLoaded===e.imagesToLoad.length&&(e.params.updateOnImagesReady&&e.update(),e.emit("imagesReady")))}var e=this;e.imagesToLoad=e.$el.find("img");for(var n=0;n<e.imagesToLoad.length;n+=1){var i=e.imagesToLoad[n];e.loadImage(i,i.currentSrc||i.getAttribute("src"),i.srcset||i.getAttribute("srcset"),i.sizes||i.getAttribute("sizes"),!0,t)}}function kt(){var t=this,e=t.isLocked;t.isLocked=1===t.snapGrid.length,t.allowSlideNext=!t.isLocked,t.allowSlidePrev=!t.isLocked,e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock"),e&&e!==t.isLocked&&(t.isEnd=!1,t.navigation.update())}function Pt(){var t="onwheel"in zt;if(!t){var e=zt.createElement("div");e.setAttribute("onwheel","return;"),t="function"===typeof e.onwheel}return!t&&zt.implementation&&zt.implementation.hasFeature&&!0!==zt.implementation.hasFeature("","")&&(t=zt.implementation.hasFeature("Events.wheel","3.0")),t}var It;It="undefined"===typeof document?{body:{},addEventListener:function(){},removeEventListener:function(){},activeElement:{blur:function(){},nodeName:""},querySelector:function(){return null},querySelectorAll:function(){return[]},getElementById:function(){return null},createEvent:function(){return{initEvent:function(){}}},createElement:function(){return{children:[],childNodes:[],style:{},setAttribute:function(){},getElementsByTagName:function(){return[]}}},location:{hash:""}}:document;var Rt,zt=It;Rt="undefined"===typeof window?{document:zt,navigator:{userAgent:""},location:{},history:{},CustomEvent:function(){return this},addEventListener:function(){},removeEventListener:function(){},getComputedStyle:function(){return{getPropertyValue:function(){return""}}},Image:function(){},Date:function(){},screen:{},setTimeout:function(){},clearTimeout:function(){}}:window;var Ot=Rt,Dt=function(t){for(var e=this,n=0;n<t.length;n+=1)e[n]=t[n];return e.length=t.length,this};t.fn=Dt.prototype,t.Class=Dt,t.Dom7=Dt;var Bt={addClass:n,removeClass:i,hasClass:r,toggleClass:o,attr:a,removeAttr:s,data:l,transform:u,transition:c,on:h,off:p,trigger:d,transitionEnd:f,outerWidth:y,outerHeight:m,offset:v,css:x,each:_,html:b,text:w,is:E,index:M,eq:T,append:S,prepend:A,next:C,nextAll:L,prev:k,prevAll:P,parent:I,parents:R,closest:z,find:O,children:D,remove:B,add:N,styles:g};Object.keys(Bt).forEach(function(e){t.fn[e]=Bt[e]});var Nt={deleteProps:function(t){var e=t;Object.keys(e).forEach(function(t){try{e[t]=null}catch(t){}try{delete e[t]}catch(t){}})},nextTick:function(t,e){return void 0===e&&(e=0),setTimeout(t,e)},now:function(){return Date.now()},getTranslate:function(t,e){void 0===e&&(e="x");var n,i,r,o=Ot.getComputedStyle(t,null);return Ot.WebKitCSSMatrix?(i=o.transform||o.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(function(t){return t.replace(",",".")}).join(", ")),r=new Ot.WebKitCSSMatrix("none"===i?"":i)):(r=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),n=r.toString().split(",")),"x"===e&&(i=Ot.WebKitCSSMatrix?r.m41:16===n.length?parseFloat(n[12]):parseFloat(n[4])),"y"===e&&(i=Ot.WebKitCSSMatrix?r.m42:16===n.length?parseFloat(n[13]):parseFloat(n[5])),i||0},parseUrlQuery:function(t){var e,n,i,r,o={},a=t||Ot.location.href;if("string"===typeof a&&a.length)for(a=a.indexOf("?")>-1?a.replace(/\S*\?/,""):"",n=a.split("&").filter(function(t){return""!==t}),r=n.length,e=0;e<r;e+=1)i=n[e].replace(/#\S+/g,"").split("="),o[decodeURIComponent(i[0])]="undefined"===typeof i[1]?void 0:decodeURIComponent(i[1])||"";return o},isObject:function(t){return"object"===typeof t&&null!==t&&t.constructor&&t.constructor===Object},extend:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];for(var n=Object(t[0]),i=1;i<t.length;i+=1){var r=t[i];if(void 0!==r&&null!==r)for(var o=Object.keys(Object(r)),a=0,s=o.length;a<s;a+=1){var l=o[a],u=Object.getOwnPropertyDescriptor(r,l);void 0!==u&&u.enumerable&&(Nt.isObject(n[l])&&Nt.isObject(r[l])?Nt.extend(n[l],r[l]):!Nt.isObject(n[l])&&Nt.isObject(r[l])?(n[l]={},Nt.extend(n[l],r[l])):n[l]=r[l])}}return n}},Ft=function(){var t=zt.createElement("div");return{touch:Ot.Modernizr&&!0===Ot.Modernizr.touch||function(){return!!("ontouchstart"in Ot||Ot.DocumentTouch&&zt instanceof Ot.DocumentTouch)}(),pointerEvents:!(!Ot.navigator.pointerEnabled&&!Ot.PointerEvent),prefixedPointerEvents:!!Ot.navigator.msPointerEnabled,transition:function(){var e=t.style;return"transition"in e||"webkitTransition"in e||"MozTransition"in e}(),transforms3d:Ot.Modernizr&&!0===Ot.Modernizr.csstransforms3d||function(){var e=t.style;return"webkitPerspective"in e||"MozPerspective"in e||"OPerspective"in e||"MsPerspective"in e||"perspective"in e}(),flexbox:function(){for(var e=t.style,n="alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient".split(" "),i=0;i<n.length;i+=1)if(n[i]in e)return!0;return!1}(),observer:function(){return"MutationObserver"in Ot||"WebkitMutationObserver"in Ot}(),passiveListener:function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});Ot.addEventListener("testPassiveListener",null,e)}catch(t){}return t}(),gestures:function(){return"ongesturestart"in Ot}()}}(),Ut=function(t){void 0===t&&(t={});var e=this;e.params=t,e.eventsListeners={},e.params&&e.params.on&&Object.keys(e.params.on).forEach(function(t){e.on(t,e.params.on[t])})},jt={components:{configurable:!0}};Ut.prototype.on=function(t,e,n){var i=this;if("function"!==typeof e)return i;var r=n?"unshift":"push";return t.split(" ").forEach(function(t){i.eventsListeners[t]||(i.eventsListeners[t]=[]),i.eventsListeners[t][r](e)}),i},Ut.prototype.once=function(t,e,n){function i(){for(var n=[],o=arguments.length;o--;)n[o]=arguments[o];e.apply(r,n),r.off(t,i)}var r=this;return"function"!==typeof e?r:r.on(t,i,n)},Ut.prototype.off=function(t,e){var n=this;return n.eventsListeners?(t.split(" ").forEach(function(t){"undefined"===typeof e?n.eventsListeners[t]=[]:n.eventsListeners[t].forEach(function(i,r){i===e&&n.eventsListeners[t].splice(r,1)})}),n):n},Ut.prototype.emit=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=this;if(!n.eventsListeners)return n;var i,r,o;return"string"===typeof t[0]||Array.isArray(t[0])?(i=t[0],r=t.slice(1,t.length),o=n):(i=t[0].events,r=t[0].data,o=t[0].context||n),(Array.isArray(i)?i:i.split(" ")).forEach(function(t){if(n.eventsListeners&&n.eventsListeners[t]){var e=[];n.eventsListeners[t].forEach(function(t){e.push(t)}),e.forEach(function(t){t.apply(o,r)})}}),n},Ut.prototype.useModulesParams=function(t){var e=this;e.modules&&Object.keys(e.modules).forEach(function(n){var i=e.modules[n];i.params&&Nt.extend(t,i.params)})},Ut.prototype.useModules=function(t){void 0===t&&(t={});var e=this;e.modules&&Object.keys(e.modules).forEach(function(n){var i=e.modules[n],r=t[n]||{};i.instance&&Object.keys(i.instance).forEach(function(t){var n=i.instance[t];e[t]="function"===typeof n?n.bind(e):n}),i.on&&e.on&&Object.keys(i.on).forEach(function(t){e.on(t,i.on[t])}),i.create&&i.create.bind(e)(r)})},jt.components.set=function(t){var e=this;e.use&&e.use(t)},Ut.installModule=function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];var i=this;i.prototype.modules||(i.prototype.modules={});var r=t.name||Object.keys(i.prototype.modules).length+"_"+Nt.now();return i.prototype.modules[r]=t,t.proto&&Object.keys(t.proto).forEach(function(e){i.prototype[e]=t.proto[e]}),t.static&&Object.keys(t.static).forEach(function(e){i[e]=t.static[e]}),t.install&&t.install.apply(i,e),i},Ut.use=function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];var i=this;return Array.isArray(t)?(t.forEach(function(t){return i.installModule(t)}),i):i.installModule.apply(i,[t].concat(e))},Object.defineProperties(Ut,jt);var Vt={updateSize:F,updateSlides:U,updateAutoHeight:j,updateSlidesOffset:V,updateSlidesProgress:G,updateProgress:H,updateSlidesClasses:W,updateActiveIndex:q,updateClickedSlide:Y},Gt={getTranslate:X,setTranslate:$,minTranslate:Z,maxTranslate:J},Ht={setTransition:K,transitionStart:Q,transitionEnd:tt},Wt={slideTo:et,slideToLoop:nt,slideNext:it,slidePrev:rt,slideReset:ot,slideToClosest:at,slideToClickedSlide:st},qt={loopCreate:lt,loopFix:ut,loopDestroy:ct},Yt={setGrabCursor:ht,unsetGrabCursor:pt},Xt={appendSlide:dt,prependSlide:ft,removeSlide:yt,removeAllSlides:mt},$t=function(){var t=Ot.navigator.userAgent,e={ios:!1,android:!1,androidChrome:!1,desktop:!1,windows:!1,iphone:!1,ipod:!1,ipad:!1,cordova:Ot.cordova||Ot.phonegap,phonegap:Ot.cordova||Ot.phonegap},n=t.match(/(Windows Phone);?[\s\/]+([\d.]+)?/),i=t.match(/(Android);?[\s\/]+([\d.]+)?/),r=t.match(/(iPad).*OS\s([\d_]+)/),o=t.match(/(iPod)(.*OS\s([\d_]+))?/),a=!r&&t.match(/(iPhone\sOS|iOS)\s([\d_]+)/);if(n&&(e.os="windows",e.osVersion=n[2],e.windows=!0),i&&!n&&(e.os="android",e.osVersion=i[2],e.android=!0,e.androidChrome=t.toLowerCase().indexOf("chrome")>=0),(r||a||o)&&(e.os="ios",e.ios=!0),a&&!o&&(e.osVersion=a[2].replace(/_/g,"."),e.iphone=!0),r&&(e.osVersion=r[2].replace(/_/g,"."),e.ipad=!0),o&&(e.osVersion=o[3]?o[3].replace(/_/g,"."):null,e.iphone=!0),e.ios&&e.osVersion&&t.indexOf("Version/")>=0&&"10"===e.osVersion.split(".")[0]&&(e.osVersion=t.toLowerCase().split("version/")[1].split(" ")[0]),e.desktop=!(e.os||e.android||e.webView),e.webView=(a||r||o)&&t.match(/.*AppleWebKit(?!.*Safari)/i),e.os&&"ios"===e.os){var s=e.osVersion.split("."),l=zt.querySelector('meta[name="viewport"]');e.minimalUi=!e.webView&&(o||a)&&(1*s[0]===7?1*s[1]>=1:1*s[0]>7)&&l&&l.getAttribute("content").indexOf("minimal-ui")>=0}return e.pixelRatio=Ot.devicePixelRatio||1,e}(),Zt={attachEvents:wt,detachEvents:Et},Jt={setBreakpoint:Mt,getBreakpoint:Tt},Kt=function(){return{isIE:!!Ot.navigator.userAgent.match(/Trident/g)||!!Ot.navigator.userAgent.match(/MSIE/g),isSafari:function(){var t=Ot.navigator.userAgent.toLowerCase();return t.indexOf("safari")>=0&&t.indexOf("chrome")<0&&t.indexOf("android")<0}(),isUiWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(Ot.navigator.userAgent)}}(),Qt={addClasses:St,removeClasses:At},te={loadImage:Ct,preloadImages:Lt},ee={checkOverflow:kt},ne={init:!0,direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,preventIntercationOnTransition:!1,iOSEdgeSwipeDetection:!1,iOSEdgeSwipeThreshold:20,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeMomentumVelocityRatio:1,freeModeSticky:!1,freeModeMinimumVelocity:.02,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,watchOverflow:!1,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!0,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopFillGroupWithBlank:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,containerModifierClass:"swiper-container-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0},ie={update:Vt,translate:Gt,transition:Ht,slide:Wt,loop:qt,grabCursor:Yt,manipulation:Xt,events:Zt,breakpoints:Jt,checkOverflow:ee,classes:Qt,images:te},re={},oe=function(e){function n(){for(var i,r=[],o=arguments.length;o--;)r[o]=arguments[o];var a,s;1===r.length&&r[0].constructor&&r[0].constructor===Object?s=r[0]:(i=r,a=i[0],s=i[1]),s||(s={}),s=Nt.extend({},s),a&&!s.el&&(s.el=a),e.call(this,s),Object.keys(ie).forEach(function(t){Object.keys(ie[t]).forEach(function(e){n.prototype[e]||(n.prototype[e]=ie[t][e])})});var l=this;"undefined"===typeof l.modules&&(l.modules={}),Object.keys(l.modules).forEach(function(t){var e=l.modules[t];if(e.params){var n=Object.keys(e.params)[0],i=e.params[n];if("object"!==typeof i)return;if(!(n in s&&"enabled"in i))return;!0===s[n]&&(s[n]={enabled:!0}),"object"!==typeof s[n]||"enabled"in s[n]||(s[n].enabled=!0),s[n]||(s[n]={enabled:!1})}});var u=Nt.extend({},ne);l.useModulesParams(u),l.params=Nt.extend({},u,re,s),l.originalParams=Nt.extend({},l.params),l.passedParams=Nt.extend({},s),l.$=t;var c=t(l.params.el);if(a=c[0]){if(c.length>1){var h=[];return c.each(function(t,e){var i=Nt.extend({},s,{el:e});h.push(new n(i))}),h}a.swiper=l,c.data("swiper",l);var p=c.children("."+l.params.wrapperClass);return Nt.extend(l,{$el:c,el:a,$wrapperEl:p,wrapperEl:p[0],classNames:[],slides:t(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:function(){return"horizontal"===l.params.direction},isVertical:function(){return"vertical"===l.params.direction},rtl:"rtl"===a.dir.toLowerCase()||"rtl"===c.css("direction"),rtlTranslate:"horizontal"===l.params.direction&&("rtl"===a.dir.toLowerCase()||"rtl"===c.css("direction")),wrongRTL:"-webkit-box"===p.css("display"),activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,progress:0,velocity:0,animating:!1,allowSlideNext:l.params.allowSlideNext,allowSlidePrev:l.params.allowSlidePrev,touchEvents:function(){var t=["touchstart","touchmove","touchend"],e=["mousedown","mousemove","mouseup"];return Ft.pointerEvents?e=["pointerdown","pointermove","pointerup"]:Ft.prefixedPointerEvents&&(e=["MSPointerDown","MSPointerMove","MSPointerUp"]),l.touchEventsTouch={start:t[0],move:t[1],end:t[2]},l.touchEventsDesktop={start:e[0],move:e[1],end:e[2]},Ft.touch||!l.params.simulateTouch?l.touchEventsTouch:l.touchEventsDesktop}(),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,formElements:"input, select, option, textarea, button, video",lastClickTime:Nt.now(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:l.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),l.useModules(),l.params.init&&l.init(),l}}e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n;var i={extendedDefaults:{configurable:!0},defaults:{configurable:!0},Class:{configurable:!0},$:{configurable:!0}};return n.prototype.slidesPerViewDynamic=function(){var t=this,e=t.params,n=t.slides,i=t.slidesGrid,r=t.size,o=t.activeIndex,a=1;if(e.centeredSlides){for(var s,l=n[o].swiperSlideSize,u=o+1;u<n.length;u+=1)n[u]&&!s&&(l+=n[u].swiperSlideSize,a+=1,l>r&&(s=!0));for(var c=o-1;c>=0;c-=1)n[c]&&!s&&(l+=n[c].swiperSlideSize,a+=1,l>r&&(s=!0))}else for(var h=o+1;h<n.length;h+=1)i[h]-i[o]<r&&(a+=1);return a},n.prototype.update=function(){function t(){var t=e.rtlTranslate?-1*e.translate:e.translate,n=Math.min(Math.max(t,e.maxTranslate()),e.minTranslate());e.setTranslate(n),e.updateActiveIndex(),e.updateSlidesClasses()}var e=this;if(e&&!e.destroyed){var n=e.snapGrid,i=e.params;i.breakpoints&&e.setBreakpoint(),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();e.params.freeMode?(t(),e.params.autoHeight&&e.updateAutoHeight()):(("auto"===e.params.slidesPerView||e.params.slidesPerView>1)&&e.isEnd&&!e.params.centeredSlides?e.slideTo(e.slides.length-1,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0))||t(),i.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}},n.prototype.init=function(){var t=this;t.initialized||(t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.params.loop&&t.loopCreate(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.setGrabCursor(),t.params.preloadImages&&t.preloadImages(),t.params.loop?t.slideTo(t.params.initialSlide+t.loopedSlides,0,t.params.runCallbacksOnInit):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit),t.attachEvents(),t.initialized=!0,t.emit("init"))},n.prototype.destroy=function(t,e){void 0===t&&(t=!0),void 0===e&&(e=!0);var n=this,i=n.params,r=n.$el,o=n.$wrapperEl,a=n.slides;n.emit("beforeDestroy"),n.initialized=!1,n.detachEvents(),i.loop&&n.loopDestroy(),e&&(n.removeClasses(),r.removeAttr("style"),o.removeAttr("style"),a&&a.length&&a.removeClass([i.slideVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index").removeAttr("data-swiper-column").removeAttr("data-swiper-row")),n.emit("destroy"),Object.keys(n.eventsListeners).forEach(function(t){n.off(t)}),!1!==t&&(n.$el[0].swiper=null,n.$el.data("swiper",null),Nt.deleteProps(n)),n.destroyed=!0},n.extendDefaults=function(t){Nt.extend(re,t)},i.extendedDefaults.get=function(){return re},i.defaults.get=function(){return ne},i.Class.get=function(){return e},i.$.get=function(){return t},Object.defineProperties(n,i),n}(Ut),ae={name:"device",proto:{device:$t},static:{device:$t}},se={name:"support",proto:{support:Ft},static:{support:Ft}},le={name:"browser",proto:{browser:Kt},static:{browser:Kt}},ue={name:"resize",create:function(){var t=this;Nt.extend(t,{resize:{resizeHandler:function(){t&&!t.destroyed&&t.initialized&&(t.emit("beforeResize"),t.emit("resize"))},orientationChangeHandler:function(){t&&!t.destroyed&&t.initialized&&t.emit("orientationchange")}}})},on:{init:function(){var t=this;Ot.addEventListener("resize",t.resize.resizeHandler),Ot.addEventListener("orientationchange",t.resize.orientationChangeHandler)},destroy:function(){var t=this;Ot.removeEventListener("resize",t.resize.resizeHandler),Ot.removeEventListener("orientationchange",t.resize.orientationChangeHandler)}}},ce={func:Ot.MutationObserver||Ot.WebkitMutationObserver,attach:function(t,e){void 0===e&&(e={});var n=this,i=ce.func,r=new i(function(t){t.forEach(function(t){n.emit("observerUpdate",t)})});r.observe(t,{attributes:"undefined"===typeof e.attributes||e.attributes,childList:"undefined"===typeof e.childList||e.childList,characterData:"undefined"===typeof e.characterData||e.characterData}),n.observer.observers.push(r)},init:function(){var t=this;if(Ft.observer&&t.params.observer){if(t.params.observeParents)for(var e=t.$el.parents(),n=0;n<e.length;n+=1)t.observer.attach(e[n]);t.observer.attach(t.$el[0],{childList:!1}),t.observer.attach(t.$wrapperEl[0],{attributes:!1})}},destroy:function(){var t=this;t.observer.observers.forEach(function(t){t.disconnect()}),t.observer.observers=[]}},he={name:"observer",params:{observer:!1,observeParents:!1},create:function(){var t=this;Nt.extend(t,{observer:{init:ce.init.bind(t),attach:ce.attach.bind(t),destroy:ce.destroy.bind(t),observers:[]}})},on:{init:function(){this.observer.init()},destroy:function(){this.observer.destroy()}}},pe={update:function(t){function e(){n.updateSlides(),n.updateProgress(),n.updateSlidesClasses(),n.lazy&&n.params.lazy.enabled&&n.lazy.load()}var n=this,i=n.params,r=i.slidesPerView,o=i.slidesPerGroup,a=i.centeredSlides,s=n.virtual,l=s.from,u=s.to,c=s.slides,h=s.slidesGrid,p=s.renderSlide,d=s.offset;n.updateActiveIndex();var f,y=n.activeIndex||0;f=n.rtlTranslate?"right":n.isHorizontal()?"left":"top";var m,v;a?(m=Math.floor(r/2)+o,v=Math.floor(r/2)+o):(m=r+(o-1),v=o);var g=Math.max((y||0)-v,0),x=Math.min((y||0)+m,c.length-1),_=(n.slidesGrid[g]||0)-(n.slidesGrid[0]||0);if(Nt.extend(n.virtual,{from:g,to:x,offset:_,slidesGrid:n.slidesGrid}),l===g&&u===x&&!t)return n.slidesGrid!==h&&_!==d&&n.slides.css(f,_+"px"),void n.updateProgress();if(n.params.virtual.renderExternal)return n.params.virtual.renderExternal.call(n,{offset:_,from:g,to:x,slides:function(){for(var t=[],e=g;e<=x;e+=1)t.push(c[e]);return t}()}),void e();var b=[],w=[];if(t)n.$wrapperEl.find("."+n.params.slideClass).remove();else for(var E=l;E<=u;E+=1)(E<g||E>x)&&n.$wrapperEl.find("."+n.params.slideClass+'[data-swiper-slide-index="'+E+'"]').remove();for(var M=0;M<c.length;M+=1)M>=g&&M<=x&&("undefined"===typeof u||t?w.push(M):(M>u&&w.push(M),M<l&&b.push(M)));w.forEach(function(t){n.$wrapperEl.append(p(c[t],t))}),b.sort(function(t,e){return t<e}).forEach(function(t){n.$wrapperEl.prepend(p(c[t],t))}),n.$wrapperEl.children(".swiper-slide").css(f,_+"px"),e()},renderSlide:function(e,n){var i=this,r=i.params.virtual;if(r.cache&&i.virtual.cache[n])return i.virtual.cache[n];var o=t(r.renderSlide?r.renderSlide.call(i,e,n):'<div class="'+i.params.slideClass+'" data-swiper-slide-index="'+n+'">'+e+"</div>");return o.attr("data-swiper-slide-index")||o.attr("data-swiper-slide-index",n),r.cache&&(i.virtual.cache[n]=o),o},appendSlide:function(t){var e=this;e.virtual.slides.push(t),e.virtual.update(!0)},prependSlide:function(t){var e=this;if(e.virtual.slides.unshift(t),e.params.virtual.cache){var n=e.virtual.cache,i={};Object.keys(n).forEach(function(t){i[t+1]=n[t]}),e.virtual.cache=i}e.virtual.update(!0),e.slideNext(0)}},de={name:"virtual",params:{virtual:{enabled:!1,slides:[],cache:!0,renderSlide:null,renderExternal:null}},create:function(){var t=this;Nt.extend(t,{virtual:{update:pe.update.bind(t),appendSlide:pe.appendSlide.bind(t),prependSlide:pe.prependSlide.bind(t),renderSlide:pe.renderSlide.bind(t),slides:t.params.virtual.slides,cache:{}}})},on:{beforeInit:function(){var t=this;if(t.params.virtual.enabled){t.classNames.push(t.params.containerModifierClass+"virtual");var e={watchSlidesProgress:!0};Nt.extend(t.params,e),Nt.extend(t.originalParams,e),t.virtual.update()}},setTranslate:function(){var t=this;t.params.virtual.enabled&&t.virtual.update()}}},fe={handle:function(t){var e=this,n=e.rtlTranslate,i=t;i.originalEvent&&(i=i.originalEvent);var r=i.keyCode||i.charCode;if(!e.allowSlideNext&&(e.isHorizontal()&&39===r||e.isVertical()&&40===r))return!1;if(!e.allowSlidePrev&&(e.isHorizontal()&&37===r||e.isVertical()&&38===r))return!1;if(!(i.shiftKey||i.altKey||i.ctrlKey||i.metaKey)&&(!zt.activeElement||!zt.activeElement.nodeName||"input"!==zt.activeElement.nodeName.toLowerCase()&&"textarea"!==zt.activeElement.nodeName.toLowerCase())){if(e.params.keyboard.onlyInViewport&&(37===r||39===r||38===r||40===r)){var o=!1;if(e.$el.parents("."+e.params.slideClass).length>0&&0===e.$el.parents("."+e.params.slideActiveClass).length)return;var a=Ot.innerWidth,s=Ot.innerHeight,l=e.$el.offset();n&&(l.left-=e.$el[0].scrollLeft);for(var u=[[l.left,l.top],[l.left+e.width,l.top],[l.left,l.top+e.height],[l.left+e.width,l.top+e.height]],c=0;c<u.length;c+=1){var h=u[c];h[0]>=0&&h[0]<=a&&h[1]>=0&&h[1]<=s&&(o=!0)}if(!o)return}e.isHorizontal()?(37!==r&&39!==r||(i.preventDefault?i.preventDefault():i.returnValue=!1),(39===r&&!n||37===r&&n)&&e.slideNext(),(37===r&&!n||39===r&&n)&&e.slidePrev()):(38!==r&&40!==r||(i.preventDefault?i.preventDefault():i.returnValue=!1),40===r&&e.slideNext(),38===r&&e.slidePrev()),e.emit("keyPress",r)}},enable:function(){var e=this;e.keyboard.enabled||(t(zt).on("keydown",e.keyboard.handle),e.keyboard.enabled=!0)},disable:function(){var e=this;e.keyboard.enabled&&(t(zt).off("keydown",e.keyboard.handle),e.keyboard.enabled=!1)}},ye={name:"keyboard",params:{keyboard:{enabled:!1,onlyInViewport:!0}},create:function(){var t=this;Nt.extend(t,{keyboard:{enabled:!1,enable:fe.enable.bind(t),disable:fe.disable.bind(t),handle:fe.handle.bind(t)}})},on:{init:function(){var t=this;t.params.keyboard.enabled&&t.keyboard.enable()},destroy:function(){var t=this;t.keyboard.enabled&&t.keyboard.disable()}}},me={lastScrollTime:Nt.now(),event:function(){return Ot.navigator.userAgent.indexOf("firefox")>-1?"DOMMouseScroll":Pt()?"wheel":"mousewheel"}(),normalize:function(t){var e=0,n=0,i=0,r=0;return"detail"in t&&(n=t.detail),"wheelDelta"in t&&(n=-t.wheelDelta/120),"wheelDeltaY"in t&&(n=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(e=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=n,n=0),i=10*e,r=10*n,"deltaY"in t&&(r=t.deltaY),"deltaX"in t&&(i=t.deltaX),(i||r)&&t.deltaMode&&(1===t.deltaMode?(i*=40,r*=40):(i*=800,r*=800)),i&&!e&&(e=i<1?-1:1),r&&!n&&(n=r<1?-1:1),{spinX:e,spinY:n,pixelX:i,pixelY:r}},handleMouseEnter:function(){this.mouseEntered=!0},handleMouseLeave:function(){this.mouseEntered=!1},handle:function(t){var e=t,n=this,i=n.params.mousewheel;if(!n.mouseEntered&&!i.releaseOnEdges)return!0;e.originalEvent&&(e=e.originalEvent);var r=0,o=n.rtlTranslate?-1:1,a=me.normalize(e);if(i.forceToAxis)if(n.isHorizontal()){if(!(Math.abs(a.pixelX)>Math.abs(a.pixelY)))return!0;r=a.pixelX*o}else{if(!(Math.abs(a.pixelY)>Math.abs(a.pixelX)))return!0;r=a.pixelY}else r=Math.abs(a.pixelX)>Math.abs(a.pixelY)?-a.pixelX*o:-a.pixelY;if(0===r)return!0;if(i.invert&&(r=-r),n.params.freeMode){n.params.loop&&n.loopFix();var s=n.getTranslate()+r*i.sensitivity,l=n.isBeginning,u=n.isEnd;if(s>=n.minTranslate()&&(s=n.minTranslate()),s<=n.maxTranslate()&&(s=n.maxTranslate()),n.setTransition(0),n.setTranslate(s),n.updateProgress(),n.updateActiveIndex(),n.updateSlidesClasses(),(!l&&n.isBeginning||!u&&n.isEnd)&&n.updateSlidesClasses(),n.params.freeModeSticky&&(clearTimeout(n.mousewheel.timeout),n.mousewheel.timeout=Nt.nextTick(function(){n.slideToClosest()},300)),n.emit("scroll",e),n.params.autoplay&&n.params.autoplayDisableOnInteraction&&n.stopAutoplay(),s===n.minTranslate()||s===n.maxTranslate())return!0}else{if(Nt.now()-n.mousewheel.lastScrollTime>60)if(r<0)if(n.isEnd&&!n.params.loop||n.animating){if(i.releaseOnEdges)return!0}else n.slideNext(),n.emit("scroll",e);else if(n.isBeginning&&!n.params.loop||n.animating){if(i.releaseOnEdges)return!0}else n.slidePrev(),n.emit("scroll",e);n.mousewheel.lastScrollTime=(new Ot.Date).getTime()}return e.preventDefault?e.preventDefault():e.returnValue=!1,!1},enable:function(){var e=this;if(!me.event)return!1;if(e.mousewheel.enabled)return!1;var n=e.$el;return"container"!==e.params.mousewheel.eventsTarged&&(n=t(e.params.mousewheel.eventsTarged)),n.on("mouseenter",e.mousewheel.handleMouseEnter),n.on("mouseleave",e.mousewheel.handleMouseLeave),n.on(me.event,e.mousewheel.handle),e.mousewheel.enabled=!0,!0},disable:function(){var e=this;if(!me.event)return!1;if(!e.mousewheel.enabled)return!1;var n=e.$el;return"container"!==e.params.mousewheel.eventsTarged&&(n=t(e.params.mousewheel.eventsTarged)),n.off(me.event,e.mousewheel.handle),e.mousewheel.enabled=!1,!0}},ve={name:"mousewheel",params:{mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarged:"container"}},create:function(){var t=this;Nt.extend(t,{mousewheel:{enabled:!1,enable:me.enable.bind(t),disable:me.disable.bind(t),handle:me.handle.bind(t),handleMouseEnter:me.handleMouseEnter.bind(t),handleMouseLeave:me.handleMouseLeave.bind(t),lastScrollTime:Nt.now()}})},on:{init:function(){var t=this;t.params.mousewheel.enabled&&t.mousewheel.enable()},destroy:function(){var t=this;t.mousewheel.enabled&&t.mousewheel.disable()}}},ge={update:function(){var t=this,e=t.params.navigation;if(!t.params.loop){var n=t.navigation,i=n.$nextEl,r=n.$prevEl;r&&r.length>0&&(t.isBeginning?r.addClass(e.disabledClass):r.removeClass(e.disabledClass),r[t.params.watchOverflow&&t.isLocked?"addClass":"removeClass"](e.lockClass)),i&&i.length>0&&(t.isEnd?i.addClass(e.disabledClass):i.removeClass(e.disabledClass),i[t.params.watchOverflow&&t.isLocked?"addClass":"removeClass"](e.lockClass))}},init:function(){var e=this,n=e.params.navigation;if(n.nextEl||n.prevEl){var i,r;n.nextEl&&(i=t(n.nextEl),e.params.uniqueNavElements&&"string"===typeof n.nextEl&&i.length>1&&1===e.$el.find(n.nextEl).length&&(i=e.$el.find(n.nextEl))),n.prevEl&&(r=t(n.prevEl),e.params.uniqueNavElements&&"string"===typeof n.prevEl&&r.length>1&&1===e.$el.find(n.prevEl).length&&(r=e.$el.find(n.prevEl))),i&&i.length>0&&i.on("click",function(t){t.preventDefault(),e.isEnd&&!e.params.loop||e.slideNext()}),r&&r.length>0&&r.on("click",function(t){t.preventDefault(),e.isBeginning&&!e.params.loop||e.slidePrev()}),Nt.extend(e.navigation,{$nextEl:i,nextEl:i&&i[0],$prevEl:r,prevEl:r&&r[0]})}},destroy:function(){var t=this,e=t.navigation,n=e.$nextEl,i=e.$prevEl;n&&n.length&&(n.off("click"),n.removeClass(t.params.navigation.disabledClass)),i&&i.length&&(i.off("click"),i.removeClass(t.params.navigation.disabledClass))}},xe={name:"navigation",params:{navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock"}},create:function(){var t=this;Nt.extend(t,{navigation:{init:ge.init.bind(t),update:ge.update.bind(t),destroy:ge.destroy.bind(t)}})},on:{init:function(){var t=this;t.navigation.init(),t.navigation.update()},toEdge:function(){this.navigation.update()},fromEdge:function(){this.navigation.update()},destroy:function(){this.navigation.destroy()},click:function(e){var n=this,i=n.navigation,r=i.$nextEl,o=i.$prevEl;!n.params.navigation.hideOnClick||t(e.target).is(o)||t(e.target).is(r)||(r&&r.toggleClass(n.params.navigation.hiddenClass),o&&o.toggleClass(n.params.navigation.hiddenClass))}}},_e={update:function(){var e=this,n=e.rtl,i=e.params.pagination;if(i.el&&e.pagination.el&&e.pagination.$el&&0!==e.pagination.$el.length){var r,o=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,a=e.pagination.$el,s=e.params.loop?Math.ceil((o-2*e.loopedSlides)/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(r=Math.ceil((e.activeIndex-e.loopedSlides)/e.params.slidesPerGroup),r>o-1-2*e.loopedSlides&&(r-=o-2*e.loopedSlides),r>s-1&&(r-=s),r<0&&"bullets"!==e.params.paginationType&&(r=s+r)):r="undefined"!==typeof e.snapIndex?e.snapIndex:e.activeIndex||0,"bullets"===i.type&&e.pagination.bullets&&e.pagination.bullets.length>0){var l,u,c,h=e.pagination.bullets;if(i.dynamicBullets&&(e.pagination.bulletSize=h.eq(0)[e.isHorizontal()?"outerWidth":"outerHeight"](!0),a.css(e.isHorizontal()?"width":"height",e.pagination.bulletSize*(i.dynamicMainBullets+4)+"px"),i.dynamicMainBullets>1&&void 0!==e.previousIndex&&(e.pagination.dynamicBulletIndex+=r-e.previousIndex,e.pagination.dynamicBulletIndex>i.dynamicMainBullets-1?e.pagination.dynamicBulletIndex=i.dynamicMainBullets-1:e.pagination.dynamicBulletIndex<0&&(e.pagination.dynamicBulletIndex=0)),l=r-e.pagination.dynamicBulletIndex,u=l+(Math.min(h.length,i.dynamicMainBullets)-1),c=(u+l)/2),h.removeClass(i.bulletActiveClass+" "+i.bulletActiveClass+"-next "+i.bulletActiveClass+"-next-next "+i.bulletActiveClass+"-prev "+i.bulletActiveClass+"-prev-prev "+i.bulletActiveClass+"-main"),a.length>1)h.each(function(e,n){var o=t(n),a=o.index();a===r&&o.addClass(i.bulletActiveClass),i.dynamicBullets&&(a>=l&&a<=u&&o.addClass(i.bulletActiveClass+"-main"),a===l&&o.prev().addClass(i.bulletActiveClass+"-prev").prev().addClass(i.bulletActiveClass+"-prev-prev"),a===u&&o.next().addClass(i.bulletActiveClass+"-next").next().addClass(i.bulletActiveClass+"-next-next"))});else{if(h.eq(r).addClass(i.bulletActiveClass),i.dynamicBullets){for(var p=h.eq(l),d=h.eq(u),f=l;f<=u;f+=1)h.eq(f).addClass(i.bulletActiveClass+"-main");p.prev().addClass(i.bulletActiveClass+"-prev").prev().addClass(i.bulletActiveClass+"-prev-prev"),d.next().addClass(i.bulletActiveClass+"-next").next().addClass(i.bulletActiveClass+"-next-next")}}if(i.dynamicBullets){var y=Math.min(h.length,i.dynamicMainBullets+4),m=(e.pagination.bulletSize*y-e.pagination.bulletSize)/2-c*e.pagination.bulletSize,v=n?"right":"left";h.css(e.isHorizontal()?v:"top",m+"px")}}if("fraction"===i.type&&(a.find("."+i.currentClass).text(r+1),a.find("."+i.totalClass).text(s)),"progressbar"===i.type){var g;g=i.progressbarOpposite?e.isHorizontal()?"vertical":"horizontal":e.isHorizontal()?"horizontal":"vertical";var x=(r+1)/s,_=1,b=1;"horizontal"===g?_=x:b=x,a.find("."+i.progressbarFillClass).transform("translate3d(0,0,0) scaleX("+_+") scaleY("+b+")").transition(e.params.speed)}"custom"===i.type&&i.renderCustom?(a.html(i.renderCustom(e,r+1,s)),e.emit("paginationRender",e,a[0])):e.emit("paginationUpdate",e,a[0]),a[e.params.watchOverflow&&e.isLocked?"addClass":"removeClass"](i.lockClass)}},render:function(){var t=this,e=t.params.pagination;if(e.el&&t.pagination.el&&t.pagination.$el&&0!==t.pagination.$el.length){var n=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,i=t.pagination.$el,r="";if("bullets"===e.type){for(var o=t.params.loop?Math.ceil((n-2*t.loopedSlides)/t.params.slidesPerGroup):t.snapGrid.length,a=0;a<o;a+=1)e.renderBullet?r+=e.renderBullet.call(t,a,e.bulletClass):r+="<"+e.bulletElement+' class="'+e.bulletClass+'"></'+e.bulletElement+">";i.html(r),t.pagination.bullets=i.find("."+e.bulletClass)}"fraction"===e.type&&(r=e.renderFraction?e.renderFraction.call(t,e.currentClass,e.totalClass):'<span class="'+e.currentClass+'"></span> / <span class="'+e.totalClass+'"></span>',i.html(r)),"progressbar"===e.type&&(r=e.renderProgressbar?e.renderProgressbar.call(t,e.progressbarFillClass):'<span class="'+e.progressbarFillClass+'"></span>',i.html(r)),"custom"!==e.type&&t.emit("paginationRender",t.pagination.$el[0])}},init:function(){var e=this,n=e.params.pagination;if(n.el){var i=t(n.el);0!==i.length&&(e.params.uniqueNavElements&&"string"===typeof n.el&&i.length>1&&1===e.$el.find(n.el).length&&(i=e.$el.find(n.el)),"bullets"===n.type&&n.clickable&&i.addClass(n.clickableClass),i.addClass(n.modifierClass+n.type),"bullets"===n.type&&n.dynamicBullets&&(i.addClass(""+n.modifierClass+n.type+"-dynamic"),e.pagination.dynamicBulletIndex=0,n.dynamicMainBullets<1&&(n.dynamicMainBullets=1)),"progressbar"===n.type&&n.progressbarOpposite&&i.addClass(n.progressbarOppositeClass),n.clickable&&i.on("click","."+n.bulletClass,function(n){n.preventDefault();var i=t(this).index()*e.params.slidesPerGroup;e.params.loop&&(i+=e.loopedSlides),e.slideTo(i)}),Nt.extend(e.pagination,{$el:i,el:i[0]}))}},destroy:function(){var t=this,e=t.params.pagination;if(e.el&&t.pagination.el&&t.pagination.$el&&0!==t.pagination.$el.length){var n=t.pagination.$el;n.removeClass(e.hiddenClass),n.removeClass(e.modifierClass+e.type),t.pagination.bullets&&t.pagination.bullets.removeClass(e.bulletActiveClass),e.clickable&&n.off("click","."+e.bulletClass)}}},be={name:"pagination",params:{pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",modifierClass:"swiper-pagination-",currentClass:"swiper-pagination-current",totalClass:"swiper-pagination-total",hiddenClass:"swiper-pagination-hidden",progressbarFillClass:"swiper-pagination-progressbar-fill",progressbarOppositeClass:"swiper-pagination-progressbar-opposite",clickableClass:"swiper-pagination-clickable",lockClass:"swiper-pagination-lock"}},create:function(){var t=this;Nt.extend(t,{pagination:{init:_e.init.bind(t),render:_e.render.bind(t),update:_e.update.bind(t),destroy:_e.destroy.bind(t),dynamicBulletIndex:0}})},on:{init:function(){var t=this;t.pagination.init(),t.pagination.render(),t.pagination.update()},activeIndexChange:function(){var t=this;t.params.loop?t.pagination.update():"undefined"===typeof t.snapIndex&&t.pagination.update()},snapIndexChange:function(){var t=this;t.params.loop||t.pagination.update()},slidesLengthChange:function(){var t=this;t.params.loop&&(t.pagination.render(),t.pagination.update())},snapGridLengthChange:function(){var t=this;t.params.loop||(t.pagination.render(),t.pagination.update())},destroy:function(){this.pagination.destroy()},click:function(e){var n=this;n.params.pagination.el&&n.params.pagination.hideOnClick&&n.pagination.$el.length>0&&!t(e.target).hasClass(n.params.pagination.bulletClass)&&n.pagination.$el.toggleClass(n.params.pagination.hiddenClass)}}},we={setTranslate:function(){var t=this;if(t.params.scrollbar.el&&t.scrollbar.el){var e=t.scrollbar,n=t.rtlTranslate,i=t.progress,r=e.dragSize,o=e.trackSize,a=e.$dragEl,s=e.$el,l=t.params.scrollbar,u=r,c=(o-r)*i;n?(c=-c,c>0?(u=r-c,c=0):-c+r>o&&(u=o+c)):c<0?(u=r+c,c=0):c+r>o&&(u=o-c),t.isHorizontal()?(Ft.transforms3d?a.transform("translate3d("+c+"px, 0, 0)"):a.transform("translateX("+c+"px)"),a[0].style.width=u+"px"):(Ft.transforms3d?a.transform("translate3d(0px, "+c+"px, 0)"):a.transform("translateY("+c+"px)"),a[0].style.height=u+"px"),l.hide&&(clearTimeout(t.scrollbar.timeout),s[0].style.opacity=1,t.scrollbar.timeout=setTimeout(function(){s[0].style.opacity=0,s.transition(400)},1e3))}},setTransition:function(t){var e=this;e.params.scrollbar.el&&e.scrollbar.el&&e.scrollbar.$dragEl.transition(t)},updateSize:function(){var t=this;if(t.params.scrollbar.el&&t.scrollbar.el){var e=t.scrollbar,n=e.$dragEl,i=e.$el;n[0].style.width="",n[0].style.height="";var r,o=t.isHorizontal()?i[0].offsetWidth:i[0].offsetHeight,a=t.size/t.virtualSize,s=a*(o/t.size);r="auto"===t.params.scrollbar.dragSize?o*a:parseInt(t.params.scrollbar.dragSize,10),t.isHorizontal()?n[0].style.width=r+"px":n[0].style.height=r+"px",i[0].style.display=a>=1?"none":"",t.params.scrollbarHide&&(i[0].style.opacity=0),Nt.extend(e,{trackSize:o,divider:a,moveDivider:s,dragSize:r}),e.$el[t.params.watchOverflow&&t.isLocked?"addClass":"removeClass"](t.params.scrollbar.lockClass)}},setDragPosition:function(t){var e,n=this,i=n.scrollbar,r=n.rtlTranslate,o=i.$el,a=i.dragSize,s=i.trackSize;e=n.isHorizontal()?"touchstart"===t.type||"touchmove"===t.type?t.targetTouches[0].pageX:t.pageX||t.clientX:"touchstart"===t.type||"touchmove"===t.type?t.targetTouches[0].pageY:t.pageY||t.clientY;var l;l=(e-o.offset()[n.isHorizontal()?"left":"top"]-a/2)/(s-a),l=Math.max(Math.min(l,1),0),r&&(l=1-l);var u=n.minTranslate()+(n.maxTranslate()-n.minTranslate())*l;n.updateProgress(u),n.setTranslate(u),n.updateActiveIndex(),n.updateSlidesClasses()},onDragStart:function(t){var e=this,n=e.params.scrollbar,i=e.scrollbar,r=e.$wrapperEl,o=i.$el,a=i.$dragEl;e.scrollbar.isTouched=!0,t.preventDefault(),t.stopPropagation(),r.transition(100),a.transition(100),i.setDragPosition(t),clearTimeout(e.scrollbar.dragTimeout),o.transition(0),n.hide&&o.css("opacity",1),e.emit("scrollbarDragStart",t)},onDragMove:function(t){var e=this,n=e.scrollbar,i=e.$wrapperEl,r=n.$el,o=n.$dragEl;e.scrollbar.isTouched&&(t.preventDefault?t.preventDefault():t.returnValue=!1,n.setDragPosition(t),i.transition(0),r.transition(0),o.transition(0),e.emit("scrollbarDragMove",t))},onDragEnd:function(t){var e=this,n=e.params.scrollbar,i=e.scrollbar,r=i.$el;e.scrollbar.isTouched&&(e.scrollbar.isTouched=!1,n.hide&&(clearTimeout(e.scrollbar.dragTimeout),e.scrollbar.dragTimeout=Nt.nextTick(function(){r.css("opacity",0),r.transition(400)},1e3)),e.emit("scrollbarDragEnd",t),n.snapOnRelease&&e.slideToClosest())},enableDraggable:function(){var t=this;if(t.params.scrollbar.el){var e=t.scrollbar,n=t.touchEvents,i=t.touchEventsDesktop,r=t.params,o=e.$el,a=o[0],s=!(!Ft.passiveListener||!r.passiveListener)&&{passive:!1,capture:!1},l=!(!Ft.passiveListener||!r.passiveListener)&&{passive:!0,capture:!1};Ft.touch||!Ft.pointerEvents&&!Ft.prefixedPointerEvents?(Ft.touch&&(a.addEventListener(n.start,t.scrollbar.onDragStart,s),a.addEventListener(n.move,t.scrollbar.onDragMove,s),a.addEventListener(n.end,t.scrollbar.onDragEnd,l)),(r.simulateTouch&&!$t.ios&&!$t.android||r.simulateTouch&&!Ft.touch&&$t.ios)&&(a.addEventListener("mousedown",t.scrollbar.onDragStart,s),zt.addEventListener("mousemove",t.scrollbar.onDragMove,s),zt.addEventListener("mouseup",t.scrollbar.onDragEnd,l))):(a.addEventListener(i.start,t.scrollbar.onDragStart,s),zt.addEventListener(i.move,t.scrollbar.onDragMove,s),zt.addEventListener(i.end,t.scrollbar.onDragEnd,l))}},disableDraggable:function(){var t=this;if(t.params.scrollbar.el){var e=t.scrollbar,n=t.touchEvents,i=t.touchEventsDesktop,r=t.params,o=e.$el,a=o[0],s=!(!Ft.passiveListener||!r.passiveListener)&&{passive:!1,capture:!1},l=!(!Ft.passiveListener||!r.passiveListener)&&{passive:!0,capture:!1};Ft.touch||!Ft.pointerEvents&&!Ft.prefixedPointerEvents?(Ft.touch&&(a.removeEventListener(n.start,t.scrollbar.onDragStart,s),a.removeEventListener(n.move,t.scrollbar.onDragMove,s),a.removeEventListener(n.end,t.scrollbar.onDragEnd,l)),(r.simulateTouch&&!$t.ios&&!$t.android||r.simulateTouch&&!Ft.touch&&$t.ios)&&(a.removeEventListener("mousedown",t.scrollbar.onDragStart,s),zt.removeEventListener("mousemove",t.scrollbar.onDragMove,s),zt.removeEventListener("mouseup",t.scrollbar.onDragEnd,l))):(a.removeEventListener(i.start,t.scrollbar.onDragStart,s),zt.removeEventListener(i.move,t.scrollbar.onDragMove,s),zt.removeEventListener(i.end,t.scrollbar.onDragEnd,l))}},init:function(){var e=this;if(e.params.scrollbar.el){var n=e.scrollbar,i=e.$el,r=e.params.scrollbar,o=t(r.el);e.params.uniqueNavElements&&"string"===typeof r.el&&o.length>1&&1===i.find(r.el).length&&(o=i.find(r.el));var a=o.find("."+e.params.scrollbar.dragClass);0===a.length&&(a=t('<div class="'+e.params.scrollbar.dragClass+'"></div>'),o.append(a)),Nt.extend(n,{$el:o,el:o[0],$dragEl:a,dragEl:a[0]}),r.draggable&&n.enableDraggable()}},destroy:function(){this.scrollbar.disableDraggable()}},Ee={name:"scrollbar",params:{scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag"}},create:function(){var t=this;Nt.extend(t,{scrollbar:{init:we.init.bind(t),destroy:we.destroy.bind(t),updateSize:we.updateSize.bind(t),setTranslate:we.setTranslate.bind(t),setTransition:we.setTransition.bind(t),enableDraggable:we.enableDraggable.bind(t),disableDraggable:we.disableDraggable.bind(t),setDragPosition:we.setDragPosition.bind(t),onDragStart:we.onDragStart.bind(t),onDragMove:we.onDragMove.bind(t),onDragEnd:we.onDragEnd.bind(t),isTouched:!1,timeout:null,dragTimeout:null}})},on:{init:function(){var t=this;t.scrollbar.init(),t.scrollbar.updateSize(),t.scrollbar.setTranslate()},update:function(){this.scrollbar.updateSize()},resize:function(){this.scrollbar.updateSize()},observerUpdate:function(){this.scrollbar.updateSize()},setTranslate:function(){this.scrollbar.setTranslate()},setTransition:function(t){this.scrollbar.setTransition(t)},destroy:function(){this.scrollbar.destroy()}}},Me={setTransform:function(e,n){var i=this,r=i.rtl,o=t(e),a=r?-1:1,s=o.attr("data-swiper-parallax")||"0",l=o.attr("data-swiper-parallax-x"),u=o.attr("data-swiper-parallax-y"),c=o.attr("data-swiper-parallax-scale"),h=o.attr("data-swiper-parallax-opacity");if(l||u?(l=l||"0",u=u||"0"):i.isHorizontal()?(l=s,u="0"):(u=s,l="0"),l=l.indexOf("%")>=0?parseInt(l,10)*n*a+"%":l*n*a+"px",u=u.indexOf("%")>=0?parseInt(u,10)*n+"%":u*n+"px","undefined"!==typeof h&&null!==h){var p=h-(h-1)*(1-Math.abs(n));o[0].style.opacity=p}if("undefined"===typeof c||null===c)o.transform("translate3d("+l+", "+u+", 0px)");else{var d=c-(c-1)*(1-Math.abs(n));o.transform("translate3d("+l+", "+u+", 0px) scale("+d+")")}},setTranslate:function(){var e=this,n=e.$el,i=e.slides,r=e.progress,o=e.snapGrid;n.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(t,n){e.parallax.setTransform(n,r)}),i.each(function(n,i){var a=i.progress;e.params.slidesPerGroup>1&&"auto"!==e.params.slidesPerView&&(a+=Math.ceil(n/2)-r*(o.length-1)),a=Math.min(Math.max(a,-1),1),t(i).find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(t,n){e.parallax.setTransform(n,a)})})},setTransition:function(e){void 0===e&&(e=this.params.speed),this.$el.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(n,i){var r=t(i),o=parseInt(r.attr("data-swiper-parallax-duration"),10)||e;0===e&&(o=0),r.transition(o)})}},Te={name:"parallax",params:{parallax:{enabled:!1}},create:function(){var t=this;Nt.extend(t,{parallax:{setTransform:Me.setTransform.bind(t),setTranslate:Me.setTranslate.bind(t),setTransition:Me.setTransition.bind(t)}})},on:{beforeInit:function(){var t=this;t.params.parallax.enabled&&(t.params.watchSlidesProgress=!0)},init:function(){var t=this;t.params.parallax&&t.parallax.setTranslate()},setTranslate:function(){var t=this;t.params.parallax&&t.parallax.setTranslate()},setTransition:function(t){var e=this;e.params.parallax&&e.parallax.setTransition(t)}}},Se={getDistanceBetweenTouches:function(t){if(t.targetTouches.length<2)return 1;var e=t.targetTouches[0].pageX,n=t.targetTouches[0].pageY,i=t.targetTouches[1].pageX,r=t.targetTouches[1].pageY;return Math.sqrt(Math.pow(i-e,2)+Math.pow(r-n,2))},onGestureStart:function(e){var n=this,i=n.params.zoom,r=n.zoom,o=r.gesture;if(r.fakeGestureTouched=!1,r.fakeGestureMoved=!1,!Ft.gestures){if("touchstart"!==e.type||"touchstart"===e.type&&e.targetTouches.length<2)return;r.fakeGestureTouched=!0,o.scaleStart=Se.getDistanceBetweenTouches(e)}if((!o.$slideEl||!o.$slideEl.length)&&(o.$slideEl=t(e.target).closest(".swiper-slide"),0===o.$slideEl.length&&(o.$slideEl=n.slides.eq(n.activeIndex)),o.$imageEl=o.$slideEl.find("img, svg, canvas"),o.$imageWrapEl=o.$imageEl.parent("."+i.containerClass),o.maxRatio=o.$imageWrapEl.attr("data-swiper-zoom")||i.maxRatio,0===o.$imageWrapEl.length))return void(o.$imageEl=void 0);o.$imageEl.transition(0),n.zoom.isScaling=!0},onGestureChange:function(t){var e=this,n=e.params.zoom,i=e.zoom,r=i.gesture;if(!Ft.gestures){if("touchmove"!==t.type||"touchmove"===t.type&&t.targetTouches.length<2)return;i.fakeGestureMoved=!0,r.scaleMove=Se.getDistanceBetweenTouches(t)}r.$imageEl&&0!==r.$imageEl.length&&(Ft.gestures?e.zoom.scale=t.scale*i.currentScale:i.scale=r.scaleMove/r.scaleStart*i.currentScale,i.scale>r.maxRatio&&(i.scale=r.maxRatio-1+Math.pow(i.scale-r.maxRatio+1,.5)),i.scale<n.minRatio&&(i.scale=n.minRatio+1-Math.pow(n.minRatio-i.scale+1,.5)),r.$imageEl.transform("translate3d(0,0,0) scale("+i.scale+")"))},onGestureEnd:function(t){var e=this,n=e.params.zoom,i=e.zoom,r=i.gesture;if(!Ft.gestures){if(!i.fakeGestureTouched||!i.fakeGestureMoved)return;if("touchend"!==t.type||"touchend"===t.type&&t.changedTouches.length<2&&!$t.android)return;i.fakeGestureTouched=!1,i.fakeGestureMoved=!1}r.$imageEl&&0!==r.$imageEl.length&&(i.scale=Math.max(Math.min(i.scale,r.maxRatio),n.minRatio),r.$imageEl.transition(e.params.speed).transform("translate3d(0,0,0) scale("+i.scale+")"),i.currentScale=i.scale,i.isScaling=!1,1===i.scale&&(r.$slideEl=void 0))},onTouchStart:function(t){var e=this,n=e.zoom,i=n.gesture,r=n.image;i.$imageEl&&0!==i.$imageEl.length&&(r.isTouched||($t.android&&t.preventDefault(),r.isTouched=!0,r.touchesStart.x="touchstart"===t.type?t.targetTouches[0].pageX:t.pageX,r.touchesStart.y="touchstart"===t.type?t.targetTouches[0].pageY:t.pageY))},onTouchMove:function(t){var e=this,n=e.zoom,i=n.gesture,r=n.image,o=n.velocity;if(i.$imageEl&&0!==i.$imageEl.length&&(e.allowClick=!1,r.isTouched&&i.$slideEl)){r.isMoved||(r.width=i.$imageEl[0].offsetWidth,r.height=i.$imageEl[0].offsetHeight,r.startX=Nt.getTranslate(i.$imageWrapEl[0],"x")||0,r.startY=Nt.getTranslate(i.$imageWrapEl[0],"y")||0,i.slideWidth=i.$slideEl[0].offsetWidth,i.slideHeight=i.$slideEl[0].offsetHeight,i.$imageWrapEl.transition(0),e.rtl&&(r.startX=-r.startX,r.startY=-r.startY));var a=r.width*n.scale,s=r.height*n.scale;if(!(a<i.slideWidth&&s<i.slideHeight)){if(r.minX=Math.min(i.slideWidth/2-a/2,0),r.maxX=-r.minX,r.minY=Math.min(i.slideHeight/2-s/2,0),r.maxY=-r.minY,r.touchesCurrent.x="touchmove"===t.type?t.targetTouches[0].pageX:t.pageX,r.touchesCurrent.y="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY,!r.isMoved&&!n.isScaling){if(e.isHorizontal()&&(Math.floor(r.minX)===Math.floor(r.startX)&&r.touchesCurrent.x<r.touchesStart.x||Math.floor(r.maxX)===Math.floor(r.startX)&&r.touchesCurrent.x>r.touchesStart.x))return void(r.isTouched=!1);if(!e.isHorizontal()&&(Math.floor(r.minY)===Math.floor(r.startY)&&r.touchesCurrent.y<r.touchesStart.y||Math.floor(r.maxY)===Math.floor(r.startY)&&r.touchesCurrent.y>r.touchesStart.y))return void(r.isTouched=!1)}t.preventDefault(),t.stopPropagation(),r.isMoved=!0,r.currentX=r.touchesCurrent.x-r.touchesStart.x+r.startX,r.currentY=r.touchesCurrent.y-r.touchesStart.y+r.startY,r.currentX<r.minX&&(r.currentX=r.minX+1-Math.pow(r.minX-r.currentX+1,.8)),r.currentX>r.maxX&&(r.currentX=r.maxX-1+Math.pow(r.currentX-r.maxX+1,.8)),r.currentY<r.minY&&(r.currentY=r.minY+1-Math.pow(r.minY-r.currentY+1,.8)),r.currentY>r.maxY&&(r.currentY=r.maxY-1+Math.pow(r.currentY-r.maxY+1,.8)),o.prevPositionX||(o.prevPositionX=r.touchesCurrent.x),o.prevPositionY||(o.prevPositionY=r.touchesCurrent.y),o.prevTime||(o.prevTime=Date.now()),o.x=(r.touchesCurrent.x-o.prevPositionX)/(Date.now()-o.prevTime)/2,o.y=(r.touchesCurrent.y-o.prevPositionY)/(Date.now()-o.prevTime)/2,Math.abs(r.touchesCurrent.x-o.prevPositionX)<2&&(o.x=0),Math.abs(r.touchesCurrent.y-o.prevPositionY)<2&&(o.y=0),o.prevPositionX=r.touchesCurrent.x,o.prevPositionY=r.touchesCurrent.y,o.prevTime=Date.now(),i.$imageWrapEl.transform("translate3d("+r.currentX+"px, "+r.currentY+"px,0)")}}},onTouchEnd:function(){var t=this,e=t.zoom,n=e.gesture,i=e.image,r=e.velocity;if(n.$imageEl&&0!==n.$imageEl.length){if(!i.isTouched||!i.isMoved)return i.isTouched=!1,void(i.isMoved=!1);i.isTouched=!1,i.isMoved=!1;var o=300,a=300,s=r.x*o,l=i.currentX+s,u=r.y*a,c=i.currentY+u;0!==r.x&&(o=Math.abs((l-i.currentX)/r.x)),0!==r.y&&(a=Math.abs((c-i.currentY)/r.y));var h=Math.max(o,a);i.currentX=l,i.currentY=c;var p=i.width*e.scale,d=i.height*e.scale;i.minX=Math.min(n.slideWidth/2-p/2,0),i.maxX=-i.minX,i.minY=Math.min(n.slideHeight/2-d/2,0),i.maxY=-i.minY,i.currentX=Math.max(Math.min(i.currentX,i.maxX),i.minX),i.currentY=Math.max(Math.min(i.currentY,i.maxY),i.minY),n.$imageWrapEl.transition(h).transform("translate3d("+i.currentX+"px, "+i.currentY+"px,0)")}},onTransitionEnd:function(){var t=this,e=t.zoom,n=e.gesture;n.$slideEl&&t.previousIndex!==t.activeIndex&&(n.$imageEl.transform("translate3d(0,0,0) scale(1)"),n.$imageWrapEl.transform("translate3d(0,0,0)"),n.$slideEl=void 0,n.$imageEl=void 0,n.$imageWrapEl=void 0,e.scale=1,e.currentScale=1)},toggle:function(t){var e=this,n=e.zoom;n.scale&&1!==n.scale?n.out():n.in(t)},in:function(e){var n=this,i=n.zoom,r=n.params.zoom,o=i.gesture,a=i.image;if(o.$slideEl||(o.$slideEl=n.clickedSlide?t(n.clickedSlide):n.slides.eq(n.activeIndex),o.$imageEl=o.$slideEl.find("img, svg, canvas"),o.$imageWrapEl=o.$imageEl.parent("."+r.containerClass)),o.$imageEl&&0!==o.$imageEl.length){o.$slideEl.addClass(""+r.zoomedSlideClass);var s,l,u,c,h,p,d,f,y,m,v,g,x,_,b,w,E,M;"undefined"===typeof a.touchesStart.x&&e?(s="touchend"===e.type?e.changedTouches[0].pageX:e.pageX,l="touchend"===e.type?e.changedTouches[0].pageY:e.pageY):(s=a.touchesStart.x,l=a.touchesStart.y),i.scale=o.$imageWrapEl.attr("data-swiper-zoom")||r.maxRatio,i.currentScale=o.$imageWrapEl.attr("data-swiper-zoom")||r.maxRatio,e?(E=o.$slideEl[0].offsetWidth,M=o.$slideEl[0].offsetHeight,u=o.$slideEl.offset().left,c=o.$slideEl.offset().top,h=u+E/2-s,p=c+M/2-l,y=o.$imageEl[0].offsetWidth,m=o.$imageEl[0].offsetHeight,v=y*i.scale,g=m*i.scale,x=Math.min(E/2-v/2,0),_=Math.min(M/2-g/2,0),b=-x,w=-_,d=h*i.scale,f=p*i.scale,d<x&&(d=x),d>b&&(d=b),f<_&&(f=_),f>w&&(f=w)):(d=0,f=0),o.$imageWrapEl.transition(300).transform("translate3d("+d+"px, "+f+"px,0)"),o.$imageEl.transition(300).transform("translate3d(0,0,0) scale("+i.scale+")")}},out:function(){var e=this,n=e.zoom,i=e.params.zoom,r=n.gesture;r.$slideEl||(r.$slideEl=e.clickedSlide?t(e.clickedSlide):e.slides.eq(e.activeIndex),r.$imageEl=r.$slideEl.find("img, svg, canvas"),r.$imageWrapEl=r.$imageEl.parent("."+i.containerClass)),r.$imageEl&&0!==r.$imageEl.length&&(n.scale=1,n.currentScale=1,r.$imageWrapEl.transition(300).transform("translate3d(0,0,0)"),r.$imageEl.transition(300).transform("translate3d(0,0,0) scale(1)"),r.$slideEl.removeClass(""+i.zoomedSlideClass),r.$slideEl=void 0)},enable:function(){var t=this,e=t.zoom;if(!e.enabled){e.enabled=!0;var n=!("touchstart"!==t.touchEvents.start||!Ft.passiveListener||!t.params.passiveListeners)&&{passive:!0,capture:!1};Ft.gestures?(t.$wrapperEl.on("gesturestart",".swiper-slide",e.onGestureStart,n),t.$wrapperEl.on("gesturechange",".swiper-slide",e.onGestureChange,n),t.$wrapperEl.on("gestureend",".swiper-slide",e.onGestureEnd,n)):"touchstart"===t.touchEvents.start&&(t.$wrapperEl.on(t.touchEvents.start,".swiper-slide",e.onGestureStart,n),t.$wrapperEl.on(t.touchEvents.move,".swiper-slide",e.onGestureChange,n),t.$wrapperEl.on(t.touchEvents.end,".swiper-slide",e.onGestureEnd,n)),t.$wrapperEl.on(t.touchEvents.move,"."+t.params.zoom.containerClass,e.onTouchMove)}},disable:function(){var t=this,e=t.zoom;if(e.enabled){t.zoom.enabled=!1;var n=!("touchstart"!==t.touchEvents.start||!Ft.passiveListener||!t.params.passiveListeners)&&{passive:!0,capture:!1};Ft.gestures?(t.$wrapperEl.off("gesturestart",".swiper-slide",e.onGestureStart,n),t.$wrapperEl.off("gesturechange",".swiper-slide",e.onGestureChange,n),t.$wrapperEl.off("gestureend",".swiper-slide",e.onGestureEnd,n)):"touchstart"===t.touchEvents.start&&(t.$wrapperEl.off(t.touchEvents.start,".swiper-slide",e.onGestureStart,n),t.$wrapperEl.off(t.touchEvents.move,".swiper-slide",e.onGestureChange,n),t.$wrapperEl.off(t.touchEvents.end,".swiper-slide",e.onGestureEnd,n)),t.$wrapperEl.off(t.touchEvents.move,"."+t.params.zoom.containerClass,e.onTouchMove)}}},Ae={name:"zoom",params:{zoom:{enabled:!1,maxRatio:3,minRatio:1,toggle:!0,containerClass:"swiper-zoom-container",zoomedSlideClass:"swiper-slide-zoomed"}},create:function(){var t=this,e={enabled:!1,scale:1,currentScale:1,isScaling:!1,gesture:{$slideEl:void 0,slideWidth:void 0,slideHeight:void 0,$imageEl:void 0,$imageWrapEl:void 0,maxRatio:3},image:{isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},velocity:{x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0}};"onGestureStart onGestureChange onGestureEnd onTouchStart onTouchMove onTouchEnd onTransitionEnd toggle enable disable in out".split(" ").forEach(function(n){e[n]=Se[n].bind(t)}),Nt.extend(t,{zoom:e})},on:{init:function(){var t=this;t.params.zoom.enabled&&t.zoom.enable()},destroy:function(){this.zoom.disable()},touchStart:function(t){var e=this;e.zoom.enabled&&e.zoom.onTouchStart(t)},touchEnd:function(t){var e=this;e.zoom.enabled&&e.zoom.onTouchEnd(t)},doubleTap:function(t){var e=this;e.params.zoom.enabled&&e.zoom.enabled&&e.params.zoom.toggle&&e.zoom.toggle(t)},transitionEnd:function(){var t=this;t.zoom.enabled&&t.params.zoom.enabled&&t.zoom.onTransitionEnd()}}},Ce={loadInSlide:function(e,n){void 0===n&&(n=!0);var i=this,r=i.params.lazy;if("undefined"!==typeof e&&0!==i.slides.length){var o=i.virtual&&i.params.virtual.enabled,a=o?i.$wrapperEl.children("."+i.params.slideClass+'[data-swiper-slide-index="'+e+'"]'):i.slides.eq(e),s=a.find("."+r.elementClass+":not(."+r.loadedClass+"):not(."+r.loadingClass+")");!a.hasClass(r.elementClass)||a.hasClass(r.loadedClass)||a.hasClass(r.loadingClass)||(s=s.add(a[0])),0!==s.length&&s.each(function(e,o){var s=t(o);s.addClass(r.loadingClass);var l=s.attr("data-background"),u=s.attr("data-src"),c=s.attr("data-srcset"),h=s.attr("data-sizes");i.loadImage(s[0],u||l,c,h,!1,function(){if("undefined"!==typeof i&&null!==i&&i&&(!i||i.params)&&!i.destroyed){if(l?(s.css("background-image",'url("'+l+'")'),s.removeAttr("data-background")):(c&&(s.attr("srcset",c),s.removeAttr("data-srcset")),h&&(s.attr("sizes",h),s.removeAttr("data-sizes")),u&&(s.attr("src",u),s.removeAttr("data-src"))),s.addClass(r.loadedClass).removeClass(r.loadingClass),a.find("."+r.preloaderClass).remove(),i.params.loop&&n){var t=a.attr("data-swiper-slide-index");if(a.hasClass(i.params.slideDuplicateClass)){var e=i.$wrapperEl.children('[data-swiper-slide-index="'+t+'"]:not(.'+i.params.slideDuplicateClass+")");i.lazy.loadInSlide(e.index(),!1)}else{var o=i.$wrapperEl.children("."+i.params.slideDuplicateClass+'[data-swiper-slide-index="'+t+'"]');i.lazy.loadInSlide(o.index(),!1)}}i.emit("lazyImageReady",a[0],s[0])}}),i.emit("lazyImageLoad",a[0],s[0])})}},load:function(){function e(t){if(l){if(r.children("."+o.slideClass+'[data-swiper-slide-index="'+t+'"]').length)return!0}else if(a[t])return!0;return!1}function n(e){return l?t(e).attr("data-swiper-slide-index"):t(e).index()}var i=this,r=i.$wrapperEl,o=i.params,a=i.slides,s=i.activeIndex,l=i.virtual&&o.virtual.enabled,u=o.lazy,c=o.slidesPerView;if("auto"===c&&(c=0),i.lazy.initialImageLoaded||(i.lazy.initialImageLoaded=!0),i.params.watchSlidesVisibility)r.children("."+o.slideVisibleClass).each(function(e,n){var r=l?t(n).attr("data-swiper-slide-index"):t(n).index();i.lazy.loadInSlide(r)});else if(c>1)for(var h=s;h<s+c;h+=1)e(h)&&i.lazy.loadInSlide(h);else i.lazy.loadInSlide(s);if(u.loadPrevNext)if(c>1||u.loadPrevNextAmount&&u.loadPrevNextAmount>1){for(var p=u.loadPrevNextAmount,d=c,f=Math.min(s+d+Math.max(p,d),a.length),y=Math.max(s-Math.max(d,p),0),m=s+c;m<f;m+=1)e(m)&&i.lazy.loadInSlide(m);for(var v=y;v<s;v+=1)e(v)&&i.lazy.loadInSlide(v)}else{var g=r.children("."+o.slideNextClass);g.length>0&&i.lazy.loadInSlide(n(g));var x=r.children("."+o.slidePrevClass);x.length>0&&i.lazy.loadInSlide(n(x))}}},Le={name:"lazy",params:{lazy:{enabled:!1,loadPrevNext:!1,loadPrevNextAmount:1,loadOnTransitionStart:!1,elementClass:"swiper-lazy",loadingClass:"swiper-lazy-loading",loadedClass:"swiper-lazy-loaded",preloaderClass:"swiper-lazy-preloader"}},create:function(){var t=this;Nt.extend(t,{lazy:{initialImageLoaded:!1,load:Ce.load.bind(t),loadInSlide:Ce.loadInSlide.bind(t)}})},on:{beforeInit:function(){var t=this;t.params.lazy.enabled&&t.params.preloadImages&&(t.params.preloadImages=!1)},init:function(){var t=this;t.params.lazy.enabled&&!t.params.loop&&0===t.params.initialSlide&&t.lazy.load()},scroll:function(){var t=this;t.params.freeMode&&!t.params.freeModeSticky&&t.lazy.load()},resize:function(){var t=this;t.params.lazy.enabled&&t.lazy.load()},scrollbarDragMove:function(){var t=this;t.params.lazy.enabled&&t.lazy.load()},transitionStart:function(){var t=this;t.params.lazy.enabled&&(t.params.lazy.loadOnTransitionStart||!t.params.lazy.loadOnTransitionStart&&!t.lazy.initialImageLoaded)&&t.lazy.load()},transitionEnd:function(){var t=this;t.params.lazy.enabled&&!t.params.lazy.loadOnTransitionStart&&t.lazy.load()}}},ke={LinearSpline:function(t,e){var n=function(){var t,e,n;return function(i,r){for(e=-1,t=i.length;t-e>1;)n=t+e>>1,i[n]<=r?e=n:t=n;return t}}();this.x=t,this.y=e,this.lastIndex=t.length-1;var i,r;return this.interpolate=function(t){return t?(r=n(this.x,t),i=r-1,(t-this.x[i])*(this.y[r]-this.y[i])/(this.x[r]-this.x[i])+this.y[i]):0},this},getInterpolateFunction:function(t){var e=this;e.controller.spline||(e.controller.spline=e.params.loop?new ke.LinearSpline(e.slidesGrid,t.slidesGrid):new ke.LinearSpline(e.snapGrid,t.snapGrid))},setTranslate:function(t,e){function n(t){var e=o.rtlTranslate?-o.translate:o.translate;"slide"===o.params.controller.by&&(o.controller.getInterpolateFunction(t),r=-o.controller.spline.interpolate(-e)),r&&"container"!==o.params.controller.by||(i=(t.maxTranslate()-t.minTranslate())/(o.maxTranslate()-o.minTranslate()),r=(e-o.minTranslate())*i+t.minTranslate()),o.params.controller.inverse&&(r=t.maxTranslate()-r),t.updateProgress(r),t.setTranslate(r,o),t.updateActiveIndex(),t.updateSlidesClasses()}var i,r,o=this,a=o.controller.control;if(Array.isArray(a))for(var s=0;s<a.length;s+=1)a[s]!==e&&a[s]instanceof oe&&n(a[s]);else a instanceof oe&&e!==a&&n(a)},setTransition:function(t,e){function n(e){e.setTransition(t,r),0!==t&&(e.transitionStart(),e.$wrapperEl.transitionEnd(function(){o&&(e.params.loop&&"slide"===r.params.controller.by&&e.loopFix(),e.transitionEnd())}))}var i,r=this,o=r.controller.control;if(Array.isArray(o))for(i=0;i<o.length;i+=1)o[i]!==e&&o[i]instanceof oe&&n(o[i]);else o instanceof oe&&e!==o&&n(o)}},Pe={name:"controller",params:{controller:{control:void 0,inverse:!1,by:"slide"}},create:function(){var t=this;Nt.extend(t,{controller:{control:t.params.controller.control,getInterpolateFunction:ke.getInterpolateFunction.bind(t),setTranslate:ke.setTranslate.bind(t),setTransition:ke.setTransition.bind(t)}})},on:{update:function(){var t=this;t.controller.control&&t.controller.spline&&(t.controller.spline=void 0,delete t.controller.spline)},resize:function(){var t=this;t.controller.control&&t.controller.spline&&(t.controller.spline=void 0,delete t.controller.spline)},observerUpdate:function(){var t=this;t.controller.control&&t.controller.spline&&(t.controller.spline=void 0,delete t.controller.spline)},setTranslate:function(t,e){var n=this;n.controller.control&&n.controller.setTranslate(t,e)},setTransition:function(t,e){var n=this;n.controller.control&&n.controller.setTransition(t,e)}}},Ie={makeElFocusable:function(t){return t.attr("tabIndex","0"),t},addElRole:function(t,e){return t.attr("role",e),t},addElLabel:function(t,e){return t.attr("aria-label",e),t},disableEl:function(t){return t.attr("aria-disabled",!0),t},enableEl:function(t){return t.attr("aria-disabled",!1),t},onEnterKey:function(e){var n=this,i=n.params.a11y;if(13===e.keyCode){var r=t(e.target);n.navigation&&n.navigation.$nextEl&&r.is(n.navigation.$nextEl)&&(n.isEnd&&!n.params.loop||n.slideNext(),n.isEnd?n.a11y.notify(i.lastSlideMessage):n.a11y.notify(i.nextSlideMessage)),n.navigation&&n.navigation.$prevEl&&r.is(n.navigation.$prevEl)&&(n.isBeginning&&!n.params.loop||n.slidePrev(),n.isBeginning?n.a11y.notify(i.firstSlideMessage):n.a11y.notify(i.prevSlideMessage)),n.pagination&&r.is("."+n.params.pagination.bulletClass)&&r[0].click()}},notify:function(t){var e=this,n=e.a11y.liveRegion;0!==n.length&&(n.html(""),n.html(t))},updateNavigation:function(){var t=this;if(!t.params.loop){var e=t.navigation,n=e.$nextEl,i=e.$prevEl;i&&i.length>0&&(t.isBeginning?t.a11y.disableEl(i):t.a11y.enableEl(i)),n&&n.length>0&&(t.isEnd?t.a11y.disableEl(n):t.a11y.enableEl(n))}},updatePagination:function(){var e=this,n=e.params.a11y;e.pagination&&e.params.pagination.clickable&&e.pagination.bullets&&e.pagination.bullets.length&&e.pagination.bullets.each(function(i,r){var o=t(r);e.a11y.makeElFocusable(o),e.a11y.addElRole(o,"button"),e.a11y.addElLabel(o,n.paginationBulletMessage.replace(/{{index}}/,o.index()+1))})},init:function(){var t=this;t.$el.append(t.a11y.liveRegion);var e,n,i=t.params.a11y;t.navigation&&t.navigation.$nextEl&&(e=t.navigation.$nextEl),t.navigation&&t.navigation.$prevEl&&(n=t.navigation.$prevEl),e&&(t.a11y.makeElFocusable(e),t.a11y.addElRole(e,"button"),t.a11y.addElLabel(e,i.nextSlideMessage),e.on("keydown",t.a11y.onEnterKey)),n&&(t.a11y.makeElFocusable(n),t.a11y.addElRole(n,"button"),t.a11y.addElLabel(n,i.prevSlideMessage),n.on("keydown",t.a11y.onEnterKey)),t.pagination&&t.params.pagination.clickable&&t.pagination.bullets&&t.pagination.bullets.length&&t.pagination.$el.on("keydown","."+t.params.pagination.bulletClass,t.a11y.onEnterKey)},destroy:function(){var t=this;t.a11y.liveRegion&&t.a11y.liveRegion.length>0&&t.a11y.liveRegion.remove();var e,n;t.navigation&&t.navigation.$nextEl&&(e=t.navigation.$nextEl),t.navigation&&t.navigation.$prevEl&&(n=t.navigation.$prevEl),e&&e.off("keydown",t.a11y.onEnterKey),n&&n.off("keydown",t.a11y.onEnterKey),t.pagination&&t.params.pagination.clickable&&t.pagination.bullets&&t.pagination.bullets.length&&t.pagination.$el.off("keydown","."+t.params.pagination.bulletClass,t.a11y.onEnterKey)}},Re={name:"a11y",params:{a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}"}},create:function(){var e=this;Nt.extend(e,{a11y:{liveRegion:t('<span class="'+e.params.a11y.notificationClass+'" aria-live="assertive" aria-atomic="true"></span>')}}),Object.keys(Ie).forEach(function(t){e.a11y[t]=Ie[t].bind(e)})},on:{init:function(){var t=this;t.params.a11y.enabled&&(t.a11y.init(),t.a11y.updateNavigation())},toEdge:function(){var t=this;t.params.a11y.enabled&&t.a11y.updateNavigation()},fromEdge:function(){var t=this;t.params.a11y.enabled&&t.a11y.updateNavigation()},paginationUpdate:function(){var t=this;t.params.a11y.enabled&&t.a11y.updatePagination()},destroy:function(){var t=this;t.params.a11y.enabled&&t.a11y.destroy()}}},ze={init:function(){var t=this;if(t.params.history){if(!Ot.history||!Ot.history.pushState)return t.params.history.enabled=!1,void(t.params.hashNavigation.enabled=!0);var e=t.history;e.initialized=!0,e.paths=ze.getPathValues(),(e.paths.key||e.paths.value)&&(e.scrollToSlide(0,e.paths.value,t.params.runCallbacksOnInit),t.params.history.replaceState||Ot.addEventListener("popstate",t.history.setHistoryPopState))}},destroy:function(){var t=this;t.params.history.replaceState||Ot.removeEventListener("popstate",t.history.setHistoryPopState)},setHistoryPopState:function(){var t=this;t.history.paths=ze.getPathValues(),t.history.scrollToSlide(t.params.speed,t.history.paths.value,!1)},getPathValues:function(){var t=Ot.location.pathname.slice(1).split("/").filter(function(t){return""!==t}),e=t.length;return{key:t[e-2],value:t[e-1]}},setHistory:function(t,e){var n=this;if(n.history.initialized&&n.params.history.enabled){var i=n.slides.eq(e),r=ze.slugify(i.attr("data-history"));Ot.location.pathname.includes(t)||(r=t+"/"+r);var o=Ot.history.state;o&&o.value===r||(n.params.history.replaceState?Ot.history.replaceState({value:r},null,r):Ot.history.pushState({value:r},null,r))}},slugify:function(t){return t.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},scrollToSlide:function(t,e,n){var i=this;if(e)for(var r=0,o=i.slides.length;r<o;r+=1){var a=i.slides.eq(r),s=ze.slugify(a.attr("data-history"));if(s===e&&!a.hasClass(i.params.slideDuplicateClass)){var l=a.index();i.slideTo(l,t,n)}}else i.slideTo(0,t,n)}},Oe={name:"history",params:{history:{enabled:!1,replaceState:!1,key:"slides"}},create:function(){var t=this;Nt.extend(t,{history:{init:ze.init.bind(t),setHistory:ze.setHistory.bind(t),setHistoryPopState:ze.setHistoryPopState.bind(t),scrollToSlide:ze.scrollToSlide.bind(t),destroy:ze.destroy.bind(t)}})},on:{init:function(){var t=this;t.params.history.enabled&&t.history.init()},destroy:function(){var t=this;t.params.history.enabled&&t.history.destroy()},transitionEnd:function(){var t=this;t.history.initialized&&t.history.setHistory(t.params.history.key,t.activeIndex)}}},De={onHashCange:function(){var t=this,e=zt.location.hash.replace("#","");e!==t.slides.eq(t.activeIndex).attr("data-hash")&&t.slideTo(t.$wrapperEl.children("."+t.params.slideClass+'[data-hash="'+e+'"]').index())},setHash:function(){var t=this;if(t.hashNavigation.initialized&&t.params.hashNavigation.enabled)if(t.params.hashNavigation.replaceState&&Ot.history&&Ot.history.replaceState)Ot.history.replaceState(null,null,"#"+t.slides.eq(t.activeIndex).attr("data-hash")||"");else{var e=t.slides.eq(t.activeIndex),n=e.attr("data-hash")||e.attr("data-history");zt.location.hash=n||""}},init:function(){var e=this;if(!(!e.params.hashNavigation.enabled||e.params.history&&e.params.history.enabled)){e.hashNavigation.initialized=!0;var n=zt.location.hash.replace("#","");if(n)for(var i=0,r=e.slides.length;i<r;i+=1){var o=e.slides.eq(i),a=o.attr("data-hash")||o.attr("data-history");if(a===n&&!o.hasClass(e.params.slideDuplicateClass)){var s=o.index();e.slideTo(s,0,e.params.runCallbacksOnInit,!0)}}e.params.hashNavigation.watchState&&t(Ot).on("hashchange",e.hashNavigation.onHashCange)}},destroy:function(){var e=this;e.params.hashNavigation.watchState&&t(Ot).off("hashchange",e.hashNavigation.onHashCange)}},Be={name:"hash-navigation",params:{hashNavigation:{enabled:!1,replaceState:!1,watchState:!1}},create:function(){var t=this;Nt.extend(t,{hashNavigation:{initialized:!1,init:De.init.bind(t),destroy:De.destroy.bind(t),setHash:De.setHash.bind(t),onHashCange:De.onHashCange.bind(t)}})},on:{init:function(){var t=this;t.params.hashNavigation.enabled&&t.hashNavigation.init()},destroy:function(){var t=this;t.params.hashNavigation.enabled&&t.hashNavigation.destroy()},transitionEnd:function(){var t=this;t.hashNavigation.initialized&&t.hashNavigation.setHash()}}},Ne={run:function(){var t=this,e=t.slides.eq(t.activeIndex),n=t.params.autoplay.delay;e.attr("data-swiper-autoplay")&&(n=e.attr("data-swiper-autoplay")||t.params.autoplay.delay),t.autoplay.timeout=Nt.nextTick(function(){t.params.autoplay.reverseDirection?t.params.loop?(t.loopFix(),t.slidePrev(t.params.speed,!0,!0),t.emit("autoplay")):t.isBeginning?t.params.autoplay.stopOnLastSlide?t.autoplay.stop():(t.slideTo(t.slides.length-1,t.params.speed,!0,!0),t.emit("autoplay")):(t.slidePrev(t.params.speed,!0,!0),t.emit("autoplay")):t.params.loop?(t.loopFix(),t.slideNext(t.params.speed,!0,!0),t.emit("autoplay")):t.isEnd?t.params.autoplay.stopOnLastSlide?t.autoplay.stop():(t.slideTo(0,t.params.speed,!0,!0),t.emit("autoplay")):(t.slideNext(t.params.speed,!0,!0),t.emit("autoplay"))},n)},start:function(){var t=this;return"undefined"===typeof t.autoplay.timeout&&(!t.autoplay.running&&(t.autoplay.running=!0,t.emit("autoplayStart"),t.autoplay.run(),!0))},stop:function(){var t=this;return!!t.autoplay.running&&("undefined"!==typeof t.autoplay.timeout&&(t.autoplay.timeout&&(clearTimeout(t.autoplay.timeout),t.autoplay.timeout=void 0),t.autoplay.running=!1,t.emit("autoplayStop"),!0))},pause:function(t){var e=this;e.autoplay.running&&(e.autoplay.paused||(e.autoplay.timeout&&clearTimeout(e.autoplay.timeout),e.autoplay.paused=!0,0!==t&&e.params.autoplay.waitForTransition?e.$wrapperEl.transitionEnd(function(){e&&!e.destroyed&&(e.autoplay.paused=!1,e.autoplay.running?e.autoplay.run():e.autoplay.stop())}):(e.autoplay.paused=!1,e.autoplay.run())))}},Fe={name:"autoplay",params:{autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1}},create:function(){var t=this;Nt.extend(t,{autoplay:{running:!1,paused:!1,run:Ne.run.bind(t),start:Ne.start.bind(t),stop:Ne.stop.bind(t),pause:Ne.pause.bind(t)}})},on:{init:function(){var t=this;t.params.autoplay.enabled&&t.autoplay.start()},beforeTransitionStart:function(t,e){var n=this;n.autoplay.running&&(e||!n.params.autoplay.disableOnInteraction?n.autoplay.pause(t):n.autoplay.stop())},sliderFirstMove:function(){var t=this;t.autoplay.running&&(t.params.autoplay.disableOnInteraction?t.autoplay.stop():t.autoplay.pause())},destroy:function(){var t=this;t.autoplay.running&&t.autoplay.stop()}}},Ue={setTranslate:function(){for(var t=this,e=t.slides,n=0;n<e.length;n+=1){var i=t.slides.eq(n),r=i[0].swiperSlideOffset,o=-r;t.params.virtualTranslate||(o-=t.translate);var a=0;t.isHorizontal()||(a=o,o=0);var s=t.params.fadeEffect.crossFade?Math.max(1-Math.abs(i[0].progress),0):1+Math.min(Math.max(i[0].progress,-1),0);i.css({opacity:s}).transform("translate3d("+o+"px, "+a+"px, 0px)")}},setTransition:function(t){var e=this,n=e.slides,i=e.$wrapperEl;if(n.transition(t),e.params.virtualTranslate&&0!==t){var r=!1;n.transitionEnd(function(){if(!r&&e&&!e.destroyed){r=!0,e.animating=!1;for(var t=["webkitTransitionEnd","transitionend"],n=0;n<t.length;n+=1)i.trigger(t[n])}})}}},je={name:"effect-fade",params:{fadeEffect:{crossFade:!1}},create:function(){var t=this;Nt.extend(t,{fadeEffect:{setTranslate:Ue.setTranslate.bind(t),setTransition:Ue.setTransition.bind(t)}})},on:{beforeInit:function(){var t=this;if("fade"===t.params.effect){t.classNames.push(t.params.containerModifierClass+"fade");var e={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!0};Nt.extend(t.params,e),Nt.extend(t.originalParams,e)}},setTranslate:function(){var t=this;"fade"===t.params.effect&&t.fadeEffect.setTranslate()},setTransition:function(t){var e=this;"fade"===e.params.effect&&e.fadeEffect.setTransition(t)}}},Ve={setTranslate:function(){var e,n=this,i=n.$el,r=n.$wrapperEl,o=n.slides,a=n.width,s=n.height,l=n.rtlTranslate,u=n.size,c=n.params.cubeEffect,h=n.isHorizontal(),p=n.virtual&&n.params.virtual.enabled,d=0;c.shadow&&(h?(e=r.find(".swiper-cube-shadow"),0===e.length&&(e=t('<div class="swiper-cube-shadow"></div>'),r.append(e)),e.css({height:a+"px"})):(e=i.find(".swiper-cube-shadow"),0===e.length&&(e=t('<div class="swiper-cube-shadow"></div>'),i.append(e))));for(var f=0;f<o.length;f+=1){var y=o.eq(f),m=f;p&&(m=parseInt(y.attr("data-swiper-slide-index"),10));var v=90*m,g=Math.floor(v/360);l&&(v=-v,g=Math.floor(-v/360));var x=Math.max(Math.min(y[0].progress,1),-1),_=0,b=0,w=0;m%4===0?(_=4*-g*u,w=0):(m-1)%4===0?(_=0,w=4*-g*u):(m-2)%4===0?(_=u+4*g*u,w=u):(m-3)%4===0&&(_=-u,w=3*u+4*u*g),l&&(_=-_),h||(b=_,_=0);var E="rotateX("+(h?0:-v)+"deg) rotateY("+(h?v:0)+"deg) translate3d("+_+"px, "+b+"px, "+w+"px)";if(x<=1&&x>-1&&(d=90*m+90*x,l&&(d=90*-m-90*x)),y.transform(E),c.slideShadows){var M=h?y.find(".swiper-slide-shadow-left"):y.find(".swiper-slide-shadow-top"),T=h?y.find(".swiper-slide-shadow-right"):y.find(".swiper-slide-shadow-bottom");0===M.length&&(M=t('<div class="swiper-slide-shadow-'+(h?"left":"top")+'"></div>'),y.append(M)),0===T.length&&(T=t('<div class="swiper-slide-shadow-'+(h?"right":"bottom")+'"></div>'),y.append(T)),M.length&&(M[0].style.opacity=Math.max(-x,0)),T.length&&(T[0].style.opacity=Math.max(x,0))}}if(r.css({"-webkit-transform-origin":"50% 50% -"+u/2+"px","-moz-transform-origin":"50% 50% -"+u/2+"px","-ms-transform-origin":"50% 50% -"+u/2+"px","transform-origin":"50% 50% -"+u/2+"px"}),c.shadow)if(h)e.transform("translate3d(0px, "+(a/2+c.shadowOffset)+"px, "+-a/2+"px) rotateX(90deg) rotateZ(0deg) scale("+c.shadowScale+")");else{var S=Math.abs(d)-90*Math.floor(Math.abs(d)/90),A=1.5-(Math.sin(2*S*Math.PI/360)/2+Math.cos(2*S*Math.PI/360)/2),C=c.shadowScale,L=c.shadowScale/A,k=c.shadowOffset;e.transform("scale3d("+C+", 1, "+L+") translate3d(0px, "+(s/2+k)+"px, "+-s/2/L+"px) rotateX(-90deg)")}var P=Kt.isSafari||Kt.isUiWebView?-u/2:0;r.transform("translate3d(0px,0,"+P+"px) rotateX("+(n.isHorizontal()?0:d)+"deg) rotateY("+(n.isHorizontal()?-d:0)+"deg)")},setTransition:function(t){var e=this,n=e.$el;e.slides.transition(t).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(t),e.params.cubeEffect.shadow&&!e.isHorizontal()&&n.find(".swiper-cube-shadow").transition(t)}},Ge={name:"effect-cube",params:{cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94}},create:function(){var t=this;Nt.extend(t,{cubeEffect:{setTranslate:Ve.setTranslate.bind(t),setTransition:Ve.setTransition.bind(t)}})},on:{beforeInit:function(){var t=this;if("cube"===t.params.effect){t.classNames.push(t.params.containerModifierClass+"cube"),t.classNames.push(t.params.containerModifierClass+"3d");var e={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0};Nt.extend(t.params,e),Nt.extend(t.originalParams,e)}},setTranslate:function(){var t=this;"cube"===t.params.effect&&t.cubeEffect.setTranslate()},setTransition:function(t){var e=this;"cube"===e.params.effect&&e.cubeEffect.setTransition(t)}}},He={setTranslate:function(){for(var e=this,n=e.slides,i=e.rtlTranslate,r=0;r<n.length;r+=1){var o=n.eq(r),a=o[0].progress;e.params.flipEffect.limitRotation&&(a=Math.max(Math.min(o[0].progress,1),-1));var s=o[0].swiperSlideOffset,l=-180*a,u=l,c=0,h=-s,p=0;if(e.isHorizontal()?i&&(u=-u):(p=h,h=0,c=-u,u=0),o[0].style.zIndex=-Math.abs(Math.round(a))+n.length,e.params.flipEffect.slideShadows){var d=e.isHorizontal()?o.find(".swiper-slide-shadow-left"):o.find(".swiper-slide-shadow-top"),f=e.isHorizontal()?o.find(".swiper-slide-shadow-right"):o.find(".swiper-slide-shadow-bottom");0===d.length&&(d=t('<div class="swiper-slide-shadow-'+(e.isHorizontal()?"left":"top")+'"></div>'),o.append(d)),0===f.length&&(f=t('<div class="swiper-slide-shadow-'+(e.isHorizontal()?"right":"bottom")+'"></div>'),o.append(f)),d.length&&(d[0].style.opacity=Math.max(-a,0)),f.length&&(f[0].style.opacity=Math.max(a,0))}o.transform("translate3d("+h+"px, "+p+"px, 0px) rotateX("+c+"deg) rotateY("+u+"deg)")}},setTransition:function(t){var e=this,n=e.slides,i=e.activeIndex,r=e.$wrapperEl;if(n.transition(t).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(t),e.params.virtualTranslate&&0!==t){var o=!1;n.eq(i).transitionEnd(function(){if(!o&&e&&!e.destroyed){o=!0,e.animating=!1;for(var t=["webkitTransitionEnd","transitionend"],n=0;n<t.length;n+=1)r.trigger(t[n])}})}}},We={name:"effect-flip",params:{flipEffect:{slideShadows:!0,limitRotation:!0}},create:function(){var t=this;Nt.extend(t,{flipEffect:{setTranslate:He.setTranslate.bind(t),setTransition:He.setTransition.bind(t)}})},on:{beforeInit:function(){var t=this;if("flip"===t.params.effect){t.classNames.push(t.params.containerModifierClass+"flip"),t.classNames.push(t.params.containerModifierClass+"3d");var e={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!0};Nt.extend(t.params,e),Nt.extend(t.originalParams,e)}},setTranslate:function(){var t=this;"flip"===t.params.effect&&t.flipEffect.setTranslate()},setTransition:function(t){var e=this;"flip"===e.params.effect&&e.flipEffect.setTransition(t)}}},qe={setTranslate:function(){for(var e=this,n=e.width,i=e.height,r=e.slides,o=e.$wrapperEl,a=e.slidesSizesGrid,s=e.params.coverflowEffect,l=e.isHorizontal(),u=e.translate,c=l?n/2-u:i/2-u,h=l?s.rotate:-s.rotate,p=s.depth,d=0,f=r.length;d<f;d+=1){var y=r.eq(d),m=a[d],v=y[0].swiperSlideOffset,g=(c-v-m/2)/m*s.modifier,x=l?h*g:0,_=l?0:h*g,b=-p*Math.abs(g),w=l?0:s.stretch*g,E=l?s.stretch*g:0;Math.abs(E)<.001&&(E=0),Math.abs(w)<.001&&(w=0),Math.abs(b)<.001&&(b=0),Math.abs(x)<.001&&(x=0),Math.abs(_)<.001&&(_=0);var M="translate3d("+E+"px,"+w+"px,"+b+"px)  rotateX("+_+"deg) rotateY("+x+"deg)";if(y.transform(M),y[0].style.zIndex=1-Math.abs(Math.round(g)),s.slideShadows){var T=l?y.find(".swiper-slide-shadow-left"):y.find(".swiper-slide-shadow-top"),S=l?y.find(".swiper-slide-shadow-right"):y.find(".swiper-slide-shadow-bottom");0===T.length&&(T=t('<div class="swiper-slide-shadow-'+(l?"left":"top")+'"></div>'),y.append(T)),0===S.length&&(S=t('<div class="swiper-slide-shadow-'+(l?"right":"bottom")+'"></div>'),y.append(S)),T.length&&(T[0].style.opacity=g>0?g:0),S.length&&(S[0].style.opacity=-g>0?-g:0)}}if(Ft.pointerEvents||Ft.prefixedPointerEvents){o[0].style.perspectiveOrigin=c+"px 50%"}},setTransition:function(t){this.slides.transition(t).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(t)}},Ye={name:"effect-coverflow",params:{coverflowEffect:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0}},create:function(){var t=this;Nt.extend(t,{coverflowEffect:{setTranslate:qe.setTranslate.bind(t),setTransition:qe.setTransition.bind(t)}})},on:{beforeInit:function(){var t=this;"coverflow"===t.params.effect&&(t.classNames.push(t.params.containerModifierClass+"coverflow"),t.classNames.push(t.params.containerModifierClass+"3d"),t.params.watchSlidesProgress=!0,t.originalParams.watchSlidesProgress=!0)},setTranslate:function(){var t=this;"coverflow"===t.params.effect&&t.coverflowEffect.setTranslate()},setTransition:function(t){var e=this;"coverflow"===e.params.effect&&e.coverflowEffect.setTransition(t)}}},Xe=[ae,se,le,ue,he,de,ye,ve,xe,be,Ee,Te,Ae,Le,Pe,Re,Oe,Be,Fe,je,Ge,We,Ye];return"undefined"===typeof oe.use&&(oe.use=oe.Class.use,oe.installModule=oe.Class.installModule),oe.use(Xe),oe})},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"===typeof window&&(n=window)}t.exports=n},function(t,e,n){(function(e){!function(e,n){t.exports=n()}(0,function(){"use strict";function t(t,e){return function(n){var i=arguments.length;return i?i>1?t.apply(e,arguments):t.call(e,n):t.call(e)}}function n(t,e){return Yn.call(t,e)}function i(t){return t in Xn||(Xn[t]=t.replace($n,"$1-$2").toLowerCase()),Xn[t]}function r(t){return t.replace(Zn,o)}function o(t,e){return e?e.toUpperCase():""}function a(t){return t.length?o(null,t.charAt(0))+t.slice(1):""}function s(t,e){return Kn.call(t,e)}function l(t,e){return Qn.call(t,e)}function u(t,e){return t&&(x(t)?ei:ni).call(t,e)}function c(t){return"function"===typeof t}function h(t){return null!==t&&"object"===typeof t}function p(t){return h(t)&&Object.getPrototypeOf(t)===qn}function d(t){return h(t)&&t===t.window}function f(t){return h(t)&&9===t.nodeType}function y(t){return h(t)&&!!t.jquery}function m(t){return t instanceof Node||h(t)&&1===t.nodeType}function v(t){return ri.call(t).match(/^\[object (NodeList|HTMLCollection)\]$/)}function g(t){return"boolean"===typeof t}function x(t){return"string"===typeof t}function _(t){return"number"===typeof t}function b(t){return _(t)||x(t)&&!isNaN(t-parseFloat(t))}function w(t){return void 0===t}function E(t){return g(t)?t:"true"===t||"1"===t||""===t||"false"!==t&&"0"!==t&&t}function M(t){var e=Number(t);return!isNaN(e)&&e}function T(t){return parseFloat(t)||0}function S(t){return m(t)||d(t)||f(t)?t:v(t)||y(t)?t[0]:ii(t)?S(t[0]):null}function A(t){return m(t)?[t]:v(t)?oi.slice.call(t):ii(t)?t.map(S).filter(Boolean):y(t)?t.toArray():[]}function C(t){return ii(t)?t:x(t)?t.split(/,(?![^(]*\))/).map(function(t){return b(t)?M(t):E(t.trim())}):[t]}function L(t){return t?l(t,"ms")?T(t):1e3*T(t):0}function k(t,e,n){return t.replace(new RegExp(e+"|"+n,"mg"),function(t){return t===e?n:e})}function P(t,e){for(var n in t)e.call(t[n],t[n],n)}function I(t,e){return t.sort(function(t,n){return t[e]>n[e]?1:n[e]>t[e]?-1:0})}function R(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=1),Math.min(Math.max(t,e),n)}function z(){}function O(t,e){return t.left<e.right&&t.right>e.left&&t.top<e.bottom&&t.bottom>e.top}function D(t,e){return t.x<=e.right&&t.x>=e.left&&t.y<=e.bottom&&t.y>=e.top}function B(t,e,n){if(h(e))for(var i in e)B(t,i,e[i]);else{if(w(n))return(t=S(t))&&t.getAttribute(e);A(t).forEach(function(t){c(n)&&(n=n.call(t,B(t,e))),null===n?F(t,e):t.setAttribute(e,n)})}}function N(t,e){return A(t).some(function(t){return t.hasAttribute(e)})}function F(t,e){t=A(t),e.split(" ").forEach(function(e){return t.forEach(function(t){return t.removeAttribute(e)})})}function U(t,e,n,i){B(t,e,function(t){return t?t.replace(n,i):t})}function j(t,e){for(var n=0,i=[e,"data-"+e];n<i.length;n++)if(N(t,i[n]))return B(t,i[n])}function V(t,e){return S(t)||H(t,Y(t)?e:document)}function G(t,e){var n=A(t);return n.length&&n||W(t,Y(t)?e:document)}function H(t,e){return S(q(t,e,"querySelector"))}function W(t,e){return A(q(t,e,"querySelectorAll"))}function q(t,e,n){if(void 0===e&&(e=document),!t||!x(t))return null;t=t.replace(ui,"$1 *");var i;Y(t)&&(i=[],t=t.split(",").map(function(t,n){var r=e;if(t=t.trim(),"!"===t[0]){var o=t.substr(1).trim().split(" ");r=$(e.parentNode,o[0]),t=o.slice(1).join(" ").trim()}if("-"===t[0]){var a=t.substr(1).trim().split(" "),s=(r||e).previousElementSibling;r=X(s,t.substr(1))?s:null,t=a.slice(1).join(" ")}return r?(r.id||(r.id="uk-"+Date.now()+n,i.push(function(){return F(r,"id")})),"#"+J(r.id)+" "+t):null}).filter(Boolean).join(","),e=document);try{return e[n](t)}catch(t){return null}finally{i&&i.forEach(function(t){return t()})}}function Y(t){return x(t)&&t.match(li)}function X(t,e){return A(t).some(function(t){return hi.call(t,e)})}function $(t,e){return s(e,">")&&(e=e.slice(1)),m(t)?t.parentNode&&pi.call(t,e):A(t).map(function(t){return t.parentNode&&pi.call(t,e)}).filter(Boolean)}function Z(t,e){for(var n=[],i=S(t).parentNode;i&&1===i.nodeType;)X(i,e)&&n.push(i),i=i.parentNode;return n}function J(t){return x(t)?di.call(null,t):""}function K(t){return A(t).some(function(t){return fi[t.tagName.toLowerCase()]})}function Q(t){return A(t).some(function(t){return t.offsetWidth||t.offsetHeight||t.getClientRects().length})}function tt(t){return A(t).some(function(t){return X(t,yi)})}function et(t,e){return A(t).filter(function(t){return X(t,e)})}function nt(t,e){return x(e)?X(t,e)||$(t,e):t===e||(f(e)?e.documentElement:S(e)).contains(S(t))}function it(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=lt(t),i=n[0],r=n[1],o=n[2],a=n[3],s=n[4];return i=dt(i),o&&(a=ut(i,o,a)),a.length>1&&(a=ct(a)),r.split(" ").forEach(function(t){return i.forEach(function(e){return e.addEventListener(t,a,s)})}),function(){return rt(i,r,a,s)}}function rt(t,e,n,i){void 0===i&&(i=!1),t=dt(t),e.split(" ").forEach(function(e){return t.forEach(function(t){return t.removeEventListener(e,n,i)})})}function ot(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=lt(t),i=n[0],r=n[1],o=n[2],a=n[3],s=n[4],l=n[5],u=it(i,r,o,function(t){var e=!l||l(t);e&&(u(),a(t,e))},s);return u}function at(t,e,n){return dt(t).reduce(function(t,i){return t&&i.dispatchEvent(st(e,!0,!0,n))},!0)}function st(t,e,n,i){if(void 0===e&&(e=!0),void 0===n&&(n=!1),x(t)){var r=document.createEvent("CustomEvent");r.initCustomEvent(t,e,n,i),t=r}return t}function lt(t){return c(t[2])&&t.splice(2,0,!1),t}function ut(t,e,n){var i=this;return function(r){t.forEach(function(t){var o=">"===e[0]?W(e,t).reverse().filter(function(t){return nt(r.target,t)})[0]:$(r.target,e);o&&(r.delegate=t,r.current=o,n.call(i,r))})}}function ct(t){return function(e){return ii(e.detail)?t.apply(void 0,[e].concat(e.detail)):t(e)}}function ht(t){return"EventTarget"in window?t instanceof EventTarget:t&&"addEventListener"in t}function pt(t){return ht(t)?t:S(t)}function dt(t){return ii(t)?t.map(pt).filter(Boolean):x(t)?W(t):ht(t)?[t]:A(t)}function ft(){var t=setTimeout(ot(document,"click",function(e){e.preventDefault(),e.stopImmediatePropagation(),clearTimeout(t)},!0));at(document,"touchcancel")}function yt(t){this.state=gi,this.value=void 0,this.deferred=[];var e=this;try{t(function(t){e.resolve(t)},function(t){e.reject(t)})}catch(t){e.reject(t)}}function mt(t,e){return new mi(function(n,i){var r=ai({data:null,method:"GET",headers:{},xhr:new XMLHttpRequest,beforeSend:z,responseType:""},e);r.beforeSend(r);var o=r.xhr;for(var a in r)if(a in o)try{o[a]=r[a]}catch(t){}o.open(r.method.toUpperCase(),t);for(var s in r.headers)o.setRequestHeader(s,r.headers[s]);it(o,"load",function(){0===o.status||o.status>=200&&o.status<300||304===o.status?n(o):i(ai(Error(o.statusText),{xhr:o,status:o.status}))}),it(o,"error",function(){return i(ai(Error("Network Error"),{xhr:o}))}),it(o,"timeout",function(){return i(ai(Error("Network Timeout"),{xhr:o}))}),o.send(r.data)})}function vt(t,e,n){return new mi(function(i,r){var o=new Image;o.onerror=r,o.onload=function(){return i(o)},o.src=t,e&&(o.srcset=e),n&&(o.sizes=n)})}function gt(){return"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll}function xt(t){if(gt())return void t();var e=function(){n(),i(),t()},n=it(document,"DOMContentLoaded",e),i=it(window,"load",e)}function _t(t,e){return e?A(t).indexOf(S(e)):A((t=S(t))&&t.parentNode.children).indexOf(t)}function bt(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=!1),e=A(e);var r=e.length;return t=b(t)?M(t):"next"===t?n+1:"previous"===t?n-1:_t(e,t),i?R(t,0,r-1):(t%=r,t<0?t+r:t)}function wt(t){return t=S(t),t.innerHTML="",t}function Et(t,e){return t=S(t),w(e)?t.innerHTML:Tt(t.hasChildNodes()?wt(t):t,e)}function Mt(t,e){return t=S(t),t.hasChildNodes()?Ct(e,function(e){return t.insertBefore(e,t.firstChild)}):Tt(t,e)}function Tt(t,e){return t=S(t),Ct(e,function(e){return t.appendChild(e)})}function St(t,e){return t=S(t),Ct(e,function(e){return t.parentNode.insertBefore(e,t)})}function At(t,e){return t=S(t),Ct(e,function(e){return t.nextSibling?St(t.nextSibling,e):Tt(t.parentNode,e)})}function Ct(t,e){return t=x(t)?Rt(t):t,t?"length"in t?A(t).map(e):e(t):null}function Lt(t){A(t).map(function(t){return t.parentNode&&t.parentNode.removeChild(t)})}function kt(t,e){for(e=S(St(t,e));e.firstChild;)e=e.firstChild;return Tt(e,t),e}function Pt(t,e){return A(A(t).map(function(t){return t.hasChildNodes?kt(A(t.childNodes),e):Tt(t,e)}))}function It(t){A(t).map(function(t){return t.parentNode}).filter(function(t,e,n){return n.indexOf(t)===e}).forEach(function(t){St(t,t.childNodes),Lt(t)})}function Rt(t){var e=wi.exec(t);if(e)return document.createElement(e[1]);var n=document.createElement("div");return bi.test(t)?n.insertAdjacentHTML("beforeend",t.trim()):n.textContent=t,n.childNodes.length>1?A(n.childNodes):n.firstChild}function zt(t,e){if(t&&1===t.nodeType)for(e(t),t=t.firstElementChild;t;)zt(t,e),t=t.nextElementSibling}function Ot(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];jt(t,e,"add")}function Dt(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];jt(t,e,"remove")}function Bt(t,e){U(t,"class",new RegExp("(^|\\s)"+e+"(?!\\S)","g"),"")}function Nt(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];e[0]&&Dt(t,e[0]),e[1]&&Ot(t,e[1])}function Ft(t,e){return A(t).some(function(t){return t.classList.contains(e)})}function Ut(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];if(e.length){e=Vt(e);var i=x(e[e.length-1])?[]:e.pop();e=e.filter(Boolean),A(t).forEach(function(t){for(var n=t.classList,r=0;r<e.length;r++)Ei.Force?n.toggle.apply(n,[e[r]].concat(i)):n[(w(i)?!n.contains(e[r]):i)?"add":"remove"](e[r])})}}function jt(t,e,n){e=Vt(e).filter(Boolean),e.length&&A(t).forEach(function(t){var i=t.classList;Ei.Multiple?i[n].apply(i,e):e.forEach(function(t){return i[n](t)})})}function Vt(t){return t.reduce(function(t,e){return t.concat.call(t,x(e)&&u(e," ")?e.trim().split(" "):e)},[])}function Gt(t,e,n){return A(t).map(function(t){if(x(e)){if(e=Yt(e),w(n))return Wt(t,e);n||0===n?t.style[e]=b(n)&&!Mi[e]?n+"px":n:t.style.removeProperty(e)}else{if(ii(e)){var i=Ht(t);return e.reduce(function(t,e){return t[e]=i[Yt(e)],t},{})}h(e)&&P(e,function(e,n){return Gt(t,n,e)})}return t})[0]}function Ht(t,e){return t=S(t),t.ownerDocument.defaultView.getComputedStyle(t,e)}function Wt(t,e,n){return Ht(t,n)[e]}function qt(t){if(!(t in Ti)){var e=Tt(document.documentElement,document.createElement("div"));Ot(e,"var-"+t);try{Ti[t]=Wt(e,"content",":before").replace(/^["'](.*)["']$/,"$1"),Ti[t]=JSON.parse(Ti[t])}catch(t){}document.documentElement.removeChild(e)}return Ti[t]}function Yt(t){var e=Si[t];return e||(e=Si[t]=Xt(t)||t),e}function Xt(t){if((t=i(t))in Li)return t;for(var e,n=Ai.length;n--;)if((e="-"+Ai[n]+"-"+t)in Li)return e}function $t(t,e,n,i){return void 0===n&&(n=400),void 0===i&&(i="linear"),mi.all(A(t).map(function(t){return new mi(function(r,o){for(var a in e){var s=Gt(t,a);""===s&&Gt(t,a,s)}var l=setTimeout(function(){return at(t,"transitionend")},n);ot(t,"transitionend transitioncanceled",function(e){var n=e.type;clearTimeout(l),Dt(t,"uk-transition"),Gt(t,{"transition-property":"","transition-duration":"","transition-timing-function":""}),"transitioncanceled"===n?o():r()},!1,function(e){var n=e.target;return t===n}),Ot(t,"uk-transition"),Gt(t,ai({"transition-property":Object.keys(e).map(Yt).join(","),"transition-duration":n+"ms","transition-timing-function":i},e))})}))}function Zt(t,e,n,i,r){var o=arguments;return void 0===n&&(n=200),mi.all(A(t).map(function(t){return new mi(function(a,l){function u(){Gt(t,"animationDuration",""),Bt(t,Pi+"\\S*")}if(Ft(t,Ii))return void requestAnimationFrame(function(){return mi.resolve().then(function(){return Zt.apply(void 0,o).then(a,l)})});var c=e+" "+Pi+(r?"leave":"enter");s(e,Pi)&&(i&&(c+=" uk-transform-origin-"+i),r&&(c+=" "+Pi+"reverse")),u(),ot(t,"animationend animationcancel",function(e){var n=e.type,i=!1;"animationcancel"===n?(l(),u()):(a(),mi.resolve().then(function(){i=!0,u()})),requestAnimationFrame(function(){i||(Ot(t,Ii),requestAnimationFrame(function(){return Dt(t,Ii)}))})},!1,function(e){var n=e.target;return t===n}),Gt(t,"animationDuration",n+"ms"),Ot(t,c)})}))}function Jt(t,e){return x(t)?Qt(t)?S(Rt(t)):H(t,e):S(t)}function Kt(t,e){return x(t)?Qt(t)?A(Rt(t)):W(t,e):A(t)}function Qt(t){return"<"===t[0]||t.match(/^\s*</)}function te(t,e,n,i,r,o,a,s){n=se(n),i=se(i);var l={element:n,target:i};if(!t||!e)return l;var c=ne(t),h=ne(e),p=h;return ae(p,n,c,-1),ae(p,i,h,1),r=le(r,c.width,c.height),o=le(o,h.width,h.height),r.x+=o.x,r.y+=o.y,p.left+=r.x,p.top+=r.y,s=ne(s||fe(t)),a&&P(Oi,function(t,e){function o(t,n){var i=p[f]+t+n-2*r[d];if(i>=s[f]&&i+c[e]<=s[y])return p[f]=i,["element","target"].forEach(function(n){l[n][d]=t?l[n][d]===Oi[e][1]?Oi[e][2]:Oi[e][1]:l[n][d]}),!0}var d=t[0],f=t[1],y=t[2];if(!0===a||u(a,d)){var m=n[d]===f?-c[e]:n[d]===y?c[e]:0,v=i[d]===f?h[e]:i[d]===y?-h[e]:0;if(p[f]<s[f]||p[f]+c[e]>s[y]){var g=c[e]/2,x="center"===i[d]?-h[e]/2:0;"center"===n[d]&&(o(g,x)||o(-g,-x))||o(m,v)}}}),ee(t,p),l}function ee(t,e){if(t=S(t),e){var n=ee(t),i=Gt(t,"position");return void["left","top"].forEach(function(r){if(r in e){var o=Gt(t,r);Gt(t,r,e[r]-n[r]+T("absolute"===i&&"auto"===o?ie(t)[r]:o))}})}return ne(t)}function ne(t){t=S(t);var e=fe(t),n=e.pageYOffset,i=e.pageXOffset;if(d(t)){var r=t.innerHeight,o=t.innerWidth;return{top:n,left:i,height:r,width:o,bottom:n+r,right:i+o}}var a,s;Q(t)||(a=B(t,"style"),s=B(t,"hidden"),B(t,{style:(a||"")+";display:block !important;",hidden:null}));var l=t.getBoundingClientRect();return w(a)||B(t,{style:a,hidden:s}),{height:l.height,width:l.width,top:l.top+n,left:l.left+i,bottom:l.bottom+n,right:l.right+i}}function ie(t){t=S(t);var e=t.offsetParent||me(t),n=ee(e),i=["top","left"].reduce(function(i,r){var o=a(r);return i[r]-=n[r]+T(Gt(t,"margin"+o))+T(Gt(e,"border"+o+"Width")),i},ee(t));return{top:i.top,left:i.left}}function re(t){var e=a(t);return function(n,i){if(n=S(n),w(i)){if(d(n))return n["inner"+e];if(f(n)){var r=n.documentElement;return Math.max(r["offset"+e],r["scroll"+e])}return i=Gt(n,t),(i="auto"===i?n["offset"+e]:T(i)||0)-oe(t,n)}Gt(n,t,i||0===i?+i+oe(t,n)+"px":"")}}function oe(t,e){return"border-box"===Gt(e,"boxSizing")?Oi[t].slice(1).map(a).reduce(function(t,n){return t+T(Gt(e,"padding"+n))+T(Gt(e,"border"+n+"Width"))},0):0}function ae(t,e,n,i){P(Oi,function(r,o){var a=r[0],s=r[1],l=r[2];e[a]===l?t[s]+=n[o]*i:"center"===e[a]&&(t[s]+=n[o]*i/2)})}function se(t){var e=/left|center|right/,n=/top|center|bottom/;return t=(t||"").split(" "),1===t.length&&(t=e.test(t[0])?t.concat(["center"]):n.test(t[0])?["center"].concat(t):["center","center"]),{x:e.test(t[0])?t[0]:"center",y:n.test(t[1])?t[1]:"center"}}function le(t,e,n){var i=(t||"").split(" "),r=i[0],o=i[1];return{x:r?T(r)*(l(r,"%")?e/100:1):0,y:o?T(o)*(l(o,"%")?n/100:1):0}}function ue(t){switch(t){case"left":return"right";case"right":return"left";case"top":return"bottom";case"bottom":return"top";default:return t}}function ce(t,e,n,i){if(void 0===e&&(e=0),void 0===n&&(n=0),!Q(t))return!1;t=S(t);var r=fe(t);if(i)return O(t.getBoundingClientRect(),{top:-e,left:-n,bottom:e+Di(r),right:n+Bi(r)});var o=de(t),a=o[0],s=o[1],l=r.pageYOffset,u=r.pageXOffset;return O({top:a,left:s,bottom:a+t.offsetHeight,right:a+t.offsetWidth},{top:l-e,left:u-n,bottom:l+e+Di(r),right:u+n+Bi(r)})}function he(t,e){if(void 0===e&&(e=0),!Q(t))return 0;t=S(t);var n=fe(t),i=ye(t),r=t.offsetHeight+e,o=de(t),a=o[0],s=Di(n),l=s+Math.min(0,a-s),u=Math.max(0,s-(Di(i)+e-(a+r)));return R((l+n.pageYOffset-a)/((l+(r-(u<s?u:0)))/100)/100)}function pe(t,e){if(t=S(t),d(t)||f(t)){var n=fe(t);(0,n.scrollTo)(n.pageXOffset,e)}else t.scrollTop=e}function de(t){var e=[0,0];do{if(e[0]+=t.offsetTop,e[1]+=t.offsetLeft,"fixed"===Gt(t,"position")){var n=fe(t);return e[0]+=n.pageYOffset,e[1]+=n.pageXOffset,e}}while(t=t.offsetParent);return e}function fe(t){return d(t)?t:ye(t).defaultView}function ye(t){return S(t).ownerDocument}function me(t){return ye(t).documentElement}function ve(){Xi.scheduled||(Xi.scheduled=!0,requestAnimationFrame(Xi.flush.bind(Xi)))}function ge(t){for(var e;e=t.shift();)e()}function xe(t,e){var n=t.indexOf(e);return!!~n&&!!t.splice(n,1)}function _e(){}function be(t,e){return(e.y-t.y)/(e.x-t.x)}function we(t,e,n){return $i.computed(c(t)?t.call(n,n):t,c(e)?e.call(n,n):e)}function Ee(t,e,i){function r(n){o[n]=($i[n]||Zi)(t[n],e[n],i)}var o={};if(c(e)&&(e=e.options),e.extends&&(t=Ee(t,e.extends,i)),e.mixins)for(var a=0,s=e.mixins.length;a<s;a++)t=Ee(t,e.mixins[a],i);for(var l in t)r(l);for(var u in e)n(t,u)||r(u);return o}function Me(t,e){var n;void 0===e&&(e=[]);try{return t?s(t,"{")?JSON.parse(t):e.length&&!u(t,":")?(n={},n[e[0]]=t,n):t.split(";").reduce(function(t,e){var n=e.split(/:(.*)/),i=n[0],r=n[1];return i&&!w(r)&&(t[i.trim()]=r.trim()),t},{}):{}}catch(t){return{}}}function Te(t,e){try{t.contentWindow.postMessage(JSON.stringify(ai({event:"command"},e)),"*")}catch(t){}}function Se(t){return new mi(function(e){ot(window,"message",function(t,n){return e(n)},!1,function(e){var n=e.data;if(n&&x(n)){try{n=JSON.parse(n)}catch(t){return}return n&&t(n)}})})}function Ae(t){var e=t.x1,n=t.x2,i=t.y1,r=t.y2;return Math.abs(e-n)>=Math.abs(i-r)?e-n>0?"Left":"Right":i-r>0?"Up":"Down"}function Ce(){Qi&&clearTimeout(Qi),tr&&clearTimeout(tr),er&&clearTimeout(er),Qi=tr=er=null,ir={}}function Le(t){return rr||"touch"===t.pointerType}function ke(t){var e=t.touches,n=t.changedTouches,i=e&&e[0]||n&&n[0]||t;return{x:i.pageX,y:i.pageY}}function Pe(t){return t.slice(0,5)}function Ie(t){return!(!s(t,"uk-")&&!s(t,"data-uk-"))&&r(t.replace("data-uk-","").replace("uk-",""))}function Re(t){xt(function(){var e=0,n=0;if(it(window,"load resize",function(e){return t.update(null,e)}),it(window,"scroll",function(n){var i=n.target;n.dir=e<=window.pageYOffset?"down":"up",n.pageYOffset=e=window.pageYOffset,t.update(1!==i.nodeType?document.body:i,n)},{passive:!0,capture:!0}),it(document,"loadedmetadata load",function(e){var n=e.target;return t.update(n,"load")},!0),it(document,"animationstart",function(t){var e=t.target;(Gt(e,"animationName")||"").match(/^uk-.*(left|right)/)&&(n++,Gt(document.body,"overflowX","hidden"),setTimeout(function(){--n||Gt(document.body,"overflowX","")},L(Gt(e,"animationDuration"))+100))},!0),Vi){var i="uk-hover";it(document,"tap",function(t){var e=t.target;return Kt("."+i).forEach(function(t){return!nt(e,t)&&Dt(t,i)})}),Object.defineProperty(t,"hoverSelector",{set:function(t){it(document,"tap",t,function(t){return Ot(t.current,i)})}}),t.hoverSelector=".uk-animation-toggle, .uk-transition-toggle, [uk-hover]"}})}function ze(){lr||(lr=!0,it(document,"click",function(t){var e,n=t.target,i=t.defaultPrevented;if(!i)for(;sr&&sr!==e&&!nt(n,sr.$el)&&(!sr.toggle||!nt(n,sr.toggle.$el));)e=sr,sr.hide(!1)}))}function Oe(t){for(var e=[[]],n=0;n<t.length;n++){var i=t[n],r=De(i);if(r.height)for(var o=e.length-1;o>=0;o--){var a=e[o];if(!a[0]){a.push(i);break}var s=De(a[0]);if(r.top>=s.bottom-1){e.push([i]);break}if(r.bottom>s.top){if(r.left<s.left&&!Fi){a.unshift(i);break}a.push(i);break}if(0===o){e.unshift([i]);break}}}return e}function De(t){var e=t.offsetTop,n=t.offsetLeft,i=t.offsetHeight;return{top:e,left:n,height:i,bottom:e+i}}function Be(t,e){var n=A(t.children),i=n.filter(function(t){return Ft(t,e)}),r=i[0];return T(r?Gt(r,"marginTop"):Gt(n[0],"paddingLeft"))}function Ne(t){return Math.max.apply(Math,t.reduce(function(t,e){return e.forEach(function(e,n){return t[n]=(t[n]||0)+e.offsetHeight}),t},[]))}function Fe(t){return t&&t.offsetHeight||0}function Ue(t,e){if(!Cr[t]){Cr[t]={};for(var n;n=Ar.exec(t);)Cr[t][n[3]]='<svg xmlns="http://www.w3.org/2000/svg"'+n[1]+"svg>";Ar.lastIndex=0}return Cr[t][e]}function je(t){t.icon.add=function(e,n){var i,r=x(e)?(i={},i[e]=n,i):e;P(r,function(t,e){kr[e]=t,delete Lr[e]}),t._initialized&&zt(document.body,function(e){return P(t.getComponents(e),function(t){return t.$options.isIcon&&t.icon in r&&t.$reset()})})}}function Ve(t){return kr[t]?(Lr[t]||(Lr[t]=Jt(kr[t].trim())),Lr[t]):null}function Ge(t){return Fi?k(k(t,"left","right"),"previous","next"):t}function He(t,e,n,i){if($e(t))e&&(t.src=e),n&&(t.srcset=n),i&&(t.sizes=i);else if(e){var r=!u(t.style.backgroundImage,e);Gt(t,"backgroundImage","url("+e+")"),r&&at(t,st("load",!1))}}function We(t,e,n){var i;if(n){for(var r;r=Nr.exec(n);)if(!r[1]||window.matchMedia(r[1]).matches){r=qe(r[2]);break}Nr.lastIndex=0,i=si.ratio({width:t,height:e},"width",Ye(r||"100vw")),t=i.width,e=i.height}return'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="'+t+'" height="'+e+'"></svg>'}function qe(t){return s(t,"calc")?t.substring(5,t.length-1).replace(Fr,function(t){return Ye(t)}).replace(/ /g,"").match(Ur).reduce(function(t,e){return t+ +e},0):t}function Ye(t,e,n){return void 0===e&&(e="width"),void 0===n&&(n=window),b(t)?+t:l(t,"vw")?Xe(n,"width",t):l(t,"vh")?Xe(n,"height",t):l(t,"%")?Xe(n,e,t):T(t)}function Xe(t,e,n){return jr[e](t)*T(n)/100}function $e(t){return"IMG"===t.tagName}function Ze(t){return t.currentSrc||t.src}function Je(){Gr||(Gr=[it(document,"click",function(t){var e=t.target,n=t.defaultPrevented;!Vr||!Vr.bgClose||n||Vr.overlay&&!nt(e,Vr.$el)||nt(e,Vr.panel)||Vr.hide()}),it(document,"keydown",function(t){27===t.keyCode&&Vr&&Vr.escClose&&(t.preventDefault(),Vr.hide())})])}function Ke(){Gr&&Gr.forEach(function(t){return t()}),Gr=null}function Qe(t){t.modal.dialog=function(e,n){var i=t.modal(' <div class="uk-modal"> <div class="uk-modal-dialog">'+e+"</div> </div> ",n);return i.show(),it(i.$el,"hidden",function(t){t.target===t.currentTarget&&i.$destroy(!0)}),i},t.modal.alert=function(e,n){return n=ai({bgClose:!1,escClose:!1,labels:t.modal.labels},n),new mi(function(i){return it(t.modal.dialog(' <div class="uk-modal-body">'+(x(e)?e:Et(e))+'</div> <div class="uk-modal-footer uk-text-right"> <button class="uk-button uk-button-primary uk-modal-close" autofocus>'+n.labels.ok+"</button> </div> ",n).$el,"hide",i)})},t.modal.confirm=function(e,n){return n=ai({bgClose:!1,escClose:!0,labels:t.modal.labels},n),new mi(function(i,r){var o=t.modal.dialog(' <form> <div class="uk-modal-body">'+(x(e)?e:Et(e))+'</div> <div class="uk-modal-footer uk-text-right"> <button class="uk-button uk-button-default uk-modal-close" type="button">'+n.labels.cancel+'</button> <button class="uk-button uk-button-primary" autofocus>'+n.labels.ok+"</button> </div> </form> ",n),a=!1;it(o.$el,"submit","form",function(t){t.preventDefault(),i(),a=!0,o.hide()}),it(o.$el,"hide",function(){a||r()})})},t.modal.prompt=function(e,n,i){return i=ai({bgClose:!1,escClose:!0,labels:t.modal.labels},i),new mi(function(r){var o=t.modal.dialog(' <form class="uk-form-stacked"> <div class="uk-modal-body"> <label>'+(x(e)?e:Et(e))+'</label> <input class="uk-input" autofocus> </div> <div class="uk-modal-footer uk-text-right"> <button class="uk-button uk-button-default uk-modal-close" type="button">'+i.labels.cancel+'</button> <button class="uk-button uk-button-primary">'+i.labels.ok+"</button> </div> </form> ",i),a=Jt("input",o.$el);a.value=n;var s=!1;it(o.$el,"submit","form",function(t){t.preventDefault(),r(a.value),s=!0,o.hide()}),it(o.$el,"hide",function(){s||r(null)})})},t.modal.labels={ok:"Ok",cancel:"Cancel"}}function tn(t){return.5*(1-Math.cos(Math.PI*t))}function en(t,e){var n=e.$props,i=e.$el,r=e[t+"Offset"],o=n[t];if(o){if(b(o))return r+T(o);if(x(o)&&o.match(/^-?\d+vh$/))return Di(window)*T(o)/100;var a=!0===o?i.parentNode:V(o,i);return a?ee(a).top+a.offsetHeight:void 0}}function nn(t){var e=t-Date.now();return{total:e,seconds:e/1e3%60,minutes:e/1e3/60%60,hours:e/1e3/60/60%24,days:e/1e3/60/60/24}}function rn(t,e){var n=Gt(t,"zIndex");return!!Q(t)&&ai({display:"",opacity:e?Gt(t,"opacity"):"0",pointerEvents:"none",position:"absolute",zIndex:"auto"===n?_t(t):n},an(t))}function on(t){Gt(t.children,{height:"",left:"",opacity:"",pointerEvents:"",position:"",top:"",width:""}),Dt(t,po),Gt(t,"height","")}function an(t){var e=t.getBoundingClientRect(),n=e.height,i=e.width,r=ie(t),o=r.top,a=r.left;return o+=T(Gt(t,"marginTop")),{top:o,left:a,height:n,width:i}}function sn(){so||(so=Tt(document.head,"<style>").sheet,so.insertRule("."+po+" > * {\n                    margin-top: 0 !important;\n                    transform: none !important;\n                }",0))}function ln(t,e){return Me(j(t,e),["filter"])}function un(t,e,n){return A(t).forEach(function(t){var i=ln(t,e),r=i.filter,o=i.group,a=i.sort,s=i.order;void 0===s&&(s="asc"),(r||w(a))&&(o?(delete n.filter[""],n.filter[o]=r):n.filter={"":r}),w(a)||(n.sort=[a,s])}),n}function cn(t,e,n){var i=n.filter,r=n.sort,o=r[0],a=r[1],s=ln(t,e),l=s.filter,u=s.group;void 0===u&&(u="");var c=s.sort,h=s.order;return void 0===h&&(h="asc"),Boolean((l||w(c))&&u in i&&(l===i[u]||w(l)&&!i[u])||o&&c&&o===c&&a===h)}function hn(t,e,n){return void 0===n&&(n=!0),t=A(t),e=A(e),t.length===e.length&&t.every(function(t,i){return n?t===e[i]:~e.indexOf(t)})}function pn(t){var e=t.filter,n="";return P(e,function(t){return n+=t||""}),n}function dn(t,e,n){return A(t).sort(function(t,i){return j(t,e).localeCompare(j(i,e),void 0,{numeric:!0})*("asc"===n||-1)})}function fn(t){return Math.abs(Gt(t,"transform").split(",")[4]/t.offsetWidth)||0}function yn(t,e){return void 0===t&&(t=0),void 0===e&&(e="%"),"translateX("+t+(t?e:"")+")"}function mn(t){return"scale3d("+t+", "+t+", 1)"}function vn(t,e,n,i){var r=i.animation,o=i.easing,a=r.percent,s=r.translate,l=r.show;void 0===l&&(l=z);var u=l(n),c=new vi;return{dir:n,show:function(i,r,a){var s=this;void 0===r&&(r=0);var l=a?"linear":o;return i-=Math.round(i*R(r,-1,1)),this.translate(r),gn(e,"itemin",{percent:r,duration:i,timing:l,dir:n}),gn(t,"itemout",{percent:1-r,duration:i,timing:l,dir:n}),mi.all([ki.start(e,u[1],i,l),ki.start(t,u[0],i,l)]).then(function(){s.reset(),c.resolve()},z),c.promise},stop:function(){return ki.stop([e,t])},cancel:function(){ki.cancel([e,t])},reset:function(){for(var n in u[0])Gt([e,t],n,"")},forward:function(n,i){return void 0===i&&(i=this.percent()),ki.cancel([e,t]),this.show(n,i,!0)},translate:function(i){this.reset();var r=s(i,n);Gt(e,r[1]),Gt(t,r[0]),gn(e,"itemtranslatein",{percent:i,dir:n}),gn(t,"itemtranslateout",{percent:1-i,dir:n})},percent:function(){return a(t||e,e,n)},getDistance:function(){return t.offsetWidth}}}function gn(t,e,n){at(t,st(e,!1,!1,n))}function xn(t){return!t.children.length&&t.childNodes.length}function _n(t,e){return"next"===t?1:"previous"===t?-1:t<e?-1:1}function bn(t){return.5*t+300}function wn(t,e,n,i){return'<iframe src="'+t+'" width="'+e+'" height="'+n+'" style="max-width: 100%; box-sizing: border-box;" frameborder="0" allowfullscreen uk-video="autoplay: '+i+'" uk-responsive></iframe>'}function En(t,e){return t.length===e.length&&t.every(function(t,n){return t===e[n]})}function Mn(t,e){t.lightboxPanel||t.component("lightboxPanel",Eo),ai(e.props,t.component("lightboxPanel").options.props)}function Tn(t){t.notification.closeAll=function(e,n){zt(document.body,function(i){var r=t.getComponent(i,"notification");!r||e&&e!==r.group||r.close(n)})}}function Sn(t,e){return Gt(Gt(t,"color",e),"color").split(/[(),]/g).slice(1,-1).concat(1).slice(0,4).map(function(t){return T(t)})}function An(t,e){var n=t.length-1,i=Math.min(Math.floor(n*e),n-1),r=t.slice(i,i+2);return r.push(1===e?1:e%(1/n)*n),r}function Cn(t,e){var n=An(t,e),i=n[0],r=n[1],o=n[2];return(_(i)?i+Math.abs(i-r)*o*(i<r?1:-1):+r).toFixed(2)}function Ln(t){var e=t.style,n=e.backgroundSize,i="cover"===Gt(Gt(t,"backgroundSize",""),"backgroundSize");return t.style.backgroundSize=n,i}function kn(t,e){return R(t*(1-(e-e*t)))}function Pn(t,e,n,i){var r=i.center,o=i.easing,a=i.list,s=new vi,l=t?In(t,a,r):In(e,a,r)+e.offsetWidth*n,c=e?In(e,a,r):l+t.offsetWidth*n*(Fi?-1:1);return{dir:n,show:function(e,i,r){void 0===i&&(i=0);var l=r?"linear":o;return e-=Math.round(e*R(i,-1,1)),this.translate(i),t&&this.updateTranslates(),i=t?i:R(i,0,1),Nn(this.getItemIn(),"itemin",{percent:i,duration:e,timing:l,dir:n}),t&&Nn(this.getItemIn(!0),"itemout",{percent:1-i,duration:e,timing:l,dir:n}),ki.start(a,{transform:yn(-c*(Fi?-1:1),"px")},e,l).then(s.resolve,z),s.promise},stop:function(){return ki.stop(a)},cancel:function(){ki.cancel(a)},reset:function(){Gt(a,"transform","")},forward:function(t,e){return void 0===e&&(e=this.percent()),ki.cancel(a),this.show(t,e,!0)},translate:function(e){var i=this.getDistance()*n*(Fi?-1:1);Gt(a,"transform",yn(R(i-i*e-c,-zn(a),a.offsetWidth)*(Fi?-1:1),"px")),this.updateTranslates(),t&&(e=R(e,-1,1),Nn(this.getItemIn(),"itemtranslatein",{percent:e,dir:n}),Nn(this.getItemIn(!0),"itemtranslateout",{percent:1-e,dir:n}))},percent:function(){return Math.abs((Gt(a,"transform").split(",")[4]*(Fi?-1:1)+l)/(c-l))},getDistance:function(){return Math.abs(c-l)},getItemIn:function(e){void 0===e&&(e=!1);var i=this.getActives(),r=I(Fn(a),"offsetLeft"),o=_t(r,i[n*(e?-1:1)>0?i.length-1:0]);return~o&&r[o+(t&&!e?n:0)]},getActives:function(){var n=In(t||e,a,r);return I(Fn(a).filter(function(t){var e=Bn(t,a);return e>=n&&e+t.offsetWidth<=a.offsetWidth+n}),"offsetLeft")},updateTranslates:function(){var t=this.getActives();Fn(a).forEach(function(n){var i=u(t,n);Nn(n,"itemtranslate"+(i?"in":"out"),{percent:i?1:0,dir:n.offsetLeft<=e.offsetLeft?1:-1})})}}}function In(t,e,n){var i=Bn(t,e);return n?i-Dn(t,e):Math.min(i,Rn(e))}function Rn(t){return Math.max(0,zn(t)-t.offsetWidth)}function zn(t){return Fn(t).reduce(function(t,e){return e.offsetWidth+t},0)}function On(t){return Fn(t).reduce(function(t,e){return Math.max(t,e.offsetWidth)},0)}function Dn(t,e){return e.offsetWidth/2-t.offsetWidth/2}function Bn(t,e){return(t.offsetLeft+(Fi?t.offsetWidth-e.offsetWidth:0))*(Fi?-1:1)}function Nn(t,e,n){at(t,st(e,!1,!1,n))}function Fn(t){return A(t.children)}function Un(t){return l(t,"in")}function jn(t,e,n){return n/=2,Un(t)?e<0?1-n:n:e<0?n:1-n}function Vn(t,e){return t.parentNode===e.parentNode&&_t(t)>_t(e)}function Gn(t,e){return e.match(new RegExp("^"+t.replace(/\//g,"\\/").replace(/\*\*/g,"(\\/[^\\/]+)*").replace(/\*/g,"[^\\/]+").replace(/((?!\\))\?/g,"$1.")+"$","i"))}function Hn(t,e){for(var n=[],i=0;i<t.length;i+=e){for(var r=[],o=0;o<e;o++)r.push(t[i+o]);n.push(r)}return n}function Wn(t){t.preventDefault(),t.stopPropagation()}var qn=Object.prototype,Yn=qn.hasOwnProperty,Xn={},$n=/([a-z\d])([A-Z])/g,Zn=/-(\w)/g,Jn=String.prototype,Kn=Jn.startsWith||function(t){return 0===this.lastIndexOf(t,0)},Qn=Jn.endsWith||function(t){return this.substr(-t.length)===t},ti=function(t){return~this.indexOf(t)},ei=Jn.includes||ti,ni=Array.prototype.includes||ti,ii=Array.isArray,ri=qn.toString,oi=Array.prototype,ai=Object.assign||function(t){for(var e=[],i=arguments.length-1;i-- >0;)e[i]=arguments[i+1];t=Object(t);for(var r=0;r<e.length;r++){var o=e[r];if(null!==o)for(var a in o)n(o,a)&&(t[a]=o[a])}return t},si={ratio:function(t,e,n){var i,r="width"===e?"height":"width";return i={},i[r]=t[e]?Math.round(n*t[r]/t[e]):t[r],i[e]=n,i},contain:function(t,e){var n=this;return t=ai({},t),P(t,function(i,r){return t=t[r]>e[r]?n.ratio(t,r,e[r]):t}),t},cover:function(t,e){var n=this;return t=this.contain(t,e),P(t,function(i,r){return t=t[r]<e[r]?n.ratio(t,r,e[r]):t}),t}},li=/(^|,)\s*[!>+~-]/,ui=/([!>+~-])(?=\s+[!>+~-]|\s*$)/g,ci=Element.prototype,hi=ci.matches||ci.webkitMatchesSelector||ci.msMatchesSelector,pi=ci.closest||function(t){var e=this;do{if(X(e,t))return e;e=e.parentNode}while(e&&1===e.nodeType)},di=window.CSS&&CSS.escape||function(t){return t.replace(/([^\x7f-\uFFFF\w-])/g,function(t){return"\\"+t})},fi={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,menuitem:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},yi="input,select,textarea,button",mi="Promise"in window?window.Promise:yt,vi=function(){var t=this;this.promise=new mi(function(e,n){t.reject=n,t.resolve=e})},gi=2,xi="setImmediate"in window?e:setTimeout;yt.reject=function(t){return new yt(function(e,n){n(t)})},yt.resolve=function(t){return new yt(function(e,n){e(t)})},yt.all=function(t){return new yt(function(e,n){var i=[],r=0;0===t.length&&e(i);for(var o=0;o<t.length;o+=1)yt.resolve(t[o]).then(function(n){return function(o){i[n]=o,(r+=1)===t.length&&e(i)}}(o),n)})},yt.race=function(t){return new yt(function(e,n){for(var i=0;i<t.length;i+=1)yt.resolve(t[i]).then(e,n)})};var _i=yt.prototype;_i.resolve=function(t){var e=this;if(e.state===gi){if(t===e)throw new TypeError("Promise settled with itself.");var n=!1;try{var i=t&&t.then;if(null!==t&&h(t)&&c(i))return void i.call(t,function(t){n||e.resolve(t),n=!0},function(t){n||e.reject(t),n=!0})}catch(t){return void(n||e.reject(t))}e.state=0,e.value=t,e.notify()}},_i.reject=function(t){var e=this;if(e.state===gi){if(t===e)throw new TypeError("Promise settled with itself.");e.state=1,e.value=t,e.notify()}},_i.notify=function(){var t=this;xi(function(){if(t.state!==gi)for(;t.deferred.length;){var e=t.deferred.shift(),n=e[0],i=e[1],r=e[2],o=e[3];try{0===t.state?r(c(n)?n.call(void 0,t.value):t.value):1===t.state&&(c(i)?r(i.call(void 0,t.value)):o(t.value))}catch(t){o(t)}}})},_i.then=function(t,e){var n=this;return new yt(function(i,r){n.deferred.push([t,e,i,r]),n.notify()})},_i.catch=function(t){return this.then(void 0,t)};var bi=/^\s*<(\w+|!)[^>]*>/,wi=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,Ei={};!function(){var t=document.createElement("_").classList;t&&(t.add("a","b"),t.toggle("c",!1),Ei.Multiple=t.contains("b"),Ei.Force=!t.contains("c")),t=null}();var Mi={"animation-iteration-count":!0,"column-count":!0,"fill-opacity":!0,"flex-grow":!0,"flex-shrink":!0,"font-weight":!0,"line-height":!0,opacity:!0,order:!0,orphans:!0,widows:!0,"z-index":!0,zoom:!0},Ti={},Si={},Ai=["webkit","moz","ms"],Ci=document.createElement("_"),Li=Ci.style,ki={start:$t,stop:function(t){return at(t,"transitionend"),mi.resolve()},cancel:function(t){at(t,"transitioncanceled")},inProgress:function(t){return Ft(t,"uk-transition")}},Pi="uk-animation-",Ii="uk-cancel-animation",Ri=new RegExp(Pi+"(enter|leave)"),zi={in:function(t,e,n,i){return Zt(t,e,n,i,!1)},out:function(t,e,n,i){return Zt(t,e,n,i,!0)},inProgress:function(t){return Ri.test(B(t,"class"))},cancel:function(t){at(t,"animationcancel")}},Oi={width:["x","left","right"],height:["y","top","bottom"]},Di=re("height"),Bi=re("width"),Ni=/msie|trident/i.test(window.navigator.userAgent),Fi="rtl"===B(document.documentElement,"dir"),Ui="ontouchstart"in window,ji=window.PointerEvent,Vi=Ui||window.DocumentTouch&&document instanceof DocumentTouch||navigator.maxTouchPoints,Gi=Vi?"mousedown "+(Ui?"touchstart":"pointerdown"):"mousedown",Hi=Vi?"mousemove "+(Ui?"touchmove":"pointermove"):"mousemove",Wi=Vi?"mouseup "+(Ui?"touchend":"pointerup"):"mouseup",qi=Vi&&ji?"pointerenter":"mouseenter",Yi=Vi&&ji?"pointerleave":"mouseleave",Xi={reads:[],writes:[],read:function(t){return this.reads.push(t),ve(),t},write:function(t){return this.writes.push(t),ve(),t},clear:function(t){return xe(this.reads,t)||xe(this.writes,t)},flush:function(){ge(this.reads),ge(this.writes.splice(0,this.writes.length)),this.scheduled=!1,(this.reads.length||this.writes.length)&&ve()}};_e.prototype={positions:[],position:null,init:function(){var t=this;this.positions=[],this.position=null;var e=!1;this.unbind=it(document,"mousemove",function(n){e||(setTimeout(function(){var i=Date.now(),r=t.positions,o=r.length;o&&i-t.positions[o-1].time>100&&t.positions.splice(0,o),t.positions.push({time:i,x:n.pageX,y:n.pageY}),t.positions.length>5&&t.positions.shift(),e=!1},5),e=!0)})},cancel:function(){this.unbind&&this.unbind()},movesTo:function(t){if(this.positions.length<2)return!1;var e=ee(t),n=this.positions[this.positions.length-1],i=this.positions,r=i[0];if(e.left<=n.x&&n.x<=e.right&&e.top<=n.y&&n.y<=e.bottom)return!1;var o=[[{x:e.left,y:e.top},{x:e.right,y:e.bottom}],[{x:e.right,y:e.top},{x:e.left,y:e.bottom}]];return e.right<=n.x||(e.left>=n.x?(o[0].reverse(),o[1].reverse()):e.bottom<=n.y?o[0].reverse():e.top>=n.y&&o[1].reverse()),!!o.reduce(function(t,e){return t+(be(r,e[0])<be(n,e[0])&&be(r,e[1])>be(n,e[1]))},0)}};var $i={};$i.args=$i.events=$i.init=$i.created=$i.beforeConnect=$i.connected=$i.ready=$i.beforeDisconnect=$i.disconnected=$i.destroy=function(t,e){return t=t&&!ii(t)?[t]:t,e?t?t.concat(e):ii(e)?e:[e]:t},$i.update=function(t,e){return $i.args(t,c(e)?{read:e}:e)},$i.props=function(t,e){return ii(e)&&(e=e.reduce(function(t,e){return t[e]=String,t},{})),$i.methods(t,e)},$i.computed=$i.methods=function(t,e){return e?t?ai({},t,e):e:t},$i.data=function(t,e,n){return n?we(t,e,n):e?t?function(n){return we(t,e,n)}:e:t};var Zi=function(t,e){return w(e)?t:e},Ji=0,Ki=function(t){this.id=++Ji,this.el=S(t)};Ki.prototype.isVideo=function(){return this.isYoutube()||this.isVimeo()||this.isHTML5()},Ki.prototype.isHTML5=function(){return"VIDEO"===this.el.tagName},Ki.prototype.isIFrame=function(){return"IFRAME"===this.el.tagName},Ki.prototype.isYoutube=function(){return this.isIFrame()&&!!this.el.src.match(/\/\/.*?youtube(-nocookie)?\.[a-z]+\/(watch\?v=[^&\s]+|embed)|youtu\.be\/.*/)},Ki.prototype.isVimeo=function(){return this.isIFrame()&&!!this.el.src.match(/vimeo\.com\/video\/.*/)},Ki.prototype.enableApi=function(){var t=this;if(this.ready)return this.ready;var e,n=this.isYoutube(),i=this.isVimeo();return n||i?this.ready=new mi(function(r){ot(t.el,"load",function(){if(n){var i=function(){return Te(t.el,{event:"listening",id:t.id})};e=setInterval(i,100),i()}}),Se(function(e){return n&&e.id===t.id&&"onReady"===e.event||i&&Number(e.player_id)===t.id}).then(function(){r(),e&&clearInterval(e)}),B(t.el,"src",t.el.src+(u(t.el.src,"?")?"&":"?")+(n?"enablejsapi=1":"api=1&player_id="+t.id))}):mi.resolve()},Ki.prototype.play=function(){var t=this;if(this.isVideo())if(this.isIFrame())this.enableApi().then(function(){return Te(t.el,{func:"playVideo",method:"play"})});else if(this.isHTML5())try{var e=this.el.play();e&&e.catch(z)}catch(t){}},Ki.prototype.pause=function(){var t=this;this.isVideo()&&(this.isIFrame()?this.enableApi().then(function(){return Te(t.el,{func:"pauseVideo",method:"pause"})}):this.isHTML5()&&this.el.pause())},Ki.prototype.mute=function(){var t=this;this.isVideo()&&(this.isIFrame()?this.enableApi().then(function(){return Te(t.el,{func:"mute",method:"setVolume",value:0})}):this.isHTML5()&&(this.el.muted=!0,B(this.el,"muted","")))};var Qi,tr,er,nr,ir={};xt(function(){it(document,"click",function(){return nr=!0},!0),it(document,Gi,function(t){var e=t.target,n=ke(t),i=n.x,r=n.y,o=Date.now(),a=Pe(t.type);ir.type&&ir.type!==a||(ir.el="tagName"in e?e:e.parentNode,Qi&&clearTimeout(Qi),ir.x1=i,ir.y1=r,ir.last&&o-ir.last<=250&&(ir={}),ir.type=a,ir.last=o,nr=t.button>0)}),it(document,Hi,function(t){if(!t.defaultPrevented){var e=ke(t),n=e.x,i=e.y;ir.x2=n,ir.y2=i}}),it(document,Wi,function(t){var e=t.type,n=t.target;ir.type===Pe(e)&&(ir.x2&&Math.abs(ir.x1-ir.x2)>30||ir.y2&&Math.abs(ir.y1-ir.y2)>30?tr=setTimeout(function(){ir.el&&(at(ir.el,"swipe"),at(ir.el,"swipe"+Ae(ir))),ir={}}):"last"in ir?(er=setTimeout(function(){return at(ir.el,"tap")}),ir.el&&"mouseup"!==e&&nt(n,ir.el)&&(Qi=setTimeout(function(){Qi=null,ir.el&&!nr&&at(ir.el,"click"),ir={}},350))):ir={})}),it(document,"touchcancel",Ce),it(window,"scroll",Ce)});var rr=!1;it(document,"touchstart",function(){return rr=!0},!0),it(document,"click",function(){rr=!1}),it(document,"touchcancel",function(){return rr=!1},!0);var or=Object.freeze({ajax:mt,getImage:vt,transition:$t,Transition:ki,animate:Zt,Animation:zi,attr:B,hasAttr:N,removeAttr:F,filterAttr:U,data:j,addClass:Ot,removeClass:Dt,removeClasses:Bt,replaceClass:Nt,hasClass:Ft,toggleClass:Ut,$:Jt,$$:Kt,positionAt:te,offset:ee,position:ie,height:Di,width:Bi,flipPosition:ue,isInView:ce,scrolledOver:he,scrollTop:pe,isReady:gt,ready:xt,index:_t,getIndex:bt,empty:wt,html:Et,prepend:Mt,append:Tt,before:St,after:At,remove:Lt,wrapAll:kt,wrapInner:Pt,unwrap:It,fragment:Rt,apply:zt,isIE:Ni,isRtl:Fi,hasTouch:Vi,pointerDown:Gi,pointerMove:Hi,pointerUp:Wi,pointerEnter:qi,pointerLeave:Yi,on:it,off:rt,once:ot,trigger:at,createEvent:st,toEventTargets:dt,preventClick:ft,fastdom:Xi,isVoidElement:K,isVisible:Q,selInput:yi,isInput:tt,filter:et,within:nt,bind:t,hasOwn:n,hyphenate:i,camelize:r,ucfirst:a,startsWith:s,endsWith:l,includes:u,isArray:ii,isFunction:c,isObject:h,isPlainObject:p,isWindow:d,isDocument:f,isJQuery:y,isNode:m,isNodeCollection:v,isBoolean:g,isString:x,isNumber:_,isNumeric:b,isUndefined:w,toBoolean:E,toNumber:M,toFloat:T,toNode:S,toNodes:A,toList:C,toMs:L,swap:k,assign:ai,each:P,sortBy:I,clamp:R,noop:z,intersectRect:O,pointInRect:D,Dimensions:si,MouseTracker:_e,mergeOptions:Ee,parseOptions:Me,Player:Ki,Promise:mi,Deferred:vi,query:V,queryAll:G,find:H,findAll:W,matches:X,closest:$,parents:Z,escape:J,css:Gt,getStyles:Ht,getStyle:Wt,getCssVar:qt,propName:Yt,isTouch:Le,getPos:ke}),ar=function(t){this._init(t)};ar.util=or,ar.data="__uikit__",ar.prefix="uk-",ar.options={},function(t){function e(t,e){if(t)for(var n in t)t[n]._isReady&&t[n]._callUpdate(e)}function n(t){for(var e=[];t&&t!==document.body&&t.parentNode;)t=t.parentNode,e.unshift(t);return e}var i=t.data;t.use=function(t){if(!t.installed)return t.call(null,this),t.installed=!0,this},t.mixin=function(e,n){n=(x(n)?t.component(n):n)||this,e=Ee({},e),e.mixins=n.options.mixins,delete n.options.mixins,n.options=Ee(e,n.options)},t.extend=function(t){t=t||{};var e=this,n=function(t){this._init(t)};return n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.options=Ee(e.options,t),n.super=e,n.extend=e.extend,n},t.update=function(t,r){r=st(r||"update"),t=t?S(t):document.body,n(t).map(function(t){return e(t[i],r)}),zt(t,function(t){return e(t[i],r)})};var r;Object.defineProperty(t,"container",{get:function(){return r||document.body},set:function(t){r=Jt(t)}})}(ar),function(t){t.prototype._callHook=function(t){var e=this,n=this.$options[t];n&&n.forEach(function(t){return t.call(e)})},t.prototype._callConnected=function(){var t=this;this._connected||(this._data={},this._initProps(),this._callHook("beforeConnect"),this._connected=!0,this._initEvents(),this._initObserver(),this._callHook("connected"),this._isReady||xt(function(){return t._callReady()}),this._callUpdate())},t.prototype._callDisconnected=function(){this._connected&&(this._callHook("beforeDisconnect"),this._observer&&(this._observer.disconnect(),this._observer=null),this._unbindEvents(),this._callHook("disconnected"),this._connected=!1)},t.prototype._callReady=function(){this._isReady||(this._isReady=!0,this._callHook("ready"),this._resetComputeds(),this._callUpdate())},t.prototype._callUpdate=function(t){var e=this;t=st(t||"update");var n=t.type;u(["update","load","resize"],n)&&this._resetComputeds();var i=this.$options.update,r=this._frames,o=r.reads,a=r.writes;i&&i.forEach(function(i,r){var s=i.read,l=i.write,c=i.events;("update"===n||u(c,n))&&(s&&!u(Xi.reads,o[r])&&(o[r]=Xi.read(function(){var n=e._connected&&s.call(e,e._data,t);!1===n&&l?(Xi.clear(a[r]),delete a[r]):p(n)&&ai(e._data,n),delete o[r]})),l&&!u(Xi.writes,a[r])&&(a[r]=Xi.write(function(){e._connected&&l.call(e,e._data,t),delete a[r]})))})}}(ar),function(e){function o(t,e){var n={},o=t.args;void 0===o&&(o=[]);var a=t.props;void 0===a&&(a={});var l=t.el;if(!a)return n;for(var u in a){var c=i(u),h=j(l,c);if(!w(h)){if(h=f(a[u],h),"target"===c&&(!h||s(h,"_")))continue;n[u]=h}}var p=Me(j(l,e),o);for(var d in p){var y=r(d);void 0!==a[y]&&(n[y]=f(a[y],p[d]))}return n}function a(t,e,i){Object.defineProperty(t,e,{enumerable:!0,get:function(){var r=t._computeds,o=t.$props,a=t.$el;return n(r,e)||(r[e]=i.call(t,o,a)),r[e]},set:function(n){t._computeds[e]=n}})}function l(e,n,i){p(n)||(n={name:i,handler:n});var r=n.name,o=n.el,a=n.handler,s=n.capture,h=n.passive,f=n.delegate,y=n.filter,m=n.self;if(o=c(o)?o.call(e):o||e.$el,ii(o))return void o.forEach(function(t){return l(e,ai({},n,{el:t}),i)});!o||y&&!y.call(e)||(a=d(x(a)?e[a]:t(a,e)),m&&(a=u(a)),e._events.push(it(o,r,f?x(f)?f:f.call(e):null,a,g(h)?{passive:h,capture:s}:s)))}function u(t){return function(e){if(e.target===e.currentTarget||e.target===e.current)return t.call(null,e)}}function h(t,e){return t.every(function(t){return!t||!n(t,e)})}function d(t){return function(e){return ii(e.detail)?t.apply(void 0,[e].concat(e.detail)):t(e)}}function f(t,e){return t===Boolean?E(e):t===Number?M(e):"list"===t?C(e):"media"===t?y(e):t?t(e):e}function y(t){if(x(t))if("@"===t[0]){var e="media-"+t.substr(1);t=T(qt(e))}else if(isNaN(t))return t;return!(!t||isNaN(t))&&"(min-width: "+t+"px)"}function m(t,e){var n=t.data,i=t.el,r=e.args,o=e.props;if(void 0===o&&(o={}),n=ii(n)?r&&r.length?n.slice(0,r.length).reduce(function(t,e,n){return p(e)?ai(t,e):t[r[n]]=e,t},{}):void 0:n)for(var a in n)w(n[a])?delete n[a]:n[a]=o[a]?f(o[a],n[a],i):n[a];return n}var v=0;e.prototype._init=function(t){t=t||{},t.data=m(t,this.constructor.options),this.$options=Ee(this.constructor.options,t,this),this.$el=null,this.$props={},this._frames={reads:{},writes:{}},this._events=[],this._uid=v++,this._initData(),this._initMethods(),this._initComputeds(),this._callHook("created"),t.el&&this.$mount(t.el)},e.prototype._initData=function(){var t=this,e=this.$options,n=e.data;void 0===n&&(n={});for(var i in n)t.$props[i]=t[i]=n[i]},e.prototype._initMethods=function(){var e=this,n=this.$options,i=n.methods;if(i)for(var r in i)e[r]=t(i[r],e)},e.prototype._initComputeds=function(){var t=this,e=this.$options,n=e.computed;if(this._resetComputeds(),n)for(var i in n)a(t,i,n[i])},e.prototype._resetComputeds=function(){this._computeds={}},e.prototype._initProps=function(t){var e,n=this;this._resetComputeds(),t=t||o(this.$options,this.$name);for(e in t)w(t[e])||(n.$props[e]=t[e]);var i=[this.$options.computed,this.$options.methods];for(e in n.$props)e in t&&h(i,e)&&(n[e]=n.$props[e])},e.prototype._initEvents=function(){var t=this,e=this.$options,i=e.events;i&&i.forEach(function(e){if(n(e,"handler"))l(t,e);else for(var i in e)l(t,e[i],i)})},e.prototype._unbindEvents=function(){this._events.forEach(function(t){return t()}),this._events=[]},e.prototype._initObserver=function(){var t=this,e=this.$options,n=e.attrs,r=e.props,a=e.el;if(!this._observer&&r&&n){n=ii(n)?n:Object.keys(r),this._observer=new MutationObserver(function(){var e=o(t.$options,t.$name);n.some(function(n){return!w(e[n])&&e[n]!==t.$props[n]})&&t.$reset()});var s=n.map(function(t){return i(t)}).concat(this.$name);this._observer.observe(a,{attributes:!0,attributeFilter:s.concat(s.map(function(t){return"data-"+t}))})}}}(ar),function(t){var e=t.data,n={};t.component=function(e,r){if(!r)return p(n[e])&&(n[e]=t.extend(n[e])),n[e];t[e]=function(n,i){function r(n){var r=t.getComponent(n,e);if(r){if(!i)return r;r.$destroy()}return new s({el:n,data:i})}for(var o=arguments.length,a=Array(o);o--;)a[o]=arguments[o];var s=t.component(e);return p(n)?new s({data:n}):s.options.functional?new s({data:[].concat(a)}):n&&n.nodeType?r(n):Kt(n).map(r)[0]};var o=p(r)?ai({},r):r.options;if(o.name=e,o.install&&o.install(t,o,e),t._initialized&&!o.functional){var a=i(e);Xi.read(function(){return t[e]("[uk-"+a+"],[data-uk-"+a+"]")})}return n[e]=p(r)?o:r},t.getComponents=function(t){return t&&t[e]||{}},t.getComponent=function(e,n){return t.getComponents(e)[n]},t.connect=function(i){if(i[e])for(var r in i[e])i[e][r]._callConnected();for(var o=0;o<i.attributes.length;o++){var a=Ie(i.attributes[o].name);a&&a in n&&t[a](i)}},t.disconnect=function(t){for(var n in t[e])t[e][n]._callDisconnected()}}(ar),function(t){var e=t.data;t.prototype.$mount=function(t){var n=this.$options,i=n.name;t[e]||(t[e]={}),t[e][i]||(t[e][i]=this,this.$el=this.$options.el=this.$options.el||t,this._callHook("init"),nt(t,document)&&this._callConnected())},t.prototype.$emit=function(t){this._callUpdate(t)},t.prototype.$reset=function(){this._callDisconnected(),this._callConnected()},t.prototype.$destroy=function(t){void 0===t&&(t=!1);var n=this.$options,i=n.el,r=n.name;i&&this._callDisconnected(),this._callHook("destroy"),i&&i[e]&&(delete i[e][r],Object.keys(i[e]).length||delete i[e],t&&Lt(this.$el))},t.prototype.$create=function(e,n,i){return t[e](n,i)},t.prototype.$update=t.update,t.prototype.$getComponent=t.getComponent;var n={};Object.defineProperties(t.prototype,{$container:Object.getOwnPropertyDescriptor(t,"container"),$name:{get:function(){var e=this.$options,r=e.name;return n[r]||(n[r]=t.prefix+i(r)),n[r]}}})}(ar);var sr,lr,ur,cr={connected:function(){Ot(this.$el,this.$name)}},hr={props:{cls:Boolean,animation:"list",duration:Number,origin:String,transition:String,queued:Boolean},data:{cls:!1,animation:[!1],duration:200,origin:!1,transition:"linear",queued:!1,initProps:{overflow:"",height:"",paddingTop:"",paddingBottom:"",marginTop:"",marginBottom:""},hideProps:{overflow:"hidden",height:0,paddingTop:0,paddingBottom:0,marginTop:0,marginBottom:0}},computed:{hasAnimation:function(t){return!!t.animation[0]},hasTransition:function(t){var e=t.animation;return this.hasAnimation&&!0===e[0]}},methods:{toggleElement:function(t,e,n){var i=this;return new mi(function(r){t=A(t);var o,a=function(t){return mi.all(t.map(function(t){return i._toggleElement(t,e,n)}))},s=t.filter(function(t){return i.isToggled(t)}),l=t.filter(function(t){return!u(s,t)});if(i.queued&&w(n)&&w(e)&&i.hasAnimation&&!(t.length<2)){var c=document.body,h=c.scrollTop,p=s[0],d=zi.inProgress(p)&&Ft(p,"uk-animation-leave")||ki.inProgress(p)&&"0px"===p.style.height;o=a(s),d||(o=o.then(function(){var t=a(l);return c.scrollTop=h,t}))}else o=a(l.concat(s));o.then(r,z)})},toggleNow:function(t,e){var n=this;return new mi(function(i){return mi.all(A(t).map(function(t){return n._toggleElement(t,e,!1)})).then(i,z)})},isToggled:function(t){var e=A(t||this.$el);return this.cls?Ft(e,this.cls.split(" ")[0]):!N(e,"hidden")},updateAria:function(t){!1===this.cls&&B(t,"aria-hidden",!this.isToggled(t))},_toggleElement:function(t,e,n){var i=this;if(e=g(e)?e:zi.inProgress(t)?Ft(t,"uk-animation-leave"):ki.inProgress(t)?"0px"===t.style.height:!this.isToggled(t),!at(t,"before"+(e?"show":"hide"),[this]))return mi.reject();var r=(!1!==n&&this.hasAnimation?this.hasTransition?this._toggleHeight:this._toggleAnimation:this._toggleImmediate)(t,e);return at(t,e?"show":"hide",[this]),r.then(function(){at(t,e?"shown":"hidden",[i]),i.$update(t)})},_toggle:function(t,e){if(t){var n;this.cls?(n=u(this.cls," ")||Boolean(e)!==Ft(t,this.cls))&&Ut(t,this.cls,u(this.cls," ")?void 0:e):(n=Boolean(e)===N(t,"hidden"))&&B(t,"hidden",e?null:""),Kt("[autofocus]",t).some(function(t){return Q(t)&&(t.focus()||!0)}),this.updateAria(t),n&&this.$update(t)}},_toggleImmediate:function(t,e){return this._toggle(t,e),mi.resolve()},_toggleHeight:function(t,e){var n=this,i=ki.inProgress(t),r=t.hasChildNodes?T(Gt(t.firstElementChild,"marginTop"))+T(Gt(t.lastElementChild,"marginBottom")):0,o=Q(t)?Di(t)+(i?0:r):0;ki.cancel(t),this.isToggled(t)||this._toggle(t,!0),Di(t,""),Xi.flush();var a=Di(t)+(i?0:r);return Di(t,o),(e?ki.start(t,ai({},this.initProps,{overflow:"hidden",height:a}),Math.round(this.duration*(1-o/a)),this.transition):ki.start(t,this.hideProps,Math.round(this.duration*(o/a)),this.transition).then(function(){return n._toggle(t,!1)})).then(function(){return Gt(t,n.initProps)})},_toggleAnimation:function(t,e){var n=this;return zi.cancel(t),e?(this._toggle(t,!0),zi.in(t,this.animation[0],this.duration,this.origin)):zi.out(t,this.animation[1]||this.animation[0],this.duration,this.origin).then(function(){return n._toggle(t,!1)})}}},pr={mixins:[cr,hr],props:{targets:String,active:null,collapsible:Boolean,multiple:Boolean,toggle:String,content:String,transition:String},data:{targets:"> *",active:!1,animation:[!0],collapsible:!0,multiple:!1,clsOpen:"uk-open",toggle:"> .uk-accordion-title",content:"> .uk-accordion-content",transition:"ease"},computed:{items:function(t,e){return Kt(t.targets,e)}},events:[{name:"click",delegate:function(){return this.targets+" "+this.$props.toggle},handler:function(t){t.preventDefault(),this.toggle(_t(Kt(this.targets+" "+this.$props.toggle,this.$el),t.current))}}],connected:function(){if(!1!==this.active){var t=this.items[Number(this.active)];t&&!Ft(t,this.clsOpen)&&this.toggle(t,!1)}},update:function(){var t=this;this.items.forEach(function(e){return t._toggleImmediate(Jt(t.content,e),Ft(e,t.clsOpen))});var e=!this.collapsible&&!Ft(this.items,this.clsOpen)&&this.items[0];e&&this.toggle(e,!1)},methods:{toggle:function(t,e){var n=this,i=bt(t,this.items),r=et(this.items,"."+this.clsOpen);(t=this.items[i])&&[t].concat(!this.multiple&&!u(r,t)&&r||[]).forEach(function(i){var o=i===t,a=o&&!Ft(i,n.clsOpen);if(a||!o||n.collapsible||!(r.length<2)){Ut(i,n.clsOpen,a);var s=i._wrapper?i._wrapper.firstElementChild:Jt(n.content,i);i._wrapper||(i._wrapper=kt(s,"<div>"),B(i._wrapper,"hidden",a?"":null)),n._toggleImmediate(s,!0),n.toggleElement(i._wrapper,a,e).then(function(){Ft(i,n.clsOpen)===a&&(a||n._toggleImmediate(s,!1),i._wrapper=null,It(s))})}})}}},dr={mixins:[cr,hr],args:"animation",attrs:!0,props:{close:String},data:{animation:[!0],selClose:".uk-alert-close",duration:150,hideProps:ai({opacity:0},hr.data.hideProps)},events:[{name:"click",delegate:function(){return this.selClose},handler:function(t){t.preventDefault(),this.close()}}],methods:{close:function(){var t=this;this.toggleElement(this.$el).then(function(){return t.$destroy(!0)})}}},fr={args:"autoplay",props:{automute:Boolean,autoplay:Boolean},data:{automute:!1,autoplay:!0},computed:{inView:function(t){return"inview"===t.autoplay}},connected:function(){this.inView&&!N(this.$el,"preload")&&(this.$el.preload="none")},ready:function(){this.player=new Ki(this.$el),this.automute&&this.player.mute()},update:[{read:function(t,e){var n=e.type;return!(!this.player||!("scroll"!==n&&"resize"!==n||this.inView))&&{visible:Q(this.$el)&&"hidden"!==Gt(this.$el,"visibility"),inView:this.inView&&ce(this.$el)}},write:function(t){var e=t.visible,n=t.inView;!e||this.inView&&!n?this.player.pause():(!0===this.autoplay||this.inView&&n)&&this.player.play()},events:["load","resize","scroll"]}]},yr={mixins:[cr,fr],props:{width:Number,height:Number},data:{automute:!0},update:{read:function(){var t=this.$el;if(!Q(t))return!1;var e=t.parentNode;return{height:e.offsetHeight,width:e.offsetWidth}},write:function(t){var e=t.height,n=t.width,i=this.$el,r=this.width||i.naturalWidth||i.videoWidth||i.clientWidth,o=this.height||i.naturalHeight||i.videoHeight||i.clientHeight;r&&o&&Gt(i,si.cover({width:r,height:o},{width:n+(n%2?1:0),height:e+(e%2?1:0)}))},events:["load","resize"]}},mr={props:{pos:String,offset:null,flip:Boolean,clsPos:String},data:{pos:"bottom-"+(Fi?"right":"left"),flip:!0,offset:!1,clsPos:""},computed:{pos:function(t){var e=t.pos;return(e+(u(e,"-")?"":"-center")).split("-")},dir:function(){return this.pos[0]},align:function(){return this.pos[1]}},methods:{positionAt:function(t,e,n){Bt(t,this.clsPos+"-(top|bottom|left|right)(-[a-z]+)?"),Gt(t,{top:"",left:""});var i,r=this,o=r.offset;o=b(o)?o:(i=Jt(o))?ee(i)["x"===a?"left":"top"]-ee(e)["x"===a?"right":"bottom"]:0;var a=this.getAxis(),s=te(t,e,"x"===a?ue(this.dir)+" "+this.align:this.align+" "+ue(this.dir),"x"===a?this.dir+" "+this.align:this.align+" "+this.dir,"x"===a?""+("left"===this.dir?-o:o):" "+("top"===this.dir?-o:o),null,this.flip,n).target,l=s.x,u=s.y;this.dir="x"===a?l:u,this.align="x"===a?u:l,Ut(t,this.clsPos+"-"+this.dir+"-"+this.align,!1===this.offset)},getAxis:function(){return"top"===this.dir||"bottom"===this.dir?"y":"x"}}},vr={mixins:[mr,hr],args:"pos",props:{mode:"list",toggle:Boolean,boundary:Boolean,boundaryAlign:Boolean,delayShow:Number,delayHide:Number,clsDrop:String},data:{mode:["click","hover"],toggle:"- *",boundary:window,boundaryAlign:!1,delayShow:0,delayHide:800,clsDrop:!1,hoverIdle:200,animation:["uk-animation-fade"],cls:"uk-open"},computed:{boundary:function(t,e){return V(t.boundary,e)},clsDrop:function(t){return t.clsDrop||"uk-"+this.$options.name},clsPos:function(){return this.clsDrop}},init:function(){this.tracker=new _e},connected:function(){Ot(this.$el,this.clsDrop);var t=this.$props,e=t.toggle;this.toggle=e&&this.$create("toggle",V(e,this.$el),{target:this.$el,mode:this.mode}),this.updateAria(this.$el)},events:[{name:"click",delegate:function(){return"."+this.clsDrop+"-close"},handler:function(t){t.preventDefault(),this.hide(!1)}},{name:"click",delegate:function(){return'a[href^="#"]'},handler:function(t){if(!t.defaultPrevented){var e=t.target.hash;e||t.preventDefault(),e&&nt(e,this.$el)||this.hide(!1)}}},{name:"beforescroll",handler:function(){this.hide(!1)}},{name:"toggle",self:!0,handler:function(t,e){t.preventDefault(),this.isToggled()?this.hide(!1):this.show(e,!1)}},{name:qi,filter:function(){return u(this.mode,"hover")},handler:function(t){Le(t)||(sr&&sr!==this&&sr.toggle&&u(sr.toggle.mode,"hover")&&!nt(t.target,sr.toggle.$el)&&!D({x:t.pageX,y:t.pageY},ee(sr.$el))&&sr.hide(!1),t.preventDefault(),this.show(this.toggle))}},{name:"toggleshow",handler:function(t,e){e&&!u(e.target,this.$el)||(t.preventDefault(),this.show(e||this.toggle))}},{name:"togglehide "+Yi,handler:function(t,e){Le(t)||e&&!u(e.target,this.$el)||(t.preventDefault(),this.toggle&&u(this.toggle.mode,"hover")&&this.hide())}},{name:"beforeshow",self:!0,handler:function(){this.clearTimers(),zi.cancel(this.$el),this.position()}},{name:"show",self:!0,handler:function(){this.tracker.init(),this.toggle&&(Ot(this.toggle.$el,this.cls),B(this.toggle.$el,"aria-expanded","true")),ze()}},{name:"beforehide",self:!0,handler:function(){this.clearTimers()}},{name:"hide",handler:function(t){var e=t.target;if(this.$el!==e)return void(sr=null===sr&&nt(e,this.$el)&&this.isToggled()?this:sr);sr=this.isActive()?null:sr,this.toggle&&(Dt(this.toggle.$el,this.cls),B(this.toggle.$el,"aria-expanded","false"),this.toggle.$el.blur(),Kt("a, button",this.toggle.$el).forEach(function(t){return t.blur()})),this.tracker.cancel()}}],update:{write:function(){this.isToggled()&&!zi.inProgress(this.$el)&&this.position()},events:["resize"]},methods:{show:function(t,e){var n=this;void 0===e&&(e=!0);var i=function(){return!n.isToggled()&&n.toggleElement(n.$el,!0)},r=function(){if(n.toggle=t||n.toggle,n.clearTimers(),!n.isActive()){if(e&&sr&&sr!==n&&sr.isDelaying)return void(n.showTimer=setTimeout(n.show,10));if(n.isParentOf(sr)){if(!sr.hideTimer)return;sr.hide(!1)}else if(sr&&!n.isChildOf(sr)&&!n.isParentOf(sr))for(var r;sr&&sr!==r&&!n.isChildOf(sr);)r=sr,sr.hide(!1);e&&n.delayShow?n.showTimer=setTimeout(i,n.delayShow):i(),sr=n}};t&&this.toggle&&t.$el!==this.toggle.$el?(ot(this.$el,"hide",r),this.hide(!1)):r()},hide:function(t){var e=this;void 0===t&&(t=!0);var n=function(){return e.toggleNow(e.$el,!1)};this.clearTimers(),this.isDelaying=this.tracker.movesTo(this.$el),t&&this.isDelaying?this.hideTimer=setTimeout(this.hide,this.hoverIdle):t&&this.delayHide?this.hideTimer=setTimeout(n,this.delayHide):n()},clearTimers:function(){clearTimeout(this.showTimer),clearTimeout(this.hideTimer),this.showTimer=null,this.hideTimer=null,this.isDelaying=!1},isActive:function(){return sr===this},isChildOf:function(t){return t&&t!==this&&nt(this.$el,t.$el)},isParentOf:function(t){return t&&t!==this&&nt(t.$el,this.$el)},position:function(){Bt(this.$el,this.clsDrop+"-(stack|boundary)"),Gt(this.$el,{top:"",left:"",display:"block"}),Ut(this.$el,this.clsDrop+"-boundary",this.boundaryAlign);var t=ee(this.boundary),e=this.boundaryAlign?t:ee(this.toggle.$el);if("justify"===this.align){var n="y"===this.getAxis()?"width":"height";Gt(this.$el,n,e[n])}else this.$el.offsetWidth>Math.max(t.right-e.left,e.right-t.left)&&Ot(this.$el,this.clsDrop+"-stack");this.positionAt(this.$el,this.boundaryAlign?this.boundary:this.toggle.$el,this.boundary),Gt(this.$el,"display","")}}},gr={extends:vr},xr={mixins:[cr],args:"target",props:{target:Boolean},data:{target:!1},computed:{input:function(t,e){return Jt(yi,e)},state:function(){return this.input.nextElementSibling},target:function(t,e){var n=t.target;return n&&(!0===n&&this.input.parentNode===e&&this.input.nextElementSibling||V(n,e))}},update:function(){var t=this,e=t.target,n=t.input;if(e){var i,r=tt(e)?"value":"textContent",o=e[r],a=n.files&&n.files[0]?n.files[0].name:X(n,"select")&&(i=Kt("option",n).filter(function(t){return t.selected})[0])?i.textContent:n.value;o!==a&&(e[r]=a)}},events:[{name:"focusin focusout mouseenter mouseleave",delegate:yi,handler:function(t){var e=t.type;t.current===this.input&&Ut(this.state,"uk-"+(u(e,"focus")?"focus":"hover"),u(["focusin","mouseenter"],e))}},{name:"change",handler:function(){this.$emit()}}]},_r={update:{read:function(t){var e=ce(this.$el);if(!e||t.isInView===e)return!1;t.isInView=e},write:function(){this.$el.src=this.$el.src},events:["scroll","load","resize"]}},br={props:{margin:String,firstColumn:Boolean},data:{margin:"uk-margin-small-top",firstColumn:"uk-first-column"},update:{read:function(t){var e=this.$el.children,n=[[]];if(!e.length||!Q(this.$el))return t.rows=n;t.rows=Oe(e),t.stacks=!t.rows.some(function(t){return t.length>1})},write:function(t){var e=this;t.rows.forEach(function(t,n){return t.forEach(function(t,i){Ut(t,e.margin,0!==n),Ut(t,e.firstColumn,0===i)})})},events:["load","resize"]}},wr={extends:br,mixins:[cr],attrs:!0,name:"grid",props:{masonry:Boolean,parallax:Number},data:{margin:"uk-grid-margin",clsStack:"uk-grid-stack",masonry:!1,parallax:0},computed:{length:function(t,e){return e.children.length},parallax:function(t){var e=t.parallax;return e&&this.length?Math.abs(e):""}},connected:function(){this.masonry&&Ot(this.$el,"uk-flex-top uk-flex-wrap-top")},update:[{read:function(t){var e=t.rows;(this.masonry||this.parallax)&&(e=e.map(function(t){return I(t,"offsetLeft")}));var n=e.some(function(t){return t.some(function(t){return"static"===Gt(t,"position")})}),i=!1,r="";if(this.masonry&&this.length){var o=0;i=e.reduce(function(t,n,i){return t[i]=n.map(function(n,r){return 0===i?0:T(t[i-1][r])+(o-T(e[i-1][r]&&e[i-1][r].offsetHeight))}),o=n.reduce(function(t,e){return Math.max(t,e.offsetHeight)},0),t},[]),r=Ne(e)+Be(this.$el,this.margin)*(e.length-1)}return{rows:e,translates:i,height:!!n&&r}},write:function(t){var e=t.stacks,n=t.height;Ut(this.$el,this.clsStack,e),Gt(this.$el,"paddingBottom",this.parallax),!1!==n&&Gt(this.$el,"height",n)},events:["load","resize"]},{read:function(t){var e=t.height;return{scrolled:!!this.parallax&&he(this.$el,e?e-Di(this.$el):0)*this.parallax}},write:function(t){var e=t.rows,n=t.scrolled,i=t.translates;(!1!==n||i)&&e.forEach(function(t,e){return t.forEach(function(t,r){return Gt(t,"transform",n||i?"translateY("+((i&&-i[e][r])+(n?r%2?n:n/8:0))+"px)":"")})})},events:["scroll","load","resize"]}]},Er={args:"target",props:{target:String,row:Boolean},data:{target:"> *",row:!0},computed:{elements:function(t,e){return Kt(t.target,e)}},update:{read:function(){var t=this;return Gt(this.elements,{minHeight:"",boxSizing:""}),{rows:this.row?Oe(this.elements).map(function(e){return t.match(e)}):[this.match(this.elements)]}},write:function(t){t.rows.forEach(function(t){var e=t.height;return Gt(t.elements,{minHeight:e,boxSizing:"border-box"})})},events:["load","resize"]},methods:{match:function(t){if(t.length<2)return{};var e=[],n=0;return t.forEach(function(t){var i=ee(t),r=i.height;n=Math.max(n,r),e.push(r)}),t=t.filter(function(t,i){return e[i]<n}),{height:n,elements:t}}}},Mr={props:{expand:Boolean,offsetTop:Boolean,offsetBottom:Boolean,minHeight:Number},data:{expand:!1,offsetTop:!1,offsetBottom:!1,minHeight:0},connected:function(){Gt(this.$el,"boxSizing","border-box")},update:{read:function(){var t=Di(window),e="";if(this.expand)e=t-(Fe(document.documentElement)-Fe(this.$el))||"";else{var n=ee(this.$el),i=n.top;e="calc(100vh",i<t/2&&this.offsetTop&&(e+=" - "+i+"px"),!0===this.offsetBottom?e+=" - "+Fe(this.$el.nextElementSibling)+"px":b(this.offsetBottom)?e+=" - "+this.offsetBottom+"vh":this.offsetBottom&&l(this.offsetBottom,"px")?e+=" - "+T(this.offsetBottom)+"px":x(this.offsetBottom)&&(e+=" - "+Fe(V(this.offsetBottom,this.$el))+"px"),e+=")"}return{minHeight:e,viewport:t}},write:function(t){var e=t.minHeight;Gt(this.$el,{height:"",minHeight:e}),this.minHeight&&T(Gt(this.$el,"minHeight"))<this.minHeight&&Gt(this.$el,"minHeight",this.minHeight);var n;(n=Math.round(T(Gt(this.$el,"minHeight"))))>=Fe(this.$el)&&Gt(this.$el,"height",n)},events:["load","resize"]}},Tr={},Sr={attrs:!0,props:{id:String,icon:String,src:String,style:String,width:Number,height:Number,ratio:Number,class:String},data:{ratio:1,id:!1,exclude:["ratio","src","icon"],class:""},connected:function(){var t,e=this;if(this.class+=" uk-svg",!this.icon&&u(this.src,"#")){var n=this.src.split("#");n.length>1&&(t=n,this.src=t[0],this.icon=t[1])}this.svg=this.getSvg().then(function(t){var n;if(x(t)?(e.icon&&u(t,"<symbol")&&(t=Ue(t,e.icon)||t),n=Jt(t.substr(t.indexOf("<svg")))):n=t.cloneNode(!0),!n)return mi.reject("SVG not found.");var i=B(n,"viewBox");i&&(i=i.split(" "),e.width=e.$props.width||i[2],e.height=e.$props.height||i[3]),e.width*=e.ratio,e.height*=e.ratio;for(var r in e.$options.props)e[r]&&!u(e.exclude,r)&&B(n,r,e[r]);e.id||F(n,"id"),e.width&&!e.height&&F(n,"height"),e.height&&!e.width&&F(n,"width");var o=e.$el;if(K(o)||"CANVAS"===o.tagName){B(o,{hidden:!0,id:null});var a=o.nextElementSibling;a&&n.isEqualNode(a)?n=a:At(o,n)}else{var s=o.lastElementChild;s&&n.isEqualNode(s)?n=s:Tt(o,n)}return e.svgEl=n,n},z)},disconnected:function(){var t=this;K(this.$el)&&B(this.$el,{hidden:null,id:this.id||null}),this.svg&&this.svg.then(function(e){return(!t._connected||e!==t.svgEl)&&Lt(e)},z),this.svg=this.svgEl=null},methods:{getSvg:function(){var t=this;return this.src?Tr[this.src]?Tr[this.src]:(Tr[this.src]=new mi(function(e,n){s(t.src,"data:")?e(decodeURIComponent(t.src.split(",")[1])):mt(t.src).then(function(t){return e(t.response)},function(){return n("SVG not found.")})}),Tr[this.src]):mi.reject()}}},Ar=/<symbol(.*?id=(['"])(.*?)\2[^]*?<\/)symbol>/g,Cr={},Lr={},kr={spinner:'<svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><circle fill="none" stroke="#000" cx="15" cy="15" r="14"/></svg>',totop:'<svg width="18" height="10" viewBox="0 0 18 10" xmlns="http://www.w3.org/2000/svg"><polyline fill="none" stroke="#000" stroke-width="1.2" points="1 9 9 1 17 9 "/></svg>',marker:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><rect x="9" y="4" width="1" height="11"/><rect x="4" y="9" width="11" height="1"/></svg>',"close-icon":'<svg width="14" height="14" viewBox="0 0 14 14" xmlns="http://www.w3.org/2000/svg"><line fill="none" stroke="#000" stroke-width="1.1" x1="1" y1="1" x2="13" y2="13"/><line fill="none" stroke="#000" stroke-width="1.1" x1="13" y1="1" x2="1" y2="13"/></svg>',"close-large":'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><line fill="none" stroke="#000" stroke-width="1.4" x1="1" y1="1" x2="19" y2="19"/><line fill="none" stroke="#000" stroke-width="1.4" x1="19" y1="1" x2="1" y2="19"/></svg>',"navbar-toggle-icon":'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><rect y="9" width="20" height="2"/><rect y="3" width="20" height="2"/><rect y="15" width="20" height="2"/></svg>',"overlay-icon":'<svg width="40" height="40" viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg"><rect x="19" y="0" width="1" height="40"/><rect x="0" y="19" width="40" height="1"/></svg>',"pagination-next":'<svg width="7" height="12" viewBox="0 0 7 12" xmlns="http://www.w3.org/2000/svg"><polyline fill="none" stroke="#000" stroke-width="1.2" points="1 1 6 6 1 11"/></svg>',"pagination-previous":'<svg width="7" height="12" viewBox="0 0 7 12" xmlns="http://www.w3.org/2000/svg"><polyline fill="none" stroke="#000" stroke-width="1.2" points="6 1 1 6 6 11"/></svg>',"search-icon":'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle fill="none" stroke="#000" stroke-width="1.1" cx="9" cy="9" r="7"/><path fill="none" stroke="#000" stroke-width="1.1" d="M14,14 L18,18 L14,14 Z"/></svg>',"search-large":'<svg width="40" height="40" viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg"><circle fill="none" stroke="#000" stroke-width="1.8" cx="17.5" cy="17.5" r="16.5"/><line fill="none" stroke="#000" stroke-width="1.8" x1="38" y1="39" x2="29" y2="30"/></svg>',"search-navbar":'<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><circle fill="none" stroke="#000" stroke-width="1.1" cx="10.5" cy="10.5" r="9.5"/><line fill="none" stroke="#000" stroke-width="1.1" x1="23" y1="23" x2="17" y2="17"/></svg>',"slidenav-next":'<svg width="14px" height="24px" viewBox="0 0 14 24" xmlns="http://www.w3.org/2000/svg"><polyline fill="none" stroke="#000" stroke-width="1.4" points="1.225,23 12.775,12 1.225,1 "/></svg>',"slidenav-next-large":'<svg width="25px" height="40px" viewBox="0 0 25 40" xmlns="http://www.w3.org/2000/svg"><polyline fill="none" stroke="#000" stroke-width="2" points="4.002,38.547 22.527,20.024 4,1.5 "/></svg>',"slidenav-previous":'<svg width="14px" height="24px" viewBox="0 0 14 24" xmlns="http://www.w3.org/2000/svg"><polyline fill="none" stroke="#000" stroke-width="1.4" points="12.775,1 1.225,12 12.775,23 "/></svg>',"slidenav-previous-large":'<svg width="25px" height="40px" viewBox="0 0 25 40" xmlns="http://www.w3.org/2000/svg"><polyline fill="none" stroke="#000" stroke-width="2" points="20.527,1.5 2,20.024 20.525,38.547 "/></svg>'},Pr={install:je,attrs:["icon","ratio"],mixins:[cr,Sr],args:"icon",props:["icon"],data:{exclude:["id","style","class","src","icon","ratio"]},isIcon:!0,connected:function(){Ot(this.$el,"uk-icon")},methods:{getSvg:function(){var t=Ve(Ge(this.icon));return t?mi.resolve(t):mi.reject("Icon not found.")}}},Ir={extends:Pr,data:function(t){return{icon:i(t.constructor.options.name)}}},Rr={extends:Ir,connected:function(){Ot(this.$el,"uk-slidenav")},computed:{icon:function(t,e){var n=t.icon;return Ft(e,"uk-slidenav-large")?n+"-large":n}}},zr={extends:Ir,computed:{icon:function(t,e){var n=t.icon;return Ft(e,"uk-search-icon")&&Z(e,".uk-search-large").length?"search-large":Z(e,".uk-search-navbar").length?"search-navbar":n}}},Or={extends:Ir,computed:{icon:function(){return"close-"+(Ft(this.$el,"uk-close-large")?"large":"icon")}}},Dr={extends:Ir,connected:function(){var t=this;this.svg.then(function(e){return 1!==t.ratio&&Gt(Jt("circle",e),"strokeWidth",1/t.ratio)},z)}},Br={attrs:!0,props:{dataSrc:String,dataSrcset:Boolean,sizes:String,width:Number,height:Number,offsetTop:String,offsetLeft:String,target:String},data:{dataSrc:"",dataSrcset:!1,sizes:!1,width:!1,height:!1,offsetTop:"50vh",offsetLeft:0,target:!1},computed:{cacheKey:function(t){var e=t.dataSrc;return this.$name+"."+e},width:function(t){var e=t.width,n=t.dataWidth;return e||n},height:function(t){var e=t.height,n=t.dataHeight;return e||n},sizes:function(t){var e=t.sizes,n=t.dataSizes;return e||n},isImg:function(t,e){return $e(e)},target:function(t){var e=t.target;return[this.$el].concat(G(e,this.$el))},offsetTop:function(t){return Ye(t.offsetTop,"height")},offsetLeft:function(t){return Ye(t.offsetLeft,"width")}},connected:function(){ur[this.cacheKey]?He(this.$el,ur[this.cacheKey]||this.dataSrc,this.dataSrcset,this.sizes):this.isImg&&this.width&&this.height&&He(this.$el,We(this.width,this.height,this.sizes))},update:[{read:function(t){var e=this,n=t.delay,i=t.image;if(n)return i||!this.target.some(function(t){return ce(t,e.offsetTop,e.offsetLeft,!0)})?void(!this.isImg&&i&&i.then(function(t){return t&&He(e.$el,Ze(t))})):{image:vt(this.dataSrc,this.dataSrcset,this.sizes).then(function(t){return He(e.$el,Ze(t),t.srcset,t.sizes),ur[e.cacheKey]=Ze(t),t},z)}},write:function(t){if(!t.delay)return this.$emit(),t.delay=!0},events:["scroll","load","resize"]}]},Nr=/\s*(.*?)\s*(\w+|calc\(.*?\))\s*(?:,|$)/g,Fr=/\d+(?:\w+|%)/g,Ur=/[+-]?(\d+)/g,jr={height:Di,width:Bi};try{ur=window.sessionStorage||{},ur.__test__=1,delete ur.__test__}catch(t){ur={}}var Vr,Gr,Hr,Wr={mixins:[cr],props:{fill:String,media:"media"},data:{fill:"",media:!1,clsWrapper:"uk-leader-fill",clsHide:"uk-leader-hide",attrFill:"data-fill"},computed:{fill:function(t){return t.fill||qt("leader-fill")}},connected:function(){var t;t=Pt(this.$el,'<span class="'+this.clsWrapper+'">'),this.wrapper=t[0]},disconnected:function(){It(this.wrapper.childNodes)},update:[{read:function(t){var e=t.changed,n=t.width,i=n;return n=Math.floor(this.$el.offsetWidth/2),{width:n,changed:e||i!==n,hide:this.media&&!window.matchMedia(this.media).matches}},write:function(t){Ut(this.wrapper,this.clsHide,t.hide),t.changed&&(t.changed=!1,B(this.wrapper,this.attrFill,new Array(t.width).join(this.fill)))},events:["load","resize"]}]},qr={props:{container:Boolean},data:{container:!0},computed:{container:function(t){var e=t.container;return!0===e&&this.$container||e&&Jt(e)}}},Yr={mixins:[cr,qr,hr],props:{selPanel:String,selClose:String,escClose:Boolean,bgClose:Boolean,stack:Boolean},data:{cls:"uk-open",escClose:!0,bgClose:!0,overlay:!0,stack:!1},computed:{panel:function(t,e){return Jt(t.selPanel,e)},transitionElement:function(){return this.panel},transitionDuration:function(){return L(Gt(this.transitionElement,"transitionDuration"))},bgClose:function(t){return t.bgClose&&this.panel}},events:[{name:"click",delegate:function(){return this.selClose},handler:function(t){t.preventDefault(),this.hide()}},{name:"toggle",self:!0,handler:function(t){t.defaultPrevented||(t.preventDefault(),this.toggle())}},{name:"beforeshow",self:!0,handler:function(t){var e=Vr&&Vr!==this&&Vr;if(Vr=this,e){if(!this.stack)return e.hide().then(this.show),void t.preventDefault();this.prev=e}Je()}},{name:"beforehide",self:!0,handler:function(){(Vr=Vr&&Vr!==this&&Vr||this.prev)||Ke()}},{name:"show",self:!0,handler:function(){Ft(document.documentElement,this.clsPage)||(this.scrollbarWidth=Bi(window)-Bi(document),Gt(document.body,"overflowY",this.scrollbarWidth&&this.overlay?"scroll":"")),Ot(document.documentElement,this.clsPage)}},{name:"hidden",self:!0,handler:function(){for(var t,e=this,n=this,i=n.prev;i;){if(i.clsPage===e.clsPage){t=!0;break}i=i.prev}t||Dt(document.documentElement,this.clsPage),!this.prev&&Gt(document.body,"overflowY","")}}],methods:{toggle:function(){return this.isToggled()?this.hide():this.show()},show:function(){return this.isToggled()?mi.resolve():(this.container&&this.$el.parentNode!==this.container&&(Tt(this.container,this.$el),this._callConnected()),this.toggleNow(this.$el,!0))},hide:function(){return this.isToggled()?this.toggleNow(this.$el,!1):mi.resolve()},getActive:function(){return Vr},_toggleImmediate:function(t,e){var n=this;return new mi(function(i){return requestAnimationFrame(function(){n._toggle(t,e),n.transitionDuration?ot(n.transitionElement,"transitionend",i,!1,function(t){return t.target===n.transitionElement}):i()})})}}},Xr={install:Qe,mixins:[Yr],data:{clsPage:"uk-modal-page",selPanel:".uk-modal-dialog",selClose:".uk-modal-close, .uk-modal-close-default, .uk-modal-close-outside, .uk-modal-close-full"},events:[{name:"show",self:!0,handler:function(){Ft(this.panel,"uk-margin-auto-vertical")?Ot(this.$el,"uk-flex"):Gt(this.$el,"display","block"),Di(this.$el)}},{name:"hidden",self:!0,handler:function(){Gt(this.$el,"display",""),Dt(this.$el,"uk-flex")}}]},$r={extends:pr,data:{targets:"> .uk-parent",toggle:"> a",content:"> ul"}},Zr={mixins:[cr],props:{dropdown:String,mode:"list",align:String,offset:Number,boundary:Boolean,boundaryAlign:Boolean,clsDrop:String,delayShow:Number,delayHide:Number,dropbar:Boolean,dropbarMode:String,dropbarAnchor:Boolean,duration:Number},data:{dropdown:".uk-navbar-nav > li",align:Fi?"right":"left",clsDrop:"uk-navbar-dropdown",mode:void 0,offset:void 0,delayShow:void 0,delayHide:void 0,boundaryAlign:void 0,flip:"x",boundary:!0,dropbar:!1,dropbarMode:"slide",dropbarAnchor:!1,duration:200},computed:{boundary:function(t,e){var n=t.boundary,i=t.boundaryAlign;return!0===n||i?e:n},dropbarAnchor:function(t,e){return V(t.dropbarAnchor,e)},pos:function(t){return"bottom-"+t.align},dropdowns:function(t,e){return Kt(t.dropdown+" ."+t.clsDrop,e)}},beforeConnect:function(){var t=this.$props,e=t.dropbar;this.dropbar=e&&(V(e,this.$el)||Jt("+ .uk-navbar-dropbar",this.$el)||Jt("<div></div>")),this.dropbar&&(Ot(this.dropbar,"uk-navbar-dropbar"),"slide"===this.dropbarMode&&Ot(this.dropbar,"uk-navbar-dropbar-slide"))},disconnected:function(){this.dropbar&&Lt(this.dropbar)},update:function(){var t=this;this.$create("drop",this.dropdowns.filter(function(e){return!t.getDropdown(e)}),ai({},this.$props,{boundary:this.boundary,pos:this.pos,offset:this.dropbar||this.offset}))},events:[{name:"mouseover",delegate:function(){return this.dropdown},handler:function(t){var e=t.current,n=this.getActive();n&&n.toggle&&!nt(n.toggle.$el,e)&&!n.tracker.movesTo(n.$el)&&n.hide(!1)}},{name:"mouseleave",el:function(){return this.dropbar},handler:function(){var t=this.getActive();t&&!X(this.dropbar,":hover")&&t.hide()}},{name:"beforeshow",capture:!0,filter:function(){return this.dropbar},handler:function(){this.dropbar.parentNode||At(this.dropbarAnchor||this.$el,this.dropbar)}},{name:"show",capture:!0,filter:function(){return this.dropbar},handler:function(t,e){var n=e.$el,i=e.dir;this.clsDrop&&Ot(n,this.clsDrop+"-dropbar"),"bottom"===i&&this.transitionTo(n.offsetHeight+T(Gt(n,"marginTop"))+T(Gt(n,"marginBottom")),n)}},{name:"beforehide",filter:function(){return this.dropbar},handler:function(t,e){var n=e.$el,i=this.getActive();X(this.dropbar,":hover")&&i&&i.$el===n&&t.preventDefault()}},{name:"hide",filter:function(){return this.dropbar},handler:function(t,e){var n=e.$el,i=this.getActive();(!i||i&&i.$el===n)&&this.transitionTo(0)}}],methods:{getActive:function(){var t=this.dropdowns.map(this.getDropdown).filter(function(t){return t.isActive()}),e=t[0];return e&&u(e.mode,"hover")&&nt(e.toggle.$el,this.$el)&&e},transitionTo:function(t,e){var n=this,i=n.dropbar,r=Q(i)?Di(i):0;return e=r<t&&e,Gt(e,"clip","rect(0,"+e.offsetWidth+"px,"+r+"px,0)"),Di(i,r),ki.cancel([e,i]),mi.all([ki.start(i,{height:t},this.duration),ki.start(e,{clip:"rect(0,"+e.offsetWidth+"px,"+t+"px,0)"},this.duration)]).catch(z).then(function(){return Gt(e,{clip:""})})},getDropdown:function(t){return this.$getComponent(t,"drop")||this.$getComponent(t,"dropdown")}}},Jr={mixins:[Yr],args:"mode",props:{content:String,mode:String,flip:Boolean,overlay:Boolean},data:{content:".uk-offcanvas-content",mode:"slide",flip:!1,overlay:!1,clsPage:"uk-offcanvas-page",clsContainer:"uk-offcanvas-container",selPanel:".uk-offcanvas-bar",clsFlip:"uk-offcanvas-flip",clsContent:"uk-offcanvas-content",clsContentAnimation:"uk-offcanvas-content-animation",clsSidebarAnimation:"uk-offcanvas-bar-animation",clsMode:"uk-offcanvas",clsOverlay:"uk-offcanvas-overlay",selClose:".uk-offcanvas-close"},computed:{content:function(t){return Jt(t.content)||document.body},clsFlip:function(t){var e=t.flip,n=t.clsFlip;return e?n:""},clsOverlay:function(t){var e=t.overlay,n=t.clsOverlay;return e?n:""},clsMode:function(t){var e=t.mode;return t.clsMode+"-"+e},clsSidebarAnimation:function(t){var e=t.mode,n=t.clsSidebarAnimation;return"none"===e||"reveal"===e?"":n},clsContentAnimation:function(t){var e=t.mode,n=t.clsContentAnimation;return"push"!==e&&"reveal"!==e?"":n},transitionElement:function(t){return"reveal"===t.mode?this.panel.parentNode:this.panel}},update:{write:function(){this.getActive()===this&&((this.overlay||this.clsContentAnimation)&&Bi(this.content,Bi(window)-this.scrollbarWidth),this.overlay&&(Di(this.content,Di(window)),Hr&&(this.content.scrollTop=Hr.y)))},events:["resize"]},events:[{name:"click",delegate:function(){return'a[href^="#"]'},handler:function(t){var e=t.current;e.hash&&Jt(e.hash,this.content)&&(Hr=null,this.hide())}},{name:"beforescroll",filter:function(){return this.overlay},handler:function(t,e,n){e&&n&&this.isToggled()&&Jt(n,this.content)&&(ot(this.$el,"hidden",function(){return e.scrollTo(n)}),t.preventDefault())}},{name:"show",self:!0,handler:function(){Hr=Hr||{x:window.pageXOffset,y:window.pageYOffset},"reveal"!==this.mode||Ft(this.panel,this.clsMode)||(kt(this.panel,"<div>"),Ot(this.panel.parentNode,this.clsMode)),Gt(document.documentElement,"overflowY",(!this.clsContentAnimation||this.flip)&&this.scrollbarWidth&&this.overlay?"scroll":""),Ot(document.body,this.clsContainer,this.clsFlip,this.clsOverlay),Di(document.body),Ot(this.content,this.clsContentAnimation),Ot(this.panel,this.clsSidebarAnimation,"reveal"!==this.mode?this.clsMode:""),Ot(this.$el,this.clsOverlay),Gt(this.$el,"display","block"),Di(this.$el)}},{name:"hide",self:!0,handler:function(){Dt(this.content,this.clsContentAnimation);var t=this.getActive();("none"===this.mode||t&&t!==this&&t!==this.prev)&&at(this.panel,"transitionend")}},{name:"hidden",self:!0,handler:function(){if("reveal"===this.mode&&It(this.panel),this.overlay){if(!Hr){var t=this.content,e=t.scrollLeft,n=t.scrollTop;Hr={x:e,y:n}}}else Hr={x:window.pageXOffset,y:window.pageYOffset};Dt(this.panel,this.clsSidebarAnimation,this.clsMode),Dt(this.$el,this.clsOverlay),Gt(this.$el,"display",""),Dt(document.body,this.clsContainer,this.clsFlip,this.clsOverlay),document.body.scrollTop=Hr.y,Gt(document.documentElement,"overflowY",""),Bi(this.content,""),Di(this.content,""),window.scroll(Hr.x,Hr.y),Hr=null}},{name:"swipeLeft swipeRight",handler:function(t){this.isToggled()&&Le(t)&&("swipeLeft"===t.type&&!this.flip||"swipeRight"===t.type&&this.flip)&&this.hide()}}]},Kr={mixins:[cr],props:{selModal:String,selPanel:String},data:{selModal:".uk-modal",selPanel:".uk-modal-dialog"},computed:{modal:function(t,e){return $(e,t.selModal)},panel:function(t,e){return $(e,t.selPanel)}},connected:function(){Gt(this.$el,"minHeight",150)},update:{read:function(){return!(!this.panel||!this.modal)&&{current:T(Gt(this.$el,"maxHeight")),max:Math.max(150,Di(this.modal)-(ee(this.panel).height-Di(this.$el)))}},write:function(t){var e=t.current,n=t.max;Gt(this.$el,"maxHeight",n),Math.round(e)!==Math.round(n)&&at(this.$el,"resize")},events:["load","resize"]}},Qr={props:["width","height"],connected:function(){Ot(this.$el,"uk-responsive-width")},update:{read:function(){return!!(Q(this.$el)&&this.width&&this.height)&&{width:Bi(this.$el.parentNode),height:this.height}},write:function(t){Di(this.$el,si.contain({height:this.height,width:this.width},t).height)},events:["load","resize"]}},to={props:{duration:Number,offset:Number},data:{duration:1e3,offset:0},methods:{scrollTo:function(t){var e=this;t=t&&Jt(t)||document.body;var n=Di(document),i=Di(window),r=ee(t).top-this.offset;if(r+i>n&&(r=n-i),at(this.$el,"beforescroll",[this,t])){var o=Date.now(),a=window.pageYOffset,s=function(){var n=a+(r-a)*tn(R((Date.now()-o)/e.duration));pe(window,n),n!==r?requestAnimationFrame(s):at(e.$el,"scrolled",[e,t])};s()}}},events:{click:function(t){t.defaultPrevented||(t.preventDefault(),this.scrollTo(J(this.$el.hash).substr(1)))}}},eo={args:"cls",props:{cls:"list",target:String,hidden:Boolean,offsetTop:Number,offsetLeft:Number,repeat:Boolean,delay:Number},data:function(){return{cls:[],target:!1,hidden:!0,offsetTop:0,offsetLeft:0,repeat:!1,delay:0,inViewClass:"uk-scrollspy-inview"}},computed:{elements:function(t,e){var n=t.target;return n?Kt(n,e):[e]}},update:[{write:function(){this.hidden&&Gt(et(this.elements,":not(."+this.inViewClass+")"),"visibility","hidden")}},{read:function(t){var e=this;t.delay&&this.elements.forEach(function(n,i){var r=t[i];if(!r||r.el!==n){var o=j(n,"uk-scrollspy-class");r={el:n,toggles:o&&o.split(",")||e.cls}}r.show=ce(n,e.offsetTop,e.offsetLeft),t[i]=r})},write:function(t){var e=this;if(!t.delay)return this.$emit(),t.delay=!0;var n=1===this.elements.length?1:0;this.elements.forEach(function(i,r){var o=t[r],a=o.toggles[r]||o.toggles[0];if(!o.show||o.inview||o.timer)!o.show&&o.inview&&e.repeat&&(o.timer&&(clearTimeout(o.timer),delete o.timer),Gt(i,"visibility",e.hidden?"hidden":""),Dt(i,e.inViewClass),Ut(i,a),at(i,"outview"),e.$update(i),o.inview=!1);else{var s=function(){Gt(i,"visibility",""),Ot(i,e.inViewClass),Ut(i,a),at(i,"inview"),e.$update(i),o.inview=!0,delete o.timer};e.delay&&n?o.timer=setTimeout(s,e.delay*n):s(),n++}})},events:["scroll","load","resize"]}]},no={props:{cls:String,closest:String,scroll:Boolean,overflow:Boolean,offset:Number},data:{cls:"uk-active",closest:!1,scroll:!1,overflow:!0,offset:0},computed:{links:function(t,e){return Kt('a[href^="#"]',e).filter(function(t){return t.hash})},elements:function(){return this.closest?$(this.links,this.closest):this.links},targets:function(){return Kt(this.links.map(function(t){return t.hash}).join(","))}},update:[{read:function(){this.scroll&&this.$create("scroll",this.links,{offset:this.offset||0})}},{read:function(t){var e=this,n=window.pageYOffset+this.offset+1,i=Di(document)-Di(window)+this.offset;t.active=!1,this.targets.every(function(r,o){var a=ee(r),s=a.top,l=o+1===e.targets.length;if(!e.overflow&&(0===o&&s>n||l&&s+r.offsetTop<n))return!1;if(!l&&ee(e.targets[o+1]).top<=n)return!0;if(n>=i)for(var u=e.targets.length-1;u>o;u--)if(ce(e.targets[u])){r=e.targets[u];break}return!(t.active=Jt(et(e.links,'[href="#'+r.id+'"]')))})},write:function(t){var e=t.active;this.links.forEach(function(t){return t.blur()}),Dt(this.elements,this.cls),e&&at(this.$el,"active",[e,Ot(this.closest?$(e,this.closest):e,this.cls)])},events:["scroll","load","resize"]}]},io={mixins:[cr],attrs:!0,props:{top:null,bottom:Boolean,offset:Number,animation:String,clsActive:String,clsInactive:String,clsFixed:String,clsBelow:String,selTarget:String,widthElement:Boolean,showOnUp:Boolean,media:"media",targetOffset:Number},data:{top:0,bottom:!1,offset:0,animation:"",clsActive:"uk-active",clsInactive:"",clsFixed:"uk-sticky-fixed",clsBelow:"uk-sticky-below",selTarget:"",widthElement:!1,showOnUp:!1,media:!1,targetOffset:!1},computed:{selTarget:function(t,e){var n=t.selTarget;return n&&Jt(n,e)||e},widthElement:function(t,e){return V(t.widthElement,e)||this.placeholder}},connected:function(){this.placeholder=Jt("+ .uk-sticky-placeholder",this.$el)||Jt('<div class="uk-sticky-placeholder"></div>'),this.isActive||this.hide()},disconnected:function(){this.isActive&&(this.isActive=!1,this.hide(),Dt(this.selTarget,this.clsInactive)),Lt(this.placeholder),this.placeholder=null,this.widthElement=null},events:[{name:"active",self:!0,handler:function(){Nt(this.selTarget,this.clsInactive,this.clsActive)}},{name:"inactive",self:!0,handler:function(){Nt(this.selTarget,this.clsActive,this.clsInactive)}},{name:"load hashchange popstate",el:window,handler:function(){var t=this;if(!1!==this.targetOffset&&location.hash&&window.pageYOffset>0){var e=Jt(location.hash);e&&Xi.read(function(){var n=ee(e),i=n.top,r=ee(t.$el).top,o=t.$el.offsetHeight;t.isActive&&r+o>=i&&r<=i+e.offsetHeight&&pe(window,i-o-(b(t.targetOffset)?t.targetOffset:0)-t.offset)})}}}],update:[{read:function(){return{height:this.$el.offsetHeight,top:ee(this.isActive?this.placeholder:this.$el).top}},write:function(t){var e=t.height,n=t.top,i=this,r=i.placeholder;Gt(r,ai({height:"absolute"!==Gt(this.$el,"position")?e:""},Gt(this.$el,["marginTop","marginBottom","marginLeft","marginRight"]))),nt(r,document)||(At(this.$el,r),B(r,"hidden","")),this.topOffset=n,this.bottomOffset=this.topOffset+e;var o=en("bottom",this);this.top=Math.max(T(en("top",this)),this.topOffset)-this.offset,this.bottom=o&&o-e,this.inactive=this.media&&!window.matchMedia(this.media).matches},events:["load","resize"]},{read:function(t,e){var n=e.scrollY;return void 0===n&&(n=window.pageYOffset),this.width=(Q(this.widthElement)?this.widthElement:this.$el).offsetWidth,{scroll:this.scroll=n,visible:Q(this.$el)}},write:function(t,e){var n=this,i=t.visible,r=t.scroll;void 0===e&&(e={});var o=e.dir;if(!(r<0||!i||this.disabled||this.showOnUp&&!o))if(this.inactive||r<this.top||this.showOnUp&&(r<=this.top||"down"===o||"up"===o&&!this.isActive&&r<=this.bottomOffset)){if(!this.isActive)return;this.isActive=!1,this.animation&&r>this.topOffset?(zi.cancel(this.$el),zi.out(this.$el,this.animation).then(function(){return n.hide()},z)):this.hide()}else this.isActive?this.update():this.animation?(zi.cancel(this.$el),this.show(),zi.in(this.$el,this.animation).catch(z)):this.show()},events:["load","resize","scroll"]}],methods:{show:function(){this.isActive=!0,this.update(),B(this.placeholder,"hidden",null)},hide:function(){this.isActive&&!Ft(this.selTarget,this.clsActive)||at(this.$el,"inactive"),Dt(this.$el,this.clsFixed,this.clsBelow),Gt(this.$el,{position:"",top:"",width:""}),B(this.placeholder,"hidden","")},update:function(){var t=0!==this.top||this.scroll>this.top,e=Math.max(0,this.offset);this.bottom&&this.scroll>this.bottom-this.offset&&(e=this.bottom-this.scroll),Gt(this.$el,{position:"fixed",top:e+"px",width:this.width}),Ft(this.selTarget,this.clsActive)?t||at(this.$el,"inactive"):t&&at(this.$el,"active"),Ut(this.$el,this.clsBelow,this.scroll>this.bottomOffset),Ot(this.$el,this.clsFixed)}}},ro={mixins:[hr],args:"connect",props:{connect:String,toggle:String,active:Number,swiping:Boolean},data:{connect:"~.uk-switcher",toggle:"> *",active:0,swiping:!0,cls:"uk-active",clsContainer:"uk-switcher",attrItem:"uk-switcher-item",queued:!0},computed:{connects:function(t,e){return G(t.connect,e)},toggles:function(t,e){return Kt(t.toggle,e)}},events:[{name:"click",delegate:function(){return this.toggle+":not(.uk-disabled)"},handler:function(t){t.preventDefault(),this.show(t.current)}},{name:"click",el:function(){return this.connects},delegate:function(){return"["+this.attrItem+"],[data-"+this.attrItem+"]"},handler:function(t){t.preventDefault(),this.show(j(t.current,this.attrItem))}},{name:"swipeRight swipeLeft",filter:function(){return this.swiping},el:function(){return this.connects},handler:function(t){Le(t)&&(t.preventDefault(),window.getSelection().toString()||this.show("swipeLeft"===t.type?"next":"previous"))}}],update:function(){var t=this;this.connects.forEach(function(e){return t.updateAria(e.children)}),this.show(et(this.toggles,"."+this.cls)[0]||this.toggles[this.active]||this.toggles[0])},methods:{index:function(){return!!this.connects.length&&_t(et(this.connects[0].children,"."+this.cls)[0])},show:function(t){for(var e,n=this,i=this.toggles,r=i.length,o=this.index(),a=o>=0,s="previous"===t?-1:1,l=bt(t,this.toggles,o),u=0;u<r;u++,l=(l+s+r)%r)if(!X(n.toggles[l],".uk-disabled, [disabled]")){e=n.toggles[l];break}!e||o>=0&&Ft(e,this.cls)||o===l||(Dt(this.toggles,this.cls),B(this.toggles,"aria-expanded",!1),Ot(e,this.cls),B(e,"aria-expanded",!0),this.connects.forEach(function(t){a?n.toggleElement([t.children[o],t.children[l]]):n.toggleNow(t.children[l])}))}}},oo={mixins:[cr],extends:ro,props:{media:"media"},data:{media:960,attrItem:"uk-tab-item"},connected:function(){var t=Ft(this.$el,"uk-tab-left")?"uk-tab-left":!!Ft(this.$el,"uk-tab-right")&&"uk-tab-right";t&&this.$create("toggle",this.$el,{cls:t,mode:"media",media:this.media})}},ao={mixins:[hr],args:"target",props:{href:String,target:null,mode:"list",media:"media"},data:{href:!1,target:!1,mode:"click",queued:!0,media:!1},computed:{target:function(t,e){var n=t.href,i=t.target;return i=G(i||n,e),i.length&&i||[e]}},events:[{name:qi+" "+Yi,filter:function(){return u(this.mode,"hover")},handler:function(t){Le(t)||this.toggle("toggle"+(t.type===qi?"show":"hide"))}},{name:"click",filter:function(){return u(this.mode,"click")||Vi&&u(this.mode,"hover")},handler:function(t){if(Le(t)||u(this.mode,"click")){var e;($(t.target,'a[href="#"], button')||(e=$(t.target,"a[href]"))&&(this.cls||!Q(this.target)||e.hash&&X(this.target,e.hash)))&&ot(document,"click",function(t){return t.preventDefault()}),this.toggle()}}}],update:{write:function(){if(u(this.mode,"media")&&this.media){var t=this.isToggled(this.target);(window.matchMedia(this.media).matches?!t:t)&&this.toggle()}},events:["load","resize"]},methods:{toggle:function(t){at(this.target,t||"toggle",[this])&&this.toggleElement(this.target)}}};ar.version="3.0.0-rc.11",function(t){t.component("accordion",pr),t.component("alert",dr),t.component("cover",yr),t.component("drop",vr),t.component("dropdown",gr),t.component("formCustom",xr),t.component("gif",_r),t.component("grid",wr),t.component("heightMatch",Er),t.component("heightViewport",Mr),t.component("icon",Pr),t.component("img",Br),t.component("leader",Wr),t.component("margin",br),t.component("modal",Xr),t.component("nav",$r),t.component("navbar",Zr),t.component("offcanvas",Jr),t.component("overflowAuto",Kr),t.component("responsive",Qr),t.component("scroll",to),t.component("scrollspy",eo),t.component("scrollspyNav",no),t.component("sticky",io),t.component("svg",Sr),t.component("switcher",ro),t.component("tab",oo),t.component("toggle",ao),t.component("video",fr),t.component("close",Or),t.component("marker",Ir),t.component("navbarToggleIcon",Ir),t.component("overlayIcon",Ir),t.component("paginationNext",Ir),t.component("paginationPrevious",Ir),t.component("searchIcon",zr),t.component("slidenavNext",Rr),t.component("slidenavPrevious",Rr),t.component("spinner",Dr),t.component("totop",Ir),t.use(Re)}(ar);var so,lo,uo,co,ho={mixins:[cr],attrs:!0,props:{date:String,clsWrapper:String},data:{date:"",clsWrapper:".uk-countdown-%unit%"},computed:{date:function(t){var e=t.date;return Date.parse(e)},days:function(t,e){return Jt(t.clsWrapper.replace("%unit%","days"),e)},hours:function(t,e){return Jt(t.clsWrapper.replace("%unit%","hours"),e)},minutes:function(t,e){return Jt(t.clsWrapper.replace("%unit%","minutes"),e)},seconds:function(t,e){return Jt(t.clsWrapper.replace("%unit%","seconds"),e)},units:function(){var t=this;return["days","hours","minutes","seconds"].filter(function(e){return t[e]})}},connected:function(){this.start()},disconnected:function(){var t=this;this.stop(),this.units.forEach(function(e){return wt(t[e])})},events:[{name:"visibilitychange",el:document,handler:function(){document.hidden?this.stop():this.start()}}],update:{write:function(){var t=this,e=nn(this.date);e.total<=0&&(this.stop(),e.days=e.hours=e.minutes=e.seconds=0),this.units.forEach(function(n){var i=String(Math.floor(e[n]));i=i.length<2?"0"+i:i;var r=t[n];r.textContent!==i&&(i=i.split(""),i.length!==r.children.length&&Et(r,i.map(function(){return"<span></span>"}).join("")),i.forEach(function(t,e){return r.children[e].textContent=t}))})}},methods:{start:function(){var t=this;this.stop(),this.date&&this.units.length&&(this.$emit(),this.timer=setInterval(function(){return t.$emit()},1e3))},stop:function(){this.timer&&(clearInterval(this.timer),this.timer=null)}}},po="uk-animation-target",fo={props:{animation:Number},data:{animation:150},computed:{target:function(){return this.$el}},methods:{animate:function(t){var e=this;sn();var n=A(this.target.children),i=n.map(function(t){return rn(t,!0)}),r=Di(this.target),o=window.pageYOffset;t(),ki.cancel(this.target),n.forEach(ki.cancel),on(this.target),this.$update(this.target),Xi.flush();var a=Di(this.target);n=n.concat(A(this.target.children).filter(function(t){return!u(n,t)}));var s=n.map(function(t,e){return!!(t.parentNode&&e in i)&&(i[e]?Q(t)?an(t):{opacity:0}:{opacity:Q(t)?1:0})});return i=s.map(function(t,r){var o=n[r].parentNode===e.target&&(i[r]||rn(n[r]));if(o)if(t){if(!("opacity"in t)){var a=o.opacity;a%1?t.opacity=1:delete o.opacity}}else delete o.opacity;return o}),Ot(this.target,po),n.forEach(function(t,e){return i[e]&&Gt(t,i[e])}),Gt(this.target,"height",r),pe(window,o),mi.all(n.map(function(t,n){return i[n]&&s[n]?ki.start(t,s[n],e.animation,"ease"):mi.resolve()}).concat(ki.start(this.target,{height:a},this.animation,"ease"))).then(function(){n.forEach(function(t,e){return Gt(t,{display:0===s[e].opacity?"none":"",zIndex:""})}),on(e.target),e.$update(e.target),Xi.flush()},z)}}},yo={mixins:[fo],args:"target",attrs:!0,props:{target:Boolean,selActive:Boolean},data:{target:null,selActive:!1,attrItem:"uk-filter-control",cls:"uk-active",animation:250},computed:{toggles:function(t,e){t.attrItem;return Kt("["+this.attrItem+"],[data-"+this.attrItem+"]",e)},target:function(t,e){return Jt(t.target,e)}},events:[{name:"click",delegate:function(){return"["+this.attrItem+"],[data-"+this.attrItem+"]"},handler:function(t){t.preventDefault(),this.apply(t.current)}}],connected:function(){var t=this;if(!1!==this.selActive){var e=Kt(this.selActive,this.$el);this.toggles.forEach(function(n){return Ut(n,t.cls,u(e,n))})}},update:function(t){var e=t.toggles,n=t.children;hn(e,this.toggles,!1)&&hn(n,this.target.children,!1)||(t.toggles=this.toggles,t.children=this.target.children,this.setState(this.getState(),!1))},methods:{apply:function(t){this.setState(un(t,this.attrItem,this.getState()))},getState:function(){var t=this;return this.toggles.filter(function(e){return Ft(e,t.cls)}).reduce(function(e,n){return un(n,t.attrItem,e)},{filter:{"":""},sort:[]})},setState:function(t,e){var n=this;void 0===e&&(e=!0),t=ai({filter:{"":""},sort:[]},t),at(this.$el,"beforeFilter",[this,t]);var i=A(this.target.children);this.toggles.forEach(function(e){return Ut(e,n.cls,cn(e,n.attrItem,t))});var r=function(){var e=pn(t);i.forEach(function(t){return Gt(t,"display",e&&!X(t,e)?"none":"")});var r=t.sort,o=r[0],a=r[1];if(o){var s=dn(i,o,a);hn(s,i)||s.forEach(function(t){return Tt(n.target,t)})}};e?this.animate(r).then(function(){return at(n.$el,"afterFilter",[n])}):(r(),at(this.$el,"afterFilter",[this]))}}},mo={slide:{show:function(t){return[{transform:yn(-100*t)},{transform:yn()}]},percent:function(t){return fn(t)},translate:function(t,e){return[{transform:yn(-100*e*t)},{transform:yn(100*e*(1-t))}]}}},vo=ai({},mo,{fade:{show:function(){return[{opacity:0},{opacity:1}]},percent:function(t){return 1-Gt(t,"opacity")},translate:function(t){return[{opacity:1-t},{opacity:t}]}},scale:{show:function(){return[{opacity:0,transform:mn(.8)},{opacity:1,transform:mn(1)}]},percent:function(t){return 1-Gt(t,"opacity")},translate:function(t){return[{opacity:1-t,transform:mn(1-.2*t)},{opacity:t,transform:mn(.8+.2*t)}]}}}),go={props:{autoplay:Boolean,autoplayInterval:Number,pauseOnHover:Boolean},data:{autoplay:!1,autoplayInterval:7e3,pauseOnHover:!0},connected:function(){this.startAutoplay()},disconnected:function(){this.stopAutoplay()},events:[{name:"visibilitychange",el:document,handler:function(){document.hidden?this.stopAutoplay():this.startAutoplay()}},{name:Gi,handler:"stopAutoplay"},{name:"mouseenter",filter:function(){return this.autoplay},handler:function(){this.isHovering=!0}},{name:"mouseleave",filter:function(){return this.autoplay},handler:function(){this.isHovering=!1}}],methods:{startAutoplay:function(){var t=this;this.stopAutoplay(),this.autoplay&&(this.interval=setInterval(function(){return!(t.isHovering&&t.pauseOnHover)&&!t.stack.length&&t.show("next")},this.autoplayInterval))},stopAutoplay:function(){this.interval&&clearInterval(this.interval)}}},xo={data:{threshold:10,preventCatch:!1},init:function(){var t=this;["start","move","end"].forEach(function(e){var n=t[e];t[e]=function(e){var i=ke(e).x*(Fi?-1:1);t.prevPos=i!==t.pos?t.pos:t.prevPos,t.pos=i,n(e)}})},events:[{name:Gi,delegate:function(){return this.slidesSelector},handler:function(t){!Le(t)&&xn(t.target)||t.button>0||this.length<2||this.preventCatch||this.start(t)}},{name:"touchmove",passive:!1,handler:"move",delegate:function(){return this.slidesSelector}},{name:"dragstart",handler:function(t){t.preventDefault()}}],methods:{start:function(){var t=this;this.drag=this.pos,this._transitioner?(this.percent=this._transitioner.percent(),this.drag+=this._transitioner.getDistance()*this.percent*this.dir,this._transitioner.cancel(),this._transitioner.translate(this.percent),this.dragging=!0,this.stack=[]):this.prevIndex=this.index;var e=it(document,Hi.replace(" touchmove",""),this.move,{passive:!1});this.unbindMove=function(){e(),t.unbindMove=null},it(window,"scroll",this.unbindMove),it(document,Wi,this.end,!0)},move:function(t){var e=this;if(this.unbindMove){var n=this.pos-this.drag;if(!(0===n||this.prevPos===this.pos||!this.dragging&&Math.abs(n)<this.threshold)){t.cancelable&&t.preventDefault(),this.dragging=!0,this.dir=n<0?1:-1;for(var i=this,r=i.slides,o=this,a=o.prevIndex,s=Math.abs(n),l=this.getIndex(a+this.dir,a),c=this._getDistance(a,l)||r[a].offsetWidth;l!==a&&s>c;)e.drag-=c*e.dir,a=l,s-=c,l=e.getIndex(a+e.dir,a),c=e._getDistance(a,l)||r[a].offsetWidth;this.percent=s/c;var h,p=r[a],d=r[l],f=this.index!==l,y=a===l;[this.index,this.prevIndex].filter(function(t){return!u([l,a],t)}).forEach(function(t){at(r[t],"itemhidden",[e]),y&&(h=!0,e.prevIndex=a)}),(this.index===a&&this.prevIndex!==a||h)&&at(r[this.index],"itemshown",[this]),f&&(this.prevIndex=a,this.index=l,!y&&at(p,"beforeitemhide",[this]),at(d,"beforeitemshow",[this])),this._transitioner=this._translate(Math.abs(this.percent),p,!y&&d),f&&(!y&&at(p,"itemhide",[this]),at(d,"itemshow",[this]))}}},end:function(){if(rt(window,"scroll",this.unbindMove),this.unbindMove&&this.unbindMove(),rt(document,Wi,this.end,!0),this.dragging){if(this.dragging=null,this.index===this.prevIndex)this.percent=1-this.percent,this.dir*=-1,this._show(!1,this.index,!0),this._transitioner=null;else{var t=(Fi?this.dir*(Fi?1:-1):this.dir)<0===this.prevPos>this.pos;this.index=t?this.index:this.prevIndex,t&&(this.percent=1-this.percent),this.show(this.dir>0&&!t||this.dir<0&&t?"next":"previous",!0)}ft()}this.drag=this.percent=null}}},_o={data:{selNav:!1},computed:{nav:function(t,e){return Jt(t.selNav,e)},navItemSelector:function(t){var e=t.attrItem;return"["+e+"],[data-"+e+"]"},navItems:function(t,e){return Kt(this.navItemSelector,e)}},update:[{write:function(){var t=this;this.nav&&this.length!==this.nav.children.length&&Et(this.nav,this.slides.map(function(e,n){return"<li "+t.attrItem+'="'+n+'"><a href="#"></a></li>'}).join("")),Ut(Kt(this.navItemSelector,this.$el).concat(this.nav),"uk-hidden",!this.maxIndex),this.updateNav()},events:["load","resize"]}],events:[{name:"click",delegate:function(){return this.navItemSelector},handler:function(t){t.preventDefault(),t.current.blur(),this.show(j(t.current,this.attrItem))}},{name:"itemshow",handler:"updateNav"}],methods:{updateNav:function(){var t=this,e=this.getValidIndex();this.navItems.forEach(function(n){var i=j(n,t.attrItem);Ut(n,t.clsActive,M(i)===e),Ut(n,"uk-invisible",t.finite&&("previous"===i&&0===e||"next"===i&&e>=t.maxIndex))})}}},bo={mixins:[go,xo,_o],attrs:!0,props:{clsActivated:Boolean,easing:String,index:Number,finite:Boolean,velocity:Number},data:function(){return{easing:"ease",finite:!1,velocity:1,index:0,stack:[],percent:0,clsActive:"uk-active",clsActivated:!1,Transitioner:!1,transitionOptions:{}}},computed:{duration:function(t,e){var n=t.velocity;return bn(e.offsetWidth/n)},length:function(){return this.slides.length},list:function(t,e){return Jt(t.selList,e)},maxIndex:function(){return this.length-1},slidesSelector:function(t){return t.selList+" > *"},slides:function(){return A(this.list.children)}},events:{itemshown:function(){this.$update(this.list)}},methods:{show:function(t,e){var n=this;if(void 0===e&&(e=!1),!this.dragging&&this.length){var i=this,r=i.stack,o=e?0:r.length,a=function(){r.splice(o,1),r.length&&n.show(r.shift(),!0)};if(r[e?"unshift":"push"](t),!e&&r.length>1)return void(2===r.length&&this._transitioner.forward(Math.min(this.duration,200)));var s=this.index,l=Ft(this.slides,this.clsActive)&&this.slides[s],u=this.getIndex(t,this.index),c=this.slides[u];if(l===c)return void a();if(this.dir=_n(t,s),this.prevIndex=s,this.index=u,l&&at(l,"beforeitemhide",[this]),!at(c,"beforeitemshow",[this,l]))return this.index=this.prevIndex,void a();var h=this._show(l,c,e).then(function(){return l&&at(l,"itemhidden",[n]),at(c,"itemshown",[n]),new mi(function(t){Xi.write(function(){r.shift(),r.length?n.show(r.shift(),!0):n._transitioner=null,t()})})});return l&&at(l,"itemhide",[this]),at(c,"itemshow",[this]),h}},getIndex:function(t,e){return void 0===t&&(t=this.index),void 0===e&&(e=this.index),R(bt(t,this.slides,e,this.finite),0,this.maxIndex)},getValidIndex:function(t,e){return void 0===t&&(t=this.index),void 0===e&&(e=this.prevIndex),this.getIndex(t,e)},_show:function(t,e,n){if(this._transitioner=this._getTransitioner(t,e,this.dir,ai({easing:n?e.offsetWidth<600?"cubic-bezier(0.25, 0.46, 0.45, 0.94)":"cubic-bezier(0.165, 0.84, 0.44, 1)":this.easing},this.transitionOptions)),!n&&!t)return this._transitioner.translate(1),mi.resolve();var i=this.stack,r=i.length;return this._transitioner[r>1?"forward":"show"](r>1?Math.min(this.duration,75+75/(r-1)):this.duration,this.percent)},_getDistance:function(t,e){return new this._getTransitioner(t,t!==e&&e).getDistance()},_translate:function(t,e,n){void 0===e&&(e=this.prevIndex),void 0===n&&(n=this.index);var i=this._getTransitioner(e!==n&&e,n);return i.translate(t),i},_getTransitioner:function(t,e,n,i){return void 0===t&&(t=this.prevIndex),void 0===e&&(e=this.index),void 0===n&&(n=this.dir||1),void 0===i&&(i=this.transitionOptions),new this.Transitioner(_(t)?this.slides[t]:t,_(e)?this.slides[e]:e,n*(Fi?-1:1),i)}}},wo={mixins:[bo],props:{animation:String},data:{animation:"slide",clsActivated:"uk-transition-active",Animations:mo,Transitioner:vn},computed:{animation:function(t){var e=t.animation,n=t.Animations;return ai(e in n?n[e]:n.slide,{name:e})},transitionOptions:function(){return{animation:this.animation}}},events:{"itemshow itemhide itemshown itemhidden":function(t){var e=t.target;this.$update(e)},itemshow:function(){_(this.prevIndex)&&Xi.flush()},beforeitemshow:function(t){Ot(t.target,this.clsActive)},itemshown:function(t){Ot(t.target,this.clsActivated)},itemhidden:function(t){Dt(t.target,this.clsActive,this.clsActivated)}}},Eo={mixins:[qr,Yr,hr,wo],functional:!0,props:{delayControls:Number,preload:Number,videoAutoplay:Boolean,template:String},data:function(){return{preload:1,videoAutoplay:!1,delayControls:3e3,items:[],cls:"uk-open",clsPage:"uk-lightbox-page",selList:".uk-lightbox-items",attrItem:"uk-lightbox-item",selClose:".uk-close-large",pauseOnHover:!1,velocity:2,Animations:vo,template:'<div class="uk-lightbox uk-overflow-hidden"> <ul class="uk-lightbox-items"></ul> <div class="uk-lightbox-toolbar uk-position-top uk-text-right uk-transition-slide-top uk-transition-opaque"> <button class="uk-lightbox-toolbar-icon uk-close-large" type="button" uk-close></button> </div> <a class="uk-lightbox-button uk-position-center-left uk-position-medium uk-transition-fade" href="#" uk-slidenav-previous uk-lightbox-item="previous"></a> <a class="uk-lightbox-button uk-position-center-right uk-position-medium uk-transition-fade" href="#" uk-slidenav-next uk-lightbox-item="next"></a> <div class="uk-lightbox-toolbar uk-lightbox-caption uk-position-bottom uk-text-center uk-transition-slide-bottom uk-transition-opaque"></div> </div>'}},created:function(){var t=this;this.$mount(Tt(this.container,this.template)),this.caption=Jt(".uk-lightbox-caption",this.$el),this.items.forEach(function(){return Tt(t.list,"<li></li>")})},events:[{name:Hi+" "+Gi+" keydown",handler:"showControls"},{name:"click",self:!0,delegate:function(){return this.slidesSelector},handler:function(t){t.preventDefault(),this.hide()}},{name:"shown",self:!0,handler:"showControls"},{name:"hide",self:!0,handler:function(){this.hideControls(),Dt(this.slides,this.clsActive),ki.stop(this.slides)}},{name:"keyup",el:document,handler:function(t){if(this.isToggled(this.$el))switch(t.keyCode){case 37:this.show("previous");break;case 39:this.show("next")}}},{name:"beforeitemshow",handler:function(t){this.isToggled()||(this.preventCatch=!0,t.preventDefault(),this.toggleNow(this.$el,!0),this.animation=vo.scale,Dt(t.target,this.clsActive),this.stack.splice(1,0,this.index))}},{name:"itemshow",handler:function(t){var e=this,n=t.target,i=_t(n),r=this.getItem(i),o=r.caption;Gt(this.caption,"display",o?"":"none"),Et(this.caption,o);for(var a=0;a<=this.preload;a++)e.loadItem(e.getIndex(i+a)),e.loadItem(e.getIndex(i-a))}},{name:"itemshown",handler:function(){this.preventCatch=!1}},{name:"itemload",handler:function(t,e){var n=this,i=e.source,r=e.type,o=e.alt;if(this.setItem(e,"<span uk-spinner></span>"),i){var a;if("image"===r||i.match(/\.(jp(e)?g|png|gif|svg)($|\?)/i))vt(i).then(function(t){return n.setItem(e,'<img width="'+t.width+'" height="'+t.height+'" src="'+i+'" alt="'+(o||"")+'">')},function(){return n.setError(e)});else if("video"===r||i.match(/\.(mp4|webm|ogv)($|\?)/i)){var s=Jt("<video controls playsinline"+(e.poster?' poster="'+e.poster+'"':"")+' uk-video="'+this.videoAutoplay+'"></video>');B(s,"src",i),it(s,"error",function(){return n.setError(e)}),it(s,"loadedmetadata",function(){B(s,{width:s.videoWidth,height:s.videoHeight}),n.setItem(e,s)})}else if("iframe"===r||i.match(/\.(html|php)($|\?)/i))this.setItem(e,'<iframe class="uk-lightbox-iframe" src="'+i+'" frameborder="0" allowfullscreen></iframe>');else if(a=i.match(/\/\/.*?youtube(-nocookie)?\.[a-z]+\/watch\?v=([^&\s]+)/)||i.match(/()youtu\.be\/(.*)/)){var l=a[2],u=function(t,i){return void 0===t&&(t=640),void 0===i&&(i=450),n.setItem(e,wn("https://www.youtube"+(a[1]||"")+".com/embed/"+l,t,i,n.videoAutoplay))};vt("https://img.youtube.com/vi/"+l+"/maxresdefault.jpg").then(function(t){var e=t.width,n=t.height;120===e&&90===n?vt("https://img.youtube.com/vi/"+l+"/0.jpg").then(function(t){var e=t.width,n=t.height;return u(e,n)},u):u(e,n)},u)}else(a=i.match(/(\/\/.*?)vimeo\.[a-z]+\/([0-9]+).*?/))&&mt("https://vimeo.com/api/oembed.json?maxwidth=1920&url="+encodeURI(i),{responseType:"json",withCredentials:!1}).then(function(t){var i=t.response,r=i.height,o=i.width;return n.setItem(e,wn("https://player.vimeo.com/video/"+a[2],o,r,n.videoAutoplay))},function(){return n.setError(e)})}}}],methods:{loadItem:function(t){void 0===t&&(t=this.index);var e=this.getItem(t);e.content||at(this.$el,"itemload",[e])},getItem:function(t){return void 0===t&&(t=this.index),this.items[t]||{}},setItem:function(t,e){ai(t,{content:e});var n=Et(this.slides[this.items.indexOf(t)],e);at(this.$el,"itemloaded",[this,n]),this.$update(n)},setError:function(t){this.setItem(t,'<span uk-icon="icon: bolt; ratio: 2"></span>')},showControls:function(){clearTimeout(this.controlsTimer),this.controlsTimer=setTimeout(this.hideControls,this.delayControls),Ot(this.$el,"uk-active","uk-transition-active")},hideControls:function(){Dt(this.$el,"uk-active","uk-transition-active")}}},Mo={install:Mn,attrs:!0,props:{toggle:String},data:{toggle:"a"},computed:{toggles:function(t,e){return Kt(t.toggle,e)}},disconnected:function(){this._destroy()},events:[{name:"click",delegate:function(){return this.toggle+":not(.uk-disabled)"},handler:function(t){t.preventDefault(),t.current.blur(),this.show(_t(this.toggles,t.current))}}],update:function(t){t.toggles=this.panel&&t.toggles||this.toggles,this.panel&&!En(t.toggles,this.toggles)&&(t.toggles=this.toggles,this._destroy(),this._init())},methods:{_init:function(){return this.panel=this.panel||this.$create("lightboxPanel",ai({},this.$props,{items:this.toggles.reduce(function(t,e){return t.push(["href","caption","type","poster","alt"].reduce(function(t,n){return t["href"===n?"source":n]=j(e,n),t},{})),t},[])}))},_destroy:function(){this.panel&&(this.panel.$destroy(!0),this.panel=null)},show:function(t){return this.panel||this._init(),this.panel.show(t)},hide:function(){return this.panel&&this.panel.hide()}}},To={},So={functional:!0,args:["message","status"],data:{message:"",status:"",timeout:5e3,group:null,pos:"top-center",clsClose:"uk-notification-close",clsMsg:"uk-notification-message"},install:Tn,created:function(){To[this.pos]||(To[this.pos]=Tt(this.$container,'<div class="uk-notification uk-notification-'+this.pos+'"></div>'));var t=Gt(To[this.pos],"display","block");this.$mount(Tt(t,'<div class="'+this.clsMsg+(this.status?" "+this.clsMsg+"-"+this.status:"")+'"> <a href="#" class="'+this.clsClose+'" data-uk-close></a> <div>'+this.message+"</div> </div>"))},ready:function(){var t=this,e=T(Gt(this.$el,"marginBottom"));ki.start(Gt(this.$el,{opacity:0,marginTop:-this.$el.offsetHeight,marginBottom:0}),{opacity:1,marginTop:0,marginBottom:e}).then(function(){t.timeout&&(t.timer=setTimeout(t.close,t.timeout))})},events:(lo={click:function(t){$(t.target,'a[href="#"]')&&t.preventDefault(),this.close()}},lo[qi]=function(){this.timer&&clearTimeout(this.timer)},lo[Yi]=function(){this.timeout&&(this.timer=setTimeout(this.close,this.timeout))},lo),methods:{close:function(t){var e=this,n=function(){at(e.$el,"close",[e]),Lt(e.$el),To[e.pos].children.length||Gt(To[e.pos],"display","none")};this.timer&&clearTimeout(this.timer),t?n():ki.start(this.$el,{opacity:0,marginTop:-this.$el.offsetHeight,marginBottom:0}).then(n)}}},Ao=["x","y","bgx","bgy","rotate","scale","color","backgroundColor","borderColor","opacity","blur","hue","grayscale","invert","saturate","sepia","fopacity"],Co={props:Ao.reduce(function(t,e){return t[e]="list",t},{media:"media"}),data:Ao.reduce(function(t,e){return t[e]=void 0,t},{media:!1}),computed:{props:function(t,e){var n=this;return Ao.reduce(function(i,r){if(w(t[r]))return i;var o,a,s,l=r.match(/color/i),c=l||"opacity"===r,h=t[r].slice(0);c&&Gt(e,r,""),h.length<2&&h.unshift(("scale"===r?1:c?Gt(e,r):0)||0);var p=u(h.join(""),"%")?"%":"px";if(l){var d=e.style,f=d.color;h=h.map(function(t){return Sn(e,t)}),e.style.color=f}else h=h.map(T);if(r.match(/^bg/))if(Gt(e,"background-position-"+r[2],""),a=Gt(e,"backgroundPosition").split(" ")["x"===r[2]?0:1],n.covers){var y=Math.min.apply(Math,h),m=Math.max.apply(Math,h),v=h.indexOf(y)<h.indexOf(m);s=m-y,h=h.map(function(t){return t-(v?y:m)}),o=(v?-s:0)+"px"}else o=a;return i[r]={steps:h,unit:p,pos:o,bgPos:a,diff:s},i},{})},bgProps:function(){var t=this;return["bgx","bgy"].filter(function(e){return e in t.props})},covers:function(t,e){return Ln(e)}},disconnected:function(){delete this._image},update:[{read:function(t){var e=this;if(t.active=!this.media||window.matchMedia(this.media).matches,t.image&&(t.image.dimEl={width:this.$el.offsetWidth,height:this.$el.offsetHeight}),!("image"in t)&&this.covers&&this.bgProps.length){var n=Gt(this.$el,"backgroundImage").replace(/^none|url\(["']?(.+?)["']?\)$/,"$1");n&&(t.image=!1,vt(n).then(function(n){t.image={width:n.naturalWidth,height:n.naturalHeight},e.$emit()}))}},write:function(t){var e=this,n=t.image,i=t.active;if(n){if(!i)return void Gt(this.$el,{backgroundSize:"",backgroundRepeat:""});var r=n.dimEl,o=si.cover(n,r);this.bgProps.forEach(function(t){var i=e.props[t],a=i.diff,s=i.bgPos,l=i.steps,u="bgy"===t?"height":"width",c=o[u]-r[u];if(s.match(/%$|0px/)){if(c<a)r[u]=o[u]+a-c;else if(c>a){var h=parseFloat(s);h&&(e.props[t].steps=l.map(function(t){return t-(c-a)/(100/h)}))}o=si.cover(n,r)}}),Gt(this.$el,{backgroundSize:o.width+"px "+o.height+"px",backgroundRepeat:"no-repeat"})}},events:["load","resize"]}],methods:{reset:function(){var t=this;P(this.getCss(0),function(e,n){return Gt(t.$el,n,"")})},getCss:function(t){var e=this,n=e.props,i=!1;return Object.keys(n).reduce(function(e,r){var o=n[r],a=o.steps,s=o.unit,l=o.pos,u=Cn(a,t);switch(r){case"x":case"y":if(i)break;var c=["x","y"].map(function(e){return r===e?u+s:n[e]?Cn(n[e].steps,t)+n[e].unit:0}),h=c[0],p=c[1];i=e.transform+=" translate3d("+h+", "+p+", 0)";break;case"rotate":e.transform+=" rotate("+u+"deg)";break;case"scale":e.transform+=" scale("+u+")";break;case"bgy":case"bgx":e["background-position-"+r[2]]="calc("+l+" + "+(u+s)+")";break;case"color":case"backgroundColor":case"borderColor":var d=An(a,t),f=d[0],y=d[1],m=d[2];e[r]="rgba("+f.map(function(t,e){return t+=m*(y[e]-t),3===e?T(t):parseInt(t,10)}).join(",")+")";break;case"blur":e.filter+=" blur("+u+"px)";break;case"hue":e.filter+=" hue-rotate("+u+"deg)";break;case"fopacity":e.filter+=" opacity("+u+"%)";break;case"grayscale":case"invert":case"saturate":case"sepia":e.filter+=" "+r+"("+u+"%)";break;default:e[r]=u}return e},{transform:"",filter:""})}}},Lo={mixins:[Co],props:{target:String,viewport:Number,easing:Number},data:{target:!1,viewport:1,easing:1},computed:{target:function(t,e){var n=t.target;return n&&V(n,e)||e}},update:[{read:function(t){return{prev:t.percent,percent:kn(he(this.target)/(this.viewport||1),this.easing)}},write:function(t,e){var n=t.prev,i=t.percent,r=t.active;if("scroll"!==e.type&&(n=!1),!r)return void this.reset();n!==i&&Gt(this.$el,this.getCss(i))},events:["scroll","load","resize"]}]},ko={update:[{write:function(){if(!this.stack.length&&!this.dragging){var t=this.getValidIndex();delete this.index,Dt(this.slides,this.clsActive,this.clsActivated),this.show(t)}},events:["load","resize"]}]},Po={mixins:[cr,bo,ko],props:{center:Boolean,sets:Boolean},data:{center:!1,sets:!1,attrItem:"uk-slider-item",selList:".uk-slider-items",selNav:".uk-slider-nav",clsContainer:"uk-slider-container",Transitioner:Pn},computed:{avgWidth:function(){return zn(this.list)/this.length},finite:function(t){return t.finite||zn(this.list)<this.list.offsetWidth+On(this.list)+this.center},maxIndex:function(){var t=this;if(!this.finite||this.center&&!this.sets)return this.length-1;if(this.center)return this.sets[this.sets.length-1];Gt(this.slides,"order","");for(var e=Rn(this.list),n=this.length;n--;)if(Bn(t.list.children[n],t.list)<e)return Math.min(n+1,t.length-1);return 0},sets:function(t){var e=this,n=t.sets,i=this.list.offsetWidth/(this.center?2:1),r=0,o=i,a=0;return(n=n&&this.slides.reduce(function(t,n,s){var l=ee(n),c=l.width;if(a+c>r&&(!e.center&&s>e.maxIndex&&(s=e.maxIndex),!u(t,s))){var h=e.slides[s+1];e.center&&h&&c<o-ee(h).width/2?o-=c:(o=i,t.push(s),r=a+i+(e.center?c/2:0))}return a+=c,t},[]))&&n.length&&n},transitionOptions:function(){return{center:this.center,list:this.list}}},connected:function(){Ut(this.$el,this.clsContainer,!Jt("."+this.clsContainer,this.$el))},update:{write:function(){var t=this;Kt("["+this.attrItem+"],[data-"+this.attrItem+"]",this.$el).forEach(function(e){var n=j(e,t.attrItem);t.maxIndex&&Ut(e,"uk-hidden",b(n)&&(t.sets&&!u(t.sets,T(n))||n>t.maxIndex))})},events:["load","resize"]},events:{beforeitemshow:function(t){var e=this;!this.dragging&&this.sets&&this.stack.length<2&&!u(this.sets,this.index)&&(this.index=this.getValidIndex());var n=Math.abs(this.index-this.prevIndex+(this.dir>0&&this.index<this.prevIndex||this.dir<0&&this.index>this.prevIndex?(this.maxIndex+1)*this.dir:0));if(!this.dragging&&n>1){for(var i=0;i<n;i++)e.stack.splice(1,0,e.dir>0?"next":"previous");return void t.preventDefault()}this.duration=bn(this.avgWidth/this.velocity)*((this.dir<0||!this.slides[this.prevIndex]?this.slides[this.index]:this.slides[this.prevIndex]).offsetWidth/this.avgWidth),this.reorder()},itemshow:function(){!w(this.prevIndex)&&Ot(this._getTransitioner().getItemIn(),this.clsActive)},itemshown:function(){var t=this,e=this._getTransitioner(this.index).getActives();this.slides.forEach(function(n){return Ut(n,t.clsActive,u(e,n))}),(!this.sets||u(this.sets,T(this.index)))&&this.slides.forEach(function(n){return Ut(n,t.clsActivated,u(e,n))})}},methods:{reorder:function(){var t=this;if(Gt(this.slides,"order",""),!this.finite){var e=this.dir>0&&this.slides[this.prevIndex]?this.prevIndex:this.index;if(this.slides.forEach(function(n,i){return Gt(n,"order",t.dir>0&&i<e?1:t.dir<0&&i>=t.index?-1:"")}),this.center)for(var n=this.slides[e],i=this.list.offsetWidth/2-n.offsetWidth/2,r=0;i>0;){var o=t.getIndex(--r+e,e),a=t.slides[o];Gt(a,"order",o>e?-2:-1),i-=a.offsetWidth}}},getValidIndex:function(t,e){var n=this;if(void 0===t&&(t=this.index),void 0===e&&(e=this.prevIndex),t=this.getIndex(t,e),!this.sets)return t;var i;do{if(u(n.sets,t))return t;i=t,t=n.getIndex(t+n.dir,e)}while(t!==i);return t}}},Io={mixins:[Co],data:{selItem:"!li"},computed:{item:function(t,e){return V(t.selItem,e)}},events:[{name:"itemshown",self:!0,el:function(){return this.item},handler:function(){Gt(this.$el,this.getCss(.5))}},{name:"itemin itemout",self:!0,el:function(){return this.item},handler:function(t){var e=t.type,n=t.detail,i=n.percent,r=n.duration,o=n.timing,a=n.dir;ki.cancel(this.$el),Gt(this.$el,this.getCss(jn(e,a,i))),ki.start(this.$el,this.getCss(Un(e)?.5:a>0?1:0),r,o).catch(z)}},{name:"transitioncanceled transitionend",self:!0,el:function(){return this.item},handler:function(){ki.cancel(this.$el)}},{name:"itemtranslatein itemtranslateout",self:!0,el:function(){return this.item},handler:function(t){var e=t.type,n=t.detail,i=n.percent,r=n.dir;ki.cancel(this.$el),Gt(this.$el,this.getCss(jn(e,r,i)))}}]},Ro=ai({},mo,{fade:{show:function(){return[{opacity:0,zIndex:0},{zIndex:-1}]},percent:function(t){return 1-Gt(t,"opacity")},translate:function(t){return[{opacity:1-t,zIndex:0},{zIndex:-1}]}},scale:{show:function(){return[{opacity:0,transform:mn(1.5),zIndex:0},{zIndex:-1}]},percent:function(t){return 1-Gt(t,"opacity")},translate:function(t){return[{opacity:1-t,transform:mn(1+.5*t),zIndex:0},{zIndex:-1}]}},pull:{show:function(t){return t<0?[{transform:yn(30),zIndex:-1},{transform:yn(),zIndex:0}]:[{transform:yn(-100),zIndex:0},{transform:yn(),zIndex:-1}]},percent:function(t,e,n){return n<0?1-fn(e):fn(t)},translate:function(t,e){return e<0?[{transform:yn(30*t),zIndex:-1},{transform:yn(-100*(1-t)),zIndex:0}]:[{transform:yn(100*-t),zIndex:0},{transform:yn(30*(1-t)),zIndex:-1}]}},push:{show:function(t){return t<0?[{transform:yn(100),zIndex:0},{transform:yn(),zIndex:-1}]:[{transform:yn(-30),zIndex:-1},{transform:yn(),zIndex:0}]},percent:function(t,e,n){return n>0?1-fn(e):fn(t)},translate:function(t,e){return e<0?[{transform:yn(100*t),zIndex:0},{transform:yn(-30*(1-t)),zIndex:-1}]:[{transform:yn(-30*t),zIndex:-1},{transform:yn(100*(1-t)),zIndex:0}]}}}),zo={mixins:[cr,wo,ko],props:{ratio:String,minHeight:Boolean,maxHeight:Boolean},data:{ratio:"16:9",minHeight:!1,maxHeight:!1,selList:".uk-slideshow-items",attrItem:"uk-slideshow-item",selNav:".uk-slideshow-nav",Animations:Ro},update:{read:function(){var t=this.ratio.split(":").map(Number),e=t[0],n=t[1];return n=n*this.$el.offsetWidth/e,this.minHeight&&(n=Math.max(this.minHeight,n)),this.maxHeight&&(n=Math.min(this.maxHeight,n)),{height:n}},write:function(t){var e=t.height;Di(this.list,Math.floor(e))},events:["load","resize"]}},Oo={mixins:[cr,fo],props:{group:String,threshold:Number,clsItem:String,clsPlaceholder:String,clsDrag:String,clsDragState:String,clsBase:String,clsNoDrag:String,clsEmpty:String,clsCustom:String,handle:String},data:{group:!1,threshold:5,clsItem:"uk-sortable-item",clsPlaceholder:"uk-sortable-placeholder",clsDrag:"uk-sortable-drag",clsDragState:"uk-drag",clsBase:"uk-sortable",clsNoDrag:"uk-sortable-nodrag",clsEmpty:"uk-sortable-empty",clsCustom:"",handle:!1},init:function(){var t=this;["init","start","move","end"].forEach(function(e){var n=t[e];t[e]=function(e){t.scrollY=window.pageYOffset;var i=ke(e),r=i.x,o=i.y;t.pos={x:r,y:o},n(e)}})},events:(uo={},uo[Gi]="init",uo),update:{write:function(){if(this.clsEmpty&&Ut(this.$el,this.clsEmpty,!this.$el.children.length),this.drag){ee(this.drag,{top:this.pos.y+this.origin.top,left:this.pos.x+this.origin.left});var t,e=ee(this.drag),n=e.top,i=n+this.drag.offsetHeight;n>0&&n<this.scrollY?t=this.scrollY-5:i<Di(document)&&i>Di(window)+this.scrollY&&(t=this.scrollY+5),t&&setTimeout(function(){return pe(window,t)},5)}}},methods:{init:function(t){var e=t.target,n=t.button,i=t.defaultPrevented,r=A(this.$el.children).filter(function(t){return nt(e,t)}),o=r[0];!o||tt(t.target)||this.handle&&!nt(e,this.handle)||n>0||nt(e,"."+this.clsNoDrag)||i||(t.preventDefault(),this.touched=[this],this.placeholder=o,this.origin=ai({target:e,index:_t(o)},this.pos),it(document,Hi,this.move),it(document,Wi,this.end),it(window,"scroll",this.scroll),this.threshold||this.start(t))},start:function(t){this.drag=Tt(this.$container,this.placeholder.outerHTML.replace(/^<li/i,"<div").replace(/li>$/i,"div>")),Gt(this.drag,ai({boxSizing:"border-box",width:this.placeholder.offsetWidth,height:this.placeholder.offsetHeight},Gt(this.placeholder,["paddingLeft","paddingRight","paddingTop","paddingBottom"]))),B(this.drag,"uk-no-boot",""),Ot(this.drag,this.clsDrag,this.clsCustom),Di(this.drag.firstElementChild,Di(this.placeholder.firstElementChild));var e=ee(this.placeholder),n=e.left,i=e.top;ai(this.origin,{left:n-this.pos.x,top:i-this.pos.y}),Ot(this.placeholder,this.clsPlaceholder),Ot(this.$el.children,this.clsItem),Ot(document.documentElement,this.clsDragState),at(this.$el,"start",[this,this.placeholder]),this.move(t)},move:function(t){if(!this.drag)return void((Math.abs(this.pos.x-this.origin.x)>this.threshold||Math.abs(this.pos.y-this.origin.y)>this.threshold)&&this.start(t));this.$emit();var e="mousemove"===t.type?t.target:document.elementFromPoint(this.pos.x-document.body.scrollLeft,this.pos.y-document.body.scrollTop),n=this.getSortable(e),i=this.getSortable(this.placeholder),r=n!==i;if(n&&!nt(e,this.placeholder)&&(!r||n.group&&n.group===i.group)){if(e=n.$el===e.parentNode&&e||A(n.$el.children).filter(function(t){return nt(e,t)})[0],r)i.remove(this.placeholder);else if(!e)return;n.insert(this.placeholder,e),u(this.touched,n)||this.touched.push(n)}},scroll:function(){var t=window.pageYOffset;t!==this.scrollY&&(this.pos.y+=t-this.scrollY,this.scrollY=t,this.$emit())},end:function(t){if(rt(document,Hi,this.move),rt(document,Wi,this.end),rt(window,"scroll",this.scroll),!this.drag)return void("mouseup"!==t.type&&nt(t.target,"a[href]")&&(location.href=$(t.target,"a[href]").href));ft();var e=this.getSortable(this.placeholder);this===e?this.origin.index!==_t(this.placeholder)&&at(this.$el,"moved",[this,this.placeholder]):(at(e.$el,"added",[e,this.placeholder]),at(this.$el,"removed",[this,this.placeholder])),at(this.$el,"stop",[this,this.placeholder]),Lt(this.drag),this.drag=null;var n=this.touched.map(function(t){return t.clsPlaceholder+" "+t.clsItem}).join(" ");this.touched.forEach(function(t){return Dt(t.$el.children,n)}),Dt(document.documentElement,this.clsDragState)},insert:function(t,e){var n=this;Ot(this.$el.children,this.clsItem);var i=function(){e?!nt(t,n.$el)||Vn(t,e)?St(e,t):At(e,t):Tt(n.$el,t)};this.animation?this.animate(i):i()},remove:function(t){nt(t,this.$el)&&(this.animation?this.animate(function(){return Lt(t)}):Lt(t))},getSortable:function(t){return t&&(this.$getComponent(t,"sortable")||this.getSortable(t.parentNode))}}},Do=[],Bo={mixins:[qr,hr,mr],args:"title",attrs:!0,props:{delay:Number,title:String},data:{pos:"top",title:"",delay:0,animation:["uk-animation-scale-up"],duration:100,cls:"uk-active",clsPos:"uk-tooltip"},beforeConnect:function(){this._hasTitle=N(this.$el,"title"),B(this.$el,{title:"","aria-expanded":!1})},disconnected:function(){this.hide(),B(this.$el,{title:this._hasTitle?this.title:null,"aria-expanded":null})},methods:{show:function(){var t=this;u(Do,this)||(Do.forEach(function(t){return t.hide()}),Do.push(this),this._unbind=it(document,"click",function(e){return!nt(e.target,t.$el)&&t.hide()}),clearTimeout(this.showTimer),this.tooltip=Tt(this.container,'<div class="'+this.clsPos+'" aria-hidden><div class="'+this.clsPos+'-inner">'+this.title+"</div></div>"),B(this.$el,"aria-expanded",!0),this.positionAt(this.tooltip,this.$el),this.origin="y"===this.getAxis()?ue(this.dir)+"-"+this.align:this.align+"-"+ue(this.dir),this.showTimer=setTimeout(function(){t.toggleElement(t.tooltip,!0),t.hideTimer=setInterval(function(){Q(t.$el)||t.hide()},150)},this.delay))},hide:function(){var t=Do.indexOf(this);!~t||X(this.$el,"input")&&this.$el===document.activeElement||(Do.splice(t,1),clearTimeout(this.showTimer),clearInterval(this.hideTimer),B(this.$el,"aria-expanded",!1),this.toggleElement(this.tooltip,!1),this.tooltip&&Lt(this.tooltip),this.tooltip=!1,this._unbind())}},events:(co={},co["focus "+qi+" "+Gi]=function(t){t.type===Gi&&Le(t)||this.show()},co.blur="hide",co[Yi]=function(t){Le(t)||this.hide()},co)},No={props:{allow:String,clsDragover:String,concurrent:Number,maxSize:Number,method:String,mime:String,msgInvalidMime:String,msgInvalidName:String,msgInvalidSize:String,multiple:Boolean,name:String,params:Object,type:String,url:String},data:{allow:!1,clsDragover:"uk-dragover",concurrent:1,maxSize:0,method:"POST",mime:!1,msgInvalidMime:"Invalid File Type: %s",msgInvalidName:"Invalid File Name: %s",msgInvalidSize:"Invalid File Size: %s Kilobytes Max",multiple:!1,name:"files[]",params:{},type:"",url:"",abort:z,beforeAll:z,beforeSend:z,complete:z,completeAll:z,error:z,fail:z,load:z,loadEnd:z,loadStart:z,progress:z},events:{change:function(t){X(t.target,'input[type="file"]')&&(t.preventDefault(),t.target.files&&this.upload(t.target.files),t.target.value="")},drop:function(t){Wn(t);var e=t.dataTransfer;e&&e.files&&(Dt(this.$el,this.clsDragover),this.upload(e.files))},dragenter:function(t){Wn(t)},dragover:function(t){Wn(t),Ot(this.$el,this.clsDragover)},dragleave:function(t){Wn(t),Dt(this.$el,this.clsDragover)}},methods:{upload:function(t){var e=this;if(t.length){at(this.$el,"upload",[t]);for(var n=0;n<t.length;n++){if(e.maxSize&&1e3*e.maxSize<t[n].size)return void e.fail(e.msgInvalidSize.replace("%s",e.maxSize));if(e.allow&&!Gn(e.allow,t[n].name))return void e.fail(e.msgInvalidName.replace("%s",e.allow));if(e.mime&&!Gn(e.mime,t[n].type))return void e.fail(e.msgInvalidMime.replace("%s",e.mime))}this.multiple||(t=[t[0]]),this.beforeAll(this,t);var i=Hn(t,this.concurrent),r=function(t){var n=new FormData;t.forEach(function(t){return n.append(e.name,t)});for(var o in e.params)n.append(o,e.params[o]);mt(e.url,{data:n,method:e.method,responseType:e.type,beforeSend:function(t){var n=t.xhr;n.upload&&it(n.upload,"progress",e.progress),["loadStart","load","loadEnd","abort"].forEach(function(t){return it(n,t.toLowerCase(),e[t])}),e.beforeSend(t)}}).then(function(t){e.complete(t),i.length?r(i.shift()):e.completeAll(t)},function(t){return e.error(t)})};r(i.shift())}}}};return ar.component("countdown",ho),ar.component("filter",yo),ar.component("lightbox",Mo),ar.component("lightboxPanel",Eo),ar.component("notification",So),ar.component("parallax",Lo),ar.component("slider",Po),ar.component("sliderParallax",Io),ar.component("slideshow",zo),ar.component("slideshowParallax",Io),ar.component("sortable",Oo),ar.component("tooltip",Bo),ar.component("upload",No),function(t){function e(){o(document.body,a),Xi.flush(),new MutationObserver(function(t){return t.forEach(n)}).observe(document,{childList:!0,subtree:!0,characterData:!0,attributes:!0}),t._initialized=!0}function n(e){var n=e.target;("attributes"!==e.type?r(e):i(e))&&t.update(n)}function i(e){var n=e.target,i=e.attributeName;if("href"===i)return!0;var r=Ie(i);if(r&&r in t){if(N(n,i))return t[r](n),!0;var o=t.getComponent(n,r);return o?(o.$destroy(),!0):void 0}}function r(t){for(var e=t.addedNodes,n=t.removedNodes,i=0;i<e.length;i++)o(e[i],a);for(var r=0;r<n.length;r++)o(n[r],s);return!0}function o(t,e){if(1===t.nodeType&&!N(t,"uk-no-boot"))for(e(t),t=t.firstElementChild;t;){var n=t.nextElementSibling;o(t,e),t=n}}var a=t.connect,s=t.disconnect;"MutationObserver"in window&&(document.body?e():new MutationObserver(function(){document.body&&(this.disconnect(),e())}).observe(document,{childList:!0,subtree:!0}))}(ar),ar})}).call(e,n(26).setImmediate)},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function r(t){if(c===setTimeout)return setTimeout(t,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(t,0);try{return c(t,0)}catch(e){try{return c.call(null,t,0)}catch(e){return c.call(this,t,0)}}}function o(t){if(h===clearTimeout)return clearTimeout(t);if((h===i||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(t);try{return h(t)}catch(e){try{return h.call(null,t)}catch(e){return h.call(this,t)}}}function a(){y&&d&&(y=!1,d.length?f=d.concat(f):m=-1,f.length&&s())}function s(){if(!y){var t=r(a);y=!0;for(var e=f.length;e;){for(d=f,f=[];++m<e;)d&&d[m].run();m=-1,e=f.length}d=null,y=!1,o(t)}}function l(t,e){this.fun=t,this.array=e}function u(){}var c,h,p=t.exports={};!function(){try{c="function"===typeof setTimeout?setTimeout:n}catch(t){c=n}try{h="function"===typeof clearTimeout?clearTimeout:i}catch(t){h=i}}();var d,f=[],y=!1,m=-1;p.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];f.push(new l(t,e)),1!==f.length||y||r(s)},l.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=u,p.addListener=u,p.once=u,p.off=u,p.removeListener=u,p.removeAllListeners=u,p.emit=u,p.prependListener=u,p.prependOnceListener=u,p.listeners=function(t){return[]},p.binding=function(t){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(t){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(t,e,n){"use strict";(function(e){function i(t,e){!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var r=n(0),o=n(38),a={"Content-Type":"application/x-www-form-urlencoded"},s={adapter:function(){var t;return"undefined"!==typeof XMLHttpRequest?t=n(11):"undefined"!==typeof e&&(t=n(11)),t}(),transformRequest:[function(t,e){return o(e,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t)?t:r.isArrayBufferView(t)?t.buffer:r.isURLSearchParams(t)?(i(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):r.isObject(t)?(i(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"===typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300}};s.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],function(t){s.headers[t]={}}),r.forEach(["post","put","patch"],function(t){s.headers[t]=r.merge(a)}),t.exports=s}).call(e,n(4))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";function i(){}function r(t,e){this.x=t||0,this.y=e||0}function o(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}function a(t,e,n,i){this._x=t||0,this._y=e||0,this._z=n||0,this._w=void 0!==i?i:1}function s(t,e,n){this.x=t||0,this.y=e||0,this.z=n||0}function l(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}function u(t,e,n,i,o,a,s,c,h,p){Object.defineProperty(this,"id",{value:Nl++}),this.uuid=Dl.generateUUID(),this.name="",this.image=void 0!==t?t:u.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==e?e:u.DEFAULT_MAPPING,this.wrapS=void 0!==n?n:ys,this.wrapT=void 0!==i?i:ys,this.magFilter=void 0!==o?o:_s,this.minFilter=void 0!==a?a:ws,this.anisotropy=void 0!==h?h:1,this.format=void 0!==s?s:Bs,this.type=void 0!==c?c:Es,this.offset=new r(0,0),this.repeat=new r(1,1),this.center=new r(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new l,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==p?p:Ml,this.version=0,this.onUpdate=null}function c(t,e,n,i){this.x=t||0,this.y=e||0,this.z=n||0,this.w=void 0!==i?i:1}function h(t,e,n){this.width=t,this.height=e,this.scissor=new c(0,0,t,e),this.scissorTest=!1,this.viewport=new c(0,0,t,e),n=n||{},void 0===n.minFilter&&(n.minFilter=_s),this.texture=new u(void 0,void 0,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.generateMipmaps=void 0===n.generateMipmaps||n.generateMipmaps,this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0===n.stencilBuffer||n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null}function p(t,e,n){h.call(this,t,e,n),this.activeCubeFace=0,this.activeMipMapLevel=0}function d(t,e,n,i,r,o,a,s,l,c,h,p){u.call(this,null,o,a,s,l,c,i,r,h,p),this.image={data:t,width:e,height:n},this.magFilter=void 0!==l?l:vs,this.minFilter=void 0!==c?c:vs,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}function f(t,e){this.min=void 0!==t?t:new s(1/0,1/0,1/0),this.max=void 0!==e?e:new s(-1/0,-1/0,-1/0)}function y(t,e){this.center=void 0!==t?t:new s,this.radius=void 0!==e?e:0}function m(t,e){this.normal=void 0!==t?t:new s(1,0,0),this.constant=void 0!==e?e:0}function v(t,e,n,i,r,o){this.planes=[void 0!==t?t:new m,void 0!==e?e:new m,void 0!==n?n:new m,void 0!==i?i:new m,void 0!==r?r:new m,void 0!==o?o:new m]}function g(t,e,n){return void 0===e&&void 0===n?this.set(t):this.setRGB(t,e,n)}function x(){function t(r,o){!1!==n&&(i(r,o),e.requestAnimationFrame(t))}var e=null,n=!1,i=null;return{start:function(){!0!==n&&null!==i&&(e.requestAnimationFrame(t),n=!0)},stop:function(){n=!1},setAnimationLoop:function(t){i=t},setContext:function(t){e=t}}}function _(t){function e(e,n){var i=e.array,r=e.dynamic?t.DYNAMIC_DRAW:t.STATIC_DRAW,o=t.createBuffer();t.bindBuffer(n,o),t.bufferData(n,i,r),e.onUploadCallback();var a=t.FLOAT;return i instanceof Float32Array?a=t.FLOAT:i instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):i instanceof Uint16Array?a=t.UNSIGNED_SHORT:i instanceof Int16Array?a=t.SHORT:i instanceof Uint32Array?a=t.UNSIGNED_INT:i instanceof Int32Array?a=t.INT:i instanceof Int8Array?a=t.BYTE:i instanceof Uint8Array&&(a=t.UNSIGNED_BYTE),{buffer:o,type:a,bytesPerElement:i.BYTES_PER_ELEMENT,version:e.version}}function n(e,n,i){var r=n.array,o=n.updateRange;t.bindBuffer(i,e),!1===n.dynamic?t.bufferData(i,r,t.STATIC_DRAW):-1===o.count?t.bufferSubData(i,0,r):0===o.count?console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually."):(t.bufferSubData(i,o.offset*r.BYTES_PER_ELEMENT,r.subarray(o.offset,o.offset+o.count)),o.count=-1)}function i(t){return t.isInterleavedBufferAttribute&&(t=t.data),a.get(t)}function r(e){e.isInterleavedBufferAttribute&&(e=e.data);var n=a.get(e);n&&(t.deleteBuffer(n.buffer),a.delete(e))}function o(t,i){t.isInterleavedBufferAttribute&&(t=t.data);var r=a.get(t);void 0===r?a.set(t,e(t,i)):r.version<t.version&&(n(r.buffer,t,i),r.version=t.version)}var a=new WeakMap;return{get:i,remove:r,update:o}}function b(t,e,n,i){this._x=t||0,this._y=e||0,this._z=n||0,this._order=i||b.DefaultOrder}function w(){this.mask=1}function E(){function t(){r.setFromEuler(i,!1)}function e(){i.setFromQuaternion(r,void 0,!1)}Object.defineProperty(this,"id",{value:Hl++}),this.uuid=Dl.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=E.DefaultUp.clone();var n=new s,i=new b,r=new a,u=new s(1,1,1);i.onChange(t),r.onChange(e),Object.defineProperties(this,{position:{enumerable:!0,value:n},rotation:{enumerable:!0,value:i},quaternion:{enumerable:!0,value:r},scale:{enumerable:!0,value:u},modelViewMatrix:{value:new o},normalMatrix:{value:new l}}),this.matrix=new o,this.matrixWorld=new o,this.matrixAutoUpdate=E.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new w,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}function M(){E.call(this),this.type="Camera",this.matrixWorldInverse=new o,this.projectionMatrix=new o}function T(t,e,n,i,r,o){M.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=n,this.bottom=i,this.near=void 0!==r?r:.1,this.far=void 0!==o?o:2e3,this.updateProjectionMatrix()}function S(t,e,n,i,r,o){this.a=t,this.b=e,this.c=n,this.normal=i&&i.isVector3?i:new s,this.vertexNormals=Array.isArray(i)?i:[],this.color=r&&r.isColor?r:new g,this.vertexColors=Array.isArray(r)?r:[],this.materialIndex=void 0!==o?o:0}function A(){Object.defineProperty(this,"id",{value:Wl+=2}),this.uuid=Dl.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}function C(t,e,n){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=!0===n,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function L(t,e,n){C.call(this,new Int8Array(t),e,n)}function k(t,e,n){C.call(this,new Uint8Array(t),e,n)}function P(t,e,n){C.call(this,new Uint8ClampedArray(t),e,n)}function I(t,e,n){C.call(this,new Int16Array(t),e,n)}function R(t,e,n){C.call(this,new Uint16Array(t),e,n)}function z(t,e,n){C.call(this,new Int32Array(t),e,n)}function O(t,e,n){C.call(this,new Uint32Array(t),e,n)}function D(t,e,n){C.call(this,new Float32Array(t),e,n)}function B(t,e,n){C.call(this,new Float64Array(t),e,n)}function N(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function F(t){if(0===t.length)return-1/0;for(var e=t[0],n=1,i=t.length;n<i;++n)t[n]>e&&(e=t[n]);return e}function U(){Object.defineProperty(this,"id",{value:ql+=2}),this.uuid=Dl.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}function j(t,e,n,i,r,o){A.call(this),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:n,widthSegments:i,heightSegments:r,depthSegments:o},this.fromBufferGeometry(new V(t,e,n,i,r,o)),this.mergeVertices()}function V(t,e,n,i,r,o){function a(t,e,n,i,r,o,a,y,m,v,g){var x,_,b=o/m,w=a/v,E=o/2,M=a/2,T=y/2,S=m+1,A=v+1,C=0,L=0,k=new s;for(_=0;_<A;_++){var P=_*w-M;for(x=0;x<S;x++){var I=x*b-E;k[t]=I*i,k[e]=P*r,k[n]=T,c.push(k.x,k.y,k.z),k[t]=0,k[e]=0,k[n]=y>0?1:-1,h.push(k.x,k.y,k.z),p.push(x/m),p.push(1-_/v),C+=1}}for(_=0;_<v;_++)for(x=0;x<m;x++){var R=d+x+S*_,z=d+x+S*(_+1),O=d+(x+1)+S*(_+1),D=d+(x+1)+S*_;u.push(R,z,D),u.push(z,O,D),L+=6}l.addGroup(f,L,g),f+=L,d+=C}U.call(this),this.type="BoxBufferGeometry",this.parameters={width:t,height:e,depth:n,widthSegments:i,heightSegments:r,depthSegments:o};var l=this;t=t||1,e=e||1,n=n||1,i=Math.floor(i)||1,r=Math.floor(r)||1,o=Math.floor(o)||1;var u=[],c=[],h=[],p=[],d=0,f=0;a("z","y","x",-1,-1,n,e,t,o,r,0),a("z","y","x",1,-1,n,e,-t,o,r,1),a("x","z","y",1,1,t,n,e,i,o,2),a("x","z","y",1,-1,t,n,-e,i,o,3),a("x","y","z",1,-1,t,e,n,i,r,4),a("x","y","z",-1,-1,t,e,-n,i,r,5),this.setIndex(u),this.addAttribute("position",new D(c,3)),this.addAttribute("normal",new D(h,3)),this.addAttribute("uv",new D(p,2))}function G(t,e,n,i){A.call(this),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:n,heightSegments:i},this.fromBufferGeometry(new H(t,e,n,i)),this.mergeVertices()}function H(t,e,n,i){U.call(this),this.type="PlaneBufferGeometry",this.parameters={width:t,height:e,widthSegments:n,heightSegments:i},t=t||1,e=e||1;var r,o,a=t/2,s=e/2,l=Math.floor(n)||1,u=Math.floor(i)||1,c=l+1,h=u+1,p=t/l,d=e/u,f=[],y=[],m=[],v=[];for(o=0;o<h;o++){var g=o*d-s;for(r=0;r<c;r++){var x=r*p-a;y.push(x,-g,0),m.push(0,0,1),v.push(r/l),v.push(1-o/u)}}for(o=0;o<u;o++)for(r=0;r<l;r++){var _=r+c*o,b=r+c*(o+1),w=r+1+c*(o+1),E=r+1+c*o;f.push(_,b,E),f.push(b,w,E)}this.setIndex(f),this.addAttribute("position",new D(y,3)),this.addAttribute("normal",new D(m,3)),this.addAttribute("uv",new D(v,2))}function W(){Object.defineProperty(this,"id",{value:Yl++}),this.uuid=Dl.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.lights=!0,this.blending=Ea,this.side=fa,this.flatShading=!1,this.vertexColors=xa,this.opacity=1,this.transparent=!1,this.blendSrc=Ba,this.blendDst=Na,this.blendEquation=Ca,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=Ya,this.depthTest=!0,this.depthWrite=!0,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.overdraw=0,this.visible=!0,this.userData={},this.needsUpdate=!0}function q(t){W.call(this),this.type="MeshBasicMaterial",this.color=new g(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Ka,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.lights=!1,this.setValues(t)}function Y(t){W.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,void 0!==t&&(void 0!==t.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(t))}function X(t,e){this.origin=void 0!==t?t:new s,this.direction=void 0!==e?e:new s}function $(t,e,n){this.a=void 0!==t?t:new s,this.b=void 0!==e?e:new s,this.c=void 0!==n?n:new s}function Z(t,e){E.call(this),this.type="Mesh",this.geometry=void 0!==t?t:new U,this.material=void 0!==e?e:new q({color:16777215*Math.random()}),this.drawMode=bl,this.updateMorphTargets()}function J(t,e,n,i){function r(e,i,r,h){var p=i.background;null===p?o(u,c):p&&p.isColor&&(o(p,1),h=!0),(t.autoClear||h)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),p&&p.isCubeTexture?(void 0===l&&(l=new Z(new V(1,1,1),new Y({uniforms:Gl.cube.uniforms,vertexShader:Gl.cube.vertexShader,fragmentShader:Gl.cube.fragmentShader,side:ya,depthTest:!0,depthWrite:!1,fog:!1})),l.geometry.removeAttribute("normal"),l.geometry.removeAttribute("uv"),l.onBeforeRender=function(t,e,n){this.matrixWorld.copyPosition(n.matrixWorld)},n.update(l)),l.material.uniforms.tCube.value=p,e.push(l,l.geometry,l.material,0,null)):p&&p.isTexture&&(void 0===a&&(a=new T(-1,1,1,-1,0,1),s=new Z(new H(2,2),new q({depthTest:!1,depthWrite:!1,fog:!1})),n.update(s)),s.material.map=p,t.renderBufferDirect(a,null,s.geometry,s.material,s,null))}function o(t,n){e.buffers.color.setClear(t.r,t.g,t.b,n,i)}var a,s,l,u=new g(0),c=0;return{getClearColor:function(){return u},setClearColor:function(t,e){u.set(t),c=void 0!==e?e:1,o(u,c)},getClearAlpha:function(){return c},setClearAlpha:function(t){c=t,o(u,c)},render:r}}function K(t,e,n,i){function r(t){s=t}function o(e,i){t.drawArrays(s,e,i),n.update(i,s)}function a(r,o,a){var l;if(i.isWebGL2)l=t;else if(null===(l=e.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");l[i.isWebGL2?"drawArraysInstanced":"drawArraysInstancedANGLE"](s,o,a,r.maxInstancedCount),n.update(a,s,r.maxInstancedCount)}var s;this.setMode=r,this.render=o,this.renderInstances=a}function Q(t,e,n){function i(){if(void 0!==o)return o;var n=e.get("EXT_texture_filter_anisotropic");return o=null!==n?t.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}function r(e){if("highp"===e){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";e="mediump"}return"mediump"===e&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}var o,a="undefined"!==typeof WebGL2RenderingContext&&t instanceof WebGL2RenderingContext,s=void 0!==n.precision?n.precision:"highp",l=r(s);l!==s&&(console.warn("THREE.WebGLRenderer:",s,"not supported, using",l,"instead."),s=l);var u=!0===n.logarithmicDepthBuffer,c=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),h=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),p=t.getParameter(t.MAX_TEXTURE_SIZE),d=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),f=t.getParameter(t.MAX_VERTEX_ATTRIBS),y=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),m=t.getParameter(t.MAX_VARYING_VECTORS),v=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),g=h>0,x=a||!!e.get("OES_texture_float");return{isWebGL2:a,getMaxAnisotropy:i,getMaxPrecision:r,precision:s,logarithmicDepthBuffer:u,maxTextures:c,maxVertexTextures:h,maxTextureSize:p,maxCubemapSize:d,maxAttributes:f,maxVertexUniforms:y,maxVaryings:m,maxFragmentUniforms:v,vertexTextures:g,floatFragmentTextures:x,floatVertexTextures:g&&x}}function tt(){function t(){c.value!==i&&(c.value=i,c.needsUpdate=r>0),n.numPlanes=r,n.numIntersection=0}function e(t,e,i,r){var o=null!==t?t.length:0,a=null;if(0!==o){if(a=c.value,!0!==r||null===a){var l=i+4*o,h=e.matrixWorldInverse;u.getNormalMatrix(h),(null===a||a.length<l)&&(a=new Float32Array(l));for(var p=0,d=i;p!==o;++p,d+=4)s.copy(t[p]).applyMatrix4(h,u),s.normal.toArray(a,d),a[d+3]=s.constant}c.value=a,c.needsUpdate=!0}return n.numPlanes=o,a}var n=this,i=null,r=0,o=!1,a=!1,s=new m,u=new l,c={value:null,needsUpdate:!1};this.uniform=c,this.numPlanes=0,this.numIntersection=0,this.init=function(t,n,a){var s=0!==t.length||n||0!==r||o;return o=n,i=e(t,a,0),r=t.length,s},this.beginShadows=function(){a=!0,e(null)},this.endShadows=function(){a=!1,t()},this.setState=function(n,s,l,u,h,p){if(!o||null===n||0===n.length||a&&!l)a?e(null):t();else{var d=a?0:r,f=4*d,y=h.clippingState||null;c.value=y,y=e(n,u,f,p);for(var m=0;m!==f;++m)y[m]=i[m];h.clippingState=y,this.numIntersection=s?this.numPlanes:0,this.numPlanes+=d}}}function et(t){var e={};return{get:function(n){if(void 0!==e[n])return e[n];var i;switch(n){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(n)}return null===i&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),e[n]=i,i}}}function nt(t,e,n){function i(t){var r=t.target,o=s[r.id];null!==o.index&&e.remove(o.index);for(var a in o.attributes)e.remove(o.attributes[a]);r.removeEventListener("dispose",i),delete s[r.id];var u=l[o.id];u&&(e.remove(u),delete l[o.id]),n.memory.geometries--}function r(t,e){var r=s[e.id];return r||(e.addEventListener("dispose",i),e.isBufferGeometry?r=e:e.isGeometry&&(void 0===e._bufferGeometry&&(e._bufferGeometry=(new U).setFromObject(t)),r=e._bufferGeometry),s[e.id]=r,n.memory.geometries++,r)}function o(n){var i=n.index,r=n.attributes;null!==i&&e.update(i,t.ELEMENT_ARRAY_BUFFER);for(var o in r)e.update(r[o],t.ARRAY_BUFFER);var a=n.morphAttributes;for(var o in a)for(var s=a[o],l=0,u=s.length;l<u;l++)e.update(s[l],t.ARRAY_BUFFER)}function a(n){var i=l[n.id];if(i)return i;var r=[],o=n.index,a=n.attributes;if(null!==o)for(var s=o.array,u=0,c=s.length;u<c;u+=3){var h=s[u+0],p=s[u+1],d=s[u+2];r.push(h,p,p,d,d,h)}else for(var s=a.position.array,u=0,c=s.length/3-1;u<c;u+=3){var h=u+0,p=u+1,d=u+2;r.push(h,p,p,d,d,h)}return i=new(F(r)>65535?O:R)(r,1),e.update(i,t.ELEMENT_ARRAY_BUFFER),l[n.id]=i,i}var s={},l={};return{get:r,update:o,getWireframeAttribute:a}}function it(t,e,n,i){function r(t){l=t}function o(t){u=t.type,c=t.bytesPerElement}function a(e,i){t.drawElements(l,i,u,e*c),n.update(i,l)}function s(r,o,a){var s;if(i.isWebGL2)s=t;else{var s=e.get("ANGLE_instanced_arrays");if(null===s)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.")}s[i.isWebGL2?"drawElementsInstanced":"drawElementsInstancedANGLE"](l,a,u,o*c,r.maxInstancedCount),n.update(a,l,r.maxInstancedCount)}var l,u,c;this.setMode=r,this.setIndex=o,this.render=a,this.renderInstances=s}function rt(t){function e(e,n,i){switch(i=i||1,r.calls++,n){case t.TRIANGLES:r.triangles+=i*(e/3);break;case t.TRIANGLE_STRIP:case t.TRIANGLE_FAN:r.triangles+=i*(e-2);break;case t.LINES:r.lines+=i*(e/2);break;case t.LINE_STRIP:r.lines+=i*(e-1);break;case t.LINE_LOOP:r.lines+=i*e;break;case t.POINTS:r.points+=i*e;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",n)}}function n(){r.frame++,r.calls=0,r.triangles=0,r.points=0,r.lines=0}var i={geometries:0,textures:0},r={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:i,render:r,programs:null,autoReset:!0,reset:n,update:e}}function ot(t,e){return Math.abs(e[1])-Math.abs(t[1])}function at(t){function e(e,r,o,a){var s=e.morphTargetInfluences,l=s.length,u=n[r.id];if(void 0===u){u=[];for(var c=0;c<l;c++)u[c]=[c,0];n[r.id]=u}for(var h=o.morphTargets&&r.morphAttributes.position,p=o.morphNormals&&r.morphAttributes.normal,c=0;c<l;c++){var d=u[c];0!==d[1]&&(h&&r.removeAttribute("morphTarget"+c),p&&r.removeAttribute("morphNormal"+c))}for(var c=0;c<l;c++){var d=u[c];d[0]=c,d[1]=s[c]}u.sort(ot);for(var c=0;c<8;c++){var d=u[c];if(d){var f=d[0],y=d[1];if(y){h&&r.addAttribute("morphTarget"+c,h[f]),p&&r.addAttribute("morphNormal"+c,p[f]),i[c]=y;continue}}i[c]=0}a.getUniforms().setValue(t,"morphTargetInfluences",i)}var n={},i=new Float32Array(8);return{update:e}}function st(t,e){function n(n){var i=e.render.frame,o=n.geometry,a=t.get(n,o);return r[a.id]!==i&&(o.isGeometry&&a.updateFromObject(n),t.update(a),r[a.id]=i),a}function i(){r={}}var r={};return{update:n,dispose:i}}function lt(t,e,n,i,r,o,a,s,l,c){t=void 0!==t?t:[],e=void 0!==e?e:ss,u.call(this,t,e,n,i,r,o,a,s,l,c),this.flipY=!1}function ut(){this.seq=[],this.map={}}function ct(t,e,n){var i=t[0];if(i<=0||i>0)return t;var r=e*n,o=Zl[r];if(void 0===o&&(o=new Float32Array(r),Zl[r]=o),0!==e){i.toArray(o,0);for(var a=1,s=0;a!==e;++a)s+=n,t[a].toArray(o,s)}return o}function ht(t,e){if(t.length!==e.length)return!1;for(var n=0,i=t.length;n<i;n++)if(t[n]!==e[n])return!1;return!0}function pt(t,e){for(var n=0,i=e.length;n<i;n++)t[n]=e[n]}function dt(t,e){var n=Jl[e];void 0===n&&(n=new Int32Array(e),Jl[e]=n);for(var i=0;i!==e;++i)n[i]=t.allocTextureUnit();return n}function ft(t,e){var n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function yt(t,e){var n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function mt(t,e){var n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y||(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(ht(n,e))return;t.uniform2fv(this.addr,e),pt(n,e)}}function vt(t,e){var n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z||(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(void 0!==e.r)n[0]===e.r&&n[1]===e.g&&n[2]===e.b||(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(ht(n,e))return;t.uniform3fv(this.addr,e),pt(n,e)}}function gt(t,e){var n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z&&n[3]===e.w||(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(ht(n,e))return;t.uniform4fv(this.addr,e),pt(n,e)}}function xt(t,e){var n=this.cache,i=e.elements;if(void 0===i){if(ht(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),pt(n,e)}else{if(ht(n,i))return;tu.set(i),t.uniformMatrix2fv(this.addr,!1,tu),pt(n,i)}}function _t(t,e){var n=this.cache,i=e.elements;if(void 0===i){if(ht(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),pt(n,e)}else{if(ht(n,i))return;Ql.set(i),t.uniformMatrix3fv(this.addr,!1,Ql),pt(n,i)}}function bt(t,e){var n=this.cache,i=e.elements;if(void 0===i){if(ht(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),pt(n,e)}else{if(ht(n,i))return;Kl.set(i),t.uniformMatrix4fv(this.addr,!1,Kl),pt(n,i)}}function wt(t,e,n){var i=this.cache,r=n.allocTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture2D(e||Xl,r)}function Et(t,e,n){var i=this.cache,r=n.allocTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTextureCube(e||$l,r)}function Mt(t,e){var n=this.cache;ht(n,e)||(t.uniform2iv(this.addr,e),pt(n,e))}function Tt(t,e){var n=this.cache;ht(n,e)||(t.uniform3iv(this.addr,e),pt(n,e))}function St(t,e){var n=this.cache;ht(n,e)||(t.uniform4iv(this.addr,e),pt(n,e))}function At(t){switch(t){case 5126:return ft;case 35664:return mt;case 35665:return vt;case 35666:return gt;case 35674:return xt;case 35675:return _t;case 35676:return bt;case 35678:case 36198:return wt;case 35680:return Et;case 5124:case 35670:return yt;case 35667:case 35671:return Mt;case 35668:case 35672:return Tt;case 35669:case 35673:return St}}function Ct(t,e){var n=this.cache;ht(n,e)||(t.uniform1fv(this.addr,e),pt(n,e))}function Lt(t,e){var n=this.cache;ht(n,e)||(t.uniform1iv(this.addr,e),pt(n,e))}function kt(t,e){var n=this.cache,i=ct(e,this.size,2);ht(n,i)||(t.uniform2fv(this.addr,i),this.updateCache(i))}function Pt(t,e){var n=this.cache,i=ct(e,this.size,3);ht(n,i)||(t.uniform3fv(this.addr,i),this.updateCache(i))}function It(t,e){var n=this.cache,i=ct(e,this.size,4);ht(n,i)||(t.uniform4fv(this.addr,i),this.updateCache(i))}function Rt(t,e){var n=this.cache,i=ct(e,this.size,4);ht(n,i)||(t.uniformMatrix2fv(this.addr,!1,i),this.updateCache(i))}function zt(t,e){var n=this.cache,i=ct(e,this.size,9);ht(n,i)||(t.uniformMatrix3fv(this.addr,!1,i),this.updateCache(i))}function Ot(t,e){var n=this.cache,i=ct(e,this.size,16);ht(n,i)||(t.uniformMatrix4fv(this.addr,!1,i),this.updateCache(i))}function Dt(t,e,n){var i=this.cache,r=e.length,o=dt(n,r);!1===ht(i,o)&&(t.uniform1iv(this.addr,o),pt(i,o));for(var a=0;a!==r;++a)n.setTexture2D(e[a]||Xl,o[a])}function Bt(t,e,n){var i=this.cache,r=e.length,o=dt(n,r);!1===ht(i,o)&&(t.uniform1iv(this.addr,o),pt(i,o));for(var a=0;a!==r;++a)n.setTextureCube(e[a]||$l,o[a])}function Nt(t){switch(t){case 5126:return Ct;case 35664:return kt;case 35665:return Pt;case 35666:return It;case 35674:return Rt;case 35675:return zt;case 35676:return Ot;case 35678:return Dt;case 35680:return Bt;case 5124:case 35670:return Lt;case 35667:case 35671:return Mt;case 35668:case 35672:return Tt;case 35669:case 35673:return St}}function Ft(t,e,n){this.id=t,this.addr=n,this.cache=[],this.setValue=At(e.type)}function Ut(t,e,n){this.id=t,this.addr=n,this.cache=[],this.size=e.size,this.setValue=Nt(e.type)}function jt(t){this.id=t,ut.call(this)}function Vt(t,e){t.seq.push(e),t.map[e.id]=e}function Gt(t,e,n){var i=t.name,r=i.length;for(eu.lastIndex=0;;){var o=eu.exec(i),a=eu.lastIndex,s=o[1],l="]"===o[2],u=o[3];if(l&&(s|=0),void 0===u||"["===u&&a+2===r){Vt(n,void 0===u?new Ft(s,t,e):new Ut(s,t,e));break}var c=n.map,h=c[s];void 0===h&&(h=new jt(s),Vt(n,h)),n=h}}function Ht(t,e,n){ut.call(this),this.renderer=n;for(var i=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),r=0;r<i;++r){var o=t.getActiveUniform(e,r);Gt(o,t.getUniformLocation(e,o.name),this)}}function Wt(t){for(var e=t.split("\n"),n=0;n<e.length;n++)e[n]=n+1+": "+e[n];return e.join("\n")}function qt(t,e,n){var i=t.createShader(e);return t.shaderSource(i,n),t.compileShader(i),!1===t.getShaderParameter(i,t.COMPILE_STATUS)&&console.error("THREE.WebGLShader: Shader couldn't compile."),""!==t.getShaderInfoLog(i)&&console.warn("THREE.WebGLShader: gl.getShaderInfoLog()",e===t.VERTEX_SHADER?"vertex":"fragment",t.getShaderInfoLog(i),Wt(n)),i}function Yt(t){switch(t){case Ml:return["Linear","( value )"];case Tl:return["sRGB","( value )"];case Al:return["RGBE","( value )"];case Ll:return["RGBM","( value, 7.0 )"];case kl:return["RGBM","( value, 16.0 )"];case Pl:return["RGBD","( value, 256.0 )"];case Sl:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw new Error("unsupported encoding: "+t)}}function Xt(t,e){var n=Yt(e);return"vec4 "+t+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function $t(t,e){var n=Yt(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function Zt(t,e){var n;switch(e){case ns:n="Linear";break;case is:n="Reinhard";break;case rs:n="Uncharted2";break;case os:n="OptimizedCineon";break;default:throw new Error("unsupported toneMapping: "+e)}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function Jt(t,e,n){return t=t||{},[t.derivatives||e.envMapCubeUV||e.bumpMap||e.normalMap&&!e.objectSpaceNormalMap||e.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(t.fragDepth||e.logarithmicDepthBuffer)&&n.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",t.drawBuffers&&n.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(t.shaderTextureLOD||e.envMap)&&n.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""].filter(te).join("\n")}function Kt(t){var e=[];for(var n in t){var i=t[n];!1!==i&&e.push("#define "+n+" "+i)}return e.join("\n")}function Qt(t,e){for(var n={},i=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),r=0;r<i;r++){var o=t.getActiveAttrib(e,r),a=o.name;n[a]=t.getAttribLocation(e,a)}return n}function te(t){return""!==t}function ee(t,e){return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights)}function ne(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}function ie(t){function e(t,e){var n=Fl[e];if(void 0===n)throw new Error("Can not resolve #include <"+e+">");return ie(n)}var n=/^[ \t]*#include +<([\w\d.\/]+)>/gm;return t.replace(n,e)}function re(t){function e(t,e,n,i){for(var r="",o=parseInt(e);o<parseInt(n);o++)r+=i.replace(/\[ i \]/g,"[ "+o+" ]");return r}var n=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g;return t.replace(n,e)}function oe(t,e,n,i,r,o,a){var s=t.context,l=i.defines,u=r.vertexShader,c=r.fragmentShader,h="SHADOWMAP_TYPE_BASIC";o.shadowMapType===pa?h="SHADOWMAP_TYPE_PCF":o.shadowMapType===da&&(h="SHADOWMAP_TYPE_PCF_SOFT");var p="ENVMAP_TYPE_CUBE",d="ENVMAP_MODE_REFLECTION",f="ENVMAP_BLENDING_MULTIPLY";if(o.envMap){switch(i.envMap.mapping){case ss:case ls:p="ENVMAP_TYPE_CUBE";break;case ps:case ds:p="ENVMAP_TYPE_CUBE_UV";break;case us:case cs:p="ENVMAP_TYPE_EQUIREC";break;case hs:p="ENVMAP_TYPE_SPHERE"}switch(i.envMap.mapping){case ls:case cs:d="ENVMAP_MODE_REFRACTION"}switch(i.combine){case Ka:f="ENVMAP_BLENDING_MULTIPLY";break;case Qa:f="ENVMAP_BLENDING_MIX";break;case ts:f="ENVMAP_BLENDING_ADD"}}var y,m,v=t.gammaFactor>0?t.gammaFactor:1,g=a.isWebGL2?"":Jt(i.extensions,o,e),x=Kt(l),_=s.createProgram();if(i.isRawShaderMaterial?(y=[x].filter(te).join("\n"),y.length>0&&(y+="\n"),m=[g,x].filter(te).join("\n"),m.length>0&&(m+="\n")):(y=["precision "+o.precision+" float;","precision "+o.precision+" int;","#define SHADER_NAME "+r.name,x,o.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+v,"#define MAX_BONES "+o.maxBones,o.useFog&&o.fog?"#define USE_FOG":"",o.useFog&&o.fogExp?"#define FOG_EXP2":"",o.map?"#define USE_MAP":"",o.envMap?"#define USE_ENVMAP":"",o.envMap?"#define "+d:"",o.lightMap?"#define USE_LIGHTMAP":"",o.aoMap?"#define USE_AOMAP":"",o.emissiveMap?"#define USE_EMISSIVEMAP":"",o.bumpMap?"#define USE_BUMPMAP":"",o.normalMap?"#define USE_NORMALMAP":"",o.normalMap&&o.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",o.displacementMap&&o.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",o.specularMap?"#define USE_SPECULARMAP":"",o.roughnessMap?"#define USE_ROUGHNESSMAP":"",o.metalnessMap?"#define USE_METALNESSMAP":"",o.alphaMap?"#define USE_ALPHAMAP":"",o.vertexColors?"#define USE_COLOR":"",o.flatShading?"#define FLAT_SHADED":"",o.skinning?"#define USE_SKINNING":"",o.useVertexTexture?"#define BONE_TEXTURE":"",o.morphTargets?"#define USE_MORPHTARGETS":"",o.morphNormals&&!1===o.flatShading?"#define USE_MORPHNORMALS":"",o.doubleSided?"#define DOUBLE_SIDED":"",o.flipSided?"#define FLIP_SIDED":"",o.shadowMapEnabled?"#define USE_SHADOWMAP":"",o.shadowMapEnabled?"#define "+h:"",o.sizeAttenuation?"#define USE_SIZEATTENUATION":"",o.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",o.logarithmicDepthBuffer&&(a.isWebGL2||e.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(te).join("\n"),m=[g,"precision "+o.precision+" float;","precision "+o.precision+" int;","#define SHADER_NAME "+r.name,x,o.alphaTest?"#define ALPHATEST "+o.alphaTest+(o.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+v,o.useFog&&o.fog?"#define USE_FOG":"",o.useFog&&o.fogExp?"#define FOG_EXP2":"",o.map?"#define USE_MAP":"",o.envMap?"#define USE_ENVMAP":"",o.envMap?"#define "+p:"",o.envMap?"#define "+d:"",o.envMap?"#define "+f:"",o.lightMap?"#define USE_LIGHTMAP":"",o.aoMap?"#define USE_AOMAP":"",o.emissiveMap?"#define USE_EMISSIVEMAP":"",o.bumpMap?"#define USE_BUMPMAP":"",o.normalMap?"#define USE_NORMALMAP":"",o.normalMap&&o.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",o.specularMap?"#define USE_SPECULARMAP":"",o.roughnessMap?"#define USE_ROUGHNESSMAP":"",o.metalnessMap?"#define USE_METALNESSMAP":"",o.alphaMap?"#define USE_ALPHAMAP":"",o.vertexColors?"#define USE_COLOR":"",o.gradientMap?"#define USE_GRADIENTMAP":"",o.flatShading?"#define FLAT_SHADED":"",o.doubleSided?"#define DOUBLE_SIDED":"",o.flipSided?"#define FLIP_SIDED":"",o.shadowMapEnabled?"#define USE_SHADOWMAP":"",o.shadowMapEnabled?"#define "+h:"",o.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",o.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",o.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",o.logarithmicDepthBuffer&&(a.isWebGL2||e.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"",o.envMap&&(a.isWebGL2||e.get("EXT_shader_texture_lod"))?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",o.toneMapping!==es?"#define TONE_MAPPING":"",o.toneMapping!==es?Fl.tonemapping_pars_fragment:"",o.toneMapping!==es?Zt("toneMapping",o.toneMapping):"",o.dithering?"#define DITHERING":"",o.outputEncoding||o.mapEncoding||o.envMapEncoding||o.emissiveMapEncoding?Fl.encodings_pars_fragment:"",o.mapEncoding?Xt("mapTexelToLinear",o.mapEncoding):"",o.envMapEncoding?Xt("envMapTexelToLinear",o.envMapEncoding):"",o.emissiveMapEncoding?Xt("emissiveMapTexelToLinear",o.emissiveMapEncoding):"",o.outputEncoding?$t("linearToOutputTexel",o.outputEncoding):"",o.depthPacking?"#define DEPTH_PACKING "+i.depthPacking:"","\n"].filter(te).join("\n")),u=ie(u),u=ee(u,o),u=ne(u,o),c=ie(c),c=ee(c,o),c=ne(c,o),u=re(u),c=re(c),a.isWebGL2&&!i.isRawShaderMaterial){var b=!1,w=/^\s*#version\s+300\s+es\s*\n/;i.isShaderMaterial&&null!==u.match(w)&&null!==c.match(w)&&(b=!0,u=u.replace(w,""),c=c.replace(w,"")),y=["#version 300 es\n","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+y,m=["#version 300 es\n","#define varying in",b?"":"out highp vec4 pc_fragColor;",b?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+m}var E=y+u,M=m+c,T=qt(s,s.VERTEX_SHADER,E),S=qt(s,s.FRAGMENT_SHADER,M);s.attachShader(_,T),s.attachShader(_,S),void 0!==i.index0AttributeName?s.bindAttribLocation(_,0,i.index0AttributeName):!0===o.morphTargets&&s.bindAttribLocation(_,0,"position"),s.linkProgram(_);var A=s.getProgramInfoLog(_).trim(),C=s.getShaderInfoLog(T).trim(),L=s.getShaderInfoLog(S).trim(),k=!0,P=!0;!1===s.getProgramParameter(_,s.LINK_STATUS)?(k=!1,console.error("THREE.WebGLProgram: shader error: ",s.getError(),"gl.VALIDATE_STATUS",s.getProgramParameter(_,s.VALIDATE_STATUS),"gl.getProgramInfoLog",A,C,L)):""!==A?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",A):""!==C&&""!==L||(P=!1),P&&(this.diagnostics={runnable:k,material:i,programLog:A,vertexShader:{log:C,prefix:y},fragmentShader:{log:L,prefix:m}}),s.deleteShader(T),s.deleteShader(S);var I;this.getUniforms=function(){return void 0===I&&(I=new Ht(s,_,t)),I};var R;return this.getAttributes=function(){return void 0===R&&(R=Qt(s,_)),R},this.destroy=function(){s.deleteProgram(_),this.program=void 0},Object.defineProperties(this,{uniforms:{get:function(){return console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms()."),this.getUniforms()}},attributes:{get:function(){return console.warn("THREE.WebGLProgram: .attributes is now .getAttributes()."),this.getAttributes()}}}),this.name=r.name,this.id=nu++,this.code=n,this.usedTimes=1,this.program=_,this.vertexShader=T,this.fragmentShader=S,this}function ae(t,e,n){function i(t){var e=t.skeleton,i=e.bones;if(n.floatVertexTextures)return 1024;var r=n.maxVertexUniforms,o=Math.floor((r-20)/4),a=Math.min(o,i.length);return a<i.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+i.length+" bones. This GPU supports "+a+"."),0):a}function r(t,e){var n;return t?t.isTexture?n=t.encoding:t.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),n=t.texture.encoding):n=Ml,n===Ml&&e&&(n=Sl),n}var o=[],a={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},s=["precision","supportsVertexTextures","map","mapEncoding","envMap","envMapMode","envMapEncoding","lightMap","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","fog","useFog","fogExp","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering"];this.getParameters=function(e,o,s,l,u,c,h){var p=a[e.type],d=h.isSkinnedMesh?i(h):0,f=n.precision;null!==e.precision&&(f=n.getMaxPrecision(e.precision))!==e.precision&&console.warn("THREE.WebGLProgram.getParameters:",e.precision,"not supported, using",f,"instead.");var y=t.getRenderTarget();return{shaderID:p,precision:f,supportsVertexTextures:n.vertexTextures,outputEncoding:r(y?y.texture:null,t.gammaOutput),map:!!e.map,mapEncoding:r(e.map,t.gammaInput),envMap:!!e.envMap,envMapMode:e.envMap&&e.envMap.mapping,envMapEncoding:r(e.envMap,t.gammaInput),envMapCubeUV:!!e.envMap&&(e.envMap.mapping===ps||e.envMap.mapping===ds),lightMap:!!e.lightMap,aoMap:!!e.aoMap,emissiveMap:!!e.emissiveMap,emissiveMapEncoding:r(e.emissiveMap,t.gammaInput),bumpMap:!!e.bumpMap,normalMap:!!e.normalMap,objectSpaceNormalMap:e.normalMapType===Ol,displacementMap:!!e.displacementMap,roughnessMap:!!e.roughnessMap,metalnessMap:!!e.metalnessMap,specularMap:!!e.specularMap,alphaMap:!!e.alphaMap,gradientMap:!!e.gradientMap,combine:e.combine,vertexColors:e.vertexColors,fog:!!l,useFog:e.fog,fogExp:l&&l.isFogExp2,flatShading:e.flatShading,sizeAttenuation:e.sizeAttenuation,logarithmicDepthBuffer:n.logarithmicDepthBuffer,skinning:e.skinning&&d>0,maxBones:d,useVertexTexture:n.floatVertexTextures,morphTargets:e.morphTargets,morphNormals:e.morphNormals,maxMorphTargets:t.maxMorphTargets,maxMorphNormals:t.maxMorphNormals,numDirLights:o.directional.length,numPointLights:o.point.length,numSpotLights:o.spot.length,numRectAreaLights:o.rectArea.length,numHemiLights:o.hemi.length,numClippingPlanes:u,numClipIntersection:c,dithering:e.dithering,shadowMapEnabled:t.shadowMap.enabled&&h.receiveShadow&&s.length>0,shadowMapType:t.shadowMap.type,toneMapping:t.toneMapping,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:e.premultipliedAlpha,alphaTest:e.alphaTest,doubleSided:e.side===ma,flipSided:e.side===ya,depthPacking:void 0!==e.depthPacking&&e.depthPacking}},this.getProgramCode=function(e,n){var i=[];if(n.shaderID?i.push(n.shaderID):(i.push(e.fragmentShader),i.push(e.vertexShader)),void 0!==e.defines)for(var r in e.defines)i.push(r),i.push(e.defines[r]);for(var o=0;o<s.length;o++)i.push(n[s[o]]);return i.push(e.onBeforeCompile.toString()),i.push(t.gammaOutput),i.join()},this.acquireProgram=function(i,r,a,s){for(var l,u=0,c=o.length;u<c;u++){var h=o[u];if(h.code===s){l=h,++l.usedTimes;break}}return void 0===l&&(l=new oe(t,e,s,i,r,a,n),o.push(l)),l},this.releaseProgram=function(t){if(0===--t.usedTimes){var e=o.indexOf(t);o[e]=o[o.length-1],o.pop(),t.destroy()}},this.programs=o}function se(){function t(t){var e=r.get(t);return void 0===e&&(e={},r.set(t,e)),e}function e(t){r.delete(t)}function n(t,e,n){r.get(t)[e]=n}function i(){r=new WeakMap}var r=new WeakMap;return{get:t,remove:e,update:n,dispose:i}}function le(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.program&&e.program&&t.program!==e.program?t.program.id-e.program.id:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function ue(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function ce(){function t(){r=0,o.length=0,a.length=0}function e(t,e,n,s,l){var u=i[r];void 0===u?(u={id:t.id,object:t,geometry:e,material:n,program:n.program,renderOrder:t.renderOrder,z:s,group:l},i[r]=u):(u.id=t.id,u.object=t,u.geometry=e,u.material=n,u.program=n.program,u.renderOrder=t.renderOrder,u.z=s,u.group=l),(!0===n.transparent?a:o).push(u),r++}function n(){o.length>1&&o.sort(le),a.length>1&&a.sort(ue)}var i=[],r=0,o=[],a=[];return{opaque:o,transparent:a,init:t,push:e,sort:n}}function he(){function t(t,e){var i=t.id+","+e.id,r=n[i];return void 0===r&&(r=new ce,n[i]=r),r}function e(){n={}}var n={};return{get:t,dispose:e}}function pe(){var t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];var n;switch(e.type){case"DirectionalLight":n={direction:new s,color:new g,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new r};break;case"SpotLight":n={position:new s,direction:new s,color:new g,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new r};break;case"PointLight":n={position:new s,color:new g,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new r,shadowCameraNear:1,shadowCameraFar:1e3};break;case"HemisphereLight":n={direction:new s,skyColor:new g,groundColor:new g};break;case"RectAreaLight":n={color:new g,position:new s,halfWidth:new s,halfHeight:new s}}return t[e.id]=n,n}}}function de(){function t(t,o,s){for(var l=0,u=0,c=0,h=0,p=0,d=0,f=0,y=0,m=s.matrixWorldInverse,v=0,g=t.length;v<g;v++){var x=t[v],_=x.color,b=x.intensity,w=x.distance,E=x.shadow&&x.shadow.map?x.shadow.map.texture:null;if(x.isAmbientLight)l+=_.r*b,u+=_.g*b,c+=_.b*b;else if(x.isDirectionalLight){var M=e.get(x);if(M.color.copy(x.color).multiplyScalar(x.intensity),M.direction.setFromMatrixPosition(x.matrixWorld),i.setFromMatrixPosition(x.target.matrixWorld),M.direction.sub(i),M.direction.transformDirection(m),M.shadow=x.castShadow,x.castShadow){var T=x.shadow;M.shadowBias=T.bias,M.shadowRadius=T.radius,M.shadowMapSize=T.mapSize}n.directionalShadowMap[h]=E,n.directionalShadowMatrix[h]=x.shadow.matrix,n.directional[h]=M,h++}else if(x.isSpotLight){var M=e.get(x);if(M.position.setFromMatrixPosition(x.matrixWorld),M.position.applyMatrix4(m),M.color.copy(_).multiplyScalar(b),M.distance=w,M.direction.setFromMatrixPosition(x.matrixWorld),i.setFromMatrixPosition(x.target.matrixWorld),M.direction.sub(i),M.direction.transformDirection(m),M.coneCos=Math.cos(x.angle),M.penumbraCos=Math.cos(x.angle*(1-x.penumbra)),M.decay=0===x.distance?0:x.decay,M.shadow=x.castShadow,x.castShadow){var T=x.shadow;M.shadowBias=T.bias,M.shadowRadius=T.radius,M.shadowMapSize=T.mapSize}n.spotShadowMap[d]=E,n.spotShadowMatrix[d]=x.shadow.matrix,n.spot[d]=M,d++}else if(x.isRectAreaLight){var M=e.get(x);M.color.copy(_).multiplyScalar(b),M.position.setFromMatrixPosition(x.matrixWorld),M.position.applyMatrix4(m),a.identity(),r.copy(x.matrixWorld),r.premultiply(m),a.extractRotation(r),M.halfWidth.set(.5*x.width,0,0),M.halfHeight.set(0,.5*x.height,0),M.halfWidth.applyMatrix4(a),M.halfHeight.applyMatrix4(a),n.rectArea[f]=M,f++}else if(x.isPointLight){var M=e.get(x);if(M.position.setFromMatrixPosition(x.matrixWorld),M.position.applyMatrix4(m),M.color.copy(x.color).multiplyScalar(x.intensity),M.distance=x.distance,M.decay=0===x.distance?0:x.decay,M.shadow=x.castShadow,x.castShadow){var T=x.shadow;M.shadowBias=T.bias,M.shadowRadius=T.radius,M.shadowMapSize=T.mapSize,M.shadowCameraNear=T.camera.near,M.shadowCameraFar=T.camera.far}n.pointShadowMap[p]=E,n.pointShadowMatrix[p]=x.shadow.matrix,n.point[p]=M,p++}else if(x.isHemisphereLight){var M=e.get(x);M.direction.setFromMatrixPosition(x.matrixWorld),M.direction.transformDirection(m),M.direction.normalize(),M.skyColor.copy(x.color).multiplyScalar(b),M.groundColor.copy(x.groundColor).multiplyScalar(b),n.hemi[y]=M,y++}}n.ambient[0]=l,n.ambient[1]=u,n.ambient[2]=c,n.directional.length=h,n.spot.length=d,n.rectArea.length=f,n.point.length=p,n.hemi.length=y,n.hash.stateID=n.id,n.hash.directionalLength=h,n.hash.pointLength=p,n.hash.spotLength=d,n.hash.rectAreaLength=f,n.hash.hemiLength=y,n.hash.shadowsLength=o.length}var e=new pe,n={id:iu++,hash:{stateID:-1,directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,shadowsLength:-1},ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},i=new s,r=new o,a=new o;return{setup:t,state:n}}function fe(){function t(){o.length=0,a.length=0}function e(t){o.push(t)}function n(t){a.push(t)}function i(t){r.setup(o,a,t)}var r=new de,o=[],a=[];return{init:t,state:{lightsArray:o,shadowsArray:a,lights:r},setupLights:i,pushLight:e,pushShadow:n}}function ye(){function t(t,e){var i;return void 0===n[t.id]?(i=new fe,n[t.id]={},n[t.id][e.id]=i):void 0===n[t.id][e.id]?(i=new fe,n[t.id][e.id]=i):i=n[t.id][e.id],i}function e(){n={}}var n={};return{get:t,dispose:e}}function me(t){W.call(this),this.type="MeshDepthMaterial",this.depthPacking=Il,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.setValues(t)}function ve(t){W.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new s,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.lights=!1,this.setValues(t)}function ge(t,e,n){function i(e,n,i,r,o,a){var s=e.geometry,l=null,u=_,c=e.customDepthMaterial;if(i&&(u=b,c=e.customDistanceMaterial),c)l=c;else{var h=!1;n.morphTargets&&(s&&s.isBufferGeometry?h=s.morphAttributes&&s.morphAttributes.position&&s.morphAttributes.position.length>0:s&&s.isGeometry&&(h=s.morphTargets&&s.morphTargets.length>0)),e.isSkinnedMesh&&!1===n.skinning&&console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",e);var p=e.isSkinnedMesh&&n.skinning,d=0;h&&(d|=m),p&&(d|=g),l=u[d]}if(t.localClippingEnabled&&!0===n.clipShadows&&0!==n.clippingPlanes.length){var f=l.uuid,y=n.uuid,v=w[f];void 0===v&&(v={},w[f]=v);var x=v[y];void 0===x&&(x=l.clone(),v[y]=x),l=x}return l.visible=n.visible,l.wireframe=n.wireframe,l.side=null!=n.shadowSide?n.shadowSide:E[n.side],l.clipShadows=n.clipShadows,l.clippingPlanes=n.clippingPlanes,l.clipIntersection=n.clipIntersection,l.wireframeLinewidth=n.wireframeLinewidth,l.linewidth=n.linewidth,i&&l.isMeshDistanceMaterial&&(l.referencePosition.copy(r),l.nearDistance=o,l.farDistance=a),l}function a(n,r,o,s){if(!1!==n.visible){if(n.layers.test(r.layers)&&(n.isMesh||n.isLine||n.isPoints)&&n.castShadow&&(!n.frustumCulled||l.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(o.matrixWorldInverse,n.matrixWorld);var u=e.update(n),c=n.material;if(Array.isArray(c))for(var h=u.groups,p=0,d=h.length;p<d;p++){var f=h[p],m=c[f.materialIndex];if(m&&m.visible){var v=i(n,m,s,y,o.near,o.far);t.renderBufferDirect(o,null,u,v,n,f)}}else if(c.visible){var v=i(n,c,s,y,o.near,o.far);t.renderBufferDirect(o,null,u,v,n,null)}}for(var g=n.children,x=0,_=g.length;x<_;x++)a(g[x],r,o,s)}}for(var l=new v,u=new o,p=new r,d=new r(n,n),f=new s,y=new s,m=1,g=2,x=1+(m|g),_=new Array(x),b=new Array(x),w={},E={0:ya,1:fa,2:ma},M=[new s(1,0,0),new s(-1,0,0),new s(0,0,1),new s(0,0,-1),new s(0,1,0),new s(0,-1,0)],T=[new s(0,1,0),new s(0,1,0),new s(0,1,0),new s(0,1,0),new s(0,0,1),new s(0,0,-1)],S=[new c,new c,new c,new c,new c,new c],A=0;A!==x;++A){var C=0!==(A&m),L=0!==(A&g),k=new me({depthPacking:Rl,morphTargets:C,skinning:L});_[A]=k;var P=new ve({morphTargets:C,skinning:L});b[A]=P}var I=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=pa,this.render=function(e,n,i){if(!1!==I.enabled&&(!1!==I.autoUpdate||!1!==I.needsUpdate)&&0!==e.length){var r=t.context,o=t.state;o.disable(r.BLEND),o.buffers.color.setClear(1,1,1,1),o.buffers.depth.setTest(!0),o.setScissorTest(!1);for(var s,c=0,m=e.length;c<m;c++){var v=e[c],g=v.shadow,x=v&&v.isPointLight;if(void 0!==g){var _=g.camera;if(p.copy(g.mapSize),p.min(d),x){var b=p.x,w=p.y;S[0].set(2*b,w,b,w),S[1].set(0,w,b,w),S[2].set(3*b,w,b,w),S[3].set(b,w,b,w),S[4].set(3*b,0,b,w),S[5].set(b,0,b,w),p.x*=4,p.y*=2}if(null===g.map){var E={minFilter:vs,magFilter:vs,format:Bs};g.map=new h(p.x,p.y,E),g.map.texture.name=v.name+".shadowMap",_.updateProjectionMatrix()}g.isSpotLightShadow&&g.update(v);var A=g.map,C=g.matrix;y.setFromMatrixPosition(v.matrixWorld),_.position.copy(y),x?(s=6,C.makeTranslation(-y.x,-y.y,-y.z)):(s=1,f.setFromMatrixPosition(v.target.matrixWorld),_.lookAt(f),_.updateMatrixWorld(),C.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),C.multiply(_.projectionMatrix),C.multiply(_.matrixWorldInverse)),t.setRenderTarget(A),t.clear();for(var L=0;L<s;L++){if(x){f.copy(_.position),f.add(M[L]),_.up.copy(T[L]),_.lookAt(f),_.updateMatrixWorld();var k=S[L];o.viewport(k)}u.multiplyMatrices(_.projectionMatrix,_.matrixWorldInverse),l.setFromMatrix(u),a(n,i,_,x)}}else console.warn("THREE.WebGLShadowMap:",v,"has no shadow.")}I.needsUpdate=!1}}}function xe(t,e,n,i){function r(){var e=!1,n=new c,i=null,r=new c(0,0,0,0);return{setMask:function(n){i===n||e||(t.colorMask(n,n,n,n),i=n)},setLocked:function(t){e=t},setClear:function(e,i,o,a,s){!0===s&&(e*=a,i*=a,o*=a),n.set(e,i,o,a),!1===r.equals(n)&&(t.clearColor(e,i,o,a),r.copy(n))},reset:function(){e=!1,i=null,r.set(-1,0,0,0)}}}function o(){var e=!1,n=null,i=null,r=null;return{setTest:function(e){e?d(t.DEPTH_TEST):f(t.DEPTH_TEST)},setMask:function(i){n===i||e||(t.depthMask(i),n=i)},setFunc:function(e){if(i!==e){if(e)switch(e){case Ha:t.depthFunc(t.NEVER);break;case Wa:t.depthFunc(t.ALWAYS);break;case qa:t.depthFunc(t.LESS);break;case Ya:t.depthFunc(t.LEQUAL);break;case Xa:t.depthFunc(t.EQUAL);break;case $a:t.depthFunc(t.GEQUAL);break;case Za:t.depthFunc(t.GREATER);break;case Ja:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}else t.depthFunc(t.LEQUAL);i=e}},setLocked:function(t){e=t},setClear:function(e){r!==e&&(t.clearDepth(e),r=e)},reset:function(){e=!1,n=null,i=null,r=null}}}function a(){var e=!1,n=null,i=null,r=null,o=null,a=null,s=null,l=null,u=null;return{setTest:function(e){e?d(t.STENCIL_TEST):f(t.STENCIL_TEST)},setMask:function(i){n===i||e||(t.stencilMask(i),n=i)},setFunc:function(e,n,a){i===e&&r===n&&o===a||(t.stencilFunc(e,n,a),i=e,r=n,o=a)},setOp:function(e,n,i){a===e&&s===n&&l===i||(t.stencilOp(e,n,i),a=e,s=n,l=i)},setLocked:function(t){e=t},setClear:function(e){u!==e&&(t.clearStencil(e),u=e)},reset:function(){e=!1,n=null,i=null,r=null,o=null,a=null,s=null,l=null,u=null}}}function s(e,n,i){var r=new Uint8Array(4),o=t.createTexture();t.bindTexture(e,o),t.texParameteri(e,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(e,t.TEXTURE_MAG_FILTER,t.NEAREST);for(var a=0;a<i;a++)t.texImage2D(n+a,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,r);return o}function l(){for(var t=0,e=O.length;t<e;t++)O[t]=0}function u(t){h(t,0)}function h(n,r){if(O[n]=1,0===D[n]&&(t.enableVertexAttribArray(n),D[n]=1),B[n]!==r){(i.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,r),B[n]=r}}function p(){for(var e=0,n=D.length;e!==n;++e)D[e]!==O[e]&&(t.disableVertexAttribArray(e),D[e]=0)}function d(e){!0!==N[e]&&(t.enable(e),N[e]=!0)}function f(e){!1!==N[e]&&(t.disable(e),N[e]=!1)}function y(){if(null===F&&(F=[],e.get("WEBGL_compressed_texture_pvrtc")||e.get("WEBGL_compressed_texture_s3tc")||e.get("WEBGL_compressed_texture_etc1")||e.get("WEBGL_compressed_texture_astc")))for(var n=t.getParameter(t.COMPRESSED_TEXTURE_FORMATS),i=0;i<n.length;i++)F.push(n[i]);return F}function m(e){return U!==e&&(t.useProgram(e),U=e,!0)}function v(e,i,r,o,a,s,l,u){if(e!==wa?d(t.BLEND):f(t.BLEND),e!==Aa){if(e!==j||u!==X)switch(e){case Ma:u?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ONE,t.ONE,t.ONE,t.ONE)):(t.blendEquation(t.FUNC_ADD),t.blendFunc(t.SRC_ALPHA,t.ONE));break;case Ta:u?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ZERO,t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ONE_MINUS_SRC_ALPHA)):(t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ZERO,t.ONE_MINUS_SRC_COLOR));break;case Sa:u?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA)):(t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ZERO,t.SRC_COLOR));break;default:u?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA)):(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA))}V=null,G=null,H=null,W=null,q=null,Y=null}else a=a||i,s=s||r,l=l||o,i===V&&a===W||(t.blendEquationSeparate(n.convert(i),n.convert(a)),V=i,W=a),r===G&&o===H&&s===q&&l===Y||(t.blendFuncSeparate(n.convert(r),n.convert(o),n.convert(s),n.convert(l)),G=r,H=o,q=s,Y=l);j=e,X=u}function g(e,n){e.side===ma?f(t.CULL_FACE):d(t.CULL_FACE);var i=e.side===ya;n&&(i=!i),x(i),e.blending===Ea&&!1===e.transparent?v(wa):v(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),I.setFunc(e.depthFunc),I.setTest(e.depthTest),I.setMask(e.depthWrite),P.setMask(e.colorWrite),w(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits)}function x(e){$!==e&&(e?t.frontFace(t.CW):t.frontFace(t.CCW),$=e)}function _(e){e!==oa?(d(t.CULL_FACE),e!==Z&&(e===aa?t.cullFace(t.BACK):e===sa?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):f(t.CULL_FACE),Z=e}function b(e){e!==J&&(et&&t.lineWidth(e),J=e)}function w(e,n,i){e?(d(t.POLYGON_OFFSET_FILL),K===n&&Q===i||(t.polygonOffset(n,i),K=n,Q=i)):f(t.POLYGON_OFFSET_FILL)}function E(e){e?d(t.SCISSOR_TEST):f(t.SCISSOR_TEST)}function M(e){void 0===e&&(e=t.TEXTURE0+tt-1),rt!==e&&(t.activeTexture(e),rt=e)}function T(e,n){null===rt&&M();var i=ot[rt];void 0===i&&(i={type:void 0,texture:void 0},ot[rt]=i),i.type===e&&i.texture===n||(t.bindTexture(e,n||lt[e]),i.type=e,i.texture=n)}function S(){try{t.compressedTexImage2D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}}function A(){try{t.texImage2D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}}function C(e){!1===at.equals(e)&&(t.scissor(e.x,e.y,e.z,e.w),at.copy(e))}function L(e){!1===st.equals(e)&&(t.viewport(e.x,e.y,e.z,e.w),st.copy(e))}function k(){for(var e=0;e<D.length;e++)1===D[e]&&(t.disableVertexAttribArray(e),D[e]=0);N={},F=null,rt=null,ot={},U=null,j=null,$=null,Z=null,P.reset(),I.reset(),R.reset()}var P=new r,I=new o,R=new a,z=t.getParameter(t.MAX_VERTEX_ATTRIBS),O=new Uint8Array(z),D=new Uint8Array(z),B=new Uint8Array(z),N={},F=null,U=null,j=null,V=null,G=null,H=null,W=null,q=null,Y=null,X=!1,$=null,Z=null,J=null,K=null,Q=null,tt=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS),et=!1,nt=0,it=t.getParameter(t.VERSION);-1!==it.indexOf("WebGL")?(nt=parseFloat(/^WebGL\ ([0-9])/.exec(it)[1]),et=nt>=1):-1!==it.indexOf("OpenGL ES")&&(nt=parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(it)[1]),et=nt>=2);var rt=null,ot={},at=new c,st=new c,lt={};return lt[t.TEXTURE_2D]=s(t.TEXTURE_2D,t.TEXTURE_2D,1),lt[t.TEXTURE_CUBE_MAP]=s(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),P.setClear(0,0,0,1),I.setClear(1),R.setClear(0),d(t.DEPTH_TEST),I.setFunc(Ya),x(!1),_(aa),d(t.CULL_FACE),d(t.BLEND),v(Ea),{buffers:{color:P,depth:I,stencil:R},initAttributes:l,enableAttribute:u,enableAttributeAndDivisor:h,disableUnusedAttributes:p,enable:d,disable:f,getCompressedTextureFormats:y,useProgram:m,setBlending:v,setMaterial:g,setFlipSided:x,setCullFace:_,setLineWidth:b,setPolygonOffset:w,setScissorTest:E,activeTexture:M,bindTexture:T,compressedTexImage2D:S,texImage2D:A,scissor:C,viewport:L,reset:k}}function _e(t,e,n,i,r,o,a){function s(t,e){if(t.width>e||t.height>e){if("data"in t)return void console.warn("THREE.WebGLRenderer: image in DataTexture is too big ("+t.width+"x"+t.height+").");var n=e/Math.max(t.width,t.height),i=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");i.width=Math.floor(t.width*n),i.height=Math.floor(t.height*n);return i.getContext("2d").drawImage(t,0,0,t.width,t.height,0,0,i.width,i.height),console.warn("THREE.WebGLRenderer: image is too big ("+t.width+"x"+t.height+"). Resized to "+i.width+"x"+i.height),i}return t}function l(t){return Dl.isPowerOfTwo(t.width)&&Dl.isPowerOfTwo(t.height)}function u(t){if(t instanceof HTMLImageElement||t instanceof HTMLCanvasElement||t instanceof ImageBitmap){void 0===P&&(P=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),P.width=Dl.floorPowerOfTwo(t.width),P.height=Dl.floorPowerOfTwo(t.height);return P.getContext("2d").drawImage(t,0,0,P.width,P.height),console.warn("THREE.WebGLRenderer: image is not power of two ("+t.width+"x"+t.height+"). Resized to "+P.width+"x"+P.height),P}return t}function c(t){return!r.isWebGL2&&(t.wrapS!==ys||t.wrapT!==ys||t.minFilter!==vs&&t.minFilter!==_s)}function h(t,e){return t.generateMipmaps&&e&&t.minFilter!==vs&&t.minFilter!==_s}function p(e,n,r,o){t.generateMipmap(e),i.get(n).__maxMipLevel=Math.log(Math.max(r,o))*Math.LOG2E}function d(e,n){if(!r.isWebGL2)return e;if(e===t.RGB){if(n===t.FLOAT)return t.RGB32F;if(n===t.HALF_FLOAT)return t.RGB16F;if(n===t.UNSIGNED_BYTE)return t.RGB8}if(e===t.RGBA){if(n===t.FLOAT)return t.RGBA32F;if(n===t.HALF_FLOAT)return t.RGBA16F;if(n===t.UNSIGNED_BYTE)return t.RGBA8}return e}function f(e){return e===vs||e===gs||e===xs?t.NEAREST:t.LINEAR}function y(t){var e=t.target;e.removeEventListener("dispose",y),v(e),e.isVideoTexture&&delete I[e.id],a.memory.textures--}function m(t){var e=t.target;e.removeEventListener("dispose",m),g(e),a.memory.textures--}function v(e){var n=i.get(e);if(e.image&&n.__image__webglTextureCube)t.deleteTexture(n.__image__webglTextureCube);else{if(void 0===n.__webglInit)return;t.deleteTexture(n.__webglTexture)}i.remove(e)}function g(e){var n=i.get(e),r=i.get(e.texture);if(e){if(void 0!==r.__webglTexture&&t.deleteTexture(r.__webglTexture),e.depthTexture&&e.depthTexture.dispose(),e.isWebGLRenderTargetCube)for(var o=0;o<6;o++)t.deleteFramebuffer(n.__webglFramebuffer[o]),n.__webglDepthbuffer&&t.deleteRenderbuffer(n.__webglDepthbuffer[o]);else t.deleteFramebuffer(n.__webglFramebuffer),n.__webglDepthbuffer&&t.deleteRenderbuffer(n.__webglDepthbuffer);i.remove(e.texture),i.remove(e)}}function x(e,r){var o=i.get(e);if(e.isVideoTexture&&k(e),e.version>0&&o.__version!==e.version){var a=e.image;if(void 0===a)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(!1!==a.complete)return void E(o,e,r);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.activeTexture(t.TEXTURE0+r),n.bindTexture(t.TEXTURE_2D,o.__webglTexture)}function _(e,u){var c=i.get(e);if(6===e.image.length)if(e.version>0&&c.__version!==e.version){c.__image__webglTextureCube||(e.addEventListener("dispose",y),c.__image__webglTextureCube=t.createTexture(),a.memory.textures++),n.activeTexture(t.TEXTURE0+u),n.bindTexture(t.TEXTURE_CUBE_MAP,c.__image__webglTextureCube),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,e.flipY);for(var f=e&&e.isCompressedTexture,m=e.image[0]&&e.image[0].isDataTexture,v=[],g=0;g<6;g++)v[g]=f||m?m?e.image[g].image:e.image[g]:s(e.image[g],r.maxCubemapSize);var x=v[0],_=l(x),b=o.convert(e.format),E=o.convert(e.type),M=d(b,E);w(t.TEXTURE_CUBE_MAP,e,_);for(var g=0;g<6;g++)if(f)for(var T,S=v[g].mipmaps,A=0,C=S.length;A<C;A++)T=S[A],e.format!==Bs&&e.format!==Ds?n.getCompressedTextureFormats().indexOf(b)>-1?n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+g,A,M,T.width,T.height,0,T.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+g,A,M,T.width,T.height,0,b,E,T.data);else m?n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+g,0,M,v[g].width,v[g].height,0,b,E,v[g].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+g,0,M,b,E,v[g]);c.__maxMipLevel=f?S.length-1:0,h(e,_)&&p(t.TEXTURE_CUBE_MAP,e,x.width,x.height),c.__version=e.version,e.onUpdate&&e.onUpdate(e)}else n.activeTexture(t.TEXTURE0+u),n.bindTexture(t.TEXTURE_CUBE_MAP,c.__image__webglTextureCube)}function b(e,r){n.activeTexture(t.TEXTURE0+r),n.bindTexture(t.TEXTURE_CUBE_MAP,i.get(e).__webglTexture)}function w(n,a,s){var l;if(s?(t.texParameteri(n,t.TEXTURE_WRAP_S,o.convert(a.wrapS)),t.texParameteri(n,t.TEXTURE_WRAP_T,o.convert(a.wrapT)),t.texParameteri(n,t.TEXTURE_MAG_FILTER,o.convert(a.magFilter)),t.texParameteri(n,t.TEXTURE_MIN_FILTER,o.convert(a.minFilter))):(t.texParameteri(n,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(n,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),a.wrapS===ys&&a.wrapT===ys||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(n,t.TEXTURE_MAG_FILTER,f(a.magFilter)),t.texParameteri(n,t.TEXTURE_MIN_FILTER,f(a.minFilter)),a.minFilter!==vs&&a.minFilter!==_s&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),l=e.get("EXT_texture_filter_anisotropic")){if(a.type===Ls&&null===e.get("OES_texture_float_linear"))return;if(a.type===ks&&null===(r.isWebGL2||e.get("OES_texture_half_float_linear")))return;(a.anisotropy>1||i.get(a).__currentAnisotropy)&&(t.texParameterf(n,l.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,r.getMaxAnisotropy())),i.get(a).__currentAnisotropy=a.anisotropy)}}function E(e,i,f){void 0===e.__webglInit&&(e.__webglInit=!0,i.addEventListener("dispose",y),e.__webglTexture=t.createTexture(),a.memory.textures++),n.activeTexture(t.TEXTURE0+f),n.bindTexture(t.TEXTURE_2D,e.__webglTexture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,i.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,i.unpackAlignment);var m=s(i.image,r.maxTextureSize);c(i)&&!1===l(m)&&(m=u(m));var v=l(m),g=o.convert(i.format),x=o.convert(i.type),_=d(g,x);w(t.TEXTURE_2D,i,v);var b,E=i.mipmaps;if(i.isDepthTexture){if(_=t.DEPTH_COMPONENT,i.type===Ls){if(!r.isWebGL2)throw new Error("Float Depth Texture only supported in WebGL2.0");_=t.DEPTH_COMPONENT32F}else r.isWebGL2&&(_=t.DEPTH_COMPONENT16);i.format===js&&_===t.DEPTH_COMPONENT&&i.type!==Ss&&i.type!==Cs&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),i.type=Ss,x=o.convert(i.type)),i.format===Vs&&(_=t.DEPTH_STENCIL,i.type!==zs&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),i.type=zs,x=o.convert(i.type))),n.texImage2D(t.TEXTURE_2D,0,_,m.width,m.height,0,g,x,null)}else if(i.isDataTexture)if(E.length>0&&v){for(var M=0,T=E.length;M<T;M++)b=E[M],n.texImage2D(t.TEXTURE_2D,M,_,b.width,b.height,0,g,x,b.data);i.generateMipmaps=!1,e.__maxMipLevel=E.length-1}else n.texImage2D(t.TEXTURE_2D,0,_,m.width,m.height,0,g,x,m.data),e.__maxMipLevel=0;else if(i.isCompressedTexture){for(var M=0,T=E.length;M<T;M++)b=E[M],i.format!==Bs&&i.format!==Ds?n.getCompressedTextureFormats().indexOf(g)>-1?n.compressedTexImage2D(t.TEXTURE_2D,M,_,b.width,b.height,0,b.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(t.TEXTURE_2D,M,_,b.width,b.height,0,g,x,b.data);e.__maxMipLevel=E.length-1}else if(E.length>0&&v){for(var M=0,T=E.length;M<T;M++)b=E[M],n.texImage2D(t.TEXTURE_2D,M,_,g,x,b);i.generateMipmaps=!1,e.__maxMipLevel=E.length-1}else n.texImage2D(t.TEXTURE_2D,0,_,g,x,m),e.__maxMipLevel=0;h(i,v)&&p(t.TEXTURE_2D,i,m.width,m.height),e.__version=i.version,i.onUpdate&&i.onUpdate(i)}function M(e,r,a,s){var l=o.convert(r.texture.format),u=o.convert(r.texture.type),c=d(l,u);n.texImage2D(s,0,c,r.width,r.height,0,l,u,null),t.bindFramebuffer(t.FRAMEBUFFER,e),t.framebufferTexture2D(t.FRAMEBUFFER,a,s,i.get(r.texture).__webglTexture,0),t.bindFramebuffer(t.FRAMEBUFFER,null)}function T(e,n){t.bindRenderbuffer(t.RENDERBUFFER,e),n.depthBuffer&&!n.stencilBuffer?(t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_COMPONENT16,n.width,n.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,e)):n.depthBuffer&&n.stencilBuffer?(t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,n.width,n.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,e)):t.renderbufferStorage(t.RENDERBUFFER,t.RGBA4,n.width,n.height),t.bindRenderbuffer(t.RENDERBUFFER,null)}function S(e,n){if(n&&n.isWebGLRenderTargetCube)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(t.FRAMEBUFFER,e),!n.depthTexture||!n.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");i.get(n.depthTexture).__webglTexture&&n.depthTexture.image.width===n.width&&n.depthTexture.image.height===n.height||(n.depthTexture.image.width=n.width,n.depthTexture.image.height=n.height,n.depthTexture.needsUpdate=!0),x(n.depthTexture,0);var r=i.get(n.depthTexture).__webglTexture;if(n.depthTexture.format===js)t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,r,0);else{if(n.depthTexture.format!==Vs)throw new Error("Unknown depthTexture format");t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,r,0)}}function A(e){var n=i.get(e),r=!0===e.isWebGLRenderTargetCube;if(e.depthTexture){if(r)throw new Error("target.depthTexture not supported in Cube render targets");S(n.__webglFramebuffer,e)}else if(r){n.__webglDepthbuffer=[];for(var o=0;o<6;o++)t.bindFramebuffer(t.FRAMEBUFFER,n.__webglFramebuffer[o]),n.__webglDepthbuffer[o]=t.createRenderbuffer(),T(n.__webglDepthbuffer[o],e)}else t.bindFramebuffer(t.FRAMEBUFFER,n.__webglFramebuffer),n.__webglDepthbuffer=t.createRenderbuffer(),T(n.__webglDepthbuffer,e);t.bindFramebuffer(t.FRAMEBUFFER,null)}function C(e){var r=i.get(e),o=i.get(e.texture);e.addEventListener("dispose",m),o.__webglTexture=t.createTexture(),a.memory.textures++;var s=!0===e.isWebGLRenderTargetCube,u=l(e);if(s){r.__webglFramebuffer=[];for(var c=0;c<6;c++)r.__webglFramebuffer[c]=t.createFramebuffer()}else r.__webglFramebuffer=t.createFramebuffer();if(s){n.bindTexture(t.TEXTURE_CUBE_MAP,o.__webglTexture),w(t.TEXTURE_CUBE_MAP,e.texture,u);for(var c=0;c<6;c++)M(r.__webglFramebuffer[c],e,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+c);h(e.texture,u)&&p(t.TEXTURE_CUBE_MAP,e.texture,e.width,e.height),n.bindTexture(t.TEXTURE_CUBE_MAP,null)}else n.bindTexture(t.TEXTURE_2D,o.__webglTexture),w(t.TEXTURE_2D,e.texture,u),M(r.__webglFramebuffer,e,t.COLOR_ATTACHMENT0,t.TEXTURE_2D),h(e.texture,u)&&p(t.TEXTURE_2D,e.texture,e.width,e.height),n.bindTexture(t.TEXTURE_2D,null);e.depthBuffer&&A(e)}function L(e){var r=e.texture;if(h(r,l(e))){var o=e.isWebGLRenderTargetCube?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,a=i.get(r).__webglTexture;n.bindTexture(o,a),p(o,r,e.width,e.height),n.bindTexture(o,null)}}function k(t){var e=t.id,n=a.render.frame;I[e]!==n&&(I[e]=n,t.update())}var P,I={};this.setTexture2D=x,this.setTextureCube=_,this.setTextureCubeDynamic=b,this.setupRenderTarget=C,this.updateRenderTargetMipmap=L}function be(t,e,n){function i(i){var r;if(i===fs)return t.REPEAT;if(i===ys)return t.CLAMP_TO_EDGE;if(i===ms)return t.MIRRORED_REPEAT;if(i===vs)return t.NEAREST;if(i===gs)return t.NEAREST_MIPMAP_NEAREST;if(i===xs)return t.NEAREST_MIPMAP_LINEAR;if(i===_s)return t.LINEAR;if(i===bs)return t.LINEAR_MIPMAP_NEAREST;if(i===ws)return t.LINEAR_MIPMAP_LINEAR;if(i===Es)return t.UNSIGNED_BYTE;if(i===Ps)return t.UNSIGNED_SHORT_4_4_4_4;if(i===Is)return t.UNSIGNED_SHORT_5_5_5_1;if(i===Rs)return t.UNSIGNED_SHORT_5_6_5;if(i===Ms)return t.BYTE;if(i===Ts)return t.SHORT;if(i===Ss)return t.UNSIGNED_SHORT;if(i===As)return t.INT;if(i===Cs)return t.UNSIGNED_INT;if(i===Ls)return t.FLOAT;if(i===ks){if(n.isWebGL2)return t.HALF_FLOAT;if(null!==(r=e.get("OES_texture_half_float")))return r.HALF_FLOAT_OES}if(i===Os)return t.ALPHA;if(i===Ds)return t.RGB;if(i===Bs)return t.RGBA;if(i===Ns)return t.LUMINANCE;if(i===Fs)return t.LUMINANCE_ALPHA;if(i===js)return t.DEPTH_COMPONENT;if(i===Vs)return t.DEPTH_STENCIL;if(i===Ca)return t.FUNC_ADD;if(i===La)return t.FUNC_SUBTRACT;if(i===ka)return t.FUNC_REVERSE_SUBTRACT;if(i===Ra)return t.ZERO;if(i===za)return t.ONE;if(i===Oa)return t.SRC_COLOR;if(i===Da)return t.ONE_MINUS_SRC_COLOR;if(i===Ba)return t.SRC_ALPHA;if(i===Na)return t.ONE_MINUS_SRC_ALPHA;if(i===Fa)return t.DST_ALPHA;if(i===Ua)return t.ONE_MINUS_DST_ALPHA;if(i===ja)return t.DST_COLOR;if(i===Va)return t.ONE_MINUS_DST_COLOR;if(i===Ga)return t.SRC_ALPHA_SATURATE;if((i===Gs||i===Hs||i===Ws||i===qs)&&null!==(r=e.get("WEBGL_compressed_texture_s3tc"))){if(i===Gs)return r.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===Hs)return r.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===Ws)return r.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===qs)return r.COMPRESSED_RGBA_S3TC_DXT5_EXT}if((i===Ys||i===Xs||i===$s||i===Zs)&&null!==(r=e.get("WEBGL_compressed_texture_pvrtc"))){if(i===Ys)return r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===Xs)return r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===$s)return r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===Zs)return r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(i===Js&&null!==(r=e.get("WEBGL_compressed_texture_etc1")))return r.COMPRESSED_RGB_ETC1_WEBGL;if((i===Ks||i===Qs||i===tl||i===el||i===nl||i===il||i===rl||i===ol||i===al||i===sl||i===ll||i===ul||i===cl||i===hl)&&null!==(r=e.get("WEBGL_compressed_texture_astc")))return i;if(i===Pa||i===Ia){if(n.isWebGL2){if(i===Pa)return t.MIN;if(i===Ia)return t.MAX}if(null!==(r=e.get("EXT_blend_minmax"))){if(i===Pa)return r.MIN_EXT;if(i===Ia)return r.MAX_EXT}}if(i===zs){if(n.isWebGL2)return t.UNSIGNED_INT_24_8;if(null!==(r=e.get("WEBGL_depth_texture")))return r.UNSIGNED_INT_24_8_WEBGL}return 0}return{convert:i}}function we(){E.call(this),this.type="Group"}function Ee(t,e,n,i){M.call(this),this.type="PerspectiveCamera",this.fov=void 0!==t?t:50,this.zoom=1,this.near=void 0!==n?n:.1,this.far=void 0!==i?i:2e3,this.focus=10,this.aspect=void 0!==e?e:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}function Me(t){Ee.call(this),this.cameras=t||[]}function Te(t){function e(){return null!==u&&!0===u.isPresenting}function n(){if(e()){var n=u.getEyeParameters("left"),i=n.renderWidth,r=n.renderHeight;M=t.getPixelRatio(),E=t.getSize(),t.setDrawingBufferSize(2*i,r,1),S.start()}else l.enabled&&(t.setDrawingBufferSize(E.width,E.height,M),S.stop())}function i(t){for(var e=navigator.getGamepads&&navigator.getGamepads(),n=0,i=0,r=e.length;n<r;n++){var o=e[n];if(o&&("Daydream Controller"===o.id||"Gear VR Controller"===o.id||"Oculus Go Controller"===o.id||"OpenVR Gamepad"===o.id||o.id.startsWith("Oculus Touch")||o.id.startsWith("Spatial Controller"))){if(i===t)return o;i++}}}function r(){for(var t=0;t<d.length;t++){var e=d[t],n=i(t);if(void 0!==n&&void 0!==n.pose){if(null===n.pose)return;var r=n.pose;!1===r.hasPosition&&e.position.set(.2,-.6,-.05),null!==r.position&&e.position.fromArray(r.position),null!==r.orientation&&e.quaternion.fromArray(r.orientation),e.matrix.compose(e.position,e.quaternion,e.scale),e.matrix.premultiply(f),e.matrix.decompose(e.position,e.quaternion,e.scale),e.matrixWorldNeedsUpdate=!0,e.visible=!0;var o="Daydream Controller"===n.id?0:1;T[t]!==n.buttons[o].pressed&&(T[t]=n.buttons[o].pressed,!0===T[t]?e.dispatchEvent({type:"selectstart"}):(e.dispatchEvent({type:"selectend"}),e.dispatchEvent({type:"select"})))}else e.visible=!1}}var l=this,u=null,h=null,p=null,d=[],f=new o,y=new o;"undefined"!==typeof window&&"VRFrameData"in window&&(h=new window.VRFrameData,window.addEventListener("vrdisplaypresentchange",n,!1));var m=new o,v=new a,g=new s,_=new Ee;_.bounds=new c(0,0,.5,1),_.layers.enable(1);var b=new Ee;b.bounds=new c(.5,0,.5,1),b.layers.enable(2);var w=new Me([_,b]);w.layers.enable(1),w.layers.enable(2);var E,M,T=[];this.enabled=!1,this.userHeight=1.6,this.getController=function(t){var e=d[t];return void 0===e&&(e=new we,e.matrixAutoUpdate=!1,e.visible=!1,d[t]=e),e},this.getDevice=function(){return u},this.setDevice=function(t){void 0!==t&&(u=t),S.setContext(t)},this.setPoseTarget=function(t){void 0!==t&&(p=t)},this.getCamera=function(t){if(null===u)return t.position.set(0,l.userHeight,0),t;u.depthNear=t.near,u.depthFar=t.far,u.getFrameData(h);var e=u.stageParameters;e?f.fromArray(e.sittingToStandingTransform):f.makeTranslation(0,l.userHeight,0);var n=h.pose,i=null!==p?p:t;if(i.matrix.copy(f),i.matrix.decompose(i.position,i.quaternion,i.scale),null!==n.orientation&&(v.fromArray(n.orientation),i.quaternion.multiply(v)),null!==n.position&&(v.setFromRotationMatrix(f),g.fromArray(n.position),g.applyQuaternion(v),i.position.add(g)),i.updateMatrixWorld(),!1===u.isPresenting)return t;_.near=t.near,b.near=t.near,_.far=t.far,b.far=t.far,w.matrixWorld.copy(t.matrixWorld),w.matrixWorldInverse.copy(t.matrixWorldInverse),_.matrixWorldInverse.fromArray(h.leftViewMatrix),b.matrixWorldInverse.fromArray(h.rightViewMatrix),y.getInverse(f),_.matrixWorldInverse.multiply(y),b.matrixWorldInverse.multiply(y);var o=i.parent;null!==o&&(m.getInverse(o.matrixWorld),_.matrixWorldInverse.multiply(m),b.matrixWorldInverse.multiply(m)),_.matrixWorld.getInverse(_.matrixWorldInverse),b.matrixWorld.getInverse(b.matrixWorldInverse),_.projectionMatrix.fromArray(h.leftProjectionMatrix),b.projectionMatrix.fromArray(h.rightProjectionMatrix),w.projectionMatrix.copy(_.projectionMatrix);var a=u.getLayers();if(a.length){var s=a[0];null!==s.leftBounds&&4===s.leftBounds.length&&_.bounds.fromArray(s.leftBounds),null!==s.rightBounds&&4===s.rightBounds.length&&b.bounds.fromArray(s.rightBounds)}return r(),w},this.getStandingMatrix=function(){return f},this.isPresenting=e;var S=new x;this.setAnimationLoop=function(t){S.setAnimationLoop(t)},this.submitFrame=function(){e()&&u.submitFrame()},this.dispose=function(){"undefined"!==typeof window&&window.removeEventListener("vrdisplaypresentchange",n)}}function Se(t){function e(){return null!==l&&null!==u}function n(t){var e=p[d.indexOf(t.inputSource)];e&&e.dispatchEvent({type:t.type})}function i(){t.setFramebuffer(null),g.stop()}function r(t,e){null===e?t.matrixWorld.copy(t.matrix):t.matrixWorld.multiplyMatrices(e.matrixWorld,t.matrix),t.matrixWorldInverse.getInverse(t.matrixWorld)}function o(t,e){if(null!==(h=e.getDevicePose(u)))for(var n=l.baseLayer,i=e.views,r=0;r<i.length;r++){var o=i[r],a=n.getViewport(o),s=h.getViewMatrix(o),c=m.cameras[r];c.matrix.fromArray(s).getInverse(c.matrix),c.projectionMatrix.fromArray(o.projectionMatrix),c.viewport.set(a.x,a.y,a.width,a.height),0===r&&(m.matrix.copy(c.matrix),m.projectionMatrix.copy(c.projectionMatrix))}for(var r=0;r<p.length;r++){var f=p[r],y=d[r];if(y){var g=e.getInputPose(y,u);if(null!==g){f.matrix.elements=g.pointerMatrix,f.matrix.decompose(f.position,f.rotation,f.scale),f.visible=!0;continue}}f.visible=!1}v&&v(t)}var a=t.context,s=null,l=null,u=null,h=null,p=[],d=[],f=new Ee;f.layers.enable(1),f.viewport=new c;var y=new Ee;y.layers.enable(2),y.viewport=new c;var m=new Me([f,y]);m.layers.enable(1),m.layers.enable(2),this.enabled=!1,this.getController=function(t){var e=p[t];return void 0===e&&(e=new we,e.matrixAutoUpdate=!1,e.visible=!1,p[t]=e),e},this.getDevice=function(){return s},this.setDevice=function(t){void 0!==t&&(s=t),t instanceof XRDevice&&a.setCompatibleXRDevice(t)},this.setSession=function(e,r){null!==(l=e)&&(l.addEventListener("select",n),l.addEventListener("selectstart",n),l.addEventListener("selectend",n),l.addEventListener("end",i),l.baseLayer=new XRWebGLLayer(l,a),l.requestFrameOfReference(r.frameOfReferenceType).then(function(e){u=e,t.setFramebuffer(l.baseLayer.framebuffer),g.setContext(l),g.start()}),d=l.getInputSources(),l.addEventListener("inputsourceschange",function(){d=l.getInputSources(),console.log(d)}))},this.getCamera=function(t){if(e()){var n=t.parent,i=m.cameras;r(m,n);for(var o=0;o<i.length;o++)r(i[o],n);t.matrixWorld.copy(m.matrixWorld);for(var a=t.children,o=0,s=a.length;o<s;o++)a[o].updateMatrixWorld(!0);return m}return t},this.isPresenting=e;var v=null,g=new x;g.setAnimationLoop(o),this.setAnimationLoop=function(t){v=t},this.dispose=function(){},this.getStandingMatrix=function(){return console.warn("THREE.WebXRManager: getStandingMatrix() is no longer needed."),new THREE.Matrix4},this.submitFrame=function(){}}function Ae(t){function e(){return null===ct?wt:1}function n(){Rt=new et(Z),zt=new Q(Z,Rt,t),zt.isWebGL2||(Rt.get("WEBGL_depth_texture"),Rt.get("OES_texture_float"),Rt.get("OES_texture_half_float"),Rt.get("OES_texture_half_float_linear"),Rt.get("OES_standard_derivatives"),Rt.get("OES_element_index_uint"),Rt.get("ANGLE_instanced_arrays")),Rt.get("OES_texture_float_linear"),Zt=new be(Z,Rt,zt),Ot=new xe(Z,Rt,Zt,zt),Ot.scissor(vt.copy(Mt).multiplyScalar(wt)),Ot.viewport(mt.copy(Et).multiplyScalar(wt)),Dt=new rt(Z),Bt=new se,Nt=new _e(Z,Rt,Ot,Bt,zt,Zt,Dt),Ft=new _(Z),Ut=new nt(Z,Ft,Dt),jt=new st(Ut,Dt),Yt=new at(Z),Vt=new ae(ot,Rt,zt),Gt=new he,Wt=new ye,qt=new J(ot,Ot,jt,W),Xt=new K(Z,Rt,Dt,zt),$t=new it(Z,Rt,Dt,zt),Dt.programs=Vt.programs,ot.context=Z,ot.capabilities=zt,ot.extensions=Rt,ot.properties=Bt,ot.renderLists=Gt,ot.state=Ot,ot.info=Dt}function i(t){t.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),lt=!0}function r(){console.log("THREE.WebGLRenderer: Context Restored."),lt=!1,n()}function a(t){var e=t.target;e.removeEventListener("dispose",a),l(e)}function l(t){u(t),Bt.remove(t)}function u(t){var e=Bt.get(t).program;t.program=void 0,void 0!==e&&Vt.releaseProgram(e)}function h(t,e){t.render(function(t){ot.renderBufferImmediate(t,e)})}function p(t,e,n){if(n&&n.isInstancedBufferGeometry&!zt.isWebGL2&&null===Rt.get("ANGLE_instanced_arrays"))return void console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");Ot.initAttributes();var i=n.attributes,r=e.getAttributes(),o=t.defaultAttributeValues;for(var a in r){var s=r[a];if(s>=0){var l=i[a];if(void 0!==l){var u=l.normalized,c=l.itemSize,h=Ft.get(l);if(void 0===h)continue;var p=h.buffer,d=h.type,f=h.bytesPerElement;if(l.isInterleavedBufferAttribute){var y=l.data,m=y.stride,v=l.offset;y&&y.isInstancedInterleavedBuffer?(Ot.enableAttributeAndDivisor(s,y.meshPerAttribute),void 0===n.maxInstancedCount&&(n.maxInstancedCount=y.meshPerAttribute*y.count)):Ot.enableAttribute(s),Z.bindBuffer(Z.ARRAY_BUFFER,p),Z.vertexAttribPointer(s,c,d,u,m*f,v*f)}else l.isInstancedBufferAttribute?(Ot.enableAttributeAndDivisor(s,l.meshPerAttribute),void 0===n.maxInstancedCount&&(n.maxInstancedCount=l.meshPerAttribute*l.count)):Ot.enableAttribute(s),Z.bindBuffer(Z.ARRAY_BUFFER,p),Z.vertexAttribPointer(s,c,d,u,0,0)}else if(void 0!==o){var g=o[a];if(void 0!==g)switch(g.length){case 2:Z.vertexAttrib2fv(s,g);break;case 3:Z.vertexAttrib3fv(s,g);break;case 4:Z.vertexAttrib4fv(s,g);break;default:Z.vertexAttrib1fv(s,g)}}}}Ot.disableUnusedAttributes()}function f(t){Jt.isPresenting()||Qt&&Qt(t)}function y(t,e,n){if(!1!==t.visible){if(t.layers.test(e.layers))if(t.isLight)$.pushLight(t),t.castShadow&&$.pushShadow(t);else if(t.isSprite){if(!t.frustumCulled||St.intersectsSprite(t)){n&&Pt.setFromMatrixPosition(t.matrixWorld).applyMatrix4(kt);var i=jt.update(t),r=t.material;X.push(t,i,r,Pt.z,null)}}else if(t.isImmediateRenderObject)n&&Pt.setFromMatrixPosition(t.matrixWorld).applyMatrix4(kt),X.push(t,null,t.material,Pt.z,null);else if((t.isMesh||t.isLine||t.isPoints)&&(t.isSkinnedMesh&&t.skeleton.update(),!t.frustumCulled||St.intersectsObject(t))){n&&Pt.setFromMatrixPosition(t.matrixWorld).applyMatrix4(kt);var i=jt.update(t),r=t.material;if(Array.isArray(r))for(var o=i.groups,a=0,s=o.length;a<s;a++){var l=o[a],u=r[l.materialIndex];u&&u.visible&&X.push(t,i,u,Pt.z,l)}else r.visible&&X.push(t,i,r,Pt.z,null)}for(var c=t.children,a=0,s=c.length;a<s;a++)y(c[a],e,n)}}function m(t,e,n,i){for(var r=0,o=t.length;r<o;r++){var a=t[r],s=a.object,l=a.geometry,u=void 0===i?a.material:i,c=a.group;if(n.isArrayCamera){yt=n;for(var h=n.cameras,p=0,d=h.length;p<d;p++){var f=h[p];if(s.layers.test(f.layers)){if("viewport"in f)Ot.viewport(mt.copy(f.viewport));else{var y=f.bounds,m=y.x*_t,v=y.y*bt,x=y.z*_t,_=y.w*bt;Ot.viewport(mt.set(m,v,x,_).multiplyScalar(wt))}g(s,e,f,l,u,c)}}}else yt=null,g(s,e,n,l,u,c)}}function g(t,e,n,i,r,o){if(t.onBeforeRender(ot,e,n,i,r,o),$=Wt.get(e,yt||n),t.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,t.matrixWorld),t.normalMatrix.getNormalMatrix(t.modelViewMatrix),t.isImmediateRenderObject){Ot.setMaterial(r);var a=w(n,e.fog,r,t);dt.geometry=null,dt.program=null,dt.wireframe=!1,h(t,a)}else ot.renderBufferDirect(n,e.fog,i,r,t,o);t.onAfterRender(ot,e,n,i,r,o),$=Wt.get(e,yt||n)}function b(t,e,n){var i=Bt.get(t),r=$.state.lights,o=$.state.shadowsArray,s=i.lightsHash,l=r.state.hash,c=Vt.getParameters(t,r.state,o,e,At.numPlanes,At.numIntersection,n),h=Vt.getProgramCode(t,c),p=i.program,d=!0;if(void 0===p)t.addEventListener("dispose",a);else if(p.code!==h)u(t);else if(s.stateID!==l.stateID||s.directionalLength!==l.directionalLength||s.pointLength!==l.pointLength||s.spotLength!==l.spotLength||s.rectAreaLength!==l.rectAreaLength||s.hemiLength!==l.hemiLength||s.shadowsLength!==l.shadowsLength)s.stateID=l.stateID,s.directionalLength=l.directionalLength,s.pointLength=l.pointLength,s.spotLength=l.spotLength,s.rectAreaLength=l.rectAreaLength,s.hemiLength=l.hemiLength,s.shadowsLength=l.shadowsLength,d=!1;else{if(void 0!==c.shaderID)return;d=!1}if(d){if(c.shaderID){var f=Gl[c.shaderID];i.shader={name:t.type,uniforms:Ul.clone(f.uniforms),vertexShader:f.vertexShader,fragmentShader:f.fragmentShader}}else i.shader={name:t.type,uniforms:t.uniforms,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader};t.onBeforeCompile(i.shader,ot),h=Vt.getProgramCode(t,c),p=Vt.acquireProgram(t,i.shader,c,h),i.program=p,t.program=p}var y=p.getAttributes();if(t.morphTargets){t.numSupportedMorphTargets=0;for(var m=0;m<ot.maxMorphTargets;m++)y["morphTarget"+m]>=0&&t.numSupportedMorphTargets++}if(t.morphNormals){t.numSupportedMorphNormals=0;for(var m=0;m<ot.maxMorphNormals;m++)y["morphNormal"+m]>=0&&t.numSupportedMorphNormals++}var v=i.shader.uniforms;(t.isShaderMaterial||t.isRawShaderMaterial)&&!0!==t.clipping||(i.numClippingPlanes=At.numPlanes,i.numIntersection=At.numIntersection,v.clippingPlanes=At.uniform),i.fog=e,void 0===s&&(i.lightsHash=s={}),s.stateID=l.stateID,s.directionalLength=l.directionalLength,s.pointLength=l.pointLength,s.spotLength=l.spotLength,s.rectAreaLength=l.rectAreaLength,s.hemiLength=l.hemiLength,s.shadowsLength=l.shadowsLength,t.lights&&(v.ambientLightColor.value=r.state.ambient,v.directionalLights.value=r.state.directional,v.spotLights.value=r.state.spot,v.rectAreaLights.value=r.state.rectArea,v.pointLights.value=r.state.point,v.hemisphereLights.value=r.state.hemi,v.directionalShadowMap.value=r.state.directionalShadowMap,v.directionalShadowMatrix.value=r.state.directionalShadowMatrix,v.spotShadowMap.value=r.state.spotShadowMap,v.spotShadowMatrix.value=r.state.spotShadowMatrix,v.pointShadowMap.value=r.state.pointShadowMap,v.pointShadowMatrix.value=r.state.pointShadowMatrix);var g=i.program.getUniforms(),x=Ht.seqWithValue(g.seq,v);i.uniformsList=x}function w(t,e,n,i){xt=0;var r=Bt.get(n),o=$.state.lights,a=r.lightsHash,s=o.state.hash;if(Ct&&(Lt||t!==ft)){var l=t===ft&&n.id===pt;At.setState(n.clippingPlanes,n.clipIntersection,n.clipShadows,t,r,l)}!1===n.needsUpdate&&(void 0===r.program?n.needsUpdate=!0:n.fog&&r.fog!==e?n.needsUpdate=!0:!n.lights||a.stateID===s.stateID&&a.directionalLength===s.directionalLength&&a.pointLength===s.pointLength&&a.spotLength===s.spotLength&&a.rectAreaLength===s.rectAreaLength&&a.hemiLength===s.hemiLength&&a.shadowsLength===s.shadowsLength?void 0===r.numClippingPlanes||r.numClippingPlanes===At.numPlanes&&r.numIntersection===At.numIntersection||(n.needsUpdate=!0):n.needsUpdate=!0),n.needsUpdate&&(b(n,e,i),n.needsUpdate=!1);var u=!1,c=!1,h=!1,p=r.program,f=p.getUniforms(),y=r.shader.uniforms;if(Ot.useProgram(p.program)&&(u=!0,c=!0,h=!0),n.id!==pt&&(pt=n.id,c=!0),u||t!==ft){if(f.setValue(Z,"projectionMatrix",t.projectionMatrix),zt.logarithmicDepthBuffer&&f.setValue(Z,"logDepthBufFC",2/(Math.log(t.far+1)/Math.LN2)),ft!==(yt||t)&&(ft=yt||t,c=!0,h=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshStandardMaterial||n.envMap){var m=f.map.cameraPosition;void 0!==m&&m.setValue(Z,Pt.setFromMatrixPosition(t.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.skinning)&&f.setValue(Z,"viewMatrix",t.matrixWorldInverse)}if(n.skinning){f.setOptional(Z,i,"bindMatrix"),f.setOptional(Z,i,"bindMatrixInverse");var v=i.skeleton;if(v){var g=v.bones;if(zt.floatVertexTextures){if(void 0===v.boneTexture){var x=Math.sqrt(4*g.length);x=Dl.ceilPowerOfTwo(x),x=Math.max(x,4);var _=new Float32Array(x*x*4);_.set(v.boneMatrices);var w=new d(_,x,x,Bs,Ls);w.needsUpdate=!0,v.boneMatrices=_,v.boneTexture=w,v.boneTextureSize=x}f.setValue(Z,"boneTexture",v.boneTexture),f.setValue(Z,"boneTextureSize",v.boneTextureSize)}else f.setOptional(Z,v,"boneMatrices")}}return c&&(f.setValue(Z,"toneMappingExposure",ot.toneMappingExposure),f.setValue(Z,"toneMappingWhitePoint",ot.toneMappingWhitePoint),n.lights&&B(y,h),e&&n.fog&&C(y,e),n.isMeshBasicMaterial?E(y,n):n.isMeshLambertMaterial?(E(y,n),L(y,n)):n.isMeshPhongMaterial?(E(y,n),n.isMeshToonMaterial?P(y,n):k(y,n)):n.isMeshStandardMaterial?(E(y,n),n.isMeshPhysicalMaterial?R(y,n):I(y,n)):n.isMeshDepthMaterial?(E(y,n),z(y,n)):n.isMeshDistanceMaterial?(E(y,n),O(y,n)):n.isMeshNormalMaterial?(E(y,n),D(y,n)):n.isLineBasicMaterial?(M(y,n),n.isLineDashedMaterial&&T(y,n)):n.isPointsMaterial?S(y,n):n.isSpriteMaterial?A(y,n):n.isShadowMaterial&&(y.color.value=n.color,y.opacity.value=n.opacity),void 0!==y.ltc_1&&(y.ltc_1.value=Vl.LTC_1),void 0!==y.ltc_2&&(y.ltc_2.value=Vl.LTC_2),Ht.upload(Z,r.uniformsList,y,ot)),n.isShaderMaterial&&!0===n.uniformsNeedUpdate&&(Ht.upload(Z,r.uniformsList,y,ot),n.uniformsNeedUpdate=!1),n.isSpriteMaterial&&f.setValue(Z,"center",i.center),f.setValue(Z,"modelViewMatrix",i.modelViewMatrix),f.setValue(Z,"normalMatrix",i.normalMatrix),f.setValue(Z,"modelMatrix",i.matrixWorld),p}function E(t,e){t.opacity.value=e.opacity,e.color&&(t.diffuse.value=e.color),e.emissive&&t.emissive.value.copy(e.emissive).multiplyScalar(e.emissiveIntensity),e.map&&(t.map.value=e.map),e.alphaMap&&(t.alphaMap.value=e.alphaMap),e.specularMap&&(t.specularMap.value=e.specularMap),e.envMap&&(t.envMap.value=e.envMap,t.flipEnvMap.value=e.envMap&&e.envMap.isCubeTexture?-1:1,t.reflectivity.value=e.reflectivity,t.refractionRatio.value=e.refractionRatio,t.maxMipLevel.value=Bt.get(e.envMap).__maxMipLevel),e.lightMap&&(t.lightMap.value=e.lightMap,t.lightMapIntensity.value=e.lightMapIntensity),e.aoMap&&(t.aoMap.value=e.aoMap,t.aoMapIntensity.value=e.aoMapIntensity);var n;e.map?n=e.map:e.specularMap?n=e.specularMap:e.displacementMap?n=e.displacementMap:e.normalMap?n=e.normalMap:e.bumpMap?n=e.bumpMap:e.roughnessMap?n=e.roughnessMap:e.metalnessMap?n=e.metalnessMap:e.alphaMap?n=e.alphaMap:e.emissiveMap&&(n=e.emissiveMap),void 0!==n&&(n.isWebGLRenderTarget&&(n=n.texture),!0===n.matrixAutoUpdate&&n.updateMatrix(),t.uvTransform.value.copy(n.matrix))}function M(t,e){t.diffuse.value=e.color,t.opacity.value=e.opacity}function T(t,e){t.dashSize.value=e.dashSize,t.totalSize.value=e.dashSize+e.gapSize,t.scale.value=e.scale}function S(t,e){t.diffuse.value=e.color,t.opacity.value=e.opacity,t.size.value=e.size*wt,t.scale.value=.5*bt,t.map.value=e.map,null!==e.map&&(!0===e.map.matrixAutoUpdate&&e.map.updateMatrix(),t.uvTransform.value.copy(e.map.matrix))}function A(t,e){t.diffuse.value=e.color,t.opacity.value=e.opacity,t.rotation.value=e.rotation,t.map.value=e.map,null!==e.map&&(!0===e.map.matrixAutoUpdate&&e.map.updateMatrix(),t.uvTransform.value.copy(e.map.matrix))}function C(t,e){t.fogColor.value=e.color,e.isFog?(t.fogNear.value=e.near,t.fogFar.value=e.far):e.isFogExp2&&(t.fogDensity.value=e.density)}function L(t,e){e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap)}function k(t,e){t.specular.value=e.specular,t.shininess.value=Math.max(e.shininess,1e-4),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,e.side===ya&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),e.side===ya&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}function P(t,e){k(t,e),e.gradientMap&&(t.gradientMap.value=e.gradientMap)}function I(t,e){t.roughness.value=e.roughness,t.metalness.value=e.metalness,e.roughnessMap&&(t.roughnessMap.value=e.roughnessMap),e.metalnessMap&&(t.metalnessMap.value=e.metalnessMap),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,e.side===ya&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),e.side===ya&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias),e.envMap&&(t.envMapIntensity.value=e.envMapIntensity)}function R(t,e){I(t,e),t.reflectivity.value=e.reflectivity,t.clearCoat.value=e.clearCoat,t.clearCoatRoughness.value=e.clearCoatRoughness}function z(t,e){e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}function O(t,e){e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias),t.referencePosition.value.copy(e.referencePosition),t.nearDistance.value=e.nearDistance,t.farDistance.value=e.farDistance}function D(t,e){e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,e.side===ya&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),e.side===ya&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}function B(t,e){t.ambientLightColor.needsUpdate=e,t.directionalLights.needsUpdate=e,t.pointLights.needsUpdate=e,t.spotLights.needsUpdate=e,t.rectAreaLights.needsUpdate=e,t.hemisphereLights.needsUpdate=e}function N(){var t=xt;return t>=zt.maxTextures&&console.warn("THREE.WebGLRenderer: Trying to use "+t+" texture units while this GPU supports only "+zt.maxTextures),xt+=1,t}console.log("THREE.WebGLRenderer",ia),t=t||{};var F=void 0!==t.canvas?t.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),U=void 0!==t.context?t.context:null,j=void 0!==t.alpha&&t.alpha,V=void 0===t.depth||t.depth,G=void 0===t.stencil||t.stencil,H=void 0!==t.antialias&&t.antialias,W=void 0===t.premultipliedAlpha||t.premultipliedAlpha,q=void 0!==t.preserveDrawingBuffer&&t.preserveDrawingBuffer,Y=void 0!==t.powerPreference?t.powerPreference:"default",X=null,$=null;this.domElement=F,this.context=null,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=ns,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var Z,ot=this,lt=!1,ut=null,ct=null,ht=null,pt=-1,dt={geometry:null,program:null,wireframe:!1},ft=null,yt=null,mt=new c,vt=new c,gt=null,xt=0,_t=F.width,bt=F.height,wt=1,Et=new c(0,0,_t,bt),Mt=new c(0,0,_t,bt),Tt=!1,St=new v,At=new tt,Ct=!1,Lt=!1,kt=new o,Pt=new s;try{var It={alpha:j,depth:V,stencil:G,antialias:H,premultipliedAlpha:W,preserveDrawingBuffer:q,powerPreference:Y};if(F.addEventListener("webglcontextlost",i,!1),F.addEventListener("webglcontextrestored",r,!1),null===(Z=U||F.getContext("webgl",It)||F.getContext("experimental-webgl",It)))throw null!==F.getContext("webgl")?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.");void 0===Z.getShaderPrecisionFormat&&(Z.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(t){console.error("THREE.WebGLRenderer: "+t.message)}var Rt,zt,Ot,Dt,Bt,Nt,Ft,Ut,jt,Vt,Gt,Wt,qt,Yt,Xt,$t,Zt;n();var Jt="xr"in navigator?new Se(ot):new Te(ot);this.vr=Jt;var Kt=new ge(ot,jt,zt.maxTextureSize);this.shadowMap=Kt,this.getContext=function(){return Z},this.getContextAttributes=function(){return Z.getContextAttributes()},this.forceContextLoss=function(){var t=Rt.get("WEBGL_lose_context");t&&t.loseContext()},this.forceContextRestore=function(){var t=Rt.get("WEBGL_lose_context");t&&t.restoreContext()},this.getPixelRatio=function(){return wt},this.setPixelRatio=function(t){void 0!==t&&(wt=t,this.setSize(_t,bt,!1))},this.getSize=function(){return{width:_t,height:bt}},this.setSize=function(t,e,n){if(Jt.isPresenting())return void console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");_t=t,bt=e,F.width=t*wt,F.height=e*wt,!1!==n&&(F.style.width=t+"px",F.style.height=e+"px"),this.setViewport(0,0,t,e)},this.getDrawingBufferSize=function(){return{width:_t*wt,height:bt*wt}},this.setDrawingBufferSize=function(t,e,n){_t=t,bt=e,wt=n,F.width=t*n,F.height=e*n,this.setViewport(0,0,t,e)},this.getCurrentViewport=function(){return mt},this.setViewport=function(t,e,n,i){Et.set(t,bt-e-i,n,i),Ot.viewport(mt.copy(Et).multiplyScalar(wt))},this.setScissor=function(t,e,n,i){Mt.set(t,bt-e-i,n,i),Ot.scissor(vt.copy(Mt).multiplyScalar(wt))},this.setScissorTest=function(t){Ot.setScissorTest(Tt=t)},this.getClearColor=function(){return qt.getClearColor()},this.setClearColor=function(){qt.setClearColor.apply(qt,arguments)},this.getClearAlpha=function(){return qt.getClearAlpha()},this.setClearAlpha=function(){qt.setClearAlpha.apply(qt,arguments)},this.clear=function(t,e,n){var i=0;(void 0===t||t)&&(i|=Z.COLOR_BUFFER_BIT),(void 0===e||e)&&(i|=Z.DEPTH_BUFFER_BIT),(void 0===n||n)&&(i|=Z.STENCIL_BUFFER_BIT),Z.clear(i)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.clearTarget=function(t,e,n,i){this.setRenderTarget(t),this.clear(e,n,i)},this.dispose=function(){F.removeEventListener("webglcontextlost",i,!1),F.removeEventListener("webglcontextrestored",r,!1),Gt.dispose(),Wt.dispose(),Bt.dispose(),jt.dispose(),Jt.dispose(),te.stop()},this.renderBufferImmediate=function(t,e){Ot.initAttributes();var n=Bt.get(t);t.hasPositions&&!n.position&&(n.position=Z.createBuffer()),t.hasNormals&&!n.normal&&(n.normal=Z.createBuffer()),t.hasUvs&&!n.uv&&(n.uv=Z.createBuffer()),t.hasColors&&!n.color&&(n.color=Z.createBuffer());var i=e.getAttributes();t.hasPositions&&(Z.bindBuffer(Z.ARRAY_BUFFER,n.position),Z.bufferData(Z.ARRAY_BUFFER,t.positionArray,Z.DYNAMIC_DRAW),Ot.enableAttribute(i.position),Z.vertexAttribPointer(i.position,3,Z.FLOAT,!1,0,0)),t.hasNormals&&(Z.bindBuffer(Z.ARRAY_BUFFER,n.normal),Z.bufferData(Z.ARRAY_BUFFER,t.normalArray,Z.DYNAMIC_DRAW),Ot.enableAttribute(i.normal),Z.vertexAttribPointer(i.normal,3,Z.FLOAT,!1,0,0)),t.hasUvs&&(Z.bindBuffer(Z.ARRAY_BUFFER,n.uv),Z.bufferData(Z.ARRAY_BUFFER,t.uvArray,Z.DYNAMIC_DRAW),Ot.enableAttribute(i.uv),Z.vertexAttribPointer(i.uv,2,Z.FLOAT,!1,0,0)),t.hasColors&&(Z.bindBuffer(Z.ARRAY_BUFFER,n.color),Z.bufferData(Z.ARRAY_BUFFER,t.colorArray,Z.DYNAMIC_DRAW),Ot.enableAttribute(i.color),Z.vertexAttribPointer(i.color,3,Z.FLOAT,!1,0,0)),Ot.disableUnusedAttributes(),Z.drawArrays(Z.TRIANGLES,0,t.count),t.count=0},this.renderBufferDirect=function(t,n,i,r,o,a){var s=o.isMesh&&o.normalMatrix.determinant()<0;Ot.setMaterial(r,s);var l=w(t,n,r,o),u=!1;dt.geometry===i.id&&dt.program===l.id&&dt.wireframe===(!0===r.wireframe)||(dt.geometry=i.id,dt.program=l.id,dt.wireframe=!0===r.wireframe,u=!0),o.morphTargetInfluences&&(Yt.update(o,i,r,l),u=!0);var c=i.index,h=i.attributes.position,d=1;!0===r.wireframe&&(c=Ut.getWireframeAttribute(i),d=2);var f,y=Xt;null!==c&&(f=Ft.get(c),y=$t,y.setIndex(f)),u&&(p(r,l,i),null!==c&&Z.bindBuffer(Z.ELEMENT_ARRAY_BUFFER,f.buffer));var m=1/0;null!==c?m=c.count:void 0!==h&&(m=h.count);var v=i.drawRange.start*d,g=i.drawRange.count*d,x=null!==a?a.start*d:0,_=null!==a?a.count*d:1/0,b=Math.max(v,x),E=Math.min(m,v+g,x+_)-1,M=Math.max(0,E-b+1);if(0!==M){if(o.isMesh)if(!0===r.wireframe)Ot.setLineWidth(r.wireframeLinewidth*e()),y.setMode(Z.LINES);else switch(o.drawMode){case bl:y.setMode(Z.TRIANGLES);break;case wl:y.setMode(Z.TRIANGLE_STRIP);break;case El:y.setMode(Z.TRIANGLE_FAN)}else if(o.isLine){var T=r.linewidth;void 0===T&&(T=1),Ot.setLineWidth(T*e()),o.isLineSegments?y.setMode(Z.LINES):o.isLineLoop?y.setMode(Z.LINE_LOOP):y.setMode(Z.LINE_STRIP)}else o.isPoints?y.setMode(Z.POINTS):o.isSprite&&y.setMode(Z.TRIANGLES);i&&i.isInstancedBufferGeometry?i.maxInstancedCount>0&&y.renderInstances(i,b,M):y.render(b,M)}},this.compile=function(t,e){$=Wt.get(t,e),$.init(),t.traverse(function(t){t.isLight&&($.pushLight(t),t.castShadow&&$.pushShadow(t))}),$.setupLights(e),t.traverse(function(e){if(e.material)if(Array.isArray(e.material))for(var n=0;n<e.material.length;n++)b(e.material[n],t.fog,e);else b(e.material,t.fog,e)})};var Qt=null,te=new x;te.setAnimationLoop(f),"undefined"!==typeof window&&te.setContext(window),this.setAnimationLoop=function(t){Qt=t,Jt.setAnimationLoop(t),te.start()},this.render=function(t,e,n,i){if(!e||!e.isCamera)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");if(!lt){dt.geometry=null,dt.program=null,dt.wireframe=!1,pt=-1,ft=null,!0===t.autoUpdate&&t.updateMatrixWorld(),null===e.parent&&e.updateMatrixWorld(),Jt.enabled&&(e=Jt.getCamera(e)),$=Wt.get(t,e),$.init(),t.onBeforeRender(ot,t,e,n),kt.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),St.setFromMatrix(kt),Lt=this.localClippingEnabled,Ct=At.init(this.clippingPlanes,Lt,e),X=Gt.get(t,e),X.init(),y(t,e,ot.sortObjects),!0===ot.sortObjects&&X.sort(),Ct&&At.beginShadows();var r=$.state.shadowsArray;Kt.render(r,t,e),$.setupLights(e),Ct&&At.endShadows(),this.info.autoReset&&this.info.reset(),void 0===n&&(n=null),this.setRenderTarget(n),qt.render(X,t,e,i);var o=X.opaque,a=X.transparent;if(t.overrideMaterial){var s=t.overrideMaterial;o.length&&m(o,t,e,s),a.length&&m(a,t,e,s)}else o.length&&m(o,t,e),a.length&&m(a,t,e);n&&Nt.updateRenderTargetMipmap(n),Ot.buffers.depth.setTest(!0),Ot.buffers.depth.setMask(!0),Ot.buffers.color.setMask(!0),Ot.setPolygonOffset(!1),t.onAfterRender(ot,t,e),Jt.enabled&&Jt.submitFrame(),X=null,$=null}},this.allocTextureUnit=N,this.setTexture2D=function(){var t=!1;return function(e,n){e&&e.isWebGLRenderTarget&&(t||(console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead."),t=!0),e=e.texture),Nt.setTexture2D(e,n)}}(),this.setTexture=function(){var t=!1;return function(e,n){t||(console.warn("THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead."),t=!0),Nt.setTexture2D(e,n)}}(),this.setTextureCube=function(){var t=!1;return function(e,n){e&&e.isWebGLRenderTargetCube&&(t||(console.warn("THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead."),t=!0),e=e.texture),e&&e.isCubeTexture||Array.isArray(e.image)&&6===e.image.length?Nt.setTextureCube(e,n):Nt.setTextureCubeDynamic(e,n)}}(),this.setFramebuffer=function(t){ut=t},this.getRenderTarget=function(){return ct},this.setRenderTarget=function(t){ct=t,t&&void 0===Bt.get(t).__webglFramebuffer&&Nt.setupRenderTarget(t);var e=ut,n=!1;if(t){var i=Bt.get(t).__webglFramebuffer;t.isWebGLRenderTargetCube?(e=i[t.activeCubeFace],n=!0):e=i,mt.copy(t.viewport),vt.copy(t.scissor),gt=t.scissorTest}else mt.copy(Et).multiplyScalar(wt),vt.copy(Mt).multiplyScalar(wt),gt=Tt;if(ht!==e&&(Z.bindFramebuffer(Z.FRAMEBUFFER,e),ht=e),Ot.viewport(mt),Ot.scissor(vt),Ot.setScissorTest(gt),n){var r=Bt.get(t.texture);Z.framebufferTexture2D(Z.FRAMEBUFFER,Z.COLOR_ATTACHMENT0,Z.TEXTURE_CUBE_MAP_POSITIVE_X+t.activeCubeFace,r.__webglTexture,t.activeMipMapLevel)}},this.readRenderTargetPixels=function(t,e,n,i,r,o){if(!t||!t.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");var a=Bt.get(t).__webglFramebuffer;if(a){var s=!1;a!==ht&&(Z.bindFramebuffer(Z.FRAMEBUFFER,a),s=!0);try{var l=t.texture,u=l.format,c=l.type;if(u!==Bs&&Zt.convert(u)!==Z.getParameter(Z.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(c!==Es&&Zt.convert(c)!==Z.getParameter(Z.IMPLEMENTATION_COLOR_READ_TYPE)&&(c!==Ls||!(zt.isWebGL2||Rt.get("OES_texture_float")||Rt.get("WEBGL_color_buffer_float")))&&(c!==ks||(zt.isWebGL2?!Rt.get("EXT_color_buffer_float"):!Rt.get("EXT_color_buffer_half_float"))))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");Z.checkFramebufferStatus(Z.FRAMEBUFFER)===Z.FRAMEBUFFER_COMPLETE?e>=0&&e<=t.width-i&&n>=0&&n<=t.height-r&&Z.readPixels(e,n,i,r,Zt.convert(u),Zt.convert(c),o):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{s&&Z.bindFramebuffer(Z.FRAMEBUFFER,ht)}}},this.copyFramebufferToTexture=function(t,e,n){var i=e.image.width,r=e.image.height,o=Zt.convert(e.format);this.setTexture2D(e,0),Z.copyTexImage2D(Z.TEXTURE_2D,n||0,o,t.x,t.y,i,r,0)},this.copyTextureToTexture=function(t,e,n,i){var r=e.image.width,o=e.image.height,a=Zt.convert(n.format),s=Zt.convert(n.type);this.setTexture2D(n,0),e.isDataTexture?Z.texSubImage2D(Z.TEXTURE_2D,i||0,t.x,t.y,r,o,a,s,e.image.data):Z.texSubImage2D(Z.TEXTURE_2D,i||0,t.x,t.y,a,s,e.image)}}function Ce(t,e){this.name="",this.color=new g(t),this.density=void 0!==e?e:25e-5}function Le(t,e,n){this.name="",this.color=new g(t),this.near=void 0!==e?e:1,this.far=void 0!==n?n:1e3}function ke(){E.call(this),this.type="Scene",this.background=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0}function Pe(t,e){this.array=t,this.stride=e,this.count=void 0!==t?t.length/e:0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function Ie(t,e,n,i){this.data=t,this.itemSize=e,this.offset=n,this.normalized=!0===i}function Re(t){W.call(this),this.type="SpriteMaterial",this.color=new g(16777215),this.map=null,this.rotation=0,this.lights=!1,this.transparent=!0,this.setValues(t)}function ze(t){if(E.call(this),this.type="Sprite",void 0===ru){ru=new U;var e=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),n=new Pe(e,5);ru.setIndex([0,1,2,0,2,3]),ru.addAttribute("position",new Ie(n,3,0,!1)),ru.addAttribute("uv",new Ie(n,2,3,!1))}this.geometry=ru,this.material=void 0!==t?t:new Re,this.center=new r(.5,.5)}function Oe(){E.call(this),this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}})}function De(t,e){if(t=t||[],this.bones=t.slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),void 0===e)this.calculateInverses();else if(this.bones.length===e.length)this.boneInverses=e.slice(0);else{console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[];for(var n=0,i=this.bones.length;n<i;n++)this.boneInverses.push(new o)}}function Be(){E.call(this),this.type="Bone"}function Ne(t,e){Z.call(this,t,e),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new o,this.bindMatrixInverse=new o;var n=this.initBones(),i=new De(n);this.bind(i,this.matrixWorld),this.normalizeSkinWeights()}function Fe(t){W.call(this),this.type="LineBasicMaterial",this.color=new g(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.lights=!1,this.setValues(t)}function Ue(t,e,n){1===n&&console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead."),E.call(this),this.type="Line",this.geometry=void 0!==t?t:new U,this.material=void 0!==e?e:new Fe({color:16777215*Math.random()})}function je(t,e){Ue.call(this,t,e),this.type="LineSegments"}function Ve(t,e){Ue.call(this,t,e),this.type="LineLoop"}function Ge(t){W.call(this),this.type="PointsMaterial",this.color=new g(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.lights=!1,this.setValues(t)}function He(t,e){E.call(this),this.type="Points",this.geometry=void 0!==t?t:new U,this.material=void 0!==e?e:new Ge({color:16777215*Math.random()})}function We(t,e,n,i,r,o,a,s,l){u.call(this,t,e,n,i,r,o,a,s,l),this.generateMipmaps=!1}function qe(t,e,n,i,r,o,a,s,l,c,h,p){u.call(this,null,o,a,s,l,c,i,r,h,p),this.image={width:e,height:n},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}function Ye(t,e,n,i,r,o,a,s,l){u.call(this,t,e,n,i,r,o,a,s,l),this.needsUpdate=!0}function Xe(t,e,n,i,r,o,a,s,l,c){if((c=void 0!==c?c:js)!==js&&c!==Vs)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&c===js&&(n=Ss),void 0===n&&c===Vs&&(n=zs),u.call(this,null,i,r,o,a,s,c,n,l),this.image={width:t,height:e},this.magFilter=void 0!==a?a:vs,this.minFilter=void 0!==s?s:vs,this.flipY=!1,this.generateMipmaps=!1}function $e(t){U.call(this),this.type="WireframeGeometry";var e,n,i,r,o,a,l,u,c,h,p=[],d=[0,0],f={},y=["a","b","c"];if(t&&t.isGeometry){var m=t.faces;for(e=0,i=m.length;e<i;e++){var v=m[e];for(n=0;n<3;n++)l=v[y[n]],u=v[y[(n+1)%3]],d[0]=Math.min(l,u),d[1]=Math.max(l,u),c=d[0]+","+d[1],void 0===f[c]&&(f[c]={index1:d[0],index2:d[1]})}for(c in f)a=f[c],h=t.vertices[a.index1],p.push(h.x,h.y,h.z),h=t.vertices[a.index2],p.push(h.x,h.y,h.z)}else if(t&&t.isBufferGeometry){var g,x,_,b,w,E,M,T;if(h=new s,null!==t.index){for(g=t.attributes.position,x=t.index,_=t.groups,0===_.length&&(_=[{start:0,count:x.count,materialIndex:0}]),r=0,o=_.length;r<o;++r)for(b=_[r],w=b.start,E=b.count,e=w,i=w+E;e<i;e+=3)for(n=0;n<3;n++)l=x.getX(e+n),u=x.getX(e+(n+1)%3),d[0]=Math.min(l,u),d[1]=Math.max(l,u),c=d[0]+","+d[1],void 0===f[c]&&(f[c]={index1:d[0],index2:d[1]});for(c in f)a=f[c],h.fromBufferAttribute(g,a.index1),p.push(h.x,h.y,h.z),h.fromBufferAttribute(g,a.index2),p.push(h.x,h.y,h.z)}else for(g=t.attributes.position,e=0,i=g.count/3;e<i;e++)for(n=0;n<3;n++)M=3*e+n,h.fromBufferAttribute(g,M),p.push(h.x,h.y,h.z),T=3*e+(n+1)%3,h.fromBufferAttribute(g,T),p.push(h.x,h.y,h.z)}this.addAttribute("position",new D(p,3))}function Ze(t,e,n){A.call(this),this.type="ParametricGeometry",this.parameters={func:t,slices:e,stacks:n},this.fromBufferGeometry(new Je(t,e,n)),this.mergeVertices()}function Je(t,e,n){U.call(this),this.type="ParametricBufferGeometry",this.parameters={func:t,slices:e,stacks:n};var i,r,o=[],a=[],l=[],u=[],c=new s,h=new s,p=new s,d=new s,f=new s;t.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");var y=e+1;for(i=0;i<=n;i++){var m=i/n;for(r=0;r<=e;r++){var v=r/e;t(v,m,h),a.push(h.x,h.y,h.z),v-1e-5>=0?(t(v-1e-5,m,p),d.subVectors(h,p)):(t(v+1e-5,m,p),d.subVectors(p,h)),m-1e-5>=0?(t(v,m-1e-5,p),f.subVectors(h,p)):(t(v,m+1e-5,p),f.subVectors(p,h)),c.crossVectors(d,f).normalize(),l.push(c.x,c.y,c.z),u.push(v,m)}}for(i=0;i<n;i++)for(r=0;r<e;r++){var g=i*y+r,x=i*y+r+1,_=(i+1)*y+r+1,b=(i+1)*y+r;o.push(g,x,b),o.push(x,_,b)}this.setIndex(o),this.addAttribute("position",new D(a,3)),this.addAttribute("normal",new D(l,3)),this.addAttribute("uv",new D(u,2))}function Ke(t,e,n,i){A.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:t,indices:e,radius:n,detail:i},this.fromBufferGeometry(new Qe(t,e,n,i)),this.mergeVertices()}function Qe(t,e,n,i){function o(t,e,n,i){var r,o,a=Math.pow(2,i),s=[];for(r=0;r<=a;r++){s[r]=[];var u=t.clone().lerp(n,r/a),c=e.clone().lerp(n,r/a),h=a-r;for(o=0;o<=h;o++)s[r][o]=0===o&&r===a?u:u.clone().lerp(c,o/h)}for(r=0;r<a;r++)for(o=0;o<2*(a-r)-1;o++){var p=Math.floor(o/2);o%2===0?(l(s[r][p+1]),l(s[r+1][p]),l(s[r][p])):(l(s[r][p+1]),l(s[r+1][p+1]),l(s[r+1][p]))}}function a(){for(var t=0;t<y.length;t+=6){var e=y[t+0],n=y[t+2],i=y[t+4],r=Math.max(e,n,i),o=Math.min(e,n,i);r>.9&&o<.1&&(e<.2&&(y[t+0]+=1),n<.2&&(y[t+2]+=1),i<.2&&(y[t+4]+=1))}}function l(t){f.push(t.x,t.y,t.z)}function u(e,n){var i=3*e;n.x=t[i+0],n.y=t[i+1],n.z=t[i+2]}function c(){for(var t=new s,e=new s,n=new s,i=new s,o=new r,a=new r,l=new r,u=0,c=0;u<f.length;u+=9,c+=6){t.set(f[u+0],f[u+1],f[u+2]),e.set(f[u+3],f[u+4],f[u+5]),n.set(f[u+6],f[u+7],f[u+8]),o.set(y[c+0],y[c+1]),a.set(y[c+2],y[c+3]),l.set(y[c+4],y[c+5]),i.copy(t).add(e).add(n).divideScalar(3);var d=p(i);h(o,c+0,t,d),h(a,c+2,e,d),h(l,c+4,n,d)}}function h(t,e,n,i){i<0&&1===t.x&&(y[e]=t.x-1),0===n.x&&0===n.z&&(y[e]=i/2/Math.PI+.5)}function p(t){return Math.atan2(t.z,-t.x)}function d(t){return Math.atan2(-t.y,Math.sqrt(t.x*t.x+t.z*t.z))}U.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:t,indices:e,radius:n,detail:i},n=n||1,i=i||0;var f=[],y=[];!function(t){for(var n=new s,i=new s,r=new s,a=0;a<e.length;a+=3)u(e[a+0],n),u(e[a+1],i),u(e[a+2],r),o(n,i,r,t)}(i),function(t){for(var e=new s,n=0;n<f.length;n+=3)e.x=f[n+0],e.y=f[n+1],e.z=f[n+2],e.normalize().multiplyScalar(t),f[n+0]=e.x,f[n+1]=e.y,f[n+2]=e.z}(n),function(){for(var t=new s,e=0;e<f.length;e+=3){t.x=f[e+0],t.y=f[e+1],t.z=f[e+2];var n=p(t)/2/Math.PI+.5,i=d(t)/Math.PI+.5;y.push(n,1-i)}c(),a()}(),this.addAttribute("position",new D(f,3)),this.addAttribute("normal",new D(f.slice(),3)),this.addAttribute("uv",new D(y,2)),0===i?this.computeVertexNormals():this.normalizeNormals()}function tn(t,e){A.call(this),this.type="TetrahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new en(t,e)),this.mergeVertices()}function en(t,e){var n=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];Qe.call(this,n,i,t,e),this.type="TetrahedronBufferGeometry",this.parameters={radius:t,detail:e}}function nn(t,e){A.call(this),this.type="OctahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new rn(t,e)),this.mergeVertices()}function rn(t,e){var n=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];Qe.call(this,n,i,t,e),this.type="OctahedronBufferGeometry",this.parameters={radius:t,detail:e}}function on(t,e){A.call(this),this.type="IcosahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new an(t,e)),this.mergeVertices()}function an(t,e){var n=(1+Math.sqrt(5))/2,i=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],r=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];Qe.call(this,i,r,t,e),this.type="IcosahedronBufferGeometry",this.parameters={radius:t,detail:e}}function sn(t,e){A.call(this),this.type="DodecahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new ln(t,e)),this.mergeVertices()}function ln(t,e){var n=(1+Math.sqrt(5))/2,i=1/n,r=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-n,0,-i,n,0,i,-n,0,i,n,-i,-n,0,-i,n,0,i,-n,0,i,n,0,-n,0,-i,n,0,-i,-n,0,i,n,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];Qe.call(this,r,o,t,e),this.type="DodecahedronBufferGeometry",this.parameters={radius:t,detail:e}}function un(t,e,n,i,r,o){A.call(this),this.type="TubeGeometry",this.parameters={path:t,tubularSegments:e,radius:n,radialSegments:i,closed:r},void 0!==o&&console.warn("THREE.TubeGeometry: taper has been removed.");var a=new cn(t,e,n,i,r);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals,this.fromBufferGeometry(a),this.mergeVertices()}function cn(t,e,n,i,o){function a(r){m=t.getPointAt(r/e,m);var o=c.normals[r],a=c.binormals[r];for(p=0;p<=i;p++){var s=p/i*Math.PI*2,l=Math.sin(s),u=-Math.cos(s);f.x=u*o.x+l*a.x,f.y=u*o.y+l*a.y,f.z=u*o.z+l*a.z,f.normalize(),g.push(f.x,f.y,f.z),d.x=m.x+n*f.x,d.y=m.y+n*f.y,d.z=m.z+n*f.z,v.push(d.x,d.y,d.z)}}function l(){for(p=1;p<=e;p++)for(h=1;h<=i;h++){var t=(i+1)*(p-1)+(h-1),n=(i+1)*p+(h-1),r=(i+1)*p+h,o=(i+1)*(p-1)+h;_.push(t,n,o),_.push(n,r,o)}}function u(){for(h=0;h<=e;h++)for(p=0;p<=i;p++)y.x=h/e,y.y=p/i,x.push(y.x,y.y)}U.call(this),this.type="TubeBufferGeometry",this.parameters={path:t,tubularSegments:e,radius:n,radialSegments:i,closed:o},e=e||64,n=n||1,i=i||8,o=o||!1;var c=t.computeFrenetFrames(e,o);this.tangents=c.tangents,this.normals=c.normals,this.binormals=c.binormals;var h,p,d=new s,f=new s,y=new r,m=new s,v=[],g=[],x=[],_=[];!function(){for(h=0;h<e;h++)a(h);a(!1===o?e:0),u(),l()}(),this.setIndex(_),this.addAttribute("position",new D(v,3)),this.addAttribute("normal",new D(g,3)),this.addAttribute("uv",new D(x,2))}function hn(t,e,n,i,r,o,a){A.call(this),this.type="TorusKnotGeometry",this.parameters={radius:t,tube:e,tubularSegments:n,radialSegments:i,p:r,q:o},void 0!==a&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new pn(t,e,n,i,r,o)),this.mergeVertices()}function pn(t,e,n,i,r,o){function a(t,e,n,i,r){var o=Math.cos(t),a=Math.sin(t),s=n/e*t,l=Math.cos(s);r.x=i*(2+l)*.5*o,r.y=i*(2+l)*a*.5,r.z=i*Math.sin(s)*.5}U.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:t,tube:e,tubularSegments:n,radialSegments:i,p:r,q:o},t=t||1,e=e||.4,n=Math.floor(n)||64,i=Math.floor(i)||8,r=r||2,o=o||3;var l,u,c=[],h=[],p=[],d=[],f=new s,y=new s,m=new s,v=new s,g=new s,x=new s,_=new s;for(l=0;l<=n;++l){var b=l/n*r*Math.PI*2;for(a(b,r,o,t,m),a(b+.01,r,o,t,v),x.subVectors(v,m),_.addVectors(v,m),g.crossVectors(x,_),_.crossVectors(g,x),g.normalize(),_.normalize(),u=0;u<=i;++u){var w=u/i*Math.PI*2,E=-e*Math.cos(w),M=e*Math.sin(w);f.x=m.x+(E*_.x+M*g.x),f.y=m.y+(E*_.y+M*g.y),f.z=m.z+(E*_.z+M*g.z),h.push(f.x,f.y,f.z),y.subVectors(f,m).normalize(),p.push(y.x,y.y,y.z),d.push(l/n),d.push(u/i)}}for(u=1;u<=n;u++)for(l=1;l<=i;l++){var T=(i+1)*(u-1)+(l-1),S=(i+1)*u+(l-1),A=(i+1)*u+l,C=(i+1)*(u-1)+l;c.push(T,S,C),c.push(S,A,C)}this.setIndex(c),this.addAttribute("position",new D(h,3)),this.addAttribute("normal",new D(p,3)),this.addAttribute("uv",new D(d,2))}function dn(t,e,n,i,r){A.call(this),this.type="TorusGeometry",this.parameters={radius:t,tube:e,radialSegments:n,tubularSegments:i,arc:r},this.fromBufferGeometry(new fn(t,e,n,i,r)),this.mergeVertices()}function fn(t,e,n,i,r){U.call(this),this.type="TorusBufferGeometry",this.parameters={radius:t,tube:e,radialSegments:n,tubularSegments:i,arc:r},t=t||1,e=e||.4,n=Math.floor(n)||8,i=Math.floor(i)||6,r=r||2*Math.PI;var o,a,l=[],u=[],c=[],h=[],p=new s,d=new s,f=new s;for(o=0;o<=n;o++)for(a=0;a<=i;a++){var y=a/i*r,m=o/n*Math.PI*2;d.x=(t+e*Math.cos(m))*Math.cos(y),d.y=(t+e*Math.cos(m))*Math.sin(y),d.z=e*Math.sin(m),u.push(d.x,d.y,d.z),p.x=t*Math.cos(y),p.y=t*Math.sin(y),f.subVectors(d,p).normalize(),c.push(f.x,f.y,f.z),h.push(a/i),h.push(o/n)}for(o=1;o<=n;o++)for(a=1;a<=i;a++){var v=(i+1)*o+a-1,g=(i+1)*(o-1)+a-1,x=(i+1)*(o-1)+a,_=(i+1)*o+a;l.push(v,g,_),l.push(g,x,_)}this.setIndex(l),this.addAttribute("position",new D(u,3)),this.addAttribute("normal",new D(c,3)),this.addAttribute("uv",new D(h,2))}function yn(t,e,n,i,r){var o,a;if(r===Vn(t,e,n,i)>0)for(o=e;o<n;o+=i)a=Fn(o,t[o],t[o+1],a);else for(o=n-i;o>=e;o-=i)a=Fn(o,t[o],t[o+1],a);return a&&Rn(a,a.next)&&(Un(a),a=a.next),a}function mn(t,e){if(!t)return t;e||(e=t);var n,i=t;do{if(n=!1,i.steiner||!Rn(i,i.next)&&0!==In(i.prev,i,i.next))i=i.next;else{if(Un(i),(i=e=i.prev)===i.next)break;n=!0}}while(n||i!==e);return e}function vn(t,e,n,i,r,o,a){if(t){!a&&o&&Sn(t,i,r,o);for(var s,l,u=t;t.prev!==t.next;)if(s=t.prev,l=t.next,o?xn(t,i,r,o):gn(t))e.push(s.i/n),e.push(t.i/n),e.push(l.i/n),Un(t),t=l.next,u=l.next;else if((t=l)===u){a?1===a?(t=_n(t,e,n),vn(t,e,n,i,r,o,2)):2===a&&bn(t,e,n,i,r,o):vn(mn(t),e,n,i,r,o,1);break}}}function gn(t){var e=t.prev,n=t,i=t.next;if(In(e,n,i)>=0)return!1;for(var r=t.next.next;r!==t.prev;){if(kn(e.x,e.y,n.x,n.y,i.x,i.y,r.x,r.y)&&In(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function xn(t,e,n,i){var r=t.prev,o=t,a=t.next;if(In(r,o,a)>=0)return!1;for(var s=r.x<o.x?r.x<a.x?r.x:a.x:o.x<a.x?o.x:a.x,l=r.y<o.y?r.y<a.y?r.y:a.y:o.y<a.y?o.y:a.y,u=r.x>o.x?r.x>a.x?r.x:a.x:o.x>a.x?o.x:a.x,c=r.y>o.y?r.y>a.y?r.y:a.y:o.y>a.y?o.y:a.y,h=Cn(s,l,e,n,i),p=Cn(u,c,e,n,i),d=t.nextZ;d&&d.z<=p;){if(d!==t.prev&&d!==t.next&&kn(r.x,r.y,o.x,o.y,a.x,a.y,d.x,d.y)&&In(d.prev,d,d.next)>=0)return!1;d=d.nextZ}for(d=t.prevZ;d&&d.z>=h;){if(d!==t.prev&&d!==t.next&&kn(r.x,r.y,o.x,o.y,a.x,a.y,d.x,d.y)&&In(d.prev,d,d.next)>=0)return!1;d=d.prevZ}return!0}function _n(t,e,n){var i=t;do{var r=i.prev,o=i.next.next;!Rn(r,o)&&zn(r,i,i.next,o)&&Dn(r,o)&&Dn(o,r)&&(e.push(r.i/n),e.push(i.i/n),e.push(o.i/n),Un(i),Un(i.next),i=t=o),i=i.next}while(i!==t);return i}function bn(t,e,n,i,r,o){var a=t;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&Pn(a,s)){var l=Nn(a,s);return a=mn(a,a.next),l=mn(l,l.next),vn(a,e,n,i,r,o),void vn(l,e,n,i,r,o)}s=s.next}a=a.next}while(a!==t)}function wn(t,e,n,i){var r,o,a,s,l,u=[];for(r=0,o=e.length;r<o;r++)a=e[r]*i,s=r<o-1?e[r+1]*i:t.length,l=yn(t,a,s,i,!1),l===l.next&&(l.steiner=!0),u.push(Ln(l));for(u.sort(En),r=0;r<u.length;r++)Mn(u[r],n),n=mn(n,n.next);return n}function En(t,e){return t.x-e.x}function Mn(t,e){if(e=Tn(t,e)){var n=Nn(e,t);mn(n,n.next)}}function Tn(t,e){var n,i=e,r=t.x,o=t.y,a=-1/0;do{if(o<=i.y&&o>=i.next.y&&i.next.y!==i.y){var s=i.x+(o-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(s<=r&&s>a){if(a=s,s===r){if(o===i.y)return i;if(o===i.next.y)return i.next}n=i.x<i.next.x?i:i.next}}i=i.next}while(i!==e);if(!n)return null;if(r===a)return n.prev;var l,u=n,c=n.x,h=n.y,p=1/0;for(i=n.next;i!==u;)r>=i.x&&i.x>=c&&r!==i.x&&kn(o<h?r:a,o,c,h,o<h?a:r,o,i.x,i.y)&&((l=Math.abs(o-i.y)/(r-i.x))<p||l===p&&i.x>n.x)&&Dn(i,t)&&(n=i,p=l),i=i.next;return n}function Sn(t,e,n,i){var r=t;do{null===r.z&&(r.z=Cn(r.x,r.y,e,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,An(r)}function An(t){var e,n,i,r,o,a,s,l,u=1;do{for(n=t,t=null,o=null,a=0;n;){for(a++,i=n,s=0,e=0;e<u&&(s++,i=i.nextZ);e++);for(l=u;s>0||l>0&&i;)0!==s&&(0===l||!i||n.z<=i.z)?(r=n,n=n.nextZ,s--):(r=i,i=i.nextZ,l--),o?o.nextZ=r:t=r,r.prevZ=o,o=r;n=i}o.nextZ=null,u*=2}while(a>1);return t}function Cn(t,e,n,i,r){return t=32767*(t-n)*r,e=32767*(e-i)*r,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t|e<<1}function Ln(t){var e=t,n=t;do{e.x<n.x&&(n=e),e=e.next}while(e!==t);return n}function kn(t,e,n,i,r,o,a,s){return(r-a)*(e-s)-(t-a)*(o-s)>=0&&(t-a)*(i-s)-(n-a)*(e-s)>=0&&(n-a)*(o-s)-(r-a)*(i-s)>=0}function Pn(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!On(t,e)&&Dn(t,e)&&Dn(e,t)&&Bn(t,e)}function In(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function Rn(t,e){return t.x===e.x&&t.y===e.y}function zn(t,e,n,i){return!!(Rn(t,e)&&Rn(n,i)||Rn(t,i)&&Rn(n,e))||In(t,e,n)>0!==In(t,e,i)>0&&In(n,i,t)>0!==In(n,i,e)>0}function On(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&zn(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function Dn(t,e){return In(t.prev,t,t.next)<0?In(t,e,t.next)>=0&&In(t,t.prev,e)>=0:In(t,e,t.prev)<0||In(t,t.next,e)<0}function Bn(t,e){var n=t,i=!1,r=(t.x+e.x)/2,o=(t.y+e.y)/2;do{n.y>o!==n.next.y>o&&n.next.y!==n.y&&r<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next}while(n!==t);return i}function Nn(t,e){var n=new jn(t.i,t.x,t.y),i=new jn(e.i,e.x,e.y),r=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=r,r.prev=n,i.next=n,n.prev=i,o.next=i,i.prev=o,i}function Fn(t,e,n,i){var r=new jn(t,e,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function Un(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function jn(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Vn(t,e,n,i){for(var r=0,o=e,a=n-i;o<n;o+=i)r+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return r}function Gn(t){var e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function Hn(t,e){for(var n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}function Wn(t,e){A.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:t,options:e},this.fromBufferGeometry(new qn(t,e)),this.mergeVertices()}function qn(t,e){U.call(this),this.type="ExtrudeBufferGeometry",this.parameters={shapes:t,options:e},t=Array.isArray(t)?t:[t];for(var n=this,i=[],o=[],a=0,l=t.length;a<l;a++){var u=t[a];!function(t){function a(t,e,n){return e||console.error("THREE.ExtrudeGeometry: vec does not exist"),e.clone().multiplyScalar(n).add(t)}function l(t,e,n){var i,o,a,s=t.x-e.x,l=t.y-e.y,u=n.x-t.x,c=n.y-t.y,h=s*s+l*l,p=s*c-l*u;if(Math.abs(p)>Number.EPSILON){var d=Math.sqrt(h),f=Math.sqrt(u*u+c*c),y=e.x-l/d,m=e.y+s/d,v=n.x-c/f,g=n.y+u/f,x=((v-y)*c-(g-m)*u)/(s*c-l*u);i=y+s*x-t.x,o=m+l*x-t.y;var _=i*i+o*o;if(_<=2)return new r(i,o);a=Math.sqrt(_/2)}else{var b=!1;s>Number.EPSILON?u>Number.EPSILON&&(b=!0):s<-Number.EPSILON?u<-Number.EPSILON&&(b=!0):Math.sign(l)===Math.sign(c)&&(b=!0),b?(i=-l,o=s,a=Math.sqrt(h)):(i=s,o=l,a=Math.sqrt(h/2))}return new r(i/a,o/a)}function u(t,e){var n,i;for(X=t.length;--X>=0;){n=X,(i=X-1)<0&&(i=t.length-1);var r=0,o=v+2*w;for(r=0;r<o;r++){var a=W*r,s=W*(r+1);p(e+n+a,e+i+a,e+i+s,e+n+s)}}}function c(t,e,n){y.push(t),y.push(e),y.push(n)}function h(t,e,r){d(t),d(e),d(r);var o=i.length/3,a=M.generateTopUV(n,i,o-3,o-2,o-1);f(a[0]),f(a[1]),f(a[2])}function p(t,e,r,o){d(t),d(e),d(o),d(e),d(r),d(o);var a=i.length/3,s=M.generateSideWallUV(n,i,a-6,a-3,a-2,a-1);f(s[0]),f(s[1]),f(s[3]),f(s[1]),f(s[2]),f(s[3])}function d(t){i.push(y[3*t+0]),i.push(y[3*t+1]),i.push(y[3*t+2])}function f(t){o.push(t.x),o.push(t.y)}var y=[],m=void 0!==e.curveSegments?e.curveSegments:12,v=void 0!==e.steps?e.steps:1,g=void 0!==e.depth?e.depth:100,x=void 0===e.bevelEnabled||e.bevelEnabled,_=void 0!==e.bevelThickness?e.bevelThickness:6,b=void 0!==e.bevelSize?e.bevelSize:_-2,w=void 0!==e.bevelSegments?e.bevelSegments:3,E=e.extrudePath,M=void 0!==e.UVGenerator?e.UVGenerator:su;void 0!==e.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),g=e.amount);var T,S,A,C,L,k=!1;E&&(T=E.getSpacedPoints(v),k=!0,x=!1,S=E.computeFrenetFrames(v,!1),A=new s,C=new s,L=new s),x||(w=0,_=0,b=0);var P,I,R,z=t.extractPoints(m),O=z.shape,D=z.holes;if(!au.isClockWise(O))for(O=O.reverse(),I=0,R=D.length;I<R;I++)P=D[I],au.isClockWise(P)&&(D[I]=P.reverse());var B=au.triangulateShape(O,D),N=O;for(I=0,R=D.length;I<R;I++)P=D[I],O=O.concat(P);for(var F,U,j,V,G,H,W=O.length,q=B.length,Y=[],X=0,$=N.length,Z=$-1,J=X+1;X<$;X++,Z++,J++)Z===$&&(Z=0),J===$&&(J=0),Y[X]=l(N[X],N[Z],N[J]);var K,Q=[],tt=Y.concat();for(I=0,R=D.length;I<R;I++){for(P=D[I],K=[],X=0,$=P.length,Z=$-1,J=X+1;X<$;X++,Z++,J++)Z===$&&(Z=0),J===$&&(J=0),K[X]=l(P[X],P[Z],P[J]);Q.push(K),tt=tt.concat(K)}for(F=0;F<w;F++){for(j=F/w,V=_*Math.cos(j*Math.PI/2),U=b*Math.sin(j*Math.PI/2),X=0,$=N.length;X<$;X++)G=a(N[X],Y[X],U),c(G.x,G.y,-V);for(I=0,R=D.length;I<R;I++)for(P=D[I],K=Q[I],X=0,$=P.length;X<$;X++)G=a(P[X],K[X],U),c(G.x,G.y,-V)}for(U=b,X=0;X<W;X++)G=x?a(O[X],tt[X],U):O[X],k?(C.copy(S.normals[0]).multiplyScalar(G.x),A.copy(S.binormals[0]).multiplyScalar(G.y),L.copy(T[0]).add(C).add(A),c(L.x,L.y,L.z)):c(G.x,G.y,0);var et;for(et=1;et<=v;et++)for(X=0;X<W;X++)G=x?a(O[X],tt[X],U):O[X],k?(C.copy(S.normals[et]).multiplyScalar(G.x),A.copy(S.binormals[et]).multiplyScalar(G.y),L.copy(T[et]).add(C).add(A),c(L.x,L.y,L.z)):c(G.x,G.y,g/v*et);for(F=w-1;F>=0;F--){for(j=F/w,V=_*Math.cos(j*Math.PI/2),U=b*Math.sin(j*Math.PI/2),X=0,$=N.length;X<$;X++)G=a(N[X],Y[X],U),c(G.x,G.y,g+V);for(I=0,R=D.length;I<R;I++)for(P=D[I],K=Q[I],X=0,$=P.length;X<$;X++)G=a(P[X],K[X],U),k?c(G.x,G.y+T[v-1].y,T[v-1].x+V):c(G.x,G.y,g+V)}!function(){var t=i.length/3;if(x){var e=0,r=W*e;for(X=0;X<q;X++)H=B[X],h(H[2]+r,H[1]+r,H[0]+r);for(e=v+2*w,r=W*e,X=0;X<q;X++)H=B[X],h(H[0]+r,H[1]+r,H[2]+r)}else{for(X=0;X<q;X++)H=B[X],h(H[2],H[1],H[0]);for(X=0;X<q;X++)H=B[X],h(H[0]+W*v,H[1]+W*v,H[2]+W*v)}n.addGroup(t,i.length/3-t,0)}(),function(){var t=i.length/3,e=0;for(u(N,e),e+=N.length,I=0,R=D.length;I<R;I++)P=D[I],u(P,e),e+=P.length;n.addGroup(t,i.length/3-t,1)}()}(u)}this.addAttribute("position",new D(i,3)),this.addAttribute("uv",new D(o,2)),this.computeVertexNormals()}function Yn(t,e,n){if(n.shapes=[],Array.isArray(t))for(var i=0,r=t.length;i<r;i++){var o=t[i];n.shapes.push(o.uuid)}else n.shapes.push(t.uuid);return void 0!==e.extrudePath&&(n.options.extrudePath=e.extrudePath.toJSON()),n}function Xn(t,e){A.call(this),this.type="TextGeometry",this.parameters={text:t,parameters:e},this.fromBufferGeometry(new $n(t,e)),this.mergeVertices()}function $n(t,e){e=e||{};var n=e.font;if(!n||!n.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new A;var i=n.generateShapes(t,e.size);e.depth=void 0!==e.height?e.height:50,void 0===e.bevelThickness&&(e.bevelThickness=10),void 0===e.bevelSize&&(e.bevelSize=8),void 0===e.bevelEnabled&&(e.bevelEnabled=!1),qn.call(this,i,e),this.type="TextBufferGeometry"}function Zn(t,e,n,i,r,o,a){A.call(this),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:n,phiStart:i,phiLength:r,thetaStart:o,thetaLength:a},this.fromBufferGeometry(new Jn(t,e,n,i,r,o,a)),this.mergeVertices()}function Jn(t,e,n,i,r,o,a){U.call(this),this.type="SphereBufferGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:n,phiStart:i,phiLength:r,thetaStart:o,thetaLength:a},t=t||1,e=Math.max(3,Math.floor(e)||8),n=Math.max(2,Math.floor(n)||6),i=void 0!==i?i:0,r=void 0!==r?r:2*Math.PI,o=void 0!==o?o:0,a=void 0!==a?a:Math.PI;var l,u,c=o+a,h=0,p=[],d=new s,f=new s,y=[],m=[],v=[],g=[];for(u=0;u<=n;u++){var x=[],_=u/n;for(l=0;l<=e;l++){var b=l/e;d.x=-t*Math.cos(i+b*r)*Math.sin(o+_*a),d.y=t*Math.cos(o+_*a),d.z=t*Math.sin(i+b*r)*Math.sin(o+_*a),m.push(d.x,d.y,d.z),f.set(d.x,d.y,d.z).normalize(),v.push(f.x,f.y,f.z),g.push(b,1-_),x.push(h++)}p.push(x)}for(u=0;u<n;u++)for(l=0;l<e;l++){var w=p[u][l+1],E=p[u][l],M=p[u+1][l],T=p[u+1][l+1];(0!==u||o>0)&&y.push(w,E,T),(u!==n-1||c<Math.PI)&&y.push(E,M,T)}this.setIndex(y),this.addAttribute("position",new D(m,3)),this.addAttribute("normal",new D(v,3)),this.addAttribute("uv",new D(g,2))}function Kn(t,e,n,i,r,o){A.call(this),this.type="RingGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:n,phiSegments:i,thetaStart:r,thetaLength:o},this.fromBufferGeometry(new Qn(t,e,n,i,r,o)),this.mergeVertices()}function Qn(t,e,n,i,o,a){U.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:n,phiSegments:i,thetaStart:o,thetaLength:a},t=t||.5,e=e||1,o=void 0!==o?o:0,a=void 0!==a?a:2*Math.PI,n=void 0!==n?Math.max(3,n):8,i=void 0!==i?Math.max(1,i):1;var l,u,c,h=[],p=[],d=[],f=[],y=t,m=(e-t)/i,v=new s,g=new r;for(u=0;u<=i;u++){for(c=0;c<=n;c++)l=o+c/n*a,v.x=y*Math.cos(l),v.y=y*Math.sin(l),p.push(v.x,v.y,v.z),d.push(0,0,1),g.x=(v.x/e+1)/2,g.y=(v.y/e+1)/2,f.push(g.x,g.y);y+=m}for(u=0;u<i;u++){var x=u*(n+1);for(c=0;c<n;c++){l=c+x;var _=l,b=l+n+1,w=l+n+2,E=l+1;h.push(_,b,E),h.push(b,w,E)}}this.setIndex(h),this.addAttribute("position",new D(p,3)),this.addAttribute("normal",new D(d,3)),this.addAttribute("uv",new D(f,2))}function ti(t,e,n,i){A.call(this),this.type="LatheGeometry",this.parameters={points:t,segments:e,phiStart:n,phiLength:i},this.fromBufferGeometry(new ei(t,e,n,i)),this.mergeVertices()}function ei(t,e,n,i){U.call(this),this.type="LatheBufferGeometry",this.parameters={points:t,segments:e,phiStart:n,phiLength:i},e=Math.floor(e)||12,n=n||0,i=i||2*Math.PI,i=Dl.clamp(i,0,2*Math.PI);var o,a,l,u=[],c=[],h=[],p=1/e,d=new s,f=new r;for(a=0;a<=e;a++){var y=n+a*p*i,m=Math.sin(y),v=Math.cos(y);for(l=0;l<=t.length-1;l++)d.x=t[l].x*m,d.y=t[l].y,d.z=t[l].x*v,c.push(d.x,d.y,d.z),f.x=a/e,f.y=l/(t.length-1),h.push(f.x,f.y)}for(a=0;a<e;a++)for(l=0;l<t.length-1;l++){o=l+a*t.length;var g=o,x=o+t.length,_=o+t.length+1,b=o+1;u.push(g,x,b),u.push(x,_,b)}if(this.setIndex(u),this.addAttribute("position",new D(c,3)),this.addAttribute("uv",new D(h,2)),this.computeVertexNormals(),i===2*Math.PI){var w=this.attributes.normal.array,E=new s,M=new s,T=new s;for(o=e*t.length*3,a=0,l=0;a<t.length;a++,l+=3)E.x=w[l+0],E.y=w[l+1],E.z=w[l+2],M.x=w[o+l+0],M.y=w[o+l+1],M.z=w[o+l+2],T.addVectors(E,M).normalize(),w[l+0]=w[o+l+0]=T.x,w[l+1]=w[o+l+1]=T.y,w[l+2]=w[o+l+2]=T.z}}function ni(t,e){A.call(this),this.type="ShapeGeometry","object"===typeof e&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),e=e.curveSegments),this.parameters={shapes:t,curveSegments:e},this.fromBufferGeometry(new ii(t,e)),this.mergeVertices()}function ii(t,e){function n(t){var n,s,u,c=r.length/3,h=t.extractPoints(e),p=h.shape,d=h.holes;if(!1===au.isClockWise(p))for(p=p.reverse(),n=0,s=d.length;n<s;n++)u=d[n],!0===au.isClockWise(u)&&(d[n]=u.reverse());var f=au.triangulateShape(p,d);for(n=0,s=d.length;n<s;n++)u=d[n],p=p.concat(u);for(n=0,s=p.length;n<s;n++){var y=p[n];r.push(y.x,y.y,0),o.push(0,0,1),a.push(y.x,y.y)}for(n=0,s=f.length;n<s;n++){var m=f[n],v=m[0]+c,g=m[1]+c,x=m[2]+c;i.push(v,g,x),l+=3}}U.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:t,curveSegments:e},e=e||12;var i=[],r=[],o=[],a=[],s=0,l=0;if(!1===Array.isArray(t))n(t);else for(var u=0;u<t.length;u++)n(t[u]),this.addGroup(s,l,u),s+=l,l=0;this.setIndex(i),this.addAttribute("position",new D(r,3)),this.addAttribute("normal",new D(o,3)),this.addAttribute("uv",new D(a,2))}function ri(t,e){if(e.shapes=[],Array.isArray(t))for(var n=0,i=t.length;n<i;n++){var r=t[n];e.shapes.push(r.uuid)}else e.shapes.push(t.uuid);return e}function oi(t,e){U.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:e},e=void 0!==e?e:1;var n,i,r,o,a=[],s=Math.cos(Dl.DEG2RAD*e),l=[0,0],u={},c=["a","b","c"];t.isBufferGeometry?(o=new A,o.fromBufferGeometry(t)):o=t.clone(),o.mergeVertices(),o.computeFaceNormals();for(var h=o.vertices,p=o.faces,d=0,f=p.length;d<f;d++)for(var y=p[d],m=0;m<3;m++)n=y[c[m]],i=y[c[(m+1)%3]],l[0]=Math.min(n,i),l[1]=Math.max(n,i),r=l[0]+","+l[1],void 0===u[r]?u[r]={index1:l[0],index2:l[1],face1:d,face2:void 0}:u[r].face2=d;for(r in u){var v=u[r];if(void 0===v.face2||p[v.face1].normal.dot(p[v.face2].normal)<=s){var g=h[v.index1];a.push(g.x,g.y,g.z),g=h[v.index2],a.push(g.x,g.y,g.z)}}this.addAttribute("position",new D(a,3))}function ai(t,e,n,i,r,o,a,s){A.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:n,radialSegments:i,heightSegments:r,openEnded:o,thetaStart:a,thetaLength:s},this.fromBufferGeometry(new si(t,e,n,i,r,o,a,s)),this.mergeVertices()}function si(t,e,n,i,o,a,l,u){function c(n){var o,a,c,v=new r,_=new s,b=0,w=!0===n?t:e,E=!0===n?1:-1;for(a=m,o=1;o<=i;o++)d.push(0,g*E,0),f.push(0,E,0),y.push(.5,.5),m++;for(c=m,o=0;o<=i;o++){var M=o/i,T=M*u+l,S=Math.cos(T),A=Math.sin(T);_.x=w*A,_.y=g*E,_.z=w*S,d.push(_.x,_.y,_.z),f.push(0,E,0),v.x=.5*S+.5,v.y=.5*A*E+.5,y.push(v.x,v.y),m++}for(o=0;o<i;o++){var C=a+o,L=c+o;!0===n?p.push(L,L+1,C):p.push(L+1,L,C),b+=3}h.addGroup(x,b,!0===n?1:2),x+=b}U.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:n,radialSegments:i,heightSegments:o,openEnded:a,thetaStart:l,thetaLength:u};var h=this;t=void 0!==t?t:1,e=void 0!==e?e:1,n=n||1,i=Math.floor(i)||8,o=Math.floor(o)||1,a=void 0!==a&&a,l=void 0!==l?l:0,u=void 0!==u?u:2*Math.PI;var p=[],d=[],f=[],y=[],m=0,v=[],g=n/2,x=0;!function(){var r,a,c=new s,_=new s,b=0,w=(e-t)/n;for(a=0;a<=o;a++){var E=[],M=a/o,T=M*(e-t)+t;for(r=0;r<=i;r++){var S=r/i,A=S*u+l,C=Math.sin(A),L=Math.cos(A);_.x=T*C,_.y=-M*n+g,_.z=T*L,d.push(_.x,_.y,_.z),c.set(C,w,L).normalize(),f.push(c.x,c.y,c.z),y.push(S,1-M),E.push(m++)}v.push(E)}for(r=0;r<i;r++)for(a=0;a<o;a++){var k=v[a][r],P=v[a+1][r],I=v[a+1][r+1],R=v[a][r+1];p.push(k,P,R),p.push(P,I,R),b+=6}h.addGroup(x,b,0),x+=b}(),!1===a&&(t>0&&c(!0),e>0&&c(!1)),this.setIndex(p),this.addAttribute("position",new D(d,3)),this.addAttribute("normal",new D(f,3)),this.addAttribute("uv",new D(y,2))}function li(t,e,n,i,r,o,a){ai.call(this,0,t,e,n,i,r,o,a),this.type="ConeGeometry",this.parameters={radius:t,height:e,radialSegments:n,heightSegments:i,openEnded:r,thetaStart:o,thetaLength:a}}function ui(t,e,n,i,r,o,a){si.call(this,0,t,e,n,i,r,o,a),this.type="ConeBufferGeometry",this.parameters={radius:t,height:e,radialSegments:n,heightSegments:i,openEnded:r,thetaStart:o,thetaLength:a}}function ci(t,e,n,i){A.call(this),this.type="CircleGeometry",this.parameters={radius:t,segments:e,thetaStart:n,thetaLength:i},this.fromBufferGeometry(new hi(t,e,n,i)),this.mergeVertices()}function hi(t,e,n,i){U.call(this),this.type="CircleBufferGeometry",this.parameters={radius:t,segments:e,thetaStart:n,thetaLength:i},t=t||1,e=void 0!==e?Math.max(3,e):8,n=void 0!==n?n:0,i=void 0!==i?i:2*Math.PI;var o,a,l=[],u=[],c=[],h=[],p=new s,d=new r;for(u.push(0,0,0),c.push(0,0,1),h.push(.5,.5),a=0,o=3;a<=e;a++,o+=3){var f=n+a/e*i;p.x=t*Math.cos(f),p.y=t*Math.sin(f),u.push(p.x,p.y,p.z),c.push(0,0,1),d.x=(u[o]/t+1)/2,d.y=(u[o+1]/t+1)/2,h.push(d.x,d.y)}for(o=1;o<=e;o++)l.push(o,o+1,0);this.setIndex(l),this.addAttribute("position",new D(u,3)),this.addAttribute("normal",new D(c,3)),this.addAttribute("uv",new D(h,2))}function pi(t){W.call(this),this.type="ShadowMaterial",this.color=new g(0),this.transparent=!0,this.setValues(t)}function di(t){Y.call(this,t),this.type="RawShaderMaterial"}function fi(t){W.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new g(16777215),this.roughness=.5,this.metalness=.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new g(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=zl,this.normalScale=new r(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function yi(t){fi.call(this),this.defines={PHYSICAL:""},this.type="MeshPhysicalMaterial",this.reflectivity=.5,this.clearCoat=0,this.clearCoatRoughness=0,this.setValues(t)}function mi(t){W.call(this),this.type="MeshPhongMaterial",this.color=new g(16777215),this.specular=new g(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new g(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=zl,this.normalScale=new r(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Ka,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function vi(t){mi.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.gradientMap=null,this.setValues(t)}function gi(t){W.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=zl,this.normalScale=new r(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function xi(t){W.call(this),this.type="MeshLambertMaterial",this.color=new g(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new g(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Ka,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function _i(t){Fe.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(t)}function bi(t,e,n){var i=this,r=!1,o=0,a=0,s=void 0;this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=n,this.itemStart=function(t){a++,!1===r&&void 0!==i.onStart&&i.onStart(t,o,a),r=!0},this.itemEnd=function(t){o++,void 0!==i.onProgress&&i.onProgress(t,o,a),o===a&&(r=!1,void 0!==i.onLoad&&i.onLoad())},this.itemError=function(t){void 0!==i.onError&&i.onError(t)},this.resolveURL=function(t){return s?s(t):t},this.setURLModifier=function(t){return s=t,this}}function wi(t){this.manager=void 0!==t?t:hu}function Ei(t){this.manager=void 0!==t?t:hu,this._parser=null}function Mi(t){this.manager=void 0!==t?t:hu,this._parser=null}function Ti(t){this.manager=void 0!==t?t:hu}function Si(t){this.manager=void 0!==t?t:hu}function Ai(t){this.manager=void 0!==t?t:hu}function Ci(){this.type="Curve",this.arcLengthDivisions=200}function Li(t,e,n,i,r,o,a,s){Ci.call(this),this.type="EllipseCurve",this.aX=t||0,this.aY=e||0,this.xRadius=n||1,this.yRadius=i||1,this.aStartAngle=r||0,this.aEndAngle=o||2*Math.PI,this.aClockwise=a||!1,this.aRotation=s||0}function ki(t,e,n,i,r,o){Li.call(this,t,e,n,n,i,r,o),this.type="ArcCurve"}function Pi(){function t(t,o,a,s){e=t,n=a,i=-3*t+3*o-2*a-s,r=2*t-2*o+a+s}var e=0,n=0,i=0,r=0;return{initCatmullRom:function(e,n,i,r,o){t(n,i,o*(i-e),o*(r-n))},initNonuniformCatmullRom:function(e,n,i,r,o,a,s){var l=(n-e)/o-(i-e)/(o+a)+(i-n)/a,u=(i-n)/a-(r-n)/(a+s)+(r-i)/s;l*=a,u*=a,t(n,i,l,u)},calc:function(t){var o=t*t;return e+n*t+i*o+r*(o*t)}}}function Ii(t,e,n,i){Ci.call(this),this.type="CatmullRomCurve3",this.points=t||[],this.closed=e||!1,this.curveType=n||"centripetal",this.tension=i||.5}function Ri(t,e,n,i,r){var o=.5*(i-e),a=.5*(r-n),s=t*t;return(2*n-2*i+o+a)*(t*s)+(-3*n+3*i-2*o-a)*s+o*t+n}function zi(t,e){var n=1-t;return n*n*e}function Oi(t,e){return 2*(1-t)*t*e}function Di(t,e){return t*t*e}function Bi(t,e,n,i){return zi(t,e)+Oi(t,n)+Di(t,i)}function Ni(t,e){var n=1-t;return n*n*n*e}function Fi(t,e){var n=1-t;return 3*n*n*t*e}function Ui(t,e){return 3*(1-t)*t*t*e}function ji(t,e){return t*t*t*e}function Vi(t,e,n,i,r){return Ni(t,e)+Fi(t,n)+Ui(t,i)+ji(t,r)}function Gi(t,e,n,i){Ci.call(this),this.type="CubicBezierCurve",this.v0=t||new r,this.v1=e||new r,this.v2=n||new r,this.v3=i||new r}function Hi(t,e,n,i){Ci.call(this),this.type="CubicBezierCurve3",this.v0=t||new s,this.v1=e||new s,this.v2=n||new s,this.v3=i||new s}function Wi(t,e){Ci.call(this),this.type="LineCurve",this.v1=t||new r,this.v2=e||new r}function qi(t,e){Ci.call(this),this.type="LineCurve3",this.v1=t||new s,this.v2=e||new s}function Yi(t,e,n){Ci.call(this),this.type="QuadraticBezierCurve",this.v0=t||new r,this.v1=e||new r,this.v2=n||new r}function Xi(t,e,n){Ci.call(this),this.type="QuadraticBezierCurve3",this.v0=t||new s,this.v1=e||new s,this.v2=n||new s}function $i(t){Ci.call(this),this.type="SplineCurve",this.points=t||[]}function Zi(){Ci.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function Ji(t){Zi.call(this),this.type="Path",this.currentPoint=new r,t&&this.setFromPoints(t)}function Ki(t){Ji.call(this,t),this.uuid=Dl.generateUUID(),this.type="Shape",this.holes=[]}function Qi(t,e){E.call(this),this.type="Light",this.color=new g(t),this.intensity=void 0!==e?e:1,this.receiveShadow=void 0}function tr(t,e,n){Qi.call(this,t,n),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(E.DefaultUp),this.updateMatrix(),this.groundColor=new g(e)}function er(t){this.camera=t,this.bias=0,this.radius=1,this.mapSize=new r(512,512),this.map=null,this.matrix=new o}function nr(){er.call(this,new Ee(50,1,.5,500))}function ir(t,e,n,i,r,o){Qi.call(this,t,e),this.type="SpotLight",this.position.copy(E.DefaultUp),this.updateMatrix(),this.target=new E,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(t){this.intensity=t/Math.PI}}),this.distance=void 0!==n?n:0,this.angle=void 0!==i?i:Math.PI/3,this.penumbra=void 0!==r?r:0,this.decay=void 0!==o?o:1,this.shadow=new nr}function rr(t,e,n,i){Qi.call(this,t,e),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(t){this.intensity=t/(4*Math.PI)}}),this.distance=void 0!==n?n:0,this.decay=void 0!==i?i:1,this.shadow=new er(new Ee(90,1,.5,500))}function or(){er.call(this,new T(-5,5,5,-5,.5,500))}function ar(t,e){Qi.call(this,t,e),this.type="DirectionalLight",this.position.copy(E.DefaultUp),this.updateMatrix(),this.target=new E,this.shadow=new or}function sr(t,e){Qi.call(this,t,e),this.type="AmbientLight",this.castShadow=void 0}function lr(t,e,n,i){Qi.call(this,t,e),this.type="RectAreaLight",this.width=void 0!==n?n:10,this.height=void 0!==i?i:10}function ur(t,e,n,i){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new e.constructor(n),this.sampleValues=e,this.valueSize=n}function cr(t,e,n,i){ur.call(this,t,e,n,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function hr(t,e,n,i){ur.call(this,t,e,n,i)}function pr(t,e,n,i){ur.call(this,t,e,n,i)}function dr(t,e,n,i){if(void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===e||0===e.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=gu.convertArray(e,this.TimeBufferType),this.values=gu.convertArray(n,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}function fr(t,e,n){dr.call(this,t,e,n)}function yr(t,e,n,i){dr.call(this,t,e,n,i)}function mr(t,e,n,i){dr.call(this,t,e,n,i)}function vr(t,e,n,i){ur.call(this,t,e,n,i)}function gr(t,e,n,i){dr.call(this,t,e,n,i)}function xr(t,e,n,i){dr.call(this,t,e,n,i)}function _r(t,e,n,i){dr.call(this,t,e,n,i)}function br(t,e,n){this.name=t,this.tracks=n,this.duration=void 0!==e?e:-1,this.uuid=Dl.generateUUID(),this.duration<0&&this.resetDuration()}function wr(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return mr;case"vector":case"vector2":case"vector3":case"vector4":return _r;case"color":return yr;case"quaternion":return gr;case"bool":case"boolean":return fr;case"string":return xr}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function Er(t){if(void 0===t.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var e=wr(t.type);if(void 0===t.times){var n=[],i=[];gu.flattenJSON(t.keys,n,i,"value"),t.times=n,t.values=i}return void 0!==e.parse?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}function Mr(t){this.manager=void 0!==t?t:hu,this.textures={}}function Tr(t){this.manager=void 0!==t?t:hu}function Sr(){}function Ar(t){"boolean"===typeof t&&(console.warn("THREE.JSONLoader: showStatus parameter has been removed from constructor."),t=void 0),this.manager=void 0!==t?t:hu,this.withCredentials=!1}function Cr(t){this.manager=void 0!==t?t:hu,this.texturePath=""}function Lr(t){"undefined"===typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"===typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.manager=void 0!==t?t:hu,this.options=void 0}function kr(){this.type="ShapePath",this.color=new g,this.subPaths=[],this.currentPath=null}function Pr(t){this.type="Font",this.data=t}function Ir(t,e,n){for(var i=Array.from?Array.from(t):String(t).split(""),r=e/n.resolution,o=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*r,a=[],s=0,l=0,u=0;u<i.length;u++){var c=i[u];if("\n"===c)s=0,l-=o;else{var h=Rr(c,r,s,l,n);s+=h.offsetX,a.push(h.path)}}return a}function Rr(t,e,n,i,r){var o=r.glyphs[t]||r.glyphs["?"];if(o){var a,s,l,u,c,h,p,d,f=new kr;if(o.o)for(var y=o._cachedOutline||(o._cachedOutline=o.o.split(" ")),m=0,v=y.length;m<v;){var g=y[m++];switch(g){case"m":a=y[m++]*e+n,s=y[m++]*e+i,f.moveTo(a,s);break;case"l":a=y[m++]*e+n,s=y[m++]*e+i,f.lineTo(a,s);break;case"q":l=y[m++]*e+n,u=y[m++]*e+i,c=y[m++]*e+n,h=y[m++]*e+i,f.quadraticCurveTo(c,h,l,u);break;case"b":l=y[m++]*e+n,u=y[m++]*e+i,c=y[m++]*e+n,h=y[m++]*e+i,p=y[m++]*e+n,d=y[m++]*e+i,f.bezierCurveTo(c,h,p,d,l,u)}}return{offsetX:o.ha*e,path:f}}}function zr(t){this.manager=void 0!==t?t:hu}function Or(t){this.manager=void 0!==t?t:hu}function Dr(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Ee,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Ee,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1}function Br(t,e,n){E.call(this),this.type="CubeCamera";var i=new Ee(90,1,t,e);i.up.set(0,-1,0),i.lookAt(new s(1,0,0)),this.add(i);var r=new Ee(90,1,t,e);r.up.set(0,-1,0),r.lookAt(new s(-1,0,0)),this.add(r);var o=new Ee(90,1,t,e);o.up.set(0,0,1),o.lookAt(new s(0,1,0)),this.add(o);var a=new Ee(90,1,t,e);a.up.set(0,0,-1),a.lookAt(new s(0,-1,0)),this.add(a);var l=new Ee(90,1,t,e);l.up.set(0,-1,0),l.lookAt(new s(0,0,1)),this.add(l);var u=new Ee(90,1,t,e);u.up.set(0,-1,0),u.lookAt(new s(0,0,-1)),this.add(u);var c={format:Ds,magFilter:_s,minFilter:_s};this.renderTarget=new p(n,n,c),this.renderTarget.texture.name="CubeCamera",this.update=function(t,e){null===this.parent&&this.updateMatrixWorld();var n=this.renderTarget,s=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,n.activeCubeFace=0,t.render(e,i,n),n.activeCubeFace=1,t.render(e,r,n),n.activeCubeFace=2,t.render(e,o,n),n.activeCubeFace=3,t.render(e,a,n),n.activeCubeFace=4,t.render(e,l,n),n.texture.generateMipmaps=s,n.activeCubeFace=5,t.render(e,u,n),t.setRenderTarget(null)},this.clear=function(t,e,n,i){for(var r=this.renderTarget,o=0;o<6;o++)r.activeCubeFace=o,t.setRenderTarget(r),t.clear(e,n,i);t.setRenderTarget(null)}}function Nr(){E.call(this),this.type="AudioListener",this.context=Tu.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null}function Fr(t){E.call(this),this.type="Audio",this.context=t.context,this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.buffer=null,this.loop=!1,this.startTime=0,this.offset=0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this.filters=[]}function Ur(t){Fr.call(this,t),this.panner=this.context.createPanner(),this.panner.connect(this.gain)}function jr(t,e){this.analyser=t.context.createAnalyser(),this.analyser.fftSize=void 0!==e?e:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}function Vr(t,e,n){this.binding=t,this.valueSize=n;var i,r=Float64Array;switch(e){case"quaternion":i=this._slerp;break;case"string":case"bool":r=Array,i=this._select;break;default:i=this._lerp}this.buffer=new r(4*n),this._mixBufferRegion=i,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0}function Gr(t,e,n){var i=n||Hr.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,i)}function Hr(t,e,n){this.path=e,this.parsedPath=n||Hr.parseTrackName(e),this.node=Hr.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t}function Wr(){this.uuid=Dl.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var t={};this._indicesByUUID=t;for(var e=0,n=arguments.length;e!==n;++e)t[arguments[e].uuid]=e;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var i=this;this.stats={objects:{get total(){return i._objects.length},get inUse(){return this.total-i.nCachedObjects_}},get bindingsPerObject(){return i._bindings.length}}}function qr(t,e,n){this._mixer=t,this._clip=e,this._localRoot=n||null;for(var i=e.tracks,r=i.length,o=new Array(r),a={endingStart:gl,endingEnd:gl},s=0;s!==r;++s){var l=i[s].createInterpolant(null);o[s]=l,l.settings=a}this._interpolantSettings=a,this._interpolants=o,this._propertyBindings=new Array(r),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=dl,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function Yr(t){this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}function Xr(t){"string"===typeof t&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),t=arguments[1]),this.value=t}function $r(){U.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0}function Zr(t,e,n){Pe.call(this,t,e),this.meshPerAttribute=n||1}function Jr(t,e,n){C.call(this,t,e),this.meshPerAttribute=n||1}function Kr(t,e,n,i){this.ray=new X(t,e),this.near=n||0,this.far=i||1/0,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function Qr(t,e){return t.distance-e.distance}function to(t,e,n,i){if(!1!==t.visible&&(t.raycast(e,n),!0===i))for(var r=t.children,o=0,a=r.length;o<a;o++)to(r[o],e,n,!0)}function eo(t){this.autoStart=void 0===t||t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}function no(t,e,n){return this.radius=void 0!==t?t:1,this.phi=void 0!==e?e:0,this.theta=void 0!==n?n:0,this}function io(t,e,n){return this.radius=void 0!==t?t:1,this.theta=void 0!==e?e:0,this.y=void 0!==n?n:0,this}function ro(t,e){this.min=void 0!==t?t:new r(1/0,1/0),this.max=void 0!==e?e:new r(-1/0,-1/0)}function oo(t,e){this.start=void 0!==t?t:new s,this.end=void 0!==e?e:new s}function ao(t){E.call(this),this.material=t,this.render=function(){}}function so(t,e,n,i){this.object=t,this.size=void 0!==e?e:1;var r=void 0!==n?n:16711680,o=void 0!==i?i:1,a=0,s=this.object.geometry;s&&s.isGeometry?a=3*s.faces.length:s&&s.isBufferGeometry&&(a=s.attributes.normal.count);var l=new U,u=new D(2*a*3,3);l.addAttribute("position",u),je.call(this,l,new Fe({color:r,linewidth:o})),this.matrixAutoUpdate=!1,this.update()}function lo(t,e){E.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=e;for(var n=new U,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],r=0,o=1;r<32;r++,o++){var a=r/32*Math.PI*2,s=o/32*Math.PI*2;i.push(Math.cos(a),Math.sin(a),1,Math.cos(s),Math.sin(s),1)}n.addAttribute("position",new D(i,3));var l=new Fe({fog:!1});this.cone=new je(n,l),this.add(this.cone),this.update()}function uo(t){var e=[];t&&t.isBone&&e.push(t);for(var n=0;n<t.children.length;n++)e.push.apply(e,uo(t.children[n]));return e}function co(t){for(var e=uo(t),n=new U,i=[],r=[],o=new g(0,0,1),a=new g(0,1,0),s=0;s<e.length;s++){var l=e[s];l.parent&&l.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),r.push(o.r,o.g,o.b),r.push(a.r,a.g,a.b))}n.addAttribute("position",new D(i,3)),n.addAttribute("color",new D(r,3));var u=new Fe({vertexColors:ba,depthTest:!1,depthWrite:!1,transparent:!0});je.call(this,n,u),this.root=t,this.bones=e,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1}function ho(t,e,n){this.light=t,this.light.updateMatrixWorld(),this.color=n;var i=new Jn(e,4,2),r=new q({wireframe:!0,fog:!1});Z.call(this,i,r),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}function po(t,e){E.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=e;var n=new Fe({fog:!1}),i=new U;i.addAttribute("position",new C(new Float32Array(15),3)),this.line=new Ue(i,n),this.add(this.line),this.update()}function fo(t,e,n){E.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=n;var i=new rn(e);i.rotateY(.5*Math.PI),this.material=new q({wireframe:!0,fog:!1}),void 0===this.color&&(this.material.vertexColors=ba);var r=i.getAttribute("position"),o=new Float32Array(3*r.count);i.addAttribute("color",new C(o,3)),this.add(new Z(i,this.material)),this.update()}function yo(t,e,n,i){t=t||10,e=e||10,n=new g(void 0!==n?n:4473924),i=new g(void 0!==i?i:8947848);for(var r=e/2,o=t/e,a=t/2,s=[],l=[],u=0,c=0,h=-a;u<=e;u++,h+=o){s.push(-a,0,h,a,0,h),s.push(h,0,-a,h,0,a);var p=u===r?n:i;p.toArray(l,c),c+=3,p.toArray(l,c),c+=3,p.toArray(l,c),c+=3,p.toArray(l,c),c+=3}var d=new U;d.addAttribute("position",new D(s,3)),d.addAttribute("color",new D(l,3));var f=new Fe({vertexColors:ba});je.call(this,d,f)}function mo(t,e,n,i,r,o){t=t||10,e=e||16,n=n||8,i=i||64,r=new g(void 0!==r?r:4473924),o=new g(void 0!==o?o:8947848);var a,s,l,u,c,h,p,d=[],f=[];for(u=0;u<=e;u++)l=u/e*(2*Math.PI),a=Math.sin(l)*t,s=Math.cos(l)*t,d.push(0,0,0),d.push(a,0,s),p=1&u?r:o,f.push(p.r,p.g,p.b),f.push(p.r,p.g,p.b);for(u=0;u<=n;u++)for(p=1&u?r:o,h=t-t/n*u,c=0;c<i;c++)l=c/i*(2*Math.PI),a=Math.sin(l)*h,s=Math.cos(l)*h,d.push(a,0,s),f.push(p.r,p.g,p.b),l=(c+1)/i*(2*Math.PI),a=Math.sin(l)*h,s=Math.cos(l)*h,d.push(a,0,s),f.push(p.r,p.g,p.b);var y=new U;y.addAttribute("position",new D(d,3)),y.addAttribute("color",new D(f,3));var m=new Fe({vertexColors:ba});je.call(this,y,m)}function vo(t,e,n,i){this.object=t,this.size=void 0!==e?e:1;var r=void 0!==n?n:16776960,o=void 0!==i?i:1,a=0,s=this.object.geometry;s&&s.isGeometry?a=s.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");var l=new U,u=new D(2*a*3,3);l.addAttribute("position",u),je.call(this,l,new Fe({color:r,linewidth:o})),this.matrixAutoUpdate=!1,this.update()}function go(t,e,n){E.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,void 0===e&&(e=1);var i=new U;i.addAttribute("position",new D([-e,e,0,e,e,0,e,-e,0,-e,-e,0,-e,e,0],3));var r=new Fe({fog:!1});this.lightPlane=new Ue(i,r),this.add(this.lightPlane),i=new U,i.addAttribute("position",new D([0,0,0,0,0,1],3)),this.targetLine=new Ue(i,r),this.add(this.targetLine),this.update()}function xo(t){function e(t,e,i){n(t,i),n(e,i)}function n(t,e){o.push(0,0,0),a.push(e.r,e.g,e.b),void 0===s[t]&&(s[t]=[]),s[t].push(o.length/3-1)}var i=new U,r=new Fe({color:16777215,vertexColors:_a}),o=[],a=[],s={},l=new g(16755200),u=new g(16711680),c=new g(43775),h=new g(16777215),p=new g(3355443);e("n1","n2",l),e("n2","n4",l),e("n4","n3",l),e("n3","n1",l),e("f1","f2",l),e("f2","f4",l),e("f4","f3",l),e("f3","f1",l),e("n1","f1",l),e("n2","f2",l),e("n3","f3",l),e("n4","f4",l),e("p","n1",u),e("p","n2",u),e("p","n3",u),e("p","n4",u),e("u1","u2",c),e("u2","u3",c),e("u3","u1",c),e("c","t",h),e("p","c",p),e("cn1","cn2",p),e("cn3","cn4",p),e("cf1","cf2",p),e("cf3","cf4",p),i.addAttribute("position",new D(o,3)),i.addAttribute("color",new D(a,3)),je.call(this,i,r),this.camera=t,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=s,this.update()}function _o(t,e){this.object=t,void 0===e&&(e=16776960);var n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(24),r=new U;r.setIndex(new C(n,1)),r.addAttribute("position",new C(i,3)),je.call(this,r,new Fe({color:e})),this.matrixAutoUpdate=!1,this.update()}function bo(t,e){this.type="Box3Helper",this.box=t;var n=void 0!==e?e:16776960,i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],o=new U;o.setIndex(new C(i,1)),o.addAttribute("position",new D(r,3)),je.call(this,o,new Fe({color:n})),this.geometry.computeBoundingSphere()}function wo(t,e,n){this.type="PlaneHelper",this.plane=t,this.size=void 0===e?1:e;var i=void 0!==n?n:16776960,r=[1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],o=new U;o.addAttribute("position",new D(r,3)),o.computeBoundingSphere(),Ue.call(this,o,new Fe({color:i}));var a=[1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],s=new U;s.addAttribute("position",new D(a,3)),s.computeBoundingSphere(),this.add(new Z(s,new q({color:i,opacity:.2,transparent:!0,depthWrite:!1})))}function Eo(t,e,n,i,r,o){E.call(this),void 0===i&&(i=16776960),void 0===n&&(n=1),void 0===r&&(r=.2*n),void 0===o&&(o=.2*r),void 0===Au&&(Au=new U,Au.addAttribute("position",new D([0,0,0,0,1,0],3)),Cu=new si(0,.5,1,5,1),Cu.translate(0,-.5,0)),this.position.copy(e),this.line=new Ue(Au,new Fe({color:i})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Z(Cu,new q({color:i})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(t),this.setLength(n,r,o)}function Mo(t){t=t||1;var e=[0,0,0,t,0,0,0,0,0,0,t,0,0,0,0,0,0,t],n=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new U;i.addAttribute("position",new D(e,3)),i.addAttribute("color",new D(n,3));var r=new Fe({vertexColors:ba});je.call(this,i,r)}function To(t,e,n,i,r,o,a){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new S(t,e,n,r,o,a)}function So(t){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),t}function Ao(t){return void 0===t&&(t=[]),console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),t.isMultiMaterial=!0,t.materials=t,t.clone=function(){return t.slice()},t}function Co(t,e){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new He(t,e)}function Lo(t){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new ze(t)}function ko(t,e){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new He(t,e)}function Po(t){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new Ge(t)}function Io(t){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new Ge(t)}function Ro(t){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new Ge(t)}function zo(t,e,n){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new s(t,e,n)}function Oo(t,e){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead."),new C(t,e).setDynamic(!0)}function Do(t,e){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new L(t,e)}function Bo(t,e){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new k(t,e)}function No(t,e){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new P(t,e)}function Fo(t,e){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new I(t,e)}function Uo(t,e){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new R(t,e)}function jo(t,e){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new z(t,e)}function Vo(t,e){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new O(t,e)}function Go(t,e){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new D(t,e)}function Ho(t,e){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new B(t,e)}function Wo(t){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),Ii.call(this,t),this.type="catmullrom",this.closed=!0}function qo(t){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),Ii.call(this,t),this.type="catmullrom"}function Yo(t){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),Ii.call(this,t),this.type="catmullrom"}function Xo(t){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new Mo(t)}function $o(t,e){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new _o(t,e)}function Zo(t,e){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new je(new oi(t.geometry),new Fe({color:void 0!==e?e:16777215}))}function Jo(t,e){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new je(new $e(t.geometry),new Fe({color:void 0!==e?e:16777215}))}function Ko(t){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new wi(t)}function Qo(t){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new Mi(t)}function ta(){console.error("THREE.Projector has been moved to /examples/js/renderers/Projector.js."),this.projectVector=function(t,e){console.warn("THREE.Projector: .projectVector() is now vector.project()."),t.project(e)},this.unprojectVector=function(t,e){console.warn("THREE.Projector: .unprojectVector() is now vector.unproject()."),t.unproject(e)},this.pickingRay=function(){console.error("THREE.Projector: .pickingRay() is now raycaster.setFromCamera().")}}function ea(){console.error("THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js"),this.domElement=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),this.clear=function(){},this.render=function(){},this.setClearColor=function(){},this.setSize=function(){}}function na(){console.error("THREE.LensFlare has been moved to /examples/js/objects/Lensflare.js")}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"WebGLRenderTargetCube",function(){return p}),n.d(e,"WebGLRenderTarget",function(){return h}),n.d(e,"WebGLRenderer",function(){return Ae}),n.d(e,"ShaderLib",function(){return Gl}),n.d(e,"UniformsLib",function(){return Vl}),n.d(e,"UniformsUtils",function(){return Ul}),n.d(e,"ShaderChunk",function(){return Fl}),n.d(e,"FogExp2",function(){return Ce}),n.d(e,"Fog",function(){return Le}),n.d(e,"Scene",function(){return ke}),n.d(e,"Sprite",function(){return ze}),n.d(e,"LOD",function(){return Oe}),n.d(e,"SkinnedMesh",function(){return Ne}),n.d(e,"Skeleton",function(){return De}),n.d(e,"Bone",function(){return Be}),n.d(e,"Mesh",function(){return Z}),n.d(e,"LineSegments",function(){return je}),n.d(e,"LineLoop",function(){return Ve}),n.d(e,"Line",function(){return Ue}),n.d(e,"Points",function(){return He}),n.d(e,"Group",function(){return we}),n.d(e,"VideoTexture",function(){return We}),n.d(e,"DataTexture",function(){return d}),n.d(e,"CompressedTexture",function(){return qe}),n.d(e,"CubeTexture",function(){return lt}),n.d(e,"CanvasTexture",function(){return Ye}),n.d(e,"DepthTexture",function(){return Xe}),n.d(e,"Texture",function(){return u}),n.d(e,"CompressedTextureLoader",function(){return Ei}),n.d(e,"DataTextureLoader",function(){return Mi}),n.d(e,"CubeTextureLoader",function(){return Si}),n.d(e,"TextureLoader",function(){return Ai}),n.d(e,"ObjectLoader",function(){return Cr}),n.d(e,"MaterialLoader",function(){return Mr}),n.d(e,"BufferGeometryLoader",function(){return Tr}),n.d(e,"DefaultLoadingManager",function(){return hu}),n.d(e,"LoadingManager",function(){return bi}),n.d(e,"JSONLoader",function(){return Ar}),n.d(e,"ImageLoader",function(){return Ti}),n.d(e,"ImageBitmapLoader",function(){return Lr}),n.d(e,"FontLoader",function(){return zr}),n.d(e,"FileLoader",function(){return wi}),n.d(e,"Loader",function(){return Sr}),n.d(e,"LoaderUtils",function(){return _u}),n.d(e,"Cache",function(){return cu}),n.d(e,"AudioLoader",function(){return Or}),n.d(e,"SpotLightShadow",function(){return nr}),n.d(e,"SpotLight",function(){return ir}),n.d(e,"PointLight",function(){return rr}),n.d(e,"RectAreaLight",function(){return lr}),n.d(e,"HemisphereLight",function(){return tr}),n.d(e,"DirectionalLightShadow",function(){return or}),n.d(e,"DirectionalLight",function(){return ar}),n.d(e,"AmbientLight",function(){return sr}),n.d(e,"LightShadow",function(){return er}),n.d(e,"Light",function(){return Qi}),n.d(e,"StereoCamera",function(){return Dr}),n.d(e,"PerspectiveCamera",function(){return Ee}),n.d(e,"OrthographicCamera",function(){return T}),n.d(e,"CubeCamera",function(){return Br}),n.d(e,"ArrayCamera",function(){return Me}),n.d(e,"Camera",function(){return M}),n.d(e,"AudioListener",function(){return Nr}),n.d(e,"PositionalAudio",function(){return Ur}),n.d(e,"AudioContext",function(){return Tu}),n.d(e,"AudioAnalyser",function(){return jr}),n.d(e,"Audio",function(){return Fr}),n.d(e,"VectorKeyframeTrack",function(){return _r}),n.d(e,"StringKeyframeTrack",function(){return xr}),n.d(e,"QuaternionKeyframeTrack",function(){return gr}),n.d(e,"NumberKeyframeTrack",function(){return mr}),n.d(e,"ColorKeyframeTrack",function(){return yr}),n.d(e,"BooleanKeyframeTrack",function(){return fr}),n.d(e,"PropertyMixer",function(){return Vr}),n.d(e,"PropertyBinding",function(){return Hr}),n.d(e,"KeyframeTrack",function(){return dr}),n.d(e,"AnimationUtils",function(){return gu}),n.d(e,"AnimationObjectGroup",function(){return Wr}),n.d(e,"AnimationMixer",function(){return Yr}),n.d(e,"AnimationClip",function(){return br}),n.d(e,"Uniform",function(){return Xr}),n.d(e,"InstancedBufferGeometry",function(){return $r}),n.d(e,"BufferGeometry",function(){return U}),n.d(e,"Geometry",function(){return A}),n.d(e,"InterleavedBufferAttribute",function(){return Ie}),n.d(e,"InstancedInterleavedBuffer",function(){return Zr}),n.d(e,"InterleavedBuffer",function(){return Pe}),n.d(e,"InstancedBufferAttribute",function(){return Jr}),n.d(e,"Face3",function(){return S}),n.d(e,"Object3D",function(){return E}),n.d(e,"Raycaster",function(){return Kr}),n.d(e,"Layers",function(){return w}),n.d(e,"EventDispatcher",function(){return i}),n.d(e,"Clock",function(){return eo}),n.d(e,"QuaternionLinearInterpolant",function(){return vr}),n.d(e,"LinearInterpolant",function(){return hr}),n.d(e,"DiscreteInterpolant",function(){return pr}),n.d(e,"CubicInterpolant",function(){return cr}),n.d(e,"Interpolant",function(){return ur}),n.d(e,"Triangle",function(){return $}),n.d(e,"Math",function(){return Dl}),n.d(e,"Spherical",function(){return no}),n.d(e,"Cylindrical",function(){return io}),n.d(e,"Plane",function(){return m}),n.d(e,"Frustum",function(){return v}),n.d(e,"Sphere",function(){return y}),n.d(e,"Ray",function(){return X}),n.d(e,"Matrix4",function(){return o}),n.d(e,"Matrix3",function(){return l}),n.d(e,"Box3",function(){return f}),n.d(e,"Box2",function(){return ro}),n.d(e,"Line3",function(){return oo}),n.d(e,"Euler",function(){return b}),n.d(e,"Vector4",function(){return c}),n.d(e,"Vector3",function(){return s}),n.d(e,"Vector2",function(){return r}),n.d(e,"Quaternion",function(){return a}),n.d(e,"Color",function(){return g}),n.d(e,"ImmediateRenderObject",function(){return ao}),n.d(e,"VertexNormalsHelper",function(){return so}),n.d(e,"SpotLightHelper",function(){return lo}),n.d(e,"SkeletonHelper",function(){return co}),n.d(e,"PointLightHelper",function(){return ho}),n.d(e,"RectAreaLightHelper",function(){return po}),n.d(e,"HemisphereLightHelper",function(){return fo}),n.d(e,"GridHelper",function(){return yo}),n.d(e,"PolarGridHelper",function(){return mo}),n.d(e,"FaceNormalsHelper",function(){return vo}),n.d(e,"DirectionalLightHelper",function(){return go}),n.d(e,"CameraHelper",function(){return xo}),n.d(e,"BoxHelper",function(){return _o}),n.d(e,"Box3Helper",function(){return bo}),n.d(e,"PlaneHelper",function(){return wo}),n.d(e,"ArrowHelper",function(){return Eo}),n.d(e,"AxesHelper",function(){return Mo}),n.d(e,"Shape",function(){return Ki}),n.d(e,"Path",function(){return Ji}),n.d(e,"ShapePath",function(){return kr}),n.d(e,"Font",function(){return Pr}),n.d(e,"CurvePath",function(){return Zi}),n.d(e,"Curve",function(){return Ci}),n.d(e,"ImageUtils",function(){return Bl}),n.d(e,"ShapeUtils",function(){return au}),n.d(e,"WebGLUtils",function(){return be}),n.d(e,"WireframeGeometry",function(){return $e}),n.d(e,"ParametricGeometry",function(){return Ze}),n.d(e,"ParametricBufferGeometry",function(){return Je}),n.d(e,"TetrahedronGeometry",function(){return tn}),n.d(e,"TetrahedronBufferGeometry",function(){return en}),n.d(e,"OctahedronGeometry",function(){return nn}),n.d(e,"OctahedronBufferGeometry",function(){return rn}),n.d(e,"IcosahedronGeometry",function(){return on}),n.d(e,"IcosahedronBufferGeometry",function(){return an}),n.d(e,"DodecahedronGeometry",function(){return sn}),n.d(e,"DodecahedronBufferGeometry",function(){return ln}),n.d(e,"PolyhedronGeometry",function(){return Ke}),n.d(e,"PolyhedronBufferGeometry",function(){return Qe}),n.d(e,"TubeGeometry",function(){return un}),n.d(e,"TubeBufferGeometry",function(){return cn}),n.d(e,"TorusKnotGeometry",function(){return hn}),n.d(e,"TorusKnotBufferGeometry",function(){return pn}),n.d(e,"TorusGeometry",function(){return dn}),n.d(e,"TorusBufferGeometry",function(){return fn}),n.d(e,"TextGeometry",function(){return Xn}),n.d(e,"TextBufferGeometry",function(){return $n}),n.d(e,"SphereGeometry",function(){return Zn}),n.d(e,"SphereBufferGeometry",function(){return Jn}),n.d(e,"RingGeometry",function(){return Kn}),n.d(e,"RingBufferGeometry",function(){return Qn}),n.d(e,"PlaneGeometry",function(){return G}),n.d(e,"PlaneBufferGeometry",function(){return H}),n.d(e,"LatheGeometry",function(){return ti}),n.d(e,"LatheBufferGeometry",function(){return ei}),n.d(e,"ShapeGeometry",function(){return ni}),n.d(e,"ShapeBufferGeometry",function(){return ii}),n.d(e,"ExtrudeGeometry",function(){return Wn}),n.d(e,"ExtrudeBufferGeometry",function(){return qn}),n.d(e,"EdgesGeometry",function(){return oi}),n.d(e,"ConeGeometry",function(){return li}),n.d(e,"ConeBufferGeometry",function(){return ui}),n.d(e,"CylinderGeometry",function(){return ai}),n.d(e,"CylinderBufferGeometry",function(){return si}),n.d(e,"CircleGeometry",function(){return ci}),n.d(e,"CircleBufferGeometry",function(){return hi}),n.d(e,"BoxGeometry",function(){return j}),n.d(e,"BoxBufferGeometry",function(){return V}),n.d(e,"ShadowMaterial",function(){return pi}),n.d(e,"SpriteMaterial",function(){return Re}),n.d(e,"RawShaderMaterial",function(){return di}),n.d(e,"ShaderMaterial",function(){return Y}),n.d(e,"PointsMaterial",function(){return Ge}),n.d(e,"MeshPhysicalMaterial",function(){return yi}),n.d(e,"MeshStandardMaterial",function(){return fi}),n.d(e,"MeshPhongMaterial",function(){return mi}),n.d(e,"MeshToonMaterial",function(){return vi}),n.d(e,"MeshNormalMaterial",function(){return gi}),n.d(e,"MeshLambertMaterial",function(){return xi}),n.d(e,"MeshDepthMaterial",function(){return me}),n.d(e,"MeshDistanceMaterial",function(){return ve});n.d(e,"MeshBasicMaterial",function(){return q}),n.d(e,"LineDashedMaterial",function(){return _i}),n.d(e,"LineBasicMaterial",function(){return Fe}),n.d(e,"Material",function(){return W}),n.d(e,"Float64BufferAttribute",function(){return B}),n.d(e,"Float32BufferAttribute",function(){return D}),n.d(e,"Uint32BufferAttribute",function(){return O}),n.d(e,"Int32BufferAttribute",function(){return z}),n.d(e,"Uint16BufferAttribute",function(){return R}),n.d(e,"Int16BufferAttribute",function(){return I}),n.d(e,"Uint8ClampedBufferAttribute",function(){return P}),n.d(e,"Uint8BufferAttribute",function(){return k}),n.d(e,"Int8BufferAttribute",function(){return L}),n.d(e,"BufferAttribute",function(){return C}),n.d(e,"ArcCurve",function(){return ki}),n.d(e,"CatmullRomCurve3",function(){return Ii}),n.d(e,"CubicBezierCurve",function(){return Gi}),n.d(e,"CubicBezierCurve3",function(){return Hi}),n.d(e,"EllipseCurve",function(){return Li}),n.d(e,"LineCurve",function(){return Wi}),n.d(e,"LineCurve3",function(){return qi}),n.d(e,"QuadraticBezierCurve",function(){return Yi}),n.d(e,"QuadraticBezierCurve3",function(){return Xi}),n.d(e,"SplineCurve",function(){return $i}),n.d(e,"REVISION",function(){return ia}),n.d(e,"MOUSE",function(){return ra}),n.d(e,"CullFaceNone",function(){return oa}),n.d(e,"CullFaceBack",function(){return aa}),n.d(e,"CullFaceFront",function(){return sa}),n.d(e,"CullFaceFrontBack",function(){return la}),n.d(e,"FrontFaceDirectionCW",function(){return ua}),n.d(e,"FrontFaceDirectionCCW",function(){return ca}),n.d(e,"BasicShadowMap",function(){return ha}),n.d(e,"PCFShadowMap",function(){return pa}),n.d(e,"PCFSoftShadowMap",function(){return da}),n.d(e,"FrontSide",function(){return fa}),n.d(e,"BackSide",function(){return ya}),n.d(e,"DoubleSide",function(){return ma}),n.d(e,"FlatShading",function(){return va}),n.d(e,"SmoothShading",function(){return ga}),n.d(e,"NoColors",function(){return xa}),n.d(e,"FaceColors",function(){return _a}),n.d(e,"VertexColors",function(){return ba}),n.d(e,"NoBlending",function(){return wa}),n.d(e,"NormalBlending",function(){return Ea}),n.d(e,"AdditiveBlending",function(){return Ma}),n.d(e,"SubtractiveBlending",function(){return Ta}),n.d(e,"MultiplyBlending",function(){return Sa}),n.d(e,"CustomBlending",function(){return Aa}),n.d(e,"AddEquation",function(){return Ca}),n.d(e,"SubtractEquation",function(){return La}),n.d(e,"ReverseSubtractEquation",function(){return ka}),n.d(e,"MinEquation",function(){return Pa}),n.d(e,"MaxEquation",function(){return Ia}),n.d(e,"ZeroFactor",function(){return Ra}),n.d(e,"OneFactor",function(){return za}),n.d(e,"SrcColorFactor",function(){return Oa}),n.d(e,"OneMinusSrcColorFactor",function(){return Da}),n.d(e,"SrcAlphaFactor",function(){return Ba}),n.d(e,"OneMinusSrcAlphaFactor",function(){return Na}),n.d(e,"DstAlphaFactor",function(){return Fa}),n.d(e,"OneMinusDstAlphaFactor",function(){return Ua}),n.d(e,"DstColorFactor",function(){return ja}),n.d(e,"OneMinusDstColorFactor",function(){return Va}),n.d(e,"SrcAlphaSaturateFactor",function(){return Ga}),n.d(e,"NeverDepth",function(){return Ha}),n.d(e,"AlwaysDepth",function(){return Wa}),n.d(e,"LessDepth",function(){return qa}),n.d(e,"LessEqualDepth",function(){return Ya}),n.d(e,"EqualDepth",function(){return Xa}),n.d(e,"GreaterEqualDepth",function(){return $a}),n.d(e,"GreaterDepth",function(){return Za}),n.d(e,"NotEqualDepth",function(){return Ja}),n.d(e,"MultiplyOperation",function(){return Ka}),n.d(e,"MixOperation",function(){return Qa}),n.d(e,"AddOperation",function(){return ts}),n.d(e,"NoToneMapping",function(){return es}),n.d(e,"LinearToneMapping",function(){return ns}),n.d(e,"ReinhardToneMapping",function(){return is}),n.d(e,"Uncharted2ToneMapping",function(){return rs}),n.d(e,"CineonToneMapping",function(){return os}),n.d(e,"UVMapping",function(){return as}),n.d(e,"CubeReflectionMapping",function(){return ss}),n.d(e,"CubeRefractionMapping",function(){return ls}),n.d(e,"EquirectangularReflectionMapping",function(){return us}),n.d(e,"EquirectangularRefractionMapping",function(){return cs}),n.d(e,"SphericalReflectionMapping",function(){return hs}),n.d(e,"CubeUVReflectionMapping",function(){return ps}),n.d(e,"CubeUVRefractionMapping",function(){return ds}),n.d(e,"RepeatWrapping",function(){return fs}),n.d(e,"ClampToEdgeWrapping",function(){return ys}),n.d(e,"MirroredRepeatWrapping",function(){return ms}),n.d(e,"NearestFilter",function(){return vs}),n.d(e,"NearestMipMapNearestFilter",function(){return gs}),n.d(e,"NearestMipMapLinearFilter",function(){return xs}),n.d(e,"LinearFilter",function(){return _s}),n.d(e,"LinearMipMapNearestFilter",function(){return bs}),n.d(e,"LinearMipMapLinearFilter",function(){return ws}),n.d(e,"UnsignedByteType",function(){return Es}),n.d(e,"ByteType",function(){return Ms}),n.d(e,"ShortType",function(){return Ts}),n.d(e,"UnsignedShortType",function(){return Ss}),n.d(e,"IntType",function(){return As}),n.d(e,"UnsignedIntType",function(){return Cs}),n.d(e,"FloatType",function(){return Ls}),n.d(e,"HalfFloatType",function(){return ks}),n.d(e,"UnsignedShort4444Type",function(){return Ps}),n.d(e,"UnsignedShort5551Type",function(){return Is}),n.d(e,"UnsignedShort565Type",function(){return Rs}),n.d(e,"UnsignedInt248Type",function(){return zs}),n.d(e,"AlphaFormat",function(){return Os}),n.d(e,"RGBFormat",function(){return Ds}),n.d(e,"RGBAFormat",function(){return Bs}),n.d(e,"LuminanceFormat",function(){return Ns}),n.d(e,"LuminanceAlphaFormat",function(){return Fs}),n.d(e,"RGBEFormat",function(){return Us}),n.d(e,"DepthFormat",function(){return js}),n.d(e,"DepthStencilFormat",function(){return Vs}),n.d(e,"RGB_S3TC_DXT1_Format",function(){return Gs}),n.d(e,"RGBA_S3TC_DXT1_Format",function(){return Hs}),n.d(e,"RGBA_S3TC_DXT3_Format",function(){return Ws}),n.d(e,"RGBA_S3TC_DXT5_Format",function(){return qs}),n.d(e,"RGB_PVRTC_4BPPV1_Format",function(){return Ys}),n.d(e,"RGB_PVRTC_2BPPV1_Format",function(){return Xs}),n.d(e,"RGBA_PVRTC_4BPPV1_Format",function(){return $s}),n.d(e,"RGBA_PVRTC_2BPPV1_Format",function(){return Zs}),n.d(e,"RGB_ETC1_Format",function(){return Js}),n.d(e,"RGBA_ASTC_4x4_Format",function(){return Ks}),n.d(e,"RGBA_ASTC_5x4_Format",function(){return Qs}),n.d(e,"RGBA_ASTC_5x5_Format",function(){return tl}),n.d(e,"RGBA_ASTC_6x5_Format",function(){return el}),n.d(e,"RGBA_ASTC_6x6_Format",function(){return nl}),n.d(e,"RGBA_ASTC_8x5_Format",function(){return il}),n.d(e,"RGBA_ASTC_8x6_Format",function(){return rl}),n.d(e,"RGBA_ASTC_8x8_Format",function(){return ol}),n.d(e,"RGBA_ASTC_10x5_Format",function(){return al}),n.d(e,"RGBA_ASTC_10x6_Format",function(){return sl}),n.d(e,"RGBA_ASTC_10x8_Format",function(){return ll}),n.d(e,"RGBA_ASTC_10x10_Format",function(){return ul}),n.d(e,"RGBA_ASTC_12x10_Format",function(){return cl}),n.d(e,"RGBA_ASTC_12x12_Format",function(){return hl}),n.d(e,"LoopOnce",function(){return pl}),n.d(e,"LoopRepeat",function(){return dl}),n.d(e,"LoopPingPong",function(){return fl}),n.d(e,"InterpolateDiscrete",function(){return yl}),n.d(e,"InterpolateLinear",function(){return ml}),n.d(e,"InterpolateSmooth",function(){return vl}),n.d(e,"ZeroCurvatureEnding",function(){return gl}),n.d(e,"ZeroSlopeEnding",function(){return xl}),n.d(e,"WrapAroundEnding",function(){return _l}),n.d(e,"TrianglesDrawMode",function(){return bl}),n.d(e,"TriangleStripDrawMode",function(){return wl}),n.d(e,"TriangleFanDrawMode",function(){return El}),n.d(e,"LinearEncoding",function(){return Ml}),n.d(e,"sRGBEncoding",function(){return Tl}),n.d(e,"GammaEncoding",function(){return Sl}),n.d(e,"RGBEEncoding",function(){return Al}),n.d(e,"LogLuvEncoding",function(){return Cl}),n.d(e,"RGBM7Encoding",function(){return Ll}),n.d(e,"RGBM16Encoding",function(){return kl}),n.d(e,"RGBDEncoding",function(){return Pl}),n.d(e,"BasicDepthPacking",function(){return Il}),n.d(e,"RGBADepthPacking",function(){return Rl}),n.d(e,"TangentSpaceNormalMap",function(){return zl}),n.d(e,"ObjectSpaceNormalMap",function(){return Ol}),n.d(e,"CubeGeometry",function(){return j}),n.d(e,"Face4",function(){return To}),n.d(e,"LineStrip",function(){return Lu}),n.d(e,"LinePieces",function(){return ku}),n.d(e,"MeshFaceMaterial",function(){return So}),n.d(e,"MultiMaterial",function(){return Ao}),n.d(e,"PointCloud",function(){return Co}),n.d(e,"Particle",function(){return Lo}),n.d(e,"ParticleSystem",function(){return ko}),n.d(e,"PointCloudMaterial",function(){return Po}),n.d(e,"ParticleBasicMaterial",function(){return Io}),n.d(e,"ParticleSystemMaterial",function(){return Ro}),n.d(e,"Vertex",function(){return zo}),n.d(e,"DynamicBufferAttribute",function(){return Oo}),n.d(e,"Int8Attribute",function(){return Do}),n.d(e,"Uint8Attribute",function(){return Bo}),n.d(e,"Uint8ClampedAttribute",function(){return No}),n.d(e,"Int16Attribute",function(){return Fo}),n.d(e,"Uint16Attribute",function(){return Uo}),n.d(e,"Int32Attribute",function(){return jo}),n.d(e,"Uint32Attribute",function(){return Vo}),n.d(e,"Float32Attribute",function(){return Go}),n.d(e,"Float64Attribute",function(){return Ho}),n.d(e,"ClosedSplineCurve3",function(){return Wo}),n.d(e,"SplineCurve3",function(){return qo}),n.d(e,"Spline",function(){return Yo}),n.d(e,"AxisHelper",function(){return Xo}),n.d(e,"BoundingBoxHelper",function(){return $o}),n.d(e,"EdgesHelper",function(){return Zo}),n.d(e,"WireframeHelper",function(){return Jo}),n.d(e,"XHRLoader",function(){return Ko}),n.d(e,"BinaryTextureLoader",function(){return Qo}),n.d(e,"GeometryUtils",function(){return Pu}),n.d(e,"Projector",function(){return ta}),n.d(e,"CanvasRenderer",function(){return ea});n.d(e,"SceneUtils",function(){return Iu}),n.d(e,"LensFlare",function(){return na}),void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Number.isInteger&&(Number.isInteger=function(t){return"number"===typeof t&&isFinite(t)&&Math.floor(t)===t}),void 0===Math.sign&&(Math.sign=function(t){return t<0?-1:t>0?1:+t}),"name"in Function.prototype===!1&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===Object.assign&&function(){Object.assign=function(t){if(void 0===t||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(void 0!==i&&null!==i)for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}}(),Object.assign(i.prototype,{addEventListener:function(t,e){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[t]&&(n[t]=[]),-1===n[t].indexOf(e)&&n[t].push(e)},hasEventListener:function(t,e){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[t]&&-1!==n[t].indexOf(e)},removeEventListener:function(t,e){if(void 0!==this._listeners){var n=this._listeners,i=n[t];if(void 0!==i){var r=i.indexOf(e);-1!==r&&i.splice(r,1)}}},dispatchEvent:function(t){if(void 0!==this._listeners){var e=this._listeners,n=e[t.type];if(void 0!==n){t.target=this;for(var i=n.slice(0),r=0,o=i.length;r<o;r++)i[r].call(this,t)}}}});var ia="95",ra={LEFT:0,MIDDLE:1,RIGHT:2},oa=0,aa=1,sa=2,la=3,ua=0,ca=1,ha=0,pa=1,da=2,fa=0,ya=1,ma=2,va=1,ga=2,xa=0,_a=1,ba=2,wa=0,Ea=1,Ma=2,Ta=3,Sa=4,Aa=5,Ca=100,La=101,ka=102,Pa=103,Ia=104,Ra=200,za=201,Oa=202,Da=203,Ba=204,Na=205,Fa=206,Ua=207,ja=208,Va=209,Ga=210,Ha=0,Wa=1,qa=2,Ya=3,Xa=4,$a=5,Za=6,Ja=7,Ka=0,Qa=1,ts=2,es=0,ns=1,is=2,rs=3,os=4,as=300,ss=301,ls=302,us=303,cs=304,hs=305,ps=306,ds=307,fs=1e3,ys=1001,ms=1002,vs=1003,gs=1004,xs=1005,_s=1006,bs=1007,ws=1008,Es=1009,Ms=1010,Ts=1011,Ss=1012,As=1013,Cs=1014,Ls=1015,ks=1016,Ps=1017,Is=1018,Rs=1019,zs=1020,Os=1021,Ds=1022,Bs=1023,Ns=1024,Fs=1025,Us=Bs,js=1026,Vs=1027,Gs=33776,Hs=33777,Ws=33778,qs=33779,Ys=35840,Xs=35841,$s=35842,Zs=35843,Js=36196,Ks=37808,Qs=37809,tl=37810,el=37811,nl=37812,il=37813,rl=37814,ol=37815,al=37816,sl=37817,ll=37818,ul=37819,cl=37820,hl=37821,pl=2200,dl=2201,fl=2202,yl=2300,ml=2301,vl=2302,gl=2400,xl=2401,_l=2402,bl=0,wl=1,El=2,Ml=3e3,Tl=3001,Sl=3007,Al=3002,Cl=3003,Ll=3004,kl=3005,Pl=3006,Il=3200,Rl=3201,zl=0,Ol=1,Dl={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){for(var t=[],e=0;e<256;e++)t[e]=(e<16?"0":"")+e.toString(16);return function(){var e=4294967295*Math.random()|0,n=4294967295*Math.random()|0,i=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(t[255&e]+t[e>>8&255]+t[e>>16&255]+t[e>>24&255]+"-"+t[255&n]+t[n>>8&255]+"-"+t[n>>16&15|64]+t[n>>24&255]+"-"+t[63&i|128]+t[i>>8&255]+"-"+t[i>>16&255]+t[i>>24&255]+t[255&r]+t[r>>8&255]+t[r>>16&255]+t[r>>24&255]).toUpperCase()}}(),clamp:function(t,e,n){return Math.max(e,Math.min(n,t))},euclideanModulo:function(t,e){return(t%e+e)%e},mapLinear:function(t,e,n,i,r){return i+(t-e)*(r-i)/(n-e)},lerp:function(t,e,n){return(1-n)*t+n*e},smoothstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*(3-2*t)},smootherstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*t*(t*(6*t-15)+10)},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},degToRad:function(t){return t*Dl.DEG2RAD},radToDeg:function(t){return t*Dl.RAD2DEG},isPowerOfTwo:function(t){return 0===(t&t-1)&&0!==t},ceilPowerOfTwo:function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},floorPowerOfTwo:function(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}};Object.defineProperties(r.prototype,{width:{get:function(){return this.x},set:function(t){this.x=t}},height:{get:function(){return this.y},set:function(t){this.y=t}}}),Object.assign(r.prototype,{isVector2:!0,set:function(t,e){return this.x=t,this.y=e,this},setScalar:function(t){return this.x=t,this.y=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(t){return this.x=t.x,this.y=t.y,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this)},addScalar:function(t){return this.x+=t,this.y+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this)},subScalar:function(t){return this.x-=t,this.y-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this},divide:function(t){return this.x/=t.x,this.y/=t.y,this},divideScalar:function(t){return this.multiplyScalar(1/t)},applyMatrix3:function(t){var e=this.x,n=this.y,i=t.elements;return this.x=i[0]*e+i[3]*n+i[6],this.y=i[1]*e+i[4]*n+i[7],this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this},clampScalar:function(){var t=new r,e=new r;return function(n,i){return t.set(n,n),e.set(i,i),this.clamp(t,e)}}(),clampLength:function(t,e){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(t){return this.x*t.x+this.y*t.y},cross:function(t){return this.x*t.y-this.y*t.x},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var t=Math.atan2(this.y,this.x);return t<0&&(t+=2*Math.PI),t},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,n=this.y-t.y;return e*e+n*n},manhattanDistanceTo:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t},fromBufferAttribute:function(t,e,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this},rotateAround:function(t,e){var n=Math.cos(e),i=Math.sin(e),r=this.x-t.x,o=this.y-t.y;return this.x=r*n-o*i+t.x,this.y=r*i+o*n+t.y,this}}),Object.assign(o.prototype,{isMatrix4:!0,set:function(t,e,n,i,r,o,a,s,l,u,c,h,p,d,f,y){var m=this.elements;return m[0]=t,m[4]=e,m[8]=n,m[12]=i,m[1]=r,m[5]=o,m[9]=a,m[13]=s,m[2]=l,m[6]=u,m[10]=c,m[14]=h,m[3]=p,m[7]=d,m[11]=f,m[15]=y,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new o).fromArray(this.elements)},copy:function(t){var e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],this},copyPosition:function(t){var e=this.elements,n=t.elements;return e[12]=n[12],e[13]=n[13],e[14]=n[14],this},extractBasis:function(t,e,n){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this},makeBasis:function(t,e,n){return this.set(t.x,e.x,n.x,0,t.y,e.y,n.y,0,t.z,e.z,n.z,0,0,0,0,1),this},extractRotation:function(){var t=new s;return function(e){var n=this.elements,i=e.elements,r=1/t.setFromMatrixColumn(e,0).length(),o=1/t.setFromMatrixColumn(e,1).length(),a=1/t.setFromMatrixColumn(e,2).length();return n[0]=i[0]*r,n[1]=i[1]*r,n[2]=i[2]*r,n[3]=0,n[4]=i[4]*o,n[5]=i[5]*o,n[6]=i[6]*o,n[7]=0,n[8]=i[8]*a,n[9]=i[9]*a,n[10]=i[10]*a,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}}(),makeRotationFromEuler:function(t){t&&t.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var e=this.elements,n=t.x,i=t.y,r=t.z,o=Math.cos(n),a=Math.sin(n),s=Math.cos(i),l=Math.sin(i),u=Math.cos(r),c=Math.sin(r);if("XYZ"===t.order){var h=o*u,p=o*c,d=a*u,f=a*c;e[0]=s*u,e[4]=-s*c,e[8]=l,e[1]=p+d*l,e[5]=h-f*l,e[9]=-a*s,e[2]=f-h*l,e[6]=d+p*l,e[10]=o*s}else if("YXZ"===t.order){var y=s*u,m=s*c,v=l*u,g=l*c;e[0]=y+g*a,e[4]=v*a-m,e[8]=o*l,e[1]=o*c,e[5]=o*u,e[9]=-a,e[2]=m*a-v,e[6]=g+y*a,e[10]=o*s}else if("ZXY"===t.order){var y=s*u,m=s*c,v=l*u,g=l*c;e[0]=y-g*a,e[4]=-o*c,e[8]=v+m*a,e[1]=m+v*a,e[5]=o*u,e[9]=g-y*a,e[2]=-o*l,e[6]=a,e[10]=o*s}else if("ZYX"===t.order){var h=o*u,p=o*c,d=a*u,f=a*c;e[0]=s*u,e[4]=d*l-p,e[8]=h*l+f,e[1]=s*c,e[5]=f*l+h,e[9]=p*l-d,e[2]=-l,e[6]=a*s,e[10]=o*s}else if("YZX"===t.order){var x=o*s,_=o*l,b=a*s,w=a*l;e[0]=s*u,e[4]=w-x*c,e[8]=b*c+_,e[1]=c,e[5]=o*u,e[9]=-a*u,e[2]=-l*u,e[6]=_*c+b,e[10]=x-w*c}else if("XZY"===t.order){var x=o*s,_=o*l,b=a*s,w=a*l;e[0]=s*u,e[4]=-c,e[8]=l*u,e[1]=x*c+w,e[5]=o*u,e[9]=_*c-b,e[2]=b*c-_,e[6]=a*u,e[10]=w*c+x}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},makeRotationFromQuaternion:function(){var t=new s(0,0,0),e=new s(1,1,1);return function(n){return this.compose(t,n,e)}}(),lookAt:function(){var t=new s,e=new s,n=new s;return function(i,r,o){var a=this.elements;return n.subVectors(i,r),0===n.lengthSq()&&(n.z=1),n.normalize(),t.crossVectors(o,n),0===t.lengthSq()&&(1===Math.abs(o.z)?n.x+=1e-4:n.z+=1e-4,n.normalize(),t.crossVectors(o,n)),t.normalize(),e.crossVectors(n,t),a[0]=t.x,a[4]=e.x,a[8]=n.x,a[1]=t.y,a[5]=e.y,a[9]=n.y,a[2]=t.z,a[6]=e.z,a[10]=n.z,this}}(),multiply:function(t,e){return void 0!==e?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,e)):this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,e){var n=t.elements,i=e.elements,r=this.elements,o=n[0],a=n[4],s=n[8],l=n[12],u=n[1],c=n[5],h=n[9],p=n[13],d=n[2],f=n[6],y=n[10],m=n[14],v=n[3],g=n[7],x=n[11],_=n[15],b=i[0],w=i[4],E=i[8],M=i[12],T=i[1],S=i[5],A=i[9],C=i[13],L=i[2],k=i[6],P=i[10],I=i[14],R=i[3],z=i[7],O=i[11],D=i[15];return r[0]=o*b+a*T+s*L+l*R,r[4]=o*w+a*S+s*k+l*z,r[8]=o*E+a*A+s*P+l*O,r[12]=o*M+a*C+s*I+l*D,r[1]=u*b+c*T+h*L+p*R,r[5]=u*w+c*S+h*k+p*z,r[9]=u*E+c*A+h*P+p*O,r[13]=u*M+c*C+h*I+p*D,r[2]=d*b+f*T+y*L+m*R,r[6]=d*w+f*S+y*k+m*z,r[10]=d*E+f*A+y*P+m*O,r[14]=d*M+f*C+y*I+m*D,r[3]=v*b+g*T+x*L+_*R,r[7]=v*w+g*S+x*k+_*z,r[11]=v*E+g*A+x*P+_*O,r[15]=v*M+g*C+x*I+_*D,this},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this},applyToBufferAttribute:function(){var t=new s;return function(e){for(var n=0,i=e.count;n<i;n++)t.x=e.getX(n),t.y=e.getY(n),t.z=e.getZ(n),t.applyMatrix4(this),e.setXYZ(n,t.x,t.y,t.z);return e}}(),determinant:function(){var t=this.elements,e=t[0],n=t[4],i=t[8],r=t[12],o=t[1],a=t[5],s=t[9],l=t[13],u=t[2],c=t[6],h=t[10],p=t[14];return t[3]*(+r*s*c-i*l*c-r*a*h+n*l*h+i*a*p-n*s*p)+t[7]*(+e*s*p-e*l*h+r*o*h-i*o*p+i*l*u-r*s*u)+t[11]*(+e*l*c-e*a*p-r*o*c+n*o*p+r*a*u-n*l*u)+t[15]*(-i*a*u-e*s*c+e*a*h+i*o*c-n*o*h+n*s*u)},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this},setPosition:function(t){var e=this.elements;return e[12]=t.x,e[13]=t.y,e[14]=t.z,this},getInverse:function(t,e){var n=this.elements,i=t.elements,r=i[0],o=i[1],a=i[2],s=i[3],l=i[4],u=i[5],c=i[6],h=i[7],p=i[8],d=i[9],f=i[10],y=i[11],m=i[12],v=i[13],g=i[14],x=i[15],_=d*g*h-v*f*h+v*c*y-u*g*y-d*c*x+u*f*x,b=m*f*h-p*g*h-m*c*y+l*g*y+p*c*x-l*f*x,w=p*v*h-m*d*h+m*u*y-l*v*y-p*u*x+l*d*x,E=m*d*c-p*v*c-m*u*f+l*v*f+p*u*g-l*d*g,M=r*_+o*b+a*w+s*E;if(0===M){var T="THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0";if(!0===e)throw new Error(T);return console.warn(T),this.identity()}var S=1/M;return n[0]=_*S,n[1]=(v*f*s-d*g*s-v*a*y+o*g*y+d*a*x-o*f*x)*S,n[2]=(u*g*s-v*c*s+v*a*h-o*g*h-u*a*x+o*c*x)*S,n[3]=(d*c*s-u*f*s-d*a*h+o*f*h+u*a*y-o*c*y)*S,n[4]=b*S,n[5]=(p*g*s-m*f*s+m*a*y-r*g*y-p*a*x+r*f*x)*S,n[6]=(m*c*s-l*g*s-m*a*h+r*g*h+l*a*x-r*c*x)*S,n[7]=(l*f*s-p*c*s+p*a*h-r*f*h-l*a*y+r*c*y)*S,n[8]=w*S,n[9]=(m*d*s-p*v*s-m*o*y+r*v*y+p*o*x-r*d*x)*S,n[10]=(l*v*s-m*u*s+m*o*h-r*v*h-l*o*x+r*u*x)*S,n[11]=(p*u*s-l*d*s-p*o*h+r*d*h+l*o*y-r*u*y)*S,n[12]=E*S,n[13]=(p*v*a-m*d*a+m*o*f-r*v*f-p*o*g+r*d*g)*S,n[14]=(m*u*a-l*v*a-m*o*c+r*v*c+l*o*g-r*u*g)*S,n[15]=(l*d*a-p*u*a+p*o*c-r*d*c-l*o*f+r*u*f)*S,this},scale:function(t){var e=this.elements,n=t.x,i=t.y,r=t.z;return e[0]*=n,e[4]*=i,e[8]*=r,e[1]*=n,e[5]*=i,e[9]*=r,e[2]*=n,e[6]*=i,e[10]*=r,e[3]*=n,e[7]*=i,e[11]*=r,this},getMaxScaleOnAxis:function(){var t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],n=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],i=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,n,i))},makeTranslation:function(t,e,n){return this.set(1,0,0,t,0,1,0,e,0,0,1,n,0,0,0,1),this},makeRotationX:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(1,0,0,0,0,e,-n,0,0,n,e,0,0,0,0,1),this},makeRotationY:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(e,0,n,0,0,1,0,0,-n,0,e,0,0,0,0,1),this},makeRotationZ:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(e,-n,0,0,n,e,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(t,e){var n=Math.cos(e),i=Math.sin(e),r=1-n,o=t.x,a=t.y,s=t.z,l=r*o,u=r*a;return this.set(l*o+n,l*a-i*s,l*s+i*a,0,l*a+i*s,u*a+n,u*s-i*o,0,l*s-i*a,u*s+i*o,r*s*s+n,0,0,0,0,1),this},makeScale:function(t,e,n){return this.set(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1),this},makeShear:function(t,e,n){return this.set(1,e,n,0,t,1,n,0,t,e,1,0,0,0,0,1),this},compose:function(t,e,n){var i=this.elements,r=e._x,o=e._y,a=e._z,s=e._w,l=r+r,u=o+o,c=a+a,h=r*l,p=r*u,d=r*c,f=o*u,y=o*c,m=a*c,v=s*l,g=s*u,x=s*c,_=n.x,b=n.y,w=n.z;return i[0]=(1-(f+m))*_,i[1]=(p+x)*_,i[2]=(d-g)*_,i[3]=0,i[4]=(p-x)*b,i[5]=(1-(h+m))*b,i[6]=(y+v)*b,i[7]=0,i[8]=(d+g)*w,i[9]=(y-v)*w,i[10]=(1-(h+f))*w,i[11]=0,i[12]=t.x,i[13]=t.y,i[14]=t.z,i[15]=1,this},decompose:function(){var t=new s,e=new o;return function(n,i,r){var o=this.elements,a=t.set(o[0],o[1],o[2]).length(),s=t.set(o[4],o[5],o[6]).length(),l=t.set(o[8],o[9],o[10]).length();this.determinant()<0&&(a=-a),n.x=o[12],n.y=o[13],n.z=o[14],e.copy(this);var u=1/a,c=1/s,h=1/l;return e.elements[0]*=u,e.elements[1]*=u,e.elements[2]*=u,e.elements[4]*=c,e.elements[5]*=c,e.elements[6]*=c,e.elements[8]*=h,e.elements[9]*=h,e.elements[10]*=h,i.setFromRotationMatrix(e),r.x=a,r.y=s,r.z=l,this}}(),makePerspective:function(t,e,n,i,r,o){void 0===o&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var a=this.elements,s=2*r/(e-t),l=2*r/(n-i),u=(e+t)/(e-t),c=(n+i)/(n-i),h=-(o+r)/(o-r),p=-2*o*r/(o-r);return a[0]=s,a[4]=0,a[8]=u,a[12]=0,a[1]=0,a[5]=l,a[9]=c,a[13]=0,a[2]=0,a[6]=0,a[10]=h,a[14]=p,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this},makeOrthographic:function(t,e,n,i,r,o){var a=this.elements,s=1/(e-t),l=1/(n-i),u=1/(o-r),c=(e+t)*s,h=(n+i)*l,p=(o+r)*u;return a[0]=2*s,a[4]=0,a[8]=0,a[12]=-c,a[1]=0,a[5]=2*l,a[9]=0,a[13]=-h,a[2]=0,a[6]=0,a[10]=-2*u,a[14]=-p,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this},equals:function(t){for(var e=this.elements,n=t.elements,i=0;i<16;i++)if(e[i]!==n[i])return!1;return!0},fromArray:function(t,e){void 0===e&&(e=0);for(var n=0;n<16;n++)this.elements[n]=t[n+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t[e+9]=n[9],t[e+10]=n[10],t[e+11]=n[11],t[e+12]=n[12],t[e+13]=n[13],t[e+14]=n[14],t[e+15]=n[15],t}}),Object.assign(a,{slerp:function(t,e,n,i){return n.copy(t).slerp(e,i)},slerpFlat:function(t,e,n,i,r,o,a){var s=n[i+0],l=n[i+1],u=n[i+2],c=n[i+3],h=r[o+0],p=r[o+1],d=r[o+2],f=r[o+3];if(c!==f||s!==h||l!==p||u!==d){var y=1-a,m=s*h+l*p+u*d+c*f,v=m>=0?1:-1,g=1-m*m;if(g>Number.EPSILON){var x=Math.sqrt(g),_=Math.atan2(x,m*v);y=Math.sin(y*_)/x,a=Math.sin(a*_)/x}var b=a*v;if(s=s*y+h*b,l=l*y+p*b,u=u*y+d*b,c=c*y+f*b,y===1-a){var w=1/Math.sqrt(s*s+l*l+u*u+c*c);s*=w,l*=w,u*=w,c*=w}}t[e]=s,t[e+1]=l,t[e+2]=u,t[e+3]=c}}),Object.defineProperties(a.prototype,{x:{get:function(){return this._x},set:function(t){this._x=t,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(t){this._y=t,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(t){this._z=t,this.onChangeCallback()}},w:{get:function(){return this._w},set:function(t){this._w=t,this.onChangeCallback()}}}),Object.assign(a.prototype,{set:function(t,e,n,i){return this._x=t,this._y=e,this._z=n,this._w=i,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this.onChangeCallback(),this},setFromEuler:function(t,e){if(!t||!t.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=t._x,i=t._y,r=t._z,o=t.order,a=Math.cos,s=Math.sin,l=a(n/2),u=a(i/2),c=a(r/2),h=s(n/2),p=s(i/2),d=s(r/2);return"XYZ"===o?(this._x=h*u*c+l*p*d,this._y=l*p*c-h*u*d,this._z=l*u*d+h*p*c,this._w=l*u*c-h*p*d):"YXZ"===o?(this._x=h*u*c+l*p*d,this._y=l*p*c-h*u*d,this._z=l*u*d-h*p*c,this._w=l*u*c+h*p*d):"ZXY"===o?(this._x=h*u*c-l*p*d,this._y=l*p*c+h*u*d,this._z=l*u*d+h*p*c,this._w=l*u*c-h*p*d):"ZYX"===o?(this._x=h*u*c-l*p*d,this._y=l*p*c+h*u*d,this._z=l*u*d-h*p*c,this._w=l*u*c+h*p*d):"YZX"===o?(this._x=h*u*c+l*p*d,this._y=l*p*c+h*u*d,this._z=l*u*d-h*p*c,this._w=l*u*c-h*p*d):"XZY"===o&&(this._x=h*u*c-l*p*d,this._y=l*p*c-h*u*d,this._z=l*u*d+h*p*c,this._w=l*u*c+h*p*d),!1!==e&&this.onChangeCallback(),this},setFromAxisAngle:function(t,e){var n=e/2,i=Math.sin(n);return this._x=t.x*i,this._y=t.y*i,this._z=t.z*i,this._w=Math.cos(n),this.onChangeCallback(),this},setFromRotationMatrix:function(t){var e,n=t.elements,i=n[0],r=n[4],o=n[8],a=n[1],s=n[5],l=n[9],u=n[2],c=n[6],h=n[10],p=i+s+h;return p>0?(e=.5/Math.sqrt(p+1),this._w=.25/e,this._x=(c-l)*e,this._y=(o-u)*e,this._z=(a-r)*e):i>s&&i>h?(e=2*Math.sqrt(1+i-s-h),this._w=(c-l)/e,this._x=.25*e,this._y=(r+a)/e,this._z=(o+u)/e):s>h?(e=2*Math.sqrt(1+s-i-h),this._w=(o-u)/e,this._x=(r+a)/e,this._y=.25*e,this._z=(l+c)/e):(e=2*Math.sqrt(1+h-i-s),this._w=(a-r)/e,this._x=(o+u)/e,this._y=(l+c)/e,this._z=.25*e),this.onChangeCallback(),this},setFromUnitVectors:function(){var t,e=new s;return function(n,i){return void 0===e&&(e=new s),t=n.dot(i)+1,t<1e-6?(t=0,Math.abs(n.x)>Math.abs(n.z)?e.set(-n.y,n.x,0):e.set(0,-n.z,n.y)):e.crossVectors(n,i),this._x=e.x,this._y=e.y,this._z=e.z,this._w=t,this.normalize()}}(),angleTo:function(t){return 2*Math.acos(Math.abs(Dl.clamp(this.dot(t),-1,1)))},rotateTowards:function(t,e){var n=this.angleTo(t);if(0===n)return this;var i=Math.min(1,e/n);return this.slerp(t,i),this},inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this.onChangeCallback(),this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,e)):this.multiplyQuaternions(this,t)},premultiply:function(t){return this.multiplyQuaternions(t,this)},multiplyQuaternions:function(t,e){var n=t._x,i=t._y,r=t._z,o=t._w,a=e._x,s=e._y,l=e._z,u=e._w;return this._x=n*u+o*a+i*l-r*s,this._y=i*u+o*s+r*a-n*l,this._z=r*u+o*l+n*s-i*a,this._w=o*u-n*a-i*s-r*l,this.onChangeCallback(),this},slerp:function(t,e){if(0===e)return this;if(1===e)return this.copy(t);var n=this._x,i=this._y,r=this._z,o=this._w,a=o*t._w+n*t._x+i*t._y+r*t._z;if(a<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,a=-a):this.copy(t),a>=1)return this._w=o,this._x=n,this._y=i,this._z=r,this;var s=1-a*a;if(s<=Number.EPSILON){var l=1-e;return this._w=l*o+e*this._w,this._x=l*n+e*this._x,this._y=l*i+e*this._y,this._z=l*r+e*this._z,this.normalize()}var u=Math.sqrt(s),c=Math.atan2(u,a),h=Math.sin((1-e)*c)/u,p=Math.sin(e*c)/u;return this._w=o*h+this._w*p,this._x=n*h+this._x*p,this._y=i*h+this._y*p,this._z=r*h+this._z*p,this.onChangeCallback(),this},equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w},fromArray:function(t,e){return void 0===e&&(e=0),this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}}),Object.assign(s.prototype,{isVector3:!0,set:function(t,e,n){return this.x=t,this.y=e,this.z=n,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,e)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this},multiplyVectors:function(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this},applyEuler:function(){var t=new a;return function(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(t.setFromEuler(e))}}(),applyAxisAngle:function(){var t=new a;return function(e,n){return this.applyQuaternion(t.setFromAxisAngle(e,n))}}(),applyMatrix3:function(t){var e=this.x,n=this.y,i=this.z,r=t.elements;return this.x=r[0]*e+r[3]*n+r[6]*i,this.y=r[1]*e+r[4]*n+r[7]*i,this.z=r[2]*e+r[5]*n+r[8]*i,this},applyMatrix4:function(t){var e=this.x,n=this.y,i=this.z,r=t.elements,o=1/(r[3]*e+r[7]*n+r[11]*i+r[15]);return this.x=(r[0]*e+r[4]*n+r[8]*i+r[12])*o,this.y=(r[1]*e+r[5]*n+r[9]*i+r[13])*o,this.z=(r[2]*e+r[6]*n+r[10]*i+r[14])*o,this},applyQuaternion:function(t){var e=this.x,n=this.y,i=this.z,r=t.x,o=t.y,a=t.z,s=t.w,l=s*e+o*i-a*n,u=s*n+a*e-r*i,c=s*i+r*n-o*e,h=-r*e-o*n-a*i;return this.x=l*s+h*-r+u*-a-c*-o,this.y=u*s+h*-o+c*-r-l*-a,this.z=c*s+h*-a+l*-o-u*-r,this},project:function(){var t=new o;return function(e){return t.multiplyMatrices(e.projectionMatrix,t.getInverse(e.matrixWorld)),this.applyMatrix4(t)}}(),unproject:function(){var t=new o;return function(e){return t.multiplyMatrices(e.matrixWorld,t.getInverse(e.projectionMatrix)),this.applyMatrix4(t)}}(),transformDirection:function(t){var e=this.x,n=this.y,i=this.z,r=t.elements;return this.x=r[0]*e+r[4]*n+r[8]*i,this.y=r[1]*e+r[5]*n+r[9]*i,this.z=r[2]*e+r[6]*n+r[10]*i,this.normalize()},divide:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this},divideScalar:function(t){return this.multiplyScalar(1/t)},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this},clampScalar:function(){var t=new s,e=new s;return function(n,i){return t.set(n,n,n),e.set(i,i,i),this.clamp(t,e)}}(),clampLength:function(t,e){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t)},cross:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,e)):this.crossVectors(this,t)},crossVectors:function(t,e){var n=t.x,i=t.y,r=t.z,o=e.x,a=e.y,s=e.z;return this.x=i*s-r*a,this.y=r*o-n*s,this.z=n*a-i*o,this},projectOnVector:function(t){var e=t.dot(this)/t.lengthSq();return this.copy(t).multiplyScalar(e)},projectOnPlane:function(){var t=new s;return function(e){return t.copy(this).projectOnVector(e),this.sub(t)}}(),reflect:function(){var t=new s;return function(e){return this.sub(t.copy(e).multiplyScalar(2*this.dot(e)))}}(),angleTo:function(t){var e=this.dot(t)/Math.sqrt(this.lengthSq()*t.lengthSq());return Math.acos(Dl.clamp(e,-1,1))},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,n=this.y-t.y,i=this.z-t.z;return e*e+n*n+i*i},manhattanDistanceTo:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)},setFromSpherical:function(t){var e=Math.sin(t.phi)*t.radius;return this.x=e*Math.sin(t.theta),this.y=Math.cos(t.phi)*t.radius,this.z=e*Math.cos(t.theta),this},setFromCylindrical:function(t){return this.x=t.radius*Math.sin(t.theta),this.y=t.y,this.z=t.radius*Math.cos(t.theta),this},setFromMatrixPosition:function(t){var e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this},setFromMatrixScale:function(t){var e=this.setFromMatrixColumn(t,0).length(),n=this.setFromMatrixColumn(t,1).length(),i=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=n,this.z=i,this},setFromMatrixColumn:function(t,e){return this.fromArray(t.elements,4*e)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t},fromBufferAttribute:function(t,e,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}}),Object.assign(l.prototype,{isMatrix3:!0,set:function(t,e,n,i,r,o,a,s,l){var u=this.elements;return u[0]=t,u[1]=i,u[2]=a,u[3]=e,u[4]=r,u[5]=s,u[6]=n,u[7]=o,u[8]=l,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(t){var e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],this},setFromMatrix4:function(t){var e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this},applyToBufferAttribute:function(){var t=new s;return function(e){for(var n=0,i=e.count;n<i;n++)t.x=e.getX(n),t.y=e.getY(n),t.z=e.getZ(n),t.applyMatrix3(this),e.setXYZ(n,t.x,t.y,t.z);return e}}(),multiply:function(t){return this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,e){var n=t.elements,i=e.elements,r=this.elements,o=n[0],a=n[3],s=n[6],l=n[1],u=n[4],c=n[7],h=n[2],p=n[5],d=n[8],f=i[0],y=i[3],m=i[6],v=i[1],g=i[4],x=i[7],_=i[2],b=i[5],w=i[8];return r[0]=o*f+a*v+s*_,r[3]=o*y+a*g+s*b,r[6]=o*m+a*x+s*w,r[1]=l*f+u*v+c*_,r[4]=l*y+u*g+c*b,r[7]=l*m+u*x+c*w,r[2]=h*f+p*v+d*_,r[5]=h*y+p*g+d*b,r[8]=h*m+p*x+d*w,this},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this},determinant:function(){var t=this.elements,e=t[0],n=t[1],i=t[2],r=t[3],o=t[4],a=t[5],s=t[6],l=t[7],u=t[8];return e*o*u-e*a*l-n*r*u+n*a*s+i*r*l-i*o*s},getInverse:function(t,e){t&&t.isMatrix4&&console.error("THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.");var n=t.elements,i=this.elements,r=n[0],o=n[1],a=n[2],s=n[3],l=n[4],u=n[5],c=n[6],h=n[7],p=n[8],d=p*l-u*h,f=u*c-p*s,y=h*s-l*c,m=r*d+o*f+a*y;if(0===m){var v="THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0";if(!0===e)throw new Error(v);return console.warn(v),this.identity()}var g=1/m;return i[0]=d*g,i[1]=(a*h-p*o)*g,i[2]=(u*o-a*l)*g,i[3]=f*g,i[4]=(p*r-a*c)*g,i[5]=(a*s-u*r)*g,i[6]=y*g,i[7]=(o*c-h*r)*g,i[8]=(l*r-o*s)*g,this},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this},getNormalMatrix:function(t){return this.setFromMatrix4(t).getInverse(this).transpose()},transposeIntoArray:function(t){var e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this},setUvTransform:function(t,e,n,i,r,o,a){var s=Math.cos(r),l=Math.sin(r);this.set(n*s,n*l,-n*(s*o+l*a)+o+t,-i*l,i*s,-i*(-l*o+s*a)+a+e,0,0,1)},scale:function(t,e){var n=this.elements;return n[0]*=t,n[3]*=t,n[6]*=t,n[1]*=e,n[4]*=e,n[7]*=e,this},rotate:function(t){var e=Math.cos(t),n=Math.sin(t),i=this.elements,r=i[0],o=i[3],a=i[6],s=i[1],l=i[4],u=i[7];return i[0]=e*r+n*s,i[3]=e*o+n*l,i[6]=e*a+n*u,i[1]=-n*r+e*s,i[4]=-n*o+e*l,i[7]=-n*a+e*u,this},translate:function(t,e){var n=this.elements;return n[0]+=t*n[2],n[3]+=t*n[5],n[6]+=t*n[8],n[1]+=e*n[2],n[4]+=e*n[5],n[7]+=e*n[8],this},equals:function(t){for(var e=this.elements,n=t.elements,i=0;i<9;i++)if(e[i]!==n[i])return!1;return!0},fromArray:function(t,e){void 0===e&&(e=0);for(var n=0;n<9;n++)this.elements[n]=t[n+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t}});var Bl={getDataURL:function(t){var e;if(t instanceof HTMLCanvasElement)e=t;else{"undefined"!==typeof OffscreenCanvas?e=new OffscreenCanvas(t.width,t.height):(e=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),e.width=t.width,e.height=t.height);var n=e.getContext("2d");t instanceof ImageData?n.putImageData(t,0,0):n.drawImage(t,0,0,t.width,t.height)}return e.width>2048||e.height>2048?e.toDataURL("image/jpeg",.6):e.toDataURL("image/png")}},Nl=0;u.DEFAULT_IMAGE=void 0,u.DEFAULT_MAPPING=as,u.prototype=Object.assign(Object.create(i.prototype),{constructor:u,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.name=t.name,this.image=t.image,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this},toJSON:function(t){var e=void 0===t||"string"===typeof t;if(!e&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];var n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY};if(void 0!==this.image){var i=this.image;if(void 0===i.uuid&&(i.uuid=Dl.generateUUID()),!e&&void 0===t.images[i.uuid]){var r;if(Array.isArray(i)){r=[];for(var o=0,a=i.length;o<a;o++)r.push(Bl.getDataURL(i[o]))}else r=Bl.getDataURL(i);t.images[i.uuid]={uuid:i.uuid,url:r}}n.image=i.uuid}return e||(t.textures[this.uuid]=n),n},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(t){if(this.mapping===as){if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case fs:t.x=t.x-Math.floor(t.x);break;case ys:t.x=t.x<0?0:1;break;case ms:1===Math.abs(Math.floor(t.x)%2)?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case fs:t.y=t.y-Math.floor(t.y);break;case ys:t.y=t.y<0?0:1;break;case ms:1===Math.abs(Math.floor(t.y)%2)?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y)}this.flipY&&(t.y=1-t.y)}}}),Object.defineProperty(u.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(c.prototype,{isVector4:!0,set:function(t,e,n,i){return this.x=t,this.y=e,this.z=n,this.w=i,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this.w=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setW:function(t){return this.w=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this},applyMatrix4:function(t){var e=this.x,n=this.y,i=this.z,r=this.w,o=t.elements;return this.x=o[0]*e+o[4]*n+o[8]*i+o[12]*r,this.y=o[1]*e+o[5]*n+o[9]*i+o[13]*r,this.z=o[2]*e+o[6]*n+o[10]*i+o[14]*r,this.w=o[3]*e+o[7]*n+o[11]*i+o[15]*r,this},divideScalar:function(t){return this.multiplyScalar(1/t)},setAxisAngleFromQuaternion:function(t){this.w=2*Math.acos(t.w);var e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this},setAxisAngleFromRotationMatrix:function(t){var e,n,i,r,o=t.elements,a=o[0],s=o[4],l=o[8],u=o[1],c=o[5],h=o[9],p=o[2],d=o[6],f=o[10];if(Math.abs(s-u)<.01&&Math.abs(l-p)<.01&&Math.abs(h-d)<.01){if(Math.abs(s+u)<.1&&Math.abs(l+p)<.1&&Math.abs(h+d)<.1&&Math.abs(a+c+f-3)<.1)return this.set(1,0,0,0),this;e=Math.PI;var y=(a+1)/2,m=(c+1)/2,v=(f+1)/2,g=(s+u)/4,x=(l+p)/4,_=(h+d)/4;return y>m&&y>v?y<.01?(n=0,i=.707106781,r=.707106781):(n=Math.sqrt(y),i=g/n,r=x/n):m>v?m<.01?(n=.707106781,i=0,r=.707106781):(i=Math.sqrt(m),n=g/i,r=_/i):v<.01?(n=.707106781,i=.707106781,r=0):(r=Math.sqrt(v),n=x/r,i=_/r),this.set(n,i,r,e),this}var b=Math.sqrt((d-h)*(d-h)+(l-p)*(l-p)+(u-s)*(u-s));return Math.abs(b)<.001&&(b=1),this.x=(d-h)/b,this.y=(l-p)/b,this.z=(u-s)/b,this.w=Math.acos((a+c+f-1)/2),this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this},clampScalar:function(){var t,e;return function(n,i){return void 0===t&&(t=new c,e=new c),t.set(n,n,n,n),e.set(i,i,i,i),this.clamp(t,e)}}(),clampLength:function(t,e){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t},fromBufferAttribute:function(t,e,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}}),h.prototype=Object.assign(Object.create(i.prototype),{constructor:h,isWebGLRenderTarget:!0,setSize:function(t,e){this.width===t&&this.height===e||(this.width=t,this.height=e,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.width=t.width,this.height=t.height,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.depthTexture=t.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),p.prototype=Object.create(h.prototype),p.prototype.constructor=p,p.prototype.isWebGLRenderTargetCube=!0,d.prototype=Object.create(u.prototype),d.prototype.constructor=d,d.prototype.isDataTexture=!0,Object.assign(f.prototype,{isBox3:!0,set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromArray:function(t){for(var e=1/0,n=1/0,i=1/0,r=-1/0,o=-1/0,a=-1/0,s=0,l=t.length;s<l;s+=3){var u=t[s],c=t[s+1],h=t[s+2];u<e&&(e=u),c<n&&(n=c),h<i&&(i=h),u>r&&(r=u),c>o&&(o=c),h>a&&(a=h)}return this.min.set(e,n,i),this.max.set(r,o,a),this},setFromBufferAttribute:function(t){for(var e=1/0,n=1/0,i=1/0,r=-1/0,o=-1/0,a=-1/0,s=0,l=t.count;s<l;s++){var u=t.getX(s),c=t.getY(s),h=t.getZ(s);u<e&&(e=u),c<n&&(n=c),h<i&&(i=h),u>r&&(r=u),c>o&&(o=c),h>a&&(a=h)}return this.min.set(e,n,i),this.max.set(r,o,a),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(){var t=new s;return function(e,n){var i=t.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}}(),setFromObject:function(t){return this.makeEmpty(),this.expandByObject(t)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(t){return void 0===t&&(console.warn("THREE.Box3: .getCenter() target is now required"),t=new s),this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){return void 0===t&&(console.warn("THREE.Box3: .getSize() target is now required"),t=new s),this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},expandByObject:function(){function t(t){var o=t.geometry;if(void 0!==o)if(o.isGeometry){var a=o.vertices;for(n=0,i=a.length;n<i;n++)r.copy(a[n]),r.applyMatrix4(t.matrixWorld),e.expandByPoint(r)}else if(o.isBufferGeometry){var s=o.attributes.position;if(void 0!==s)for(n=0,i=s.count;n<i;n++)r.fromBufferAttribute(s,n).applyMatrix4(t.matrixWorld),e.expandByPoint(r)}}var e,n,i,r=new s;return function(n){return e=this,n.updateMatrixWorld(!0),n.traverse(t),this}}(),containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z},getParameter:function(t,e){return void 0===e&&(console.warn("THREE.Box3: .getParameter() target is now required"),e=new s),e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)},intersectsSphere:function(){var t=new s;return function(e){return this.clampPoint(e.center,t),t.distanceToSquared(e.center)<=e.radius*e.radius}}(),intersectsPlane:function(t){var e,n;return t.normal.x>0?(e=t.normal.x*this.min.x,n=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,n=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,n+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,n+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,n+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,n+=t.normal.z*this.min.z),e<=t.constant&&n>=t.constant},intersectsTriangle:function(){function t(t){var r,o;for(r=0,o=t.length-3;r<=o;r+=3){l.fromArray(t,r);var a=c.x*Math.abs(l.x)+c.y*Math.abs(l.y)+c.z*Math.abs(l.z),s=e.dot(l),u=n.dot(l),h=i.dot(l);if(Math.max(-Math.max(s,u,h),Math.min(s,u,h))>a)return!1}return!0}var e=new s,n=new s,i=new s,r=new s,o=new s,a=new s,l=new s,u=new s,c=new s,h=new s;return function(s){if(this.isEmpty())return!1;this.getCenter(u),c.subVectors(this.max,u),e.subVectors(s.a,u),n.subVectors(s.b,u),i.subVectors(s.c,u),r.subVectors(n,e),o.subVectors(i,n),a.subVectors(e,i);var l=[0,-r.z,r.y,0,-o.z,o.y,0,-a.z,a.y,r.z,0,-r.x,o.z,0,-o.x,a.z,0,-a.x,-r.y,r.x,0,-o.y,o.x,0,-a.y,a.x,0];return!!t(l)&&(l=[1,0,0,0,1,0,0,0,1],!!t(l)&&(h.crossVectors(r,o),l=[h.x,h.y,h.z],t(l)))}}(),clampPoint:function(t,e){return void 0===e&&(console.warn("THREE.Box3: .clampPoint() target is now required"),e=new s),e.copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new s;return function(e){return t.copy(e).clamp(this.min,this.max).sub(e).length()}}(),getBoundingSphere:function(){var t=new s;return function(e){return void 0===e&&(console.warn("THREE.Box3: .getBoundingSphere() target is now required"),e=new y),this.getCenter(e.center),e.radius=.5*this.getSize(t).length(),e}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},applyMatrix4:function(t){if(this.isEmpty())return this;var e=t.elements,n=e[0]*this.min.x,i=e[1]*this.min.x,r=e[2]*this.min.x,o=e[0]*this.max.x,a=e[1]*this.max.x,s=e[2]*this.max.x,l=e[4]*this.min.y,u=e[5]*this.min.y,c=e[6]*this.min.y,h=e[4]*this.max.y,p=e[5]*this.max.y,d=e[6]*this.max.y,f=e[8]*this.min.z,y=e[9]*this.min.z,m=e[10]*this.min.z,v=e[8]*this.max.z,g=e[9]*this.max.z,x=e[10]*this.max.z;return this.min.x=Math.min(n,o)+Math.min(l,h)+Math.min(f,v)+e[12],this.min.y=Math.min(i,a)+Math.min(u,p)+Math.min(y,g)+e[13],this.min.z=Math.min(r,s)+Math.min(c,d)+Math.min(m,x)+e[14],this.max.x=Math.max(n,o)+Math.max(l,h)+Math.max(f,v)+e[12],this.max.y=Math.max(i,a)+Math.max(u,p)+Math.max(y,g)+e[13],this.max.z=Math.max(r,s)+Math.max(c,d)+Math.max(m,x)+e[14],this},translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}),Object.assign(y.prototype,{set:function(t,e){return this.center.copy(t),this.radius=e,this},setFromPoints:function(){var t=new f;return function(e,n){var i=this.center;void 0!==n?i.copy(n):t.setFromPoints(e).getCenter(i);for(var r=0,o=0,a=e.length;o<a;o++)r=Math.max(r,i.distanceToSquared(e[o]));return this.radius=Math.sqrt(r),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.center.copy(t.center),this.radius=t.radius,this},empty:function(){return this.radius<=0},containsPoint:function(t){return t.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(t){return t.distanceTo(this.center)-this.radius},intersectsSphere:function(t){var e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e},intersectsBox:function(t){return t.intersectsSphere(this)},intersectsPlane:function(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius},clampPoint:function(t,e){var n=this.center.distanceToSquared(t);return void 0===e&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),e=new s),e.copy(t),n>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e},getBoundingBox:function(t){return void 0===t&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),t=new f),t.set(this.center,this.center),t.expandByScalar(this.radius),t},applyMatrix4:function(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this},translate:function(t){return this.center.add(t),this},equals:function(t){return t.center.equals(this.center)&&t.radius===this.radius}}),Object.assign(m.prototype,{set:function(t,e){return this.normal.copy(t),this.constant=e,this},setComponents:function(t,e,n,i){return this.normal.set(t,e,n),this.constant=i,this},setFromNormalAndCoplanarPoint:function(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this},setFromCoplanarPoints:function(){var t=new s,e=new s;return function(n,i,r){var o=t.subVectors(r,i).cross(e.subVectors(n,i)).normalize();return this.setFromNormalAndCoplanarPoint(o,n),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.normal.copy(t.normal),this.constant=t.constant,this},normalize:function(){var t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(t){return this.normal.dot(t)+this.constant},distanceToSphere:function(t){return this.distanceToPoint(t.center)-t.radius},projectPoint:function(t,e){return void 0===e&&(console.warn("THREE.Plane: .projectPoint() target is now required"),e=new s),e.copy(this.normal).multiplyScalar(-this.distanceToPoint(t)).add(t)},intersectLine:function(){var t=new s;return function(e,n){void 0===n&&(console.warn("THREE.Plane: .intersectLine() target is now required"),n=new s);var i=e.delta(t),r=this.normal.dot(i);if(0!==r){var o=-(e.start.dot(this.normal)+this.constant)/r;if(!(o<0||o>1))return n.copy(i).multiplyScalar(o).add(e.start)}else if(0===this.distanceToPoint(e.start))return n.copy(e.start)}}(),intersectsLine:function(t){var e=this.distanceToPoint(t.start),n=this.distanceToPoint(t.end);return e<0&&n>0||n<0&&e>0},intersectsBox:function(t){return t.intersectsPlane(this)},intersectsSphere:function(t){return t.intersectsPlane(this)},coplanarPoint:function(t){return void 0===t&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),t=new s),t.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var t=new s,e=new l;return function(n,i){var r=i||e.getNormalMatrix(n),o=this.coplanarPoint(t).applyMatrix4(n),a=this.normal.applyMatrix3(r).normalize();return this.constant=-o.dot(a),this}}(),translate:function(t){return this.constant-=t.dot(this.normal),this},equals:function(t){return t.normal.equals(this.normal)&&t.constant===this.constant}}),Object.assign(v.prototype,{set:function(t,e,n,i,r,o){var a=this.planes;return a[0].copy(t),a[1].copy(e),a[2].copy(n),a[3].copy(i),a[4].copy(r),a[5].copy(o),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){for(var e=this.planes,n=0;n<6;n++)e[n].copy(t.planes[n]);return this},setFromMatrix:function(t){var e=this.planes,n=t.elements,i=n[0],r=n[1],o=n[2],a=n[3],s=n[4],l=n[5],u=n[6],c=n[7],h=n[8],p=n[9],d=n[10],f=n[11],y=n[12],m=n[13],v=n[14],g=n[15];return e[0].setComponents(a-i,c-s,f-h,g-y).normalize(),e[1].setComponents(a+i,c+s,f+h,g+y).normalize(),e[2].setComponents(a+r,c+l,f+p,g+m).normalize(),e[3].setComponents(a-r,c-l,f-p,g-m).normalize(),e[4].setComponents(a-o,c-u,f-d,g-v).normalize(),e[5].setComponents(a+o,c+u,f+d,g+v).normalize(),this},intersectsObject:function(){var t=new y;return function(e){var n=e.geometry;return null===n.boundingSphere&&n.computeBoundingSphere(),t.copy(n.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(t)}}(),intersectsSprite:function(){var t=new y;return function(e){return t.center.set(0,0,0),t.radius=.7071067811865476,t.applyMatrix4(e.matrixWorld),this.intersectsSphere(t)}}(),intersectsSphere:function(t){for(var e=this.planes,n=t.center,i=-t.radius,r=0;r<6;r++){if(e[r].distanceToPoint(n)<i)return!1}return!0},intersectsBox:function(){var t=new s;return function(e){for(var n=this.planes,i=0;i<6;i++){var r=n[i];if(t.x=r.normal.x>0?e.max.x:e.min.x,t.y=r.normal.y>0?e.max.y:e.min.y,t.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(t)<0)return!1}return!0}}(),containsPoint:function(t){for(var e=this.planes,n=0;n<6;n++)if(e[n].distanceToPoint(t)<0)return!1;return!0}});var Fl={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif\n",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif\n",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif\n",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif\n",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"\nvec3 transformed = vec3( position );\n",beginnormal_vertex:"\nvec3 objectNormal = vec3( normal );\n",bsdfs:"float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\tif( decayExponent > 0.0 ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tfloat maxDistanceCutoffFactor = pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\treturn distanceFalloff * maxDistanceCutoffFactor;\n#else\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n#endif\n\t}\n\treturn 1.0;\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\n\treturn specularColor * AB.x + AB.y;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif\n",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t#endif\n#endif\n",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif\n",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvarying vec3 vViewPosition;\n#endif\n",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif\n",color_pars_vertex:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_vertex:"#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",common:"#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\n",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV( sampler2D envMap, vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif\n",defaultnormal_vertex:"vec3 transformedNormal = normalMatrix * objectNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif\n",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif\n",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif\n",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif\n",encodings_fragment:"  gl_FragColor = linearToOutputTexel( gl_FragColor );\n",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.xyz * value.w * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat M      = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM            = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat D      = max( maxRange / maxRGB, 1.0 );\n\tD            = min( floor( D ) / 255.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\n\tXp_Y_XYZp = max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract(Le);\n\tvResult.z = (Le - (floor(vResult.w*255.0))/255.0)/255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2((Le - 127.0) / 2.0);\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\n\treturn vec4( max(vRGB, 0.0), 1.0 );\n}\n",envmap_fragment:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\treflectVec = normalize( reflectVec );\n\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\treflectVec = normalize( reflectVec );\n\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif\n",envmap_pars_fragment:"#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntensity;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif\n",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif\n",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent ));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif\n",envmap_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif\n",fog_vertex:"\n#ifdef USE_FOG\nfogDepth = -mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n  varying float fogDepth;\n#endif\n",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif\n",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif\n",gradientmap_pars_fragment:"#ifdef TOON\n\tuniform sampler2D gradientMap;\n\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\t\tfloat dotNL = dot( normal, lightDirection );\n\t\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t\t#ifdef USE_GRADIENTMAP\n\t\t\treturn texture2D( gradientMap, coord ).rgb;\n\t\t#else\n\t\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t\t#endif\n\t}\n#endif\n",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif\n",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif\n",lights_pars_begin:"uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t\tfloat shadowCameraNear;\n\t\tfloat shadowCameraFar;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif\n",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;\n",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifdef TOON\n\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#else\n\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\t\tvec3 irradiance = dotNL * directLight.color;\n\t#endif\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)\n",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.clearCoat = saturate( clearCoat );\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif\n",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t\tfloat clearCoat;\n\t\tfloat clearCoatRoughness;\n\t#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos - halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos + halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos + halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos - halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifndef STANDARD\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#ifndef STANDARD\n\t\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifndef STANDARD\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\tfloat dotNL = dotNV;\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n\t#ifndef STANDARD\n\t\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}\n",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearCoatRadiance = vec3( 0.0 );\n#endif\n",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tirradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), maxMipLevel );\n\t#ifndef STANDARD\n\t\tclearCoatRadiance += getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), maxMipLevel );\n\t#endif\n#endif\n",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );\n#endif\n",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#ifdef USE_LOGDEPTHBUF\n\tuniform float logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n#endif\n",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n\tuniform float logDepthBufFC;\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\tgl_Position.z *= gl_Position.w;\n\t#endif\n#endif\n",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif\n",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n",map_particle_fragment:"#ifdef USE_MAP\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n",map_particle_pars_fragment:"#ifdef USE_MAP\n\tuniform mat3 uvTransform;\n\tuniform sampler2D map;\n#endif\n",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif\n",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif\n",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif\n",normal_fragment_begin:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n#endif\n",normal_fragment_maps:"#ifdef USE_NORMALMAP\n\t#ifdef OBJECTSPACE_NORMALMAP\n\t\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t#ifdef FLIP_SIDED\n\t\t\tnormal = - normal;\n\t\t#endif\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t\tnormal = normalize( normalMatrix * normal );\n\t#else\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif\n",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\t#ifdef OBJECTSPACE_NORMALMAP\n\t\tuniform mat3 normalMatrix;\n\t#else\n\t\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\t\tvec2 st0 = dFdx( vUv.st );\n\t\t\tvec2 st1 = dFdy( vUv.st );\n\t\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\n\t\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\t\tvec3 N = normalize( surf_norm );\n\t\t\tmat3 tsn = mat3( S, T, N );\n\t\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t\tmapN.xy *= normalScale;\n\t\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\treturn normalize( tsn * mapN );\n\t\t}\n\t#endif\n#endif\n",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}\n",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif\n",project_vertex:"vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\ngl_Position = projectionMatrix * mvPosition;\n",dithering_fragment:"#if defined( DITHERING )\n  gl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif\n",dithering_pars_fragment:"#if defined( DITHERING )\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif\n",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif\n",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif\n",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif\n",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif\n",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}\n",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif\n",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif\n",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif\n",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif\n",tonemapping_pars_fragment:"#ifndef saturate\n\t#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\n",uv_pars_fragment:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\n",uv_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n#endif\n",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldPosition;\nvoid main() {\n\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\n\tgl_FragColor.a *= opacity;\n}\n",cube_vert:"varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}\n",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}\n",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}\n",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}\n",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldPosition );\n\tvec2 sampleUV;\n\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n}\n",equirect_vert:"varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}\n",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}\n",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",meshphysical_frag:"#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifndef STANDARD\n\tuniform float clearCoat;\n\tuniform float clearCoatRoughness;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",meshphysical_vert:"#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}\n",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}\n",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#ifdef USE_SIZEATTENUATION\n\t\tgl_PointSize = size * ( scale / - mvPosition.z );\n\t#else\n\t\tgl_PointSize = size;\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}\n",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <fog_fragment>\n}\n",shadow_vert:"#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tvec4 mvPosition;\n\tmvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}\n"},Ul={merge:function(t){for(var e={},n=0;n<t.length;n++){var i=this.clone(t[n]);for(var r in i)e[r]=i[r]}return e},clone:function(t){var e={};for(var n in t){e[n]={};for(var i in t[n]){var r=t[n][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture)?e[n][i]=r.clone():Array.isArray(r)?e[n][i]=r.slice():e[n][i]=r}}return e}},jl={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Object.assign(g.prototype,{isColor:!0,r:1,g:1,b:1,set:function(t){return t&&t.isColor?this.copy(t):"number"===typeof t?this.setHex(t):"string"===typeof t&&this.setStyle(t),this},setScalar:function(t){return this.r=t,this.g=t,this.b=t,this},setHex:function(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,this},setRGB:function(t,e,n){return this.r=t,this.g=e,this.b=n,this},setHSL:function(){function t(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+6*(e-t)*(2/3-n):t}return function(e,n,i){if(e=Dl.euclideanModulo(e,1),n=Dl.clamp(n,0,1),i=Dl.clamp(i,0,1),0===n)this.r=this.g=this.b=i;else{var r=i<=.5?i*(1+n):i+n-i*n,o=2*i-r;this.r=t(o,r,e+1/3),this.g=t(o,r,e),this.b=t(o,r,e-1/3)}return this}}(),setStyle:function(t){function e(e){void 0!==e&&parseFloat(e)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}var n;if(n=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(t)){var i,r=n[1],o=n[2];switch(r){case"rgb":case"rgba":if(i=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=Math.min(255,parseInt(i[1],10))/255,this.g=Math.min(255,parseInt(i[2],10))/255,this.b=Math.min(255,parseInt(i[3],10))/255,e(i[5]),this;if(i=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=Math.min(100,parseInt(i[1],10))/100,this.g=Math.min(100,parseInt(i[2],10))/100,this.b=Math.min(100,parseInt(i[3],10))/100,e(i[5]),this;break;case"hsl":case"hsla":if(i=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o)){var a=parseFloat(i[1])/360,s=parseInt(i[2],10)/100,l=parseInt(i[3],10)/100;return e(i[5]),this.setHSL(a,s,l)}}}else if(n=/^\#([A-Fa-f0-9]+)$/.exec(t)){var u=n[1],c=u.length;if(3===c)return this.r=parseInt(u.charAt(0)+u.charAt(0),16)/255,this.g=parseInt(u.charAt(1)+u.charAt(1),16)/255,this.b=parseInt(u.charAt(2)+u.charAt(2),16)/255,this;if(6===c)return this.r=parseInt(u.charAt(0)+u.charAt(1),16)/255,this.g=parseInt(u.charAt(2)+u.charAt(3),16)/255,this.b=parseInt(u.charAt(4)+u.charAt(5),16)/255,this}if(t&&t.length>0){var u=jl[t];void 0!==u?this.setHex(u):console.warn("THREE.Color: Unknown color "+t)}return this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this},copyGammaToLinear:function(t,e){return void 0===e&&(e=2),this.r=Math.pow(t.r,e),this.g=Math.pow(t.g,e),this.b=Math.pow(t.b,e),this},copyLinearToGamma:function(t,e){void 0===e&&(e=2);var n=e>0?1/e:1;return this.r=Math.pow(t.r,n),this.g=Math.pow(t.g,n),this.b=Math.pow(t.b,n),this},convertGammaToLinear:function(t){return this.copyGammaToLinear(this,t),this},convertLinearToGamma:function(t){return this.copyLinearToGamma(this,t),this},copySRGBToLinear:function(){function t(t){return t<.04045?.0773993808*t:Math.pow(.9478672986*t+.0521327014,2.4)}return function(e){return this.r=t(e.r),this.g=t(e.g),this.b=t(e.b),this}}(),copyLinearToSRGB:function(){function t(t){return t<.0031308?12.92*t:1.055*Math.pow(t,.41666)-.055}return function(e){return this.r=t(e.r),this.g=t(e.g),this.b=t(e.b),this}}(),convertSRGBToLinear:function(){return this.copySRGBToLinear(this),this},convertLinearToSRGB:function(){return this.copyLinearToSRGB(this),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(t){void 0===t&&(console.warn("THREE.Color: .getHSL() target is now required"),t={h:0,s:0,l:0});var e,n,i=this.r,r=this.g,o=this.b,a=Math.max(i,r,o),s=Math.min(i,r,o),l=(s+a)/2;if(s===a)e=0,n=0;else{var u=a-s;switch(n=l<=.5?u/(a+s):u/(2-a-s),a){case i:e=(r-o)/u+(r<o?6:0);break;case r:e=(o-i)/u+2;break;case o:e=(i-r)/u+4}e/=6}return t.h=e,t.s=n,t.l=l,t},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(){var t={};return function(e,n,i){return this.getHSL(t),t.h+=e,t.s+=n,t.l+=i,this.setHSL(t.h,t.s,t.l),this}}(),add:function(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this},addColors:function(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this},addScalar:function(t){return this.r+=t,this.g+=t,this.b+=t,this},sub:function(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this},multiply:function(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this},multiplyScalar:function(t){return this.r*=t,this.g*=t,this.b*=t,this},lerp:function(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this},equals:function(t){return t.r===this.r&&t.g===this.g&&t.b===this.b},fromArray:function(t,e){return void 0===e&&(e=0),this.r=t[e],this.g=t[e+1],this.b=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t},toJSON:function(){return this.getHex()}});var Vl={common:{diffuse:{value:new g(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new l},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new r(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new g(16777215)}},lights:{ambientLightColor:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new g(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},uvTransform:{value:new l}},sprite:{diffuse:{value:new g(15658734)},opacity:{value:1},center:{value:new r(.5,.5)},rotation:{value:0},map:{value:null},uvTransform:{value:new l}}},Gl={basic:{uniforms:Ul.merge([Vl.common,Vl.specularmap,Vl.envmap,Vl.aomap,Vl.lightmap,Vl.fog]),vertexShader:Fl.meshbasic_vert,fragmentShader:Fl.meshbasic_frag},lambert:{uniforms:Ul.merge([Vl.common,Vl.specularmap,Vl.envmap,Vl.aomap,Vl.lightmap,Vl.emissivemap,Vl.fog,Vl.lights,{emissive:{value:new g(0)}}]),vertexShader:Fl.meshlambert_vert,fragmentShader:Fl.meshlambert_frag},phong:{uniforms:Ul.merge([Vl.common,Vl.specularmap,Vl.envmap,Vl.aomap,Vl.lightmap,Vl.emissivemap,Vl.bumpmap,Vl.normalmap,Vl.displacementmap,Vl.gradientmap,Vl.fog,Vl.lights,{emissive:{value:new g(0)},specular:{value:new g(1118481)},shininess:{value:30}}]),vertexShader:Fl.meshphong_vert,fragmentShader:Fl.meshphong_frag},standard:{uniforms:Ul.merge([Vl.common,Vl.envmap,Vl.aomap,Vl.lightmap,Vl.emissivemap,Vl.bumpmap,Vl.normalmap,Vl.displacementmap,Vl.roughnessmap,Vl.metalnessmap,Vl.fog,Vl.lights,{emissive:{value:new g(0)},roughness:{value:.5},metalness:{value:.5},envMapIntensity:{value:1}}]),vertexShader:Fl.meshphysical_vert,fragmentShader:Fl.meshphysical_frag},points:{uniforms:Ul.merge([Vl.points,Vl.fog]),vertexShader:Fl.points_vert,fragmentShader:Fl.points_frag},dashed:{uniforms:Ul.merge([Vl.common,Vl.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Fl.linedashed_vert,fragmentShader:Fl.linedashed_frag},depth:{uniforms:Ul.merge([Vl.common,Vl.displacementmap]),vertexShader:Fl.depth_vert,fragmentShader:Fl.depth_frag},normal:{uniforms:Ul.merge([Vl.common,Vl.bumpmap,Vl.normalmap,Vl.displacementmap,{opacity:{value:1}}]),vertexShader:Fl.normal_vert,fragmentShader:Fl.normal_frag},sprite:{uniforms:Ul.merge([Vl.sprite,Vl.fog]),vertexShader:Fl.sprite_vert,fragmentShader:Fl.sprite_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Fl.cube_vert,fragmentShader:Fl.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Fl.equirect_vert,fragmentShader:Fl.equirect_frag},distanceRGBA:{uniforms:Ul.merge([Vl.common,Vl.displacementmap,{referencePosition:{value:new s},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Fl.distanceRGBA_vert,fragmentShader:Fl.distanceRGBA_frag},shadow:{uniforms:Ul.merge([Vl.lights,Vl.fog,{color:{value:new g(0)},opacity:{value:1}}]),vertexShader:Fl.shadow_vert,fragmentShader:Fl.shadow_frag}};Gl.physical={uniforms:Ul.merge([Gl.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:Fl.meshphysical_vert,fragmentShader:Fl.meshphysical_frag},b.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],b.DefaultOrder="XYZ",Object.defineProperties(b.prototype,{x:{get:function(){return this._x},set:function(t){this._x=t,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(t){this._y=t,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(t){this._z=t,this.onChangeCallback()}},order:{get:function(){return this._order},set:function(t){this._order=t,this.onChangeCallback()}}}),Object.assign(b.prototype,{isEuler:!0,set:function(t,e,n,i){return this._x=t,this._y=e,this._z=n,this._order=i||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this.onChangeCallback(),this},setFromRotationMatrix:function(t,e,n){var i=Dl.clamp,r=t.elements,o=r[0],a=r[4],s=r[8],l=r[1],u=r[5],c=r[9],h=r[2],p=r[6],d=r[10];return e=e||this._order,"XYZ"===e?(this._y=Math.asin(i(s,-1,1)),Math.abs(s)<.99999?(this._x=Math.atan2(-c,d),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(p,u),this._z=0)):"YXZ"===e?(this._x=Math.asin(-i(c,-1,1)),Math.abs(c)<.99999?(this._y=Math.atan2(s,d),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-h,o),this._z=0)):"ZXY"===e?(this._x=Math.asin(i(p,-1,1)),Math.abs(p)<.99999?(this._y=Math.atan2(-h,d),this._z=Math.atan2(-a,u)):(this._y=0,this._z=Math.atan2(l,o))):"ZYX"===e?(this._y=Math.asin(-i(h,-1,1)),Math.abs(h)<.99999?(this._x=Math.atan2(p,d),this._z=Math.atan2(l,o)):(this._x=0,this._z=Math.atan2(-a,u))):"YZX"===e?(this._z=Math.asin(i(l,-1,1)),Math.abs(l)<.99999?(this._x=Math.atan2(-c,u),this._y=Math.atan2(-h,o)):(this._x=0,this._y=Math.atan2(s,d))):"XZY"===e?(this._z=Math.asin(-i(a,-1,1)),Math.abs(a)<.99999?(this._x=Math.atan2(p,u),this._y=Math.atan2(s,o)):(this._x=Math.atan2(-c,d),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+e),this._order=e,!1!==n&&this.onChangeCallback(),this},setFromQuaternion:function(){var t=new o;return function(e,n,i){return t.makeRotationFromQuaternion(e),this.setFromRotationMatrix(t,n,i)}}(),setFromVector3:function(t,e){return this.set(t.x,t.y,t.z,e||this._order)},reorder:function(){var t=new a;return function(e){return t.setFromEuler(this),this.setFromQuaternion(t,e)}}(),equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order},fromArray:function(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t},toVector3:function(t){return t?t.set(this._x,this._y,this._z):new s(this._x,this._y,this._z)},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}}),Object.assign(w.prototype,{set:function(t){this.mask=1<<t|0},enable:function(t){this.mask|=1<<t|0},toggle:function(t){this.mask^=1<<t|0},disable:function(t){this.mask&=~(1<<t|0)},test:function(t){return 0!==(this.mask&t.mask)}});var Hl=0;E.DefaultUp=new s(0,1,0),E.DefaultMatrixAutoUpdate=!0,E.prototype=Object.assign(Object.create(i.prototype),{constructor:E,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix:function(t){this.matrix.multiplyMatrices(t,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(t){return this.quaternion.premultiply(t),this},setRotationFromAxisAngle:function(t,e){this.quaternion.setFromAxisAngle(t,e)},setRotationFromEuler:function(t){this.quaternion.setFromEuler(t,!0)},setRotationFromMatrix:function(t){this.quaternion.setFromRotationMatrix(t)},setRotationFromQuaternion:function(t){this.quaternion.copy(t)},rotateOnAxis:function(){var t=new a;return function(e,n){return t.setFromAxisAngle(e,n),this.quaternion.multiply(t),this}}(),rotateOnWorldAxis:function(){var t=new a;return function(e,n){return t.setFromAxisAngle(e,n),this.quaternion.premultiply(t),this}}(),rotateX:function(){var t=new s(1,0,0);return function(e){return this.rotateOnAxis(t,e)}}(),rotateY:function(){var t=new s(0,1,0);return function(e){return this.rotateOnAxis(t,e)}}(),rotateZ:function(){var t=new s(0,0,1);return function(e){return this.rotateOnAxis(t,e)}}(),translateOnAxis:function(){var t=new s;return function(e,n){return t.copy(e).applyQuaternion(this.quaternion),this.position.add(t.multiplyScalar(n)),this}}(),translateX:function(){var t=new s(1,0,0);return function(e){return this.translateOnAxis(t,e)}}(),translateY:function(){var t=new s(0,1,0);return function(e){return this.translateOnAxis(t,e)}}(),translateZ:function(){var t=new s(0,0,1);return function(e){return this.translateOnAxis(t,e)}}(),localToWorld:function(t){return t.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var t=new o;return function(e){return e.applyMatrix4(t.getInverse(this.matrixWorld))}}(),lookAt:function(){var t=new o,e=new s;return function(n,i,r){n.isVector3?e.copy(n):e.set(n,i,r),this.isCamera?t.lookAt(this.position,e,this.up):t.lookAt(e,this.position,this.up),this.quaternion.setFromRotationMatrix(t)}}(),add:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,t.dispatchEvent({type:"added"}),this.children.push(t)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)},remove:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.remove(arguments[e]);return this}var n=this.children.indexOf(t);return-1!==n&&(t.parent=null,t.dispatchEvent({type:"removed"}),this.children.splice(n,1)),this},getObjectById:function(t){return this.getObjectByProperty("id",t)},getObjectByName:function(t){return this.getObjectByProperty("name",t)},getObjectByProperty:function(t,e){if(this[t]===e)return this;for(var n=0,i=this.children.length;n<i;n++){var r=this.children[n],o=r.getObjectByProperty(t,e);if(void 0!==o)return o}},getWorldPosition:function(t){return void 0===t&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),t=new s),this.updateMatrixWorld(!0),t.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(){var t=new s,e=new s;return function(n){return void 0===n&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),n=new a),this.updateMatrixWorld(!0),this.matrixWorld.decompose(t,n,e),n}}(),getWorldScale:function(){var t=new s,e=new a;return function(n){return void 0===n&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),n=new s),this.updateMatrixWorld(!0),this.matrixWorld.decompose(t,e,n),n}}(),getWorldDirection:function(){var t=new a;return function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),e=new s),this.getWorldQuaternion(t),e.set(0,0,1).applyQuaternion(t)}}(),raycast:function(){},traverse:function(t){t(this);for(var e=this.children,n=0,i=e.length;n<i;n++)e[n].traverse(t)},traverseVisible:function(t){if(!1!==this.visible){t(this);for(var e=this.children,n=0,i=e.length;n<i;n++)e[n].traverseVisible(t)}},traverseAncestors:function(t){var e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);for(var e=this.children,n=0,i=e.length;n<i;n++)e[n].updateMatrixWorld(t)},toJSON:function(t){function e(e,n){return void 0===e[n.uuid]&&(e[n.uuid]=n.toJSON(t)),n.uuid}function n(t){var e=[];for(var n in t){var i=t[n];delete i.metadata,e.push(i)}return e}var i=void 0===t||"string"===typeof t,r={};i&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var o={};if(o.uuid=this.uuid,o.type=this.type,""!==this.name&&(o.name=this.name),!0===this.castShadow&&(o.castShadow=!0),!0===this.receiveShadow&&(o.receiveShadow=!0),!1===this.visible&&(o.visible=!1),!1===this.frustumCulled&&(o.frustumCulled=!1),0!==this.renderOrder&&(o.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(o.userData=this.userData),o.layers=this.layers.mask,o.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(o.matrixAutoUpdate=!1),this.isMesh||this.isLine||this.isPoints){o.geometry=e(t.geometries,this.geometry);var a=this.geometry.parameters;if(void 0!==a&&void 0!==a.shapes){var s=a.shapes;if(Array.isArray(s))for(var l=0,u=s.length;l<u;l++){var c=s[l];e(t.shapes,c)}else e(t.shapes,s)}}if(void 0!==this.material)if(Array.isArray(this.material)){for(var h=[],l=0,u=this.material.length;l<u;l++)h.push(e(t.materials,this.material[l]));o.material=h}else o.material=e(t.materials,this.material);if(this.children.length>0){o.children=[];for(var l=0;l<this.children.length;l++)o.children.push(this.children[l].toJSON(t).object)}if(i){var p=n(t.geometries),d=n(t.materials),f=n(t.textures),y=n(t.images),s=n(t.shapes);p.length>0&&(r.geometries=p),d.length>0&&(r.materials=d),f.length>0&&(r.textures=f),y.length>0&&(r.images=y),s.length>0&&(r.shapes=s)}return r.object=o,r},clone:function(t){return(new this.constructor).copy(this,t)},copy:function(t,e){if(void 0===e&&(e=!0),this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),!0===e)for(var n=0;n<t.children.length;n++){var i=t.children[n];this.add(i.clone())}return this}}),M.prototype=Object.assign(Object.create(E.prototype),{constructor:M,isCamera:!0,copy:function(t,e){return E.prototype.copy.call(this,t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this},getWorldDirection:function(){var t=new a;return function(e){return void 0===e&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),e=new s),this.getWorldQuaternion(t),e.set(0,0,-1).applyQuaternion(t)}}(),updateMatrixWorld:function(t){E.prototype.updateMatrixWorld.call(this,t),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return(new this.constructor).copy(this)}}),T.prototype=Object.assign(Object.create(M.prototype),{constructor:T,isOrthographicCamera:!0,copy:function(t,e){return M.prototype.copy.call(this,t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=null===t.view?null:Object.assign({},t.view),this},setViewOffset:function(t,e,n,i,r,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,i=(this.top+this.bottom)/2,r=n-t,o=n+t,a=i+e,s=i-e;if(null!==this.view&&this.view.enabled){var l=this.zoom/(this.view.width/this.view.fullWidth),u=this.zoom/(this.view.height/this.view.fullHeight),c=(this.right-this.left)/this.view.width,h=(this.top-this.bottom)/this.view.height;r+=c*(this.view.offsetX/l),o=r+c*(this.view.width/l),a-=h*(this.view.offsetY/u),s=a-h*(this.view.height/u)}this.projectionMatrix.makeOrthographic(r,o,a,s,this.near,this.far)},toJSON:function(t){var e=E.prototype.toJSON.call(this,t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=Object.assign({},this.view)),e}}),Object.assign(S.prototype,{clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.a=t.a,this.b=t.b,this.c=t.c,this.normal.copy(t.normal),this.color.copy(t.color),this.materialIndex=t.materialIndex;for(var e=0,n=t.vertexNormals.length;e<n;e++)this.vertexNormals[e]=t.vertexNormals[e].clone();for(var e=0,n=t.vertexColors.length;e<n;e++)this.vertexColors[e]=t.vertexColors[e].clone();return this}});var Wl=0;A.prototype=Object.assign(Object.create(i.prototype),{constructor:A,isGeometry:!0,applyMatrix:function(t){for(var e=(new l).getNormalMatrix(t),n=0,i=this.vertices.length;n<i;n++){this.vertices[n].applyMatrix4(t)}for(var n=0,i=this.faces.length;n<i;n++){var r=this.faces[n];r.normal.applyMatrix3(e).normalize();for(var o=0,a=r.vertexNormals.length;o<a;o++)r.vertexNormals[o].applyMatrix3(e).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(){var t=new o;return function(e){return t.makeRotationX(e),this.applyMatrix(t),this}}(),rotateY:function(){var t=new o;return function(e){return t.makeRotationY(e),this.applyMatrix(t),this}}(),rotateZ:function(){var t=new o;return function(e){return t.makeRotationZ(e),this.applyMatrix(t),this}}(),translate:function(){var t=new o;return function(e,n,i){return t.makeTranslation(e,n,i),this.applyMatrix(t),this}}(),scale:function(){var t=new o;return function(e,n,i){return t.makeScale(e,n,i),this.applyMatrix(t),this}}(),lookAt:function(){var t=new E;return function(e){t.lookAt(e),t.updateMatrix(),this.applyMatrix(t.matrix)}}(),fromBufferGeometry:function(t){function e(t,e,i,r){var o=void 0!==l?[p[t].clone(),p[e].clone(),p[i].clone()]:[],a=void 0!==u?[n.colors[t].clone(),n.colors[e].clone(),n.colors[i].clone()]:[],s=new S(t,e,i,o,a,r);n.faces.push(s),void 0!==c&&n.faceVertexUvs[0].push([d[t].clone(),d[e].clone(),d[i].clone()]),void 0!==h&&n.faceVertexUvs[1].push([f[t].clone(),f[e].clone(),f[i].clone()])}var n=this,i=null!==t.index?t.index.array:void 0,o=t.attributes,a=o.position.array,l=void 0!==o.normal?o.normal.array:void 0,u=void 0!==o.color?o.color.array:void 0,c=void 0!==o.uv?o.uv.array:void 0,h=void 0!==o.uv2?o.uv2.array:void 0;void 0!==h&&(this.faceVertexUvs[1]=[]);for(var p=[],d=[],f=[],y=0,m=0;y<a.length;y+=3,m+=2)n.vertices.push(new s(a[y],a[y+1],a[y+2])),void 0!==l&&p.push(new s(l[y],l[y+1],l[y+2])),void 0!==u&&n.colors.push(new g(u[y],u[y+1],u[y+2])),void 0!==c&&d.push(new r(c[m],c[m+1])),void 0!==h&&f.push(new r(h[m],h[m+1]));var v=t.groups;if(v.length>0)for(var y=0;y<v.length;y++)for(var x=v[y],_=x.start,b=x.count,m=_,w=_+b;m<w;m+=3)void 0!==i?e(i[m],i[m+1],i[m+2],x.materialIndex):e(m,m+1,m+2,x.materialIndex);else if(void 0!==i)for(var y=0;y<i.length;y+=3)e(i[y],i[y+1],i[y+2]);else for(var y=0;y<a.length/3;y+=3)e(y,y+1,y+2);return this.computeFaceNormals(),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),this},center:function(){var t=new s;return function(){return this.computeBoundingBox(),this.boundingBox.getCenter(t).negate(),this.translate(t.x,t.y,t.z),this}}(),normalize:function(){this.computeBoundingSphere();var t=this.boundingSphere.center,e=this.boundingSphere.radius,n=0===e?1:1/e,i=new o;return i.set(n,0,0,-n*t.x,0,n,0,-n*t.y,0,0,n,-n*t.z,0,0,0,1),this.applyMatrix(i),this},computeFaceNormals:function(){for(var t=new s,e=new s,n=0,i=this.faces.length;n<i;n++){var r=this.faces[n],o=this.vertices[r.a],a=this.vertices[r.b],l=this.vertices[r.c];t.subVectors(l,a),e.subVectors(o,a),t.cross(e),t.normalize(),r.normal.copy(t)}},computeVertexNormals:function(t){void 0===t&&(t=!0);var e,n,i,r,o,a;for(a=new Array(this.vertices.length),e=0,n=this.vertices.length;e<n;e++)a[e]=new s;if(t){var l,u,c,h=new s,p=new s;for(i=0,r=this.faces.length;i<r;i++)o=this.faces[i],l=this.vertices[o.a],u=this.vertices[o.b],c=this.vertices[o.c],h.subVectors(c,u),p.subVectors(l,u),h.cross(p),a[o.a].add(h),a[o.b].add(h),a[o.c].add(h)}else for(this.computeFaceNormals(),i=0,r=this.faces.length;i<r;i++)o=this.faces[i],a[o.a].add(o.normal),a[o.b].add(o.normal),a[o.c].add(o.normal);for(e=0,n=this.vertices.length;e<n;e++)a[e].normalize();for(i=0,r=this.faces.length;i<r;i++){o=this.faces[i];var d=o.vertexNormals;3===d.length?(d[0].copy(a[o.a]),d[1].copy(a[o.b]),d[2].copy(a[o.c])):(d[0]=a[o.a].clone(),d[1]=a[o.b].clone(),d[2]=a[o.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var t,e,n;for(this.computeFaceNormals(),t=0,e=this.faces.length;t<e;t++){n=this.faces[t];var i=n.vertexNormals;3===i.length?(i[0].copy(n.normal),i[1].copy(n.normal),i[2].copy(n.normal)):(i[0]=n.normal.clone(),i[1]=n.normal.clone(),i[2]=n.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var t,e,n,i,r;for(n=0,i=this.faces.length;n<i;n++)for(r=this.faces[n],r.__originalFaceNormal?r.__originalFaceNormal.copy(r.normal):r.__originalFaceNormal=r.normal.clone(),r.__originalVertexNormals||(r.__originalVertexNormals=[]),t=0,e=r.vertexNormals.length;t<e;t++)r.__originalVertexNormals[t]?r.__originalVertexNormals[t].copy(r.vertexNormals[t]):r.__originalVertexNormals[t]=r.vertexNormals[t].clone();var o=new A;for(o.faces=this.faces,t=0,e=this.morphTargets.length;t<e;t++){if(!this.morphNormals[t]){this.morphNormals[t]={},this.morphNormals[t].faceNormals=[],this.morphNormals[t].vertexNormals=[];var a,l,u=this.morphNormals[t].faceNormals,c=this.morphNormals[t].vertexNormals;for(n=0,i=this.faces.length;n<i;n++)a=new s,l={a:new s,b:new s,c:new s},u.push(a),c.push(l)}var h=this.morphNormals[t];o.vertices=this.morphTargets[t].vertices,o.computeFaceNormals(),o.computeVertexNormals();var a,l;for(n=0,i=this.faces.length;n<i;n++)r=this.faces[n],a=h.faceNormals[n],l=h.vertexNormals[n],a.copy(r.normal),l.a.copy(r.vertexNormals[0]),l.b.copy(r.vertexNormals[1]),l.c.copy(r.vertexNormals[2])}for(n=0,i=this.faces.length;n<i;n++)r=this.faces[n],r.normal=r.__originalFaceNormal,r.vertexNormals=r.__originalVertexNormals},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new f),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new y),this.boundingSphere.setFromPoints(this.vertices)},merge:function(t,e,n){if(!t||!t.isGeometry)return void console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",t);var i,r=this.vertices.length,o=this.vertices,a=t.vertices,s=this.faces,u=t.faces,c=this.faceVertexUvs[0],h=t.faceVertexUvs[0],p=this.colors,d=t.colors;void 0===n&&(n=0),void 0!==e&&(i=(new l).getNormalMatrix(e));for(var f=0,y=a.length;f<y;f++){var m=a[f],v=m.clone();void 0!==e&&v.applyMatrix4(e),o.push(v)}for(var f=0,y=d.length;f<y;f++)p.push(d[f].clone());for(f=0,y=u.length;f<y;f++){var g,x,_,b=u[f],w=b.vertexNormals,E=b.vertexColors;g=new S(b.a+r,b.b+r,b.c+r),g.normal.copy(b.normal),void 0!==i&&g.normal.applyMatrix3(i).normalize();for(var M=0,T=w.length;M<T;M++)x=w[M].clone(),void 0!==i&&x.applyMatrix3(i).normalize(),g.vertexNormals.push(x);g.color.copy(b.color);for(var M=0,T=E.length;M<T;M++)_=E[M],g.vertexColors.push(_.clone());g.materialIndex=b.materialIndex+n,s.push(g)}for(f=0,y=h.length;f<y;f++){var A=h[f],C=[];if(void 0!==A){for(var M=0,T=A.length;M<T;M++)C.push(A[M].clone());c.push(C)}}},mergeMesh:function(t){if(!t||!t.isMesh)return void console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",t);t.matrixAutoUpdate&&t.updateMatrix(),this.merge(t.geometry,t.matrix)},mergeVertices:function(){var t,e,n,i,r,o,a,s,l={},u=[],c=[],h=Math.pow(10,4);for(n=0,i=this.vertices.length;n<i;n++)t=this.vertices[n],e=Math.round(t.x*h)+"_"+Math.round(t.y*h)+"_"+Math.round(t.z*h),void 0===l[e]?(l[e]=n,u.push(this.vertices[n]),c[n]=u.length-1):c[n]=c[l[e]];var p=[];for(n=0,i=this.faces.length;n<i;n++){r=this.faces[n],r.a=c[r.a],r.b=c[r.b],r.c=c[r.c],o=[r.a,r.b,r.c];for(var d=0;d<3;d++)if(o[d]===o[(d+1)%3]){p.push(n);break}}for(n=p.length-1;n>=0;n--){var f=p[n];for(this.faces.splice(f,1),a=0,s=this.faceVertexUvs.length;a<s;a++)this.faceVertexUvs[a].splice(f,1)}var y=this.vertices.length-u.length;return this.vertices=u,y},setFromPoints:function(t){this.vertices=[];for(var e=0,n=t.length;e<n;e++){var i=t[e];this.vertices.push(new s(i.x,i.y,i.z||0))}return this},sortFacesByMaterialIndex:function(){function t(t,e){return t.materialIndex-e.materialIndex}for(var e=this.faces,n=e.length,i=0;i<n;i++)e[i]._id=i;e.sort(t);var r,o,a=this.faceVertexUvs[0],s=this.faceVertexUvs[1];a&&a.length===n&&(r=[]),s&&s.length===n&&(o=[]);for(var i=0;i<n;i++){var l=e[i]._id;r&&r.push(a[l]),o&&o.push(s[l])}r&&(this.faceVertexUvs[0]=r),o&&(this.faceVertexUvs[1]=o)},toJSON:function(){function t(t,e,n){return n?t|1<<e:t&~(1<<e)}function e(t){var e=t.x.toString()+t.y.toString()+t.z.toString();return void 0!==p[e]?p[e]:(p[e]=h.length/3,h.push(t.x,t.y,t.z),p[e])}function n(t){var e=t.r.toString()+t.g.toString()+t.b.toString();return void 0!==f[e]?f[e]:(f[e]=d.length,d.push(t.getHex()),f[e])}function i(t){var e=t.x.toString()+t.y.toString();return void 0!==m[e]?m[e]:(m[e]=y.length/2,y.push(t.x,t.y),m[e])}var r={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),void 0!==this.parameters){var o=this.parameters;for(var a in o)void 0!==o[a]&&(r[a]=o[a]);return r}for(var s=[],l=0;l<this.vertices.length;l++){var u=this.vertices[l];s.push(u.x,u.y,u.z)}for(var c=[],h=[],p={},d=[],f={},y=[],m={},l=0;l<this.faces.length;l++){var v=this.faces[l],g=void 0!==this.faceVertexUvs[0][l],x=v.normal.length()>0,_=v.vertexNormals.length>0,b=1!==v.color.r||1!==v.color.g||1!==v.color.b,w=v.vertexColors.length>0,E=0;if(E=t(E,0,0),E=t(E,1,!0),E=t(E,2,!1),E=t(E,3,g),E=t(E,4,x),E=t(E,5,_),E=t(E,6,b),E=t(E,7,w),c.push(E),c.push(v.a,v.b,v.c),c.push(v.materialIndex),g){var M=this.faceVertexUvs[0][l];c.push(i(M[0]),i(M[1]),i(M[2]))}if(x&&c.push(e(v.normal)),_){var T=v.vertexNormals;c.push(e(T[0]),e(T[1]),e(T[2]))}if(b&&c.push(n(v.color)),w){var S=v.vertexColors;c.push(n(S[0]),n(S[1]),n(S[2]))}}return r.data={},r.data.vertices=s,r.data.normals=h,d.length>0&&(r.data.colors=d),y.length>0&&(r.data.uvs=[y]),r.data.faces=c,r},clone:function(){return(new A).copy(this)},copy:function(t){var e,n,i,r,o,a;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=t.name;var s=t.vertices;for(e=0,n=s.length;e<n;e++)this.vertices.push(s[e].clone());var l=t.colors;for(e=0,n=l.length;e<n;e++)this.colors.push(l[e].clone());var u=t.faces;for(e=0,n=u.length;e<n;e++)this.faces.push(u[e].clone());for(e=0,n=t.faceVertexUvs.length;e<n;e++){var c=t.faceVertexUvs[e];for(void 0===this.faceVertexUvs[e]&&(this.faceVertexUvs[e]=[]),i=0,r=c.length;i<r;i++){var h=c[i],p=[];for(o=0,a=h.length;o<a;o++){var d=h[o];p.push(d.clone())}this.faceVertexUvs[e].push(p)}}var f=t.morphTargets;for(e=0,n=f.length;e<n;e++){var y={};if(y.name=f[e].name,void 0!==f[e].vertices)for(y.vertices=[],i=0,r=f[e].vertices.length;i<r;i++)y.vertices.push(f[e].vertices[i].clone());if(void 0!==f[e].normals)for(y.normals=[],i=0,r=f[e].normals.length;i<r;i++)y.normals.push(f[e].normals[i].clone());this.morphTargets.push(y)}var m=t.morphNormals;for(e=0,n=m.length;e<n;e++){var v={};if(void 0!==m[e].vertexNormals)for(v.vertexNormals=[],i=0,r=m[e].vertexNormals.length;i<r;i++){var g=m[e].vertexNormals[i],x={};x.a=g.a.clone(),x.b=g.b.clone(),x.c=g.c.clone(),v.vertexNormals.push(x)}if(void 0!==m[e].faceNormals)for(v.faceNormals=[],i=0,r=m[e].faceNormals.length;i<r;i++)v.faceNormals.push(m[e].faceNormals[i].clone());this.morphNormals.push(v)}var _=t.skinWeights;for(e=0,n=_.length;e<n;e++)this.skinWeights.push(_[e].clone());var b=t.skinIndices;for(e=0,n=b.length;e<n;e++)this.skinIndices.push(b[e].clone());var w=t.lineDistances;for(e=0,n=w.length;e<n;e++)this.lineDistances.push(w[e]);var E=t.boundingBox;null!==E&&(this.boundingBox=E.clone());var M=t.boundingSphere;return null!==M&&(this.boundingSphere=M.clone()),this.elementsNeedUpdate=t.elementsNeedUpdate,this.verticesNeedUpdate=t.verticesNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.lineDistancesNeedUpdate=t.lineDistancesNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(C.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(C.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setArray:function(t){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");return this.count=void 0!==t?t.length/this.itemSize:0,this.array=t,this},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.dynamic=t.dynamic,this},copyAt:function(t,e,n){t*=this.itemSize,n*=e.itemSize;for(var i=0,r=this.itemSize;i<r;i++)this.array[t+i]=e.array[n+i];return this},copyArray:function(t){return this.array.set(t),this},copyColorsArray:function(t){for(var e=this.array,n=0,i=0,r=t.length;i<r;i++){var o=t[i];void 0===o&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),o=new g),e[n++]=o.r,e[n++]=o.g,e[n++]=o.b}return this},copyVector2sArray:function(t){for(var e=this.array,n=0,i=0,o=t.length;i<o;i++){var a=t[i];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),a=new r),e[n++]=a.x,e[n++]=a.y}return this},copyVector3sArray:function(t){for(var e=this.array,n=0,i=0,r=t.length;i<r;i++){var o=t[i];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),o=new s),e[n++]=o.x,e[n++]=o.y,e[n++]=o.z}return this},copyVector4sArray:function(t){for(var e=this.array,n=0,i=0,r=t.length;i<r;i++){var o=t[i];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),o=new c),e[n++]=o.x,e[n++]=o.y,e[n++]=o.z,e[n++]=o.w}return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},getX:function(t){return this.array[t*this.itemSize]},setX:function(t,e){return this.array[t*this.itemSize]=e,this},getY:function(t){return this.array[t*this.itemSize+1]},setY:function(t,e){return this.array[t*this.itemSize+1]=e,this},getZ:function(t){return this.array[t*this.itemSize+2]},setZ:function(t,e){return this.array[t*this.itemSize+2]=e,this},getW:function(t){return this.array[t*this.itemSize+3]},setW:function(t,e){return this.array[t*this.itemSize+3]=e,this},setXY:function(t,e,n){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this},setXYZ:function(t,e,n,i){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=i,this},setXYZW:function(t,e,n,i,r){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=i,this.array[t+3]=r,this},onUpload:function(t){return this.onUploadCallback=t,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)}}),L.prototype=Object.create(C.prototype),L.prototype.constructor=L,k.prototype=Object.create(C.prototype),k.prototype.constructor=k,P.prototype=Object.create(C.prototype),P.prototype.constructor=P,I.prototype=Object.create(C.prototype),I.prototype.constructor=I,R.prototype=Object.create(C.prototype),R.prototype.constructor=R,z.prototype=Object.create(C.prototype),z.prototype.constructor=z,O.prototype=Object.create(C.prototype),O.prototype.constructor=O,D.prototype=Object.create(C.prototype),D.prototype.constructor=D,B.prototype=Object.create(C.prototype),B.prototype.constructor=B,Object.assign(N.prototype,{computeGroups:function(t){for(var e,n=[],i=void 0,r=t.faces,o=0;o<r.length;o++){var a=r[o];a.materialIndex!==i&&(i=a.materialIndex,void 0!==e&&(e.count=3*o-e.start,n.push(e)),e={start:3*o,materialIndex:i})}void 0!==e&&(e.count=3*o-e.start,n.push(e)),this.groups=n},fromGeometry:function(t){var e,n=t.faces,i=t.vertices,o=t.faceVertexUvs,a=o[0]&&o[0].length>0,s=o[1]&&o[1].length>0,l=t.morphTargets,u=l.length;if(u>0){e=[];for(var c=0;c<u;c++)e[c]=[];this.morphTargets.position=e}var h,p=t.morphNormals,d=p.length;if(d>0){h=[];for(var c=0;c<d;c++)h[c]=[];this.morphTargets.normal=h}var f=t.skinIndices,y=t.skinWeights,m=f.length===i.length,v=y.length===i.length;i.length>0&&0===n.length&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(var c=0;c<n.length;c++){var g=n[c];this.vertices.push(i[g.a],i[g.b],i[g.c]);var x=g.vertexNormals;if(3===x.length)this.normals.push(x[0],x[1],x[2]);else{var _=g.normal;this.normals.push(_,_,_)}var b=g.vertexColors;if(3===b.length)this.colors.push(b[0],b[1],b[2]);else{var w=g.color;this.colors.push(w,w,w)}if(!0===a){var E=o[0][c];void 0!==E?this.uvs.push(E[0],E[1],E[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",c),this.uvs.push(new r,new r,new r))}if(!0===s){var E=o[1][c];void 0!==E?this.uvs2.push(E[0],E[1],E[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",c),this.uvs2.push(new r,new r,new r))}for(var M=0;M<u;M++){var T=l[M].vertices;e[M].push(T[g.a],T[g.b],T[g.c])}for(var M=0;M<d;M++){var S=p[M].vertexNormals[c];h[M].push(S.a,S.b,S.c)}m&&this.skinIndices.push(f[g.a],f[g.b],f[g.c]),v&&this.skinWeights.push(y[g.a],y[g.b],y[g.c])}return this.computeGroups(t),this.verticesNeedUpdate=t.verticesNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this}});var ql=1;U.prototype=Object.assign(Object.create(i.prototype),{constructor:U,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(t){Array.isArray(t)?this.index=new(F(t)>65535?O:R)(t,1):this.index=t},addAttribute:function(t,e){return e&&e.isBufferAttribute||e&&e.isInterleavedBufferAttribute?"index"===t?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(e),this):(this.attributes[t]=e,this):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.addAttribute(t,new C(arguments[1],arguments[2])))},getAttribute:function(t){return this.attributes[t]},removeAttribute:function(t){return delete this.attributes[t],this},addGroup:function(t,e,n){this.groups.push({start:t,count:e,materialIndex:void 0!==n?n:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(t,e){this.drawRange.start=t,this.drawRange.count=e},applyMatrix:function(t){var e=this.attributes.position;void 0!==e&&(t.applyToBufferAttribute(e),e.needsUpdate=!0);var n=this.attributes.normal;if(void 0!==n){(new l).getNormalMatrix(t).applyToBufferAttribute(n),n.needsUpdate=!0}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(){var t=new o;return function(e){return t.makeRotationX(e),this.applyMatrix(t),this}}(),rotateY:function(){var t=new o;return function(e){return t.makeRotationY(e),this.applyMatrix(t),this}}(),rotateZ:function(){var t=new o;return function(e){return t.makeRotationZ(e),this.applyMatrix(t),this}}(),translate:function(){var t=new o;return function(e,n,i){return t.makeTranslation(e,n,i),this.applyMatrix(t),this}}(),scale:function(){var t=new o;return function(e,n,i){return t.makeScale(e,n,i),this.applyMatrix(t),this}}(),lookAt:function(){var t=new E;return function(e){t.lookAt(e),t.updateMatrix(),this.applyMatrix(t.matrix)}}(),center:function(){var t=new s;return function(){return this.computeBoundingBox(),this.boundingBox.getCenter(t).negate(),this.translate(t.x,t.y,t.z),this}}(),setFromObject:function(t){var e=t.geometry;if(t.isPoints||t.isLine){var n=new D(3*e.vertices.length,3),i=new D(3*e.colors.length,3);if(this.addAttribute("position",n.copyVector3sArray(e.vertices)),this.addAttribute("color",i.copyColorsArray(e.colors)),e.lineDistances&&e.lineDistances.length===e.vertices.length){var r=new D(e.lineDistances.length,1);this.addAttribute("lineDistance",r.copyArray(e.lineDistances))}null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone())}else t.isMesh&&e&&e.isGeometry&&this.fromGeometry(e);return this},setFromPoints:function(t){for(var e=[],n=0,i=t.length;n<i;n++){var r=t[n];e.push(r.x,r.y,r.z||0)}return this.addAttribute("position",new D(e,3)),this},updateFromObject:function(t){var e=t.geometry;if(t.isMesh){var n=e.__directGeometry;if(!0===e.elementsNeedUpdate&&(n=void 0,e.elementsNeedUpdate=!1),void 0===n)return this.fromGeometry(e);n.verticesNeedUpdate=e.verticesNeedUpdate,n.normalsNeedUpdate=e.normalsNeedUpdate,n.colorsNeedUpdate=e.colorsNeedUpdate,n.uvsNeedUpdate=e.uvsNeedUpdate,n.groupsNeedUpdate=e.groupsNeedUpdate,e.verticesNeedUpdate=!1,e.normalsNeedUpdate=!1,e.colorsNeedUpdate=!1,e.uvsNeedUpdate=!1,e.groupsNeedUpdate=!1,e=n}var i;return!0===e.verticesNeedUpdate&&(i=this.attributes.position,void 0!==i&&(i.copyVector3sArray(e.vertices),i.needsUpdate=!0),e.verticesNeedUpdate=!1),!0===e.normalsNeedUpdate&&(i=this.attributes.normal,void 0!==i&&(i.copyVector3sArray(e.normals),i.needsUpdate=!0),e.normalsNeedUpdate=!1),!0===e.colorsNeedUpdate&&(i=this.attributes.color,void 0!==i&&(i.copyColorsArray(e.colors),i.needsUpdate=!0),e.colorsNeedUpdate=!1),e.uvsNeedUpdate&&(i=this.attributes.uv,void 0!==i&&(i.copyVector2sArray(e.uvs),i.needsUpdate=!0),e.uvsNeedUpdate=!1),e.lineDistancesNeedUpdate&&(i=this.attributes.lineDistance,void 0!==i&&(i.copyArray(e.lineDistances),i.needsUpdate=!0),e.lineDistancesNeedUpdate=!1),e.groupsNeedUpdate&&(e.computeGroups(t.geometry),this.groups=e.groups,e.groupsNeedUpdate=!1),this},fromGeometry:function(t){return t.__directGeometry=(new N).fromGeometry(t),this.fromDirectGeometry(t.__directGeometry)},fromDirectGeometry:function(t){var e=new Float32Array(3*t.vertices.length);if(this.addAttribute("position",new C(e,3).copyVector3sArray(t.vertices)),t.normals.length>0){var n=new Float32Array(3*t.normals.length);this.addAttribute("normal",new C(n,3).copyVector3sArray(t.normals))}if(t.colors.length>0){var i=new Float32Array(3*t.colors.length);this.addAttribute("color",new C(i,3).copyColorsArray(t.colors))}if(t.uvs.length>0){var r=new Float32Array(2*t.uvs.length);this.addAttribute("uv",new C(r,2).copyVector2sArray(t.uvs))}if(t.uvs2.length>0){var o=new Float32Array(2*t.uvs2.length);this.addAttribute("uv2",new C(o,2).copyVector2sArray(t.uvs2))}this.groups=t.groups;for(var a in t.morphTargets){for(var s=[],l=t.morphTargets[a],u=0,c=l.length;u<c;u++){var h=l[u],p=new D(3*h.length,3);s.push(p.copyVector3sArray(h))}this.morphAttributes[a]=s}if(t.skinIndices.length>0){var d=new D(4*t.skinIndices.length,4);this.addAttribute("skinIndex",d.copyVector4sArray(t.skinIndices))}if(t.skinWeights.length>0){var f=new D(4*t.skinWeights.length,4);this.addAttribute("skinWeight",f.copyVector4sArray(t.skinWeights))}return null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new f);var t=this.attributes.position;void 0!==t?this.boundingBox.setFromBufferAttribute(t):this.boundingBox.makeEmpty(),(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){var t=new f,e=new s;return function(){null===this.boundingSphere&&(this.boundingSphere=new y);var n=this.attributes.position;if(n){var i=this.boundingSphere.center;t.setFromBufferAttribute(n),t.getCenter(i);for(var r=0,o=0,a=n.count;o<a;o++)e.x=n.getX(o),e.y=n.getY(o),e.z=n.getZ(o),r=Math.max(r,i.distanceToSquared(e));this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var t=this.index,e=this.attributes,n=this.groups;if(e.position){var i=e.position.array;if(void 0===e.normal)this.addAttribute("normal",new C(new Float32Array(i.length),3));else for(var r=e.normal.array,o=0,a=r.length;o<a;o++)r[o]=0;var l,u,c,h=e.normal.array,p=new s,d=new s,f=new s,y=new s,m=new s;if(t){var v=t.array;0===n.length&&this.addGroup(0,v.length);for(var g=0,x=n.length;g<x;++g)for(var _=n[g],b=_.start,w=_.count,o=b,a=b+w;o<a;o+=3)l=3*v[o+0],u=3*v[o+1],c=3*v[o+2],p.fromArray(i,l),d.fromArray(i,u),f.fromArray(i,c),y.subVectors(f,d),m.subVectors(p,d),y.cross(m),h[l]+=y.x,h[l+1]+=y.y,h[l+2]+=y.z,h[u]+=y.x,h[u+1]+=y.y,h[u+2]+=y.z,h[c]+=y.x,h[c+1]+=y.y,h[c+2]+=y.z}else for(var o=0,a=i.length;o<a;o+=9)p.fromArray(i,o),d.fromArray(i,o+3),f.fromArray(i,o+6),y.subVectors(f,d),m.subVectors(p,d),y.cross(m),h[o]=y.x,h[o+1]=y.y,h[o+2]=y.z,h[o+3]=y.x,h[o+4]=y.y,h[o+5]=y.z,h[o+6]=y.x,h[o+7]=y.y,h[o+8]=y.z;this.normalizeNormals(),e.normal.needsUpdate=!0}},merge:function(t,e){if(!t||!t.isBufferGeometry)return void console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",t);void 0===e&&(e=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var n=this.attributes;for(var i in n)if(void 0!==t.attributes[i])for(var r=n[i],o=r.array,a=t.attributes[i],s=a.array,l=a.itemSize,u=0,c=l*e;u<s.length;u++,c++)o[c]=s[u];return this},normalizeNormals:function(){var t=new s;return function(){for(var e=this.attributes.normal,n=0,i=e.count;n<i;n++)t.x=e.getX(n),t.y=e.getY(n),t.z=e.getZ(n),t.normalize(),e.setXYZ(n,t.x,t.y,t.z)}}(),toNonIndexed:function(){if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var t=new U,e=this.index.array,n=this.attributes;for(var i in n){for(var r=n[i],o=r.array,a=r.itemSize,s=new o.constructor(e.length*a),l=0,u=0,c=0,h=e.length;c<h;c++){l=e[c]*a;for(var p=0;p<a;p++)s[u++]=o[l++]}t.addAttribute(i,new C(s,a))}for(var d=this.groups,c=0,h=d.length;c<h;c++){var f=d[c];t.addGroup(f.start,f.count,f.materialIndex)}return t},toJSON:function(){var t={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),void 0!==this.parameters){var e=this.parameters;for(var n in e)void 0!==e[n]&&(t[n]=e[n]);return t}t.data={attributes:{}};var i=this.index;if(null!==i){var r=Array.prototype.slice.call(i.array);t.data.index={type:i.array.constructor.name,array:r}}var o=this.attributes;for(var n in o){var a=o[n],r=Array.prototype.slice.call(a.array);t.data.attributes[n]={itemSize:a.itemSize,type:a.array.constructor.name,array:r,normalized:a.normalized}}var s=this.groups;s.length>0&&(t.data.groups=JSON.parse(JSON.stringify(s)));var l=this.boundingSphere;return null!==l&&(t.data.boundingSphere={center:l.center.toArray(),radius:l.radius}),t},clone:function(){return(new U).copy(this)},copy:function(t){var e,n,i;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=t.name;var r=t.index;null!==r&&this.setIndex(r.clone());var o=t.attributes;for(e in o){var a=o[e];this.addAttribute(e,a.clone())}var s=t.morphAttributes;for(e in s){var l=[],u=s[e];for(n=0,i=u.length;n<i;n++)l.push(u[n].clone());this.morphAttributes[e]=l}var c=t.groups;for(n=0,i=c.length;n<i;n++){var h=c[n];this.addGroup(h.start,h.count,h.materialIndex)}var p=t.boundingBox;null!==p&&(this.boundingBox=p.clone());var d=t.boundingSphere;return null!==d&&(this.boundingSphere=d.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),j.prototype=Object.create(A.prototype),j.prototype.constructor=j,V.prototype=Object.create(U.prototype),V.prototype.constructor=V,G.prototype=Object.create(A.prototype),G.prototype.constructor=G,H.prototype=Object.create(U.prototype),H.prototype.constructor=H;var Yl=0;W.prototype=Object.assign(Object.create(i.prototype),{constructor:W,isMaterial:!0,onBeforeCompile:function(){},setValues:function(t){if(void 0!==t)for(var e in t){var n=t[e];if(void 0!==n)if("shading"!==e){var i=this[e];void 0!==i?i&&i.isColor?i.set(n):i&&i.isVector3&&n&&n.isVector3?i.copy(n):this[e]="overdraw"===e?Number(n):n:console.warn("THREE."+this.type+": '"+e+"' is not a property of this material.")}else console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=n===va;else console.warn("THREE.Material: '"+e+"' parameter is undefined.")}},toJSON:function(t){function e(t){var e=[];for(var n in t){var i=t[n];delete i.metadata,e.push(i)}return e}var n=void 0===t||"string"===typeof t;n&&(t={textures:{},images:{}});var i={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),void 0!==this.roughness&&(i.roughness=this.roughness),void 0!==this.metalness&&(i.metalness=this.metalness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),1!==this.emissiveIntensity&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),void 0!==this.shininess&&(i.shininess=this.shininess),void 0!==this.clearCoat&&(i.clearCoat=this.clearCoat),void 0!==this.clearCoatRoughness&&(i.clearCoatRoughness=this.clearCoatRoughness),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(t).uuid),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(t).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(t).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(t).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(t).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(t).uuid,i.reflectivity=this.reflectivity),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(t).uuid),void 0!==this.size&&(i.size=this.size),void 0!==this.sizeAttenuation&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==Ea&&(i.blending=this.blending),!0===this.flatShading&&(i.flatShading=this.flatShading),this.side!==fa&&(i.side=this.side),this.vertexColors!==xa&&(i.vertexColors=this.vertexColors),this.opacity<1&&(i.opacity=this.opacity),!0===this.transparent&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,0!==this.rotation&&(i.rotation=this.rotation),1!==this.linewidth&&(i.linewidth=this.linewidth),void 0!==this.dashSize&&(i.dashSize=this.dashSize),void 0!==this.gapSize&&(i.gapSize=this.gapSize),void 0!==this.scale&&(i.scale=this.scale),!0===this.dithering&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(i.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(i.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(i.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(i.morphTargets=!0),!0===this.skinning&&(i.skinning=!0),!1===this.visible&&(i.visible=!1),"{}"!==JSON.stringify(this.userData)&&(i.userData=this.userData),n){var r=e(t.textures),o=e(t.images);r.length>0&&(i.textures=r),o.length>0&&(i.images=o)}return i},clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.name=t.name,this.fog=t.fog,this.lights=t.lights,this.blending=t.blending,this.side=t.side,this.flatShading=t.flatShading,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.premultipliedAlpha=t.premultipliedAlpha,this.overdraw=t.overdraw,this.visible=t.visible,this.userData=JSON.parse(JSON.stringify(t.userData)),this.clipShadows=t.clipShadows,this.clipIntersection=t.clipIntersection;var e=t.clippingPlanes,n=null;if(null!==e){var i=e.length;n=new Array(i);for(var r=0;r!==i;++r)n[r]=e[r].clone()}return this.clippingPlanes=n,this.shadowSide=t.shadowSide,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),q.prototype=Object.create(W.prototype),q.prototype.constructor=q,q.prototype.isMeshBasicMaterial=!0,q.prototype.copy=function(t){return W.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this},Y.prototype=Object.create(W.prototype),Y.prototype.constructor=Y,Y.prototype.isShaderMaterial=!0,Y.prototype.copy=function(t){return W.prototype.copy.call(this,t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=Ul.clone(t.uniforms),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.lights=t.lights,this.clipping=t.clipping,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.extensions=t.extensions,this},Y.prototype.toJSON=function(t){var e=W.prototype.toJSON.call(this,t);return e.uniforms=this.uniforms,e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader,e},Object.assign(X.prototype,{set:function(t,e){return this.origin.copy(t),this.direction.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this},at:function(t,e){return void 0===e&&(console.warn("THREE.Ray: .at() target is now required"),e=new s),e.copy(this.direction).multiplyScalar(t).add(this.origin)},lookAt:function(t){return this.direction.copy(t).sub(this.origin).normalize(),this},recast:function(){var t=new s;return function(e){return this.origin.copy(this.at(e,t)),this}}(),closestPointToPoint:function(t,e){void 0===e&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),e=new s),e.subVectors(t,this.origin);var n=e.dot(this.direction);return n<0?e.copy(this.origin):e.copy(this.direction).multiplyScalar(n).add(this.origin)},distanceToPoint:function(t){return Math.sqrt(this.distanceSqToPoint(t))},distanceSqToPoint:function(){var t=new s;return function(e){var n=t.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(t.copy(this.direction).multiplyScalar(n).add(this.origin),t.distanceToSquared(e))}}(),distanceSqToSegment:function(){var t=new s,e=new s,n=new s;return function(i,r,o,a){t.copy(i).add(r).multiplyScalar(.5),e.copy(r).sub(i).normalize(),n.copy(this.origin).sub(t);var s,l,u,c,h=.5*i.distanceTo(r),p=-this.direction.dot(e),d=n.dot(this.direction),f=-n.dot(e),y=n.lengthSq(),m=Math.abs(1-p*p);if(m>0)if(s=p*f-d,l=p*d-f,c=h*m,s>=0)if(l>=-c)if(l<=c){var v=1/m;s*=v,l*=v,u=s*(s+p*l+2*d)+l*(p*s+l+2*f)+y}else l=h,s=Math.max(0,-(p*l+d)),u=-s*s+l*(l+2*f)+y;else l=-h,s=Math.max(0,-(p*l+d)),u=-s*s+l*(l+2*f)+y;else l<=-c?(s=Math.max(0,-(-p*h+d)),l=s>0?-h:Math.min(Math.max(-h,-f),h),u=-s*s+l*(l+2*f)+y):l<=c?(s=0,l=Math.min(Math.max(-h,-f),h),u=l*(l+2*f)+y):(s=Math.max(0,-(p*h+d)),l=s>0?h:Math.min(Math.max(-h,-f),h),u=-s*s+l*(l+2*f)+y);else l=p>0?-h:h,s=Math.max(0,-(p*l+d)),u=-s*s+l*(l+2*f)+y;return o&&o.copy(this.direction).multiplyScalar(s).add(this.origin),a&&a.copy(e).multiplyScalar(l).add(t),u}}(),intersectSphere:function(){var t=new s;return function(e,n){t.subVectors(e.center,this.origin);var i=t.dot(this.direction),r=t.dot(t)-i*i,o=e.radius*e.radius;if(r>o)return null;var a=Math.sqrt(o-r),s=i-a,l=i+a;return s<0&&l<0?null:s<0?this.at(l,n):this.at(s,n)}}(),intersectsSphere:function(t){return this.distanceToPoint(t.center)<=t.radius},distanceToPlane:function(t){var e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(t.normal)+t.constant)/e;return n>=0?n:null},intersectPlane:function(t,e){var n=this.distanceToPlane(t);return null===n?null:this.at(n,e)},intersectsPlane:function(t){var e=t.distanceToPoint(this.origin);return 0===e||t.normal.dot(this.direction)*e<0},intersectBox:function(t,e){var n,i,r,o,a,s,l=1/this.direction.x,u=1/this.direction.y,c=1/this.direction.z,h=this.origin;return l>=0?(n=(t.min.x-h.x)*l,i=(t.max.x-h.x)*l):(n=(t.max.x-h.x)*l,i=(t.min.x-h.x)*l),u>=0?(r=(t.min.y-h.y)*u,o=(t.max.y-h.y)*u):(r=(t.max.y-h.y)*u,o=(t.min.y-h.y)*u),n>o||r>i?null:((r>n||n!==n)&&(n=r),(o<i||i!==i)&&(i=o),c>=0?(a=(t.min.z-h.z)*c,s=(t.max.z-h.z)*c):(a=(t.max.z-h.z)*c,s=(t.min.z-h.z)*c),n>s||a>i?null:((a>n||n!==n)&&(n=a),(s<i||i!==i)&&(i=s),i<0?null:this.at(n>=0?n:i,e)))},intersectsBox:function(){var t=new s;return function(e){return null!==this.intersectBox(e,t)}}(),intersectTriangle:function(){var t=new s,e=new s,n=new s,i=new s;return function(r,o,a,s,l){e.subVectors(o,r),n.subVectors(a,r),i.crossVectors(e,n);var u,c=this.direction.dot(i);if(c>0){if(s)return null;u=1}else{if(!(c<0))return null;u=-1,c=-c}t.subVectors(this.origin,r);var h=u*this.direction.dot(n.crossVectors(t,n));if(h<0)return null;var p=u*this.direction.dot(e.cross(t));if(p<0)return null;if(h+p>c)return null;var d=-u*t.dot(i);return d<0?null:this.at(d/c,l)}}(),applyMatrix4:function(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this},equals:function(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}}),Object.assign($,{getNormal:function(){var t=new s;return function(e,n,i,r){void 0===r&&(console.warn("THREE.Triangle: .getNormal() target is now required"),r=new s),r.subVectors(i,n),t.subVectors(e,n),r.cross(t);var o=r.lengthSq();return o>0?r.multiplyScalar(1/Math.sqrt(o)):r.set(0,0,0)}}(),getBarycoord:function(){var t=new s,e=new s,n=new s;return function(i,r,o,a,l){t.subVectors(a,r),e.subVectors(o,r),n.subVectors(i,r);var u=t.dot(t),c=t.dot(e),h=t.dot(n),p=e.dot(e),d=e.dot(n),f=u*p-c*c;if(void 0===l&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),l=new s),0===f)return l.set(-2,-1,-1);var y=1/f,m=(p*h-c*d)*y,v=(u*d-c*h)*y;return l.set(1-m-v,v,m)}}(),containsPoint:function(){var t=new s;return function(e,n,i,r){return $.getBarycoord(e,n,i,r,t),t.x>=0&&t.y>=0&&t.x+t.y<=1}}()}),Object.assign($.prototype,{set:function(t,e,n){return this.a.copy(t),this.b.copy(e),this.c.copy(n),this},setFromPointsAndIndices:function(t,e,n,i){return this.a.copy(t[e]),this.b.copy(t[n]),this.c.copy(t[i]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this},getArea:function(){var t=new s,e=new s;return function(){return t.subVectors(this.c,this.b),e.subVectors(this.a,this.b),.5*t.cross(e).length()}}(),getMidpoint:function(t){return void 0===t&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),t=new s),t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},getNormal:function(t){return $.getNormal(this.a,this.b,this.c,t)},getPlane:function(t){return void 0===t&&(console.warn("THREE.Triangle: .getPlane() target is now required"),t=new s),t.setFromCoplanarPoints(this.a,this.b,this.c)},getBarycoord:function(t,e){return $.getBarycoord(t,this.a,this.b,this.c,e)},containsPoint:function(t){return $.containsPoint(t,this.a,this.b,this.c)},intersectsBox:function(t){return t.intersectsTriangle(this)},closestPointToPoint:function(){var t=new s,e=new s,n=new s,i=new s,r=new s,o=new s;return function(a,l){void 0===l&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),l=new s);var u,c,h=this.a,p=this.b,d=this.c;t.subVectors(p,h),e.subVectors(d,h),i.subVectors(a,h);var f=t.dot(i),y=e.dot(i);if(f<=0&&y<=0)return l.copy(h);r.subVectors(a,p);var m=t.dot(r),v=e.dot(r);if(m>=0&&v<=m)return l.copy(p);var g=f*v-m*y;if(g<=0&&f>=0&&m<=0)return u=f/(f-m),l.copy(h).addScaledVector(t,u);o.subVectors(a,d);var x=t.dot(o),_=e.dot(o);if(_>=0&&x<=_)return l.copy(d);var b=x*y-f*_;if(b<=0&&y>=0&&_<=0)return c=y/(y-_),l.copy(h).addScaledVector(e,c);var w=m*_-x*v;if(w<=0&&v-m>=0&&x-_>=0)return n.subVectors(d,p),c=(v-m)/(v-m+(x-_)),l.copy(p).addScaledVector(n,c);var E=1/(w+b+g);return u=b*E,c=g*E,l.copy(h).addScaledVector(t,u).addScaledVector(e,c)}}(),equals:function(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}),Z.prototype=Object.assign(Object.create(E.prototype),{constructor:Z,isMesh:!0,setDrawMode:function(t){this.drawMode=t},copy:function(t){return E.prototype.copy.call(this,t),this.drawMode=t.drawMode,void 0!==t.morphTargetInfluences&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),void 0!==t.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this},updateMorphTargets:function(){var t,e,n,i=this.geometry;if(i.isBufferGeometry){var r=i.morphAttributes,o=Object.keys(r);if(o.length>0){var a=r[o[0]];if(void 0!==a)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},t=0,e=a.length;t<e;t++)n=a[t].name||String(t),this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=t}}else{var s=i.morphTargets;if(void 0!==s&&s.length>0)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},t=0,e=s.length;t<e;t++)n=s[t].name||String(t),this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=t}},raycast:function(){function t(t,e,n,i,r,o,a){return $.getBarycoord(t,e,n,i,x),r.multiplyScalar(x.x),o.multiplyScalar(x.y),a.multiplyScalar(x.z),r.add(o).add(a),r.clone()}function e(t,e,n,i,r,o,a,s){if(null===(e.side===ya?i.intersectTriangle(a,o,r,!0,s):i.intersectTriangle(r,o,a,e.side!==ma,s)))return null;b.copy(s),b.applyMatrix4(t.matrixWorld);var l=n.ray.origin.distanceTo(b);return l<n.near||l>n.far?null:{distance:l,point:b.clone(),object:t}}function n(n,i,r,o,a,s,l,p,d){u.fromBufferAttribute(a,l),c.fromBufferAttribute(a,p),h.fromBufferAttribute(a,d);var f=e(n,i,r,o,u,c,h,_);if(f){s&&(m.fromBufferAttribute(s,l),v.fromBufferAttribute(s,p),g.fromBufferAttribute(s,d),f.uv=t(_,u,c,h,m,v,g));var y=new S(l,p,d);$.getNormal(u,c,h,y.normal),f.face=y}return f}var i=new o,a=new X,l=new y,u=new s,c=new s,h=new s,p=new s,d=new s,f=new s,m=new r,v=new r,g=new r,x=new s,_=new s,b=new s;return function(r,o){var s=this.geometry,y=this.material,x=this.matrixWorld;if(void 0!==y&&(null===s.boundingSphere&&s.computeBoundingSphere(),l.copy(s.boundingSphere),l.applyMatrix4(x),!1!==r.ray.intersectsSphere(l)&&(i.getInverse(x),a.copy(r.ray).applyMatrix4(i),null===s.boundingBox||!1!==a.intersectsBox(s.boundingBox)))){var b;if(s.isBufferGeometry){var w,E,M,T,S,A,C,L,k,P,I,R=s.index,z=s.attributes.position,O=s.attributes.uv,D=s.groups,B=s.drawRange;if(null!==R)if(Array.isArray(y))for(T=0,A=D.length;T<A;T++)for(L=D[T],k=y[L.materialIndex],P=Math.max(L.start,B.start),I=Math.min(L.start+L.count,B.start+B.count),S=P,C=I;S<C;S+=3)w=R.getX(S),E=R.getX(S+1),M=R.getX(S+2),(b=n(this,k,r,a,z,O,w,E,M))&&(b.faceIndex=Math.floor(S/3),o.push(b));else for(P=Math.max(0,B.start),I=Math.min(R.count,B.start+B.count),T=P,A=I;T<A;T+=3)w=R.getX(T),E=R.getX(T+1),M=R.getX(T+2),(b=n(this,y,r,a,z,O,w,E,M))&&(b.faceIndex=Math.floor(T/3),o.push(b));else if(void 0!==z)if(Array.isArray(y))for(T=0,A=D.length;T<A;T++)for(L=D[T],k=y[L.materialIndex],P=Math.max(L.start,B.start),I=Math.min(L.start+L.count,B.start+B.count),S=P,C=I;S<C;S+=3)w=S,E=S+1,M=S+2,(b=n(this,k,r,a,z,O,w,E,M))&&(b.faceIndex=Math.floor(S/3),o.push(b));else for(P=Math.max(0,B.start),I=Math.min(z.count,B.start+B.count),T=P,A=I;T<A;T+=3)w=T,E=T+1,M=T+2,(b=n(this,y,r,a,z,O,w,E,M))&&(b.faceIndex=Math.floor(T/3),o.push(b))}else if(s.isGeometry){var N,F,U,j,V=Array.isArray(y),G=s.vertices,H=s.faces,W=s.faceVertexUvs[0];W.length>0&&(j=W);for(var q=0,Y=H.length;q<Y;q++){var X=H[q],$=V?y[X.materialIndex]:y;if(void 0!==$){if(N=G[X.a],F=G[X.b],U=G[X.c],!0===$.morphTargets){var Z=s.morphTargets,J=this.morphTargetInfluences;u.set(0,0,0),c.set(0,0,0),h.set(0,0,0);for(var K=0,Q=Z.length;K<Q;K++){var tt=J[K];if(0!==tt){var et=Z[K].vertices;u.addScaledVector(p.subVectors(et[X.a],N),tt),c.addScaledVector(d.subVectors(et[X.b],F),tt),h.addScaledVector(f.subVectors(et[X.c],U),tt)}}u.add(N),c.add(F),h.add(U),N=u,F=c,U=h}if(b=e(this,$,r,a,N,F,U,_)){if(j&&j[q]){var nt=j[q];m.copy(nt[0]),v.copy(nt[1]),g.copy(nt[2]),b.uv=t(_,N,F,U,m,v,g)}b.face=X,b.faceIndex=q,o.push(b)}}}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),lt.prototype=Object.create(u.prototype),lt.prototype.constructor=lt,lt.prototype.isCubeTexture=!0,Object.defineProperty(lt.prototype,"images",{get:function(){return this.image},set:function(t){this.image=t}});var Xl=new u,$l=new lt,Zl=[],Jl=[],Kl=new Float32Array(16),Ql=new Float32Array(9),tu=new Float32Array(4);Ut.prototype.updateCache=function(t){var e=this.cache;t instanceof Float32Array&&e.length!==t.length&&(this.cache=new Float32Array(t.length)),pt(e,t)},jt.prototype.setValue=function(t,e,n){for(var i=this.seq,r=0,o=i.length;r!==o;++r){var a=i[r];a.setValue(t,e[a.id],n)}};var eu=/([\w\d_]+)(\])?(\[|\.)?/g;Ht.prototype.setValue=function(t,e,n){var i=this.map[e];void 0!==i&&i.setValue(t,n,this.renderer)},Ht.prototype.setOptional=function(t,e,n){var i=e[n];void 0!==i&&this.setValue(t,n,i)},Ht.upload=function(t,e,n,i){for(var r=0,o=e.length;r!==o;++r){var a=e[r],s=n[a.id];!1!==s.needsUpdate&&a.setValue(t,s.value,i)}},Ht.seqWithValue=function(t,e){for(var n=[],i=0,r=t.length;i!==r;++i){var o=t[i];o.id in e&&n.push(o)}return n};var nu=0,iu=0;me.prototype=Object.create(W.prototype),me.prototype.constructor=me,me.prototype.isMeshDepthMaterial=!0,me.prototype.copy=function(t){return W.prototype.copy.call(this,t),this.depthPacking=t.depthPacking,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this},ve.prototype=Object.create(W.prototype),ve.prototype.constructor=ve,ve.prototype.isMeshDistanceMaterial=!0,ve.prototype.copy=function(t){return W.prototype.copy.call(this,t),this.referencePosition.copy(t.referencePosition),this.nearDistance=t.nearDistance,this.farDistance=t.farDistance,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this},we.prototype=Object.assign(Object.create(E.prototype),{constructor:we,isGroup:!0}),Ee.prototype=Object.assign(Object.create(M.prototype),{constructor:Ee,isPerspectiveCamera:!0,copy:function(t,e){return M.prototype.copy.call(this,t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this},setFocalLength:function(t){var e=.5*this.getFilmHeight()/t;this.fov=2*Dl.RAD2DEG*Math.atan(e),this.updateProjectionMatrix()},getFocalLength:function(){var t=Math.tan(.5*Dl.DEG2RAD*this.fov);return.5*this.getFilmHeight()/t},getEffectiveFOV:function(){return 2*Dl.RAD2DEG*Math.atan(Math.tan(.5*Dl.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(t,e,n,i,r,o){this.aspect=t/e,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=this.near,e=t*Math.tan(.5*Dl.DEG2RAD*this.fov)/this.zoom,n=2*e,i=this.aspect*n,r=-.5*i,o=this.view;if(null!==this.view&&this.view.enabled){var a=o.fullWidth,s=o.fullHeight;r+=o.offsetX*i/a,e-=o.offsetY*n/s,i*=o.width/a,n*=o.height/s}var l=this.filmOffset;0!==l&&(r+=t*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+i,e,e-n,t,this.far)},toJSON:function(t){var e=E.prototype.toJSON.call(this,t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}),Me.prototype=Object.assign(Object.create(Ee.prototype),{constructor:Me,isArrayCamera:!0}),Ce.prototype.isFogExp2=!0,Ce.prototype.clone=function(){return new Ce(this.color,this.density)},Ce.prototype.toJSON=function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}},Le.prototype.isFog=!0,Le.prototype.clone=function(){return new Le(this.color,this.near,this.far)},Le.prototype.toJSON=function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}},ke.prototype=Object.assign(Object.create(E.prototype),{constructor:ke,copy:function(t,e){return E.prototype.copy.call(this,t,e),null!==t.background&&(this.background=t.background.clone()),null!==t.fog&&(this.fog=t.fog.clone()),null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.autoUpdate=t.autoUpdate,this.matrixAutoUpdate=t.matrixAutoUpdate,this},toJSON:function(t){var e=E.prototype.toJSON.call(this,t);return null!==this.background&&(e.object.background=this.background.toJSON(t)),null!==this.fog&&(e.object.fog=this.fog.toJSON()),e}}),Object.defineProperty(Pe.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(Pe.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setArray:function(t){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");return this.count=void 0!==t?t.length/this.stride:0,this.array=t,this},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.dynamic=t.dynamic,this},copyAt:function(t,e,n){t*=this.stride,n*=e.stride;for(var i=0,r=this.stride;i<r;i++)this.array[t+i]=e.array[n+i];return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(t){return this.onUploadCallback=t,this}}),Object.defineProperties(Ie.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}}),Object.assign(Ie.prototype,{isInterleavedBufferAttribute:!0,setX:function(t,e){return this.data.array[t*this.data.stride+this.offset]=e,this},setY:function(t,e){return this.data.array[t*this.data.stride+this.offset+1]=e,this},setZ:function(t,e){return this.data.array[t*this.data.stride+this.offset+2]=e,this},setW:function(t,e){return this.data.array[t*this.data.stride+this.offset+3]=e,this},getX:function(t){return this.data.array[t*this.data.stride+this.offset]},getY:function(t){return this.data.array[t*this.data.stride+this.offset+1]},getZ:function(t){return this.data.array[t*this.data.stride+this.offset+2]},getW:function(t){return this.data.array[t*this.data.stride+this.offset+3]},setXY:function(t,e,n){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this},setXYZ:function(t,e,n,i){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=i,this},setXYZW:function(t,e,n,i,r){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=i,this.data.array[t+3]=r,this}}),Re.prototype=Object.create(W.prototype),Re.prototype.constructor=Re,Re.prototype.isSpriteMaterial=!0,Re.prototype.copy=function(t){return W.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.rotation=t.rotation,this};var ru;ze.prototype=Object.assign(Object.create(E.prototype),{constructor:ze,isSprite:!0,raycast:function(){function t(t,e,n,i,r,o){a.subVectors(t,n).addScalar(.5).multiply(i),void 0!==r?(l.x=o*a.x-r*a.y,l.y=r*a.x+o*a.y):l.copy(a),t.copy(e),t.x+=l.x,t.y+=l.y,t.applyMatrix4(u)}var e=new s,n=new s,i=new s,a=new r,l=new r,u=new o,c=new s,h=new s,p=new s;return function(r,o){n.setFromMatrixScale(this.matrixWorld),u.getInverse(this.modelViewMatrix).premultiply(this.matrixWorld),i.setFromMatrixPosition(this.modelViewMatrix);var a,s,l=this.material.rotation;0!==l&&(s=Math.cos(l),a=Math.sin(l));var d=this.center;t(c.set(-.5,-.5,0),i,d,n,a,s),t(h.set(.5,-.5,0),i,d,n,a,s),t(p.set(.5,.5,0),i,d,n,a,s);var f=r.ray.intersectTriangle(c,h,p,!1,e);if(null!==f||(t(h.set(-.5,.5,0),i,d,n,a,s),null!==(f=r.ray.intersectTriangle(c,p,h,!1,e)))){var y=r.ray.origin.distanceTo(e);y<r.near||y>r.far||o.push({distance:y,point:e.clone(),face:null,object:this})}}}(),clone:function(){return new this.constructor(this.material).copy(this)},copy:function(t){return E.prototype.copy.call(this,t),void 0!==t.center&&this.center.copy(t.center),this}}),Oe.prototype=Object.assign(Object.create(E.prototype),{constructor:Oe,copy:function(t){E.prototype.copy.call(this,t,!1);for(var e=t.levels,n=0,i=e.length;n<i;n++){var r=e[n];this.addLevel(r.object.clone(),r.distance)}return this},addLevel:function(t,e){void 0===e&&(e=0),e=Math.abs(e);for(var n=this.levels,i=0;i<n.length&&!(e<n[i].distance);i++);n.splice(i,0,{distance:e,object:t}),this.add(t)},getObjectForDistance:function(t){for(var e=this.levels,n=1,i=e.length;n<i&&!(t<e[n].distance);n++);return e[n-1].object},raycast:function(){var t=new s;return function(e,n){t.setFromMatrixPosition(this.matrixWorld);var i=e.ray.origin.distanceTo(t);this.getObjectForDistance(i).raycast(e,n)}}(),update:function(){var t=new s,e=new s;return function(n){var i=this.levels;if(i.length>1){t.setFromMatrixPosition(n.matrixWorld),e.setFromMatrixPosition(this.matrixWorld);var r=t.distanceTo(e);i[0].object.visible=!0;for(var o=1,a=i.length;o<a&&r>=i[o].distance;o++)i[o-1].object.visible=!1,i[o].object.visible=!0;for(;o<a;o++)i[o].object.visible=!1}}}(),toJSON:function(t){var e=E.prototype.toJSON.call(this,t);e.object.levels=[];for(var n=this.levels,i=0,r=n.length;i<r;i++){var o=n[i];e.object.levels.push({object:o.object.uuid,distance:o.distance})}return e}}),Object.assign(De.prototype,{calculateInverses:function(){this.boneInverses=[];for(var t=0,e=this.bones.length;t<e;t++){var n=new o;this.bones[t]&&n.getInverse(this.bones[t].matrixWorld),this.boneInverses.push(n)}},pose:function(){var t,e,n;for(e=0,n=this.bones.length;e<n;e++)(t=this.bones[e])&&t.matrixWorld.getInverse(this.boneInverses[e]);for(e=0,n=this.bones.length;e<n;e++)(t=this.bones[e])&&(t.parent&&t.parent.isBone?(t.matrix.getInverse(t.parent.matrixWorld),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))},update:function(){var t=new o,e=new o;return function(){for(var n=this.bones,i=this.boneInverses,r=this.boneMatrices,o=this.boneTexture,a=0,s=n.length;a<s;a++){var l=n[a]?n[a].matrixWorld:e;t.multiplyMatrices(l,i[a]),t.toArray(r,16*a)}void 0!==o&&(o.needsUpdate=!0)}}(),clone:function(){return new De(this.bones,this.boneInverses)},getBoneByName:function(t){for(var e=0,n=this.bones.length;e<n;e++){var i=this.bones[e];if(i.name===t)return i}}}),Be.prototype=Object.assign(Object.create(E.prototype),{constructor:Be,isBone:!0}),Ne.prototype=Object.assign(Object.create(Z.prototype),{constructor:Ne,isSkinnedMesh:!0,initBones:function(){var t,e,n,i,r=[];if(this.geometry&&void 0!==this.geometry.bones){for(n=0,i=this.geometry.bones.length;n<i;n++)e=this.geometry.bones[n],t=new Be,r.push(t),t.name=e.name,t.position.fromArray(e.pos),t.quaternion.fromArray(e.rotq),void 0!==e.scl&&t.scale.fromArray(e.scl);for(n=0,i=this.geometry.bones.length;n<i;n++)e=this.geometry.bones[n],-1!==e.parent&&null!==e.parent&&void 0!==r[e.parent]?r[e.parent].add(r[n]):this.add(r[n])}return this.updateMatrixWorld(!0),r},bind:function(t,e){this.skeleton=t,void 0===e&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.getInverse(e)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){var t,e;if(this.geometry&&this.geometry.isGeometry)for(e=0;e<this.geometry.skinWeights.length;e++){var n=this.geometry.skinWeights[e];t=1/n.manhattanLength(),t!==1/0?n.multiplyScalar(t):n.set(1,0,0,0)}else if(this.geometry&&this.geometry.isBufferGeometry){var i=new c,r=this.geometry.attributes.skinWeight;for(e=0;e<r.count;e++)i.x=r.getX(e),i.y=r.getY(e),i.z=r.getZ(e),i.w=r.getW(e),t=1/i.manhattanLength(),t!==1/0?i.multiplyScalar(t):i.set(1,0,0,0),r.setXYZW(e,i.x,i.y,i.z,i.w)}},updateMatrixWorld:function(t){Z.prototype.updateMatrixWorld.call(this,t),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Fe.prototype=Object.create(W.prototype),Fe.prototype.constructor=Fe,Fe.prototype.isLineBasicMaterial=!0,Fe.prototype.copy=function(t){return W.prototype.copy.call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this},Ue.prototype=Object.assign(Object.create(E.prototype),{constructor:Ue,isLine:!0,computeLineDistances:function(){var t=new s,e=new s;return function(){var n=this.geometry;if(n.isBufferGeometry)if(null===n.index){for(var i=n.attributes.position,r=[0],o=1,a=i.count;o<a;o++)t.fromBufferAttribute(i,o-1),e.fromBufferAttribute(i,o),r[o]=r[o-1],r[o]+=t.distanceTo(e);n.addAttribute("lineDistance",new D(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(n.isGeometry){var s=n.vertices,r=n.lineDistances;r[0]=0;for(var o=1,a=s.length;o<a;o++)r[o]=r[o-1],r[o]+=s[o-1].distanceTo(s[o])}return this}}(),raycast:function(){var t=new o,e=new X,n=new y;return function(i,r){var o=i.linePrecision,a=o*o,l=this.geometry,u=this.matrixWorld;if(null===l.boundingSphere&&l.computeBoundingSphere(),n.copy(l.boundingSphere),n.applyMatrix4(u),!1!==i.ray.intersectsSphere(n)){t.getInverse(u),e.copy(i.ray).applyMatrix4(t);var c=new s,h=new s,p=new s,d=new s,f=this&&this.isLineSegments?2:1;if(l.isBufferGeometry){var y=l.index,m=l.attributes,v=m.position.array;if(null!==y)for(var g=y.array,x=0,_=g.length-1;x<_;x+=f){var b=g[x],w=g[x+1];c.fromArray(v,3*b),h.fromArray(v,3*w);var E=e.distanceSqToSegment(c,h,d,p);if(!(E>a)){d.applyMatrix4(this.matrixWorld);var M=i.ray.origin.distanceTo(d);M<i.near||M>i.far||r.push({distance:M,point:p.clone().applyMatrix4(this.matrixWorld),index:x,face:null,faceIndex:null,object:this})}}else for(var x=0,_=v.length/3-1;x<_;x+=f){c.fromArray(v,3*x),h.fromArray(v,3*x+3);var E=e.distanceSqToSegment(c,h,d,p);if(!(E>a)){d.applyMatrix4(this.matrixWorld);var M=i.ray.origin.distanceTo(d);M<i.near||M>i.far||r.push({distance:M,point:p.clone().applyMatrix4(this.matrixWorld),index:x,face:null,faceIndex:null,object:this})}}}else if(l.isGeometry)for(var T=l.vertices,S=T.length,x=0;x<S-1;x+=f){var E=e.distanceSqToSegment(T[x],T[x+1],d,p);if(!(E>a)){d.applyMatrix4(this.matrixWorld);var M=i.ray.origin.distanceTo(d);M<i.near||M>i.far||r.push({distance:M,point:p.clone().applyMatrix4(this.matrixWorld),index:x,face:null,faceIndex:null,object:this})}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),je.prototype=Object.assign(Object.create(Ue.prototype),{constructor:je,isLineSegments:!0,computeLineDistances:function(){var t=new s,e=new s;return function(){var n=this.geometry;if(n.isBufferGeometry)if(null===n.index){for(var i=n.attributes.position,r=[],o=0,a=i.count;o<a;o+=2)t.fromBufferAttribute(i,o),e.fromBufferAttribute(i,o+1),r[o]=0===o?0:r[o-1],r[o+1]=r[o]+t.distanceTo(e);n.addAttribute("lineDistance",new D(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(n.isGeometry)for(var s=n.vertices,r=n.lineDistances,o=0,a=s.length;o<a;o+=2)t.copy(s[o]),e.copy(s[o+1]),r[o]=0===o?0:r[o-1],r[o+1]=r[o]+t.distanceTo(e);return this}}()}),Ve.prototype=Object.assign(Object.create(Ue.prototype),{constructor:Ve,isLineLoop:!0}),Ge.prototype=Object.create(W.prototype),Ge.prototype.constructor=Ge,Ge.prototype.isPointsMaterial=!0,Ge.prototype.copy=function(t){return W.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this.morphTargets=t.morphTargets,this},He.prototype=Object.assign(Object.create(E.prototype),{constructor:He,isPoints:!0,raycast:function(){var t=new o,e=new X,n=new y;return function(i,r){function o(t,n){var o=e.distanceSqToPoint(t);if(o<p){e.closestPointToPoint(t,f),f.applyMatrix4(u);var s=i.ray.origin.distanceTo(f);if(s<i.near||s>i.far)return;r.push({distance:s,distanceToRay:Math.sqrt(o),point:f.clone(),index:n,face:null,object:a})}}var a=this,l=this.geometry,u=this.matrixWorld,c=i.params.Points.threshold;if(null===l.boundingSphere&&l.computeBoundingSphere(),n.copy(l.boundingSphere),n.applyMatrix4(u),n.radius+=c,!1!==i.ray.intersectsSphere(n)){t.getInverse(u),e.copy(i.ray).applyMatrix4(t);var h=c/((this.scale.x+this.scale.y+this.scale.z)/3),p=h*h,d=new s,f=new s;if(l.isBufferGeometry){var y=l.index,m=l.attributes,v=m.position.array;if(null!==y)for(var g=y.array,x=0,_=g.length;x<_;x++){var b=g[x];d.fromArray(v,3*b),o(d,b)}else for(var x=0,w=v.length/3;x<w;x++)d.fromArray(v,3*x),o(d,x)}else for(var E=l.vertices,x=0,w=E.length;x<w;x++)o(E[x],x)}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),We.prototype=Object.assign(Object.create(u.prototype),{constructor:We,isVideoTexture:!0,update:function(){var t=this.image;t.readyState>=t.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),qe.prototype=Object.create(u.prototype),qe.prototype.constructor=qe,qe.prototype.isCompressedTexture=!0,Ye.prototype=Object.create(u.prototype),Ye.prototype.constructor=Ye,Ye.prototype.isCanvasTexture=!0,Xe.prototype=Object.create(u.prototype),Xe.prototype.constructor=Xe,Xe.prototype.isDepthTexture=!0,$e.prototype=Object.create(U.prototype),$e.prototype.constructor=$e,Ze.prototype=Object.create(A.prototype),Ze.prototype.constructor=Ze,Je.prototype=Object.create(U.prototype),Je.prototype.constructor=Je,Ke.prototype=Object.create(A.prototype),Ke.prototype.constructor=Ke,Qe.prototype=Object.create(U.prototype),Qe.prototype.constructor=Qe,tn.prototype=Object.create(A.prototype),tn.prototype.constructor=tn,en.prototype=Object.create(Qe.prototype),en.prototype.constructor=en,nn.prototype=Object.create(A.prototype),nn.prototype.constructor=nn,rn.prototype=Object.create(Qe.prototype),rn.prototype.constructor=rn,on.prototype=Object.create(A.prototype),on.prototype.constructor=on,an.prototype=Object.create(Qe.prototype),an.prototype.constructor=an,sn.prototype=Object.create(A.prototype),sn.prototype.constructor=sn,ln.prototype=Object.create(Qe.prototype),ln.prototype.constructor=ln,un.prototype=Object.create(A.prototype),un.prototype.constructor=un,cn.prototype=Object.create(U.prototype),cn.prototype.constructor=cn,hn.prototype=Object.create(A.prototype),hn.prototype.constructor=hn,pn.prototype=Object.create(U.prototype),pn.prototype.constructor=pn,dn.prototype=Object.create(A.prototype),dn.prototype.constructor=dn,fn.prototype=Object.create(U.prototype),fn.prototype.constructor=fn;var ou={triangulate:function(t,e,n){n=n||2;var i=e&&e.length,r=i?e[0]*n:t.length,o=yn(t,0,r,n,!0),a=[];if(!o)return a;var s,l,u,c,h,p,d;if(i&&(o=wn(t,e,o,n)),t.length>80*n){s=u=t[0],l=c=t[1];for(var f=n;f<r;f+=n)h=t[f],p=t[f+1],h<s&&(s=h),p<l&&(l=p),h>u&&(u=h),p>c&&(c=p);d=Math.max(u-s,c-l),d=0!==d?1/d:0}return vn(o,a,n,s,l,d),a}},au={area:function(t){for(var e=t.length,n=0,i=e-1,r=0;r<e;i=r++)n+=t[i].x*t[r].y-t[r].x*t[i].y;return.5*n},isClockWise:function(t){return au.area(t)<0},triangulateShape:function(t,e){var n=[],i=[],r=[];Gn(t),Hn(n,t);var o=t.length;e.forEach(Gn);for(var a=0;a<e.length;a++)i.push(o),o+=e[a].length,Hn(n,e[a]);for(var s=ou.triangulate(n,i),a=0;a<s.length;a+=3)r.push(s.slice(a,a+3));return r}};Wn.prototype=Object.create(A.prototype),Wn.prototype.constructor=Wn,Wn.prototype.toJSON=function(){var t=A.prototype.toJSON.call(this);return Yn(this.parameters.shapes,this.parameters.options,t)},qn.prototype=Object.create(U.prototype),qn.prototype.constructor=qn,qn.prototype.toJSON=function(){var t=U.prototype.toJSON.call(this);return Yn(this.parameters.shapes,this.parameters.options,t)};var su={generateTopUV:function(t,e,n,i,o){var a=e[3*n],s=e[3*n+1],l=e[3*i],u=e[3*i+1],c=e[3*o],h=e[3*o+1];return[new r(a,s),new r(l,u),new r(c,h)]},generateSideWallUV:function(t,e,n,i,o,a){var s=e[3*n],l=e[3*n+1],u=e[3*n+2],c=e[3*i],h=e[3*i+1],p=e[3*i+2],d=e[3*o],f=e[3*o+1],y=e[3*o+2],m=e[3*a],v=e[3*a+1],g=e[3*a+2];return Math.abs(l-h)<.01?[new r(s,1-u),new r(c,1-p),new r(d,1-y),new r(m,1-g)]:[new r(l,1-u),new r(h,1-p),new r(f,1-y),new r(v,1-g)]}};Xn.prototype=Object.create(A.prototype),Xn.prototype.constructor=Xn,$n.prototype=Object.create(qn.prototype),$n.prototype.constructor=$n,Zn.prototype=Object.create(A.prototype),Zn.prototype.constructor=Zn,Jn.prototype=Object.create(U.prototype),Jn.prototype.constructor=Jn,Kn.prototype=Object.create(A.prototype),Kn.prototype.constructor=Kn,Qn.prototype=Object.create(U.prototype),Qn.prototype.constructor=Qn,ti.prototype=Object.create(A.prototype),ti.prototype.constructor=ti,ei.prototype=Object.create(U.prototype),ei.prototype.constructor=ei,ni.prototype=Object.create(A.prototype),ni.prototype.constructor=ni,ni.prototype.toJSON=function(){var t=A.prototype.toJSON.call(this);return ri(this.parameters.shapes,t)},ii.prototype=Object.create(U.prototype),ii.prototype.constructor=ii,ii.prototype.toJSON=function(){var t=U.prototype.toJSON.call(this);return ri(this.parameters.shapes,t)},oi.prototype=Object.create(U.prototype),oi.prototype.constructor=oi,ai.prototype=Object.create(A.prototype),ai.prototype.constructor=ai,si.prototype=Object.create(U.prototype),si.prototype.constructor=si,li.prototype=Object.create(ai.prototype),li.prototype.constructor=li,ui.prototype=Object.create(si.prototype),ui.prototype.constructor=ui,ci.prototype=Object.create(A.prototype),ci.prototype.constructor=ci,hi.prototype=Object.create(U.prototype),hi.prototype.constructor=hi;var lu=Object.freeze({WireframeGeometry:$e,ParametricGeometry:Ze,ParametricBufferGeometry:Je,TetrahedronGeometry:tn,TetrahedronBufferGeometry:en,OctahedronGeometry:nn,OctahedronBufferGeometry:rn,IcosahedronGeometry:on,IcosahedronBufferGeometry:an,DodecahedronGeometry:sn,DodecahedronBufferGeometry:ln,PolyhedronGeometry:Ke,PolyhedronBufferGeometry:Qe,TubeGeometry:un,TubeBufferGeometry:cn,TorusKnotGeometry:hn,TorusKnotBufferGeometry:pn,TorusGeometry:dn,TorusBufferGeometry:fn,TextGeometry:Xn,TextBufferGeometry:$n,SphereGeometry:Zn,SphereBufferGeometry:Jn,RingGeometry:Kn,RingBufferGeometry:Qn,PlaneGeometry:G,PlaneBufferGeometry:H,LatheGeometry:ti,LatheBufferGeometry:ei,ShapeGeometry:ni,ShapeBufferGeometry:ii,ExtrudeGeometry:Wn,ExtrudeBufferGeometry:qn,EdgesGeometry:oi,ConeGeometry:li,ConeBufferGeometry:ui,CylinderGeometry:ai,CylinderBufferGeometry:si,CircleGeometry:ci,CircleBufferGeometry:hi,BoxGeometry:j,BoxBufferGeometry:V});pi.prototype=Object.create(W.prototype),pi.prototype.constructor=pi,pi.prototype.isShadowMaterial=!0,pi.prototype.copy=function(t){return W.prototype.copy.call(this,t),this.color.copy(t.color),this},di.prototype=Object.create(Y.prototype),di.prototype.constructor=di,di.prototype.isRawShaderMaterial=!0,fi.prototype=Object.create(W.prototype),fi.prototype.constructor=fi,fi.prototype.isMeshStandardMaterial=!0,fi.prototype.copy=function(t){return W.prototype.copy.call(this,t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},yi.prototype=Object.create(fi.prototype),yi.prototype.constructor=yi,yi.prototype.isMeshPhysicalMaterial=!0,yi.prototype.copy=function(t){return fi.prototype.copy.call(this,t),this.defines={PHYSICAL:""},this.reflectivity=t.reflectivity,this.clearCoat=t.clearCoat,this.clearCoatRoughness=t.clearCoatRoughness,this},mi.prototype=Object.create(W.prototype),mi.prototype.constructor=mi,mi.prototype.isMeshPhongMaterial=!0,mi.prototype.copy=function(t){return W.prototype.copy.call(this,t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},vi.prototype=Object.create(mi.prototype),vi.prototype.constructor=vi,vi.prototype.isMeshToonMaterial=!0,vi.prototype.copy=function(t){return mi.prototype.copy.call(this,t),this.gradientMap=t.gradientMap,this},gi.prototype=Object.create(W.prototype),gi.prototype.constructor=gi,gi.prototype.isMeshNormalMaterial=!0,gi.prototype.copy=function(t){return W.prototype.copy.call(this,t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},xi.prototype=Object.create(W.prototype),xi.prototype.constructor=xi,xi.prototype.isMeshLambertMaterial=!0,xi.prototype.copy=function(t){return W.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},_i.prototype=Object.create(Fe.prototype),_i.prototype.constructor=_i,_i.prototype.isLineDashedMaterial=!0,_i.prototype.copy=function(t){return Fe.prototype.copy.call(this,t),this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this};var uu=Object.freeze({ShadowMaterial:pi,SpriteMaterial:Re,RawShaderMaterial:di,ShaderMaterial:Y,PointsMaterial:Ge,MeshPhysicalMaterial:yi,MeshStandardMaterial:fi,MeshPhongMaterial:mi,MeshToonMaterial:vi,MeshNormalMaterial:gi,MeshLambertMaterial:xi,MeshDepthMaterial:me,MeshDistanceMaterial:ve,MeshBasicMaterial:q,LineDashedMaterial:_i,LineBasicMaterial:Fe,Material:W}),cu={enabled:!1,files:{},add:function(t,e){!1!==this.enabled&&(this.files[t]=e)},get:function(t){if(!1!==this.enabled)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}},hu=new bi,pu={};Object.assign(wi.prototype,{load:function(t,e,n,i){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var r=this,o=cu.get(t);if(void 0!==o)return r.manager.itemStart(t),setTimeout(function(){e&&e(o),r.manager.itemEnd(t)},0),o;if(void 0!==pu[t])return void pu[t].push({onLoad:e,onProgress:n,onError:i});var a=/^data:(.*?)(;base64)?,(.*)$/,s=t.match(a);if(s){var l=s[1],u=!!s[2],c=s[3];c=window.decodeURIComponent(c),u&&(c=window.atob(c));try{var h,p=(this.responseType||"").toLowerCase();switch(p){case"arraybuffer":case"blob":for(var d=new Uint8Array(c.length),f=0;f<c.length;f++)d[f]=c.charCodeAt(f);h="blob"===p?new Blob([d.buffer],{type:l}):d.buffer;break;case"document":var y=new DOMParser;h=y.parseFromString(c,l);break;case"json":h=JSON.parse(c);break;default:h=c}window.setTimeout(function(){e&&e(h),r.manager.itemEnd(t)},0)}catch(e){window.setTimeout(function(){i&&i(e),r.manager.itemEnd(t),r.manager.itemError(t)},0)}}else{pu[t]=[],pu[t].push({onLoad:e,onProgress:n,onError:i});var m=new XMLHttpRequest;m.open("GET",t,!0),m.addEventListener("load",function(e){var n=this.response;cu.add(t,n);var i=pu[t];if(delete pu[t],200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received.");for(var o=0,a=i.length;o<a;o++){var s=i[o];s.onLoad&&s.onLoad(n)}r.manager.itemEnd(t)}else{for(var o=0,a=i.length;o<a;o++){var s=i[o];s.onError&&s.onError(e)}r.manager.itemEnd(t),r.manager.itemError(t)}},!1),m.addEventListener("progress",function(e){for(var n=pu[t],i=0,r=n.length;i<r;i++){var o=n[i];o.onProgress&&o.onProgress(e)}},!1),m.addEventListener("error",function(e){var n=pu[t];delete pu[t];for(var i=0,o=n.length;i<o;i++){var a=n[i];a.onError&&a.onError(e)}r.manager.itemEnd(t),r.manager.itemError(t)},!1),void 0!==this.responseType&&(m.responseType=this.responseType),void 0!==this.withCredentials&&(m.withCredentials=this.withCredentials),m.overrideMimeType&&m.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain");for(var v in this.requestHeader)m.setRequestHeader(v,this.requestHeader[v]);m.send(null)}return r.manager.itemStart(t),m},setPath:function(t){return this.path=t,this},setResponseType:function(t){return this.responseType=t,this},setWithCredentials:function(t){return this.withCredentials=t,this},setMimeType:function(t){return this.mimeType=t,this},setRequestHeader:function(t){return this.requestHeader=t,this}}),Object.assign(Ei.prototype,{load:function(t,e,n,i){var r=this,o=[],a=new qe;a.image=o;var s=new wi(this.manager);if(s.setPath(this.path),s.setResponseType("arraybuffer"),Array.isArray(t))for(var l=0,u=0,c=t.length;u<c;++u)!function(u){s.load(t[u],function(t){var n=r._parser(t,!0);o[u]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},6===(l+=1)&&(1===n.mipmapCount&&(a.minFilter=_s),a.format=n.format,a.needsUpdate=!0,e&&e(a))},n,i)}(u);else s.load(t,function(t){var n=r._parser(t,!0);if(n.isCubemap)for(var i=n.mipmaps.length/n.mipmapCount,s=0;s<i;s++){o[s]={mipmaps:[]};for(var l=0;l<n.mipmapCount;l++)o[s].mipmaps.push(n.mipmaps[s*n.mipmapCount+l]),o[s].format=n.format,o[s].width=n.width,o[s].height=n.height}else a.image.width=n.width,a.image.height=n.height,a.mipmaps=n.mipmaps;1===n.mipmapCount&&(a.minFilter=_s),a.format=n.format,a.needsUpdate=!0,e&&e(a)},n,i);return a},setPath:function(t){return this.path=t,this}}),Object.assign(Mi.prototype,{load:function(t,e,n,i){var r=this,o=new d,a=new wi(this.manager);return a.setResponseType("arraybuffer"),a.load(t,function(t){var n=r._parser(t);n&&(void 0!==n.image?o.image=n.image:void 0!==n.data&&(o.image.width=n.width,o.image.height=n.height,o.image.data=n.data),o.wrapS=void 0!==n.wrapS?n.wrapS:ys,o.wrapT=void 0!==n.wrapT?n.wrapT:ys,o.magFilter=void 0!==n.magFilter?n.magFilter:_s,o.minFilter=void 0!==n.minFilter?n.minFilter:ws,o.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.format&&(o.format=n.format),void 0!==n.type&&(o.type=n.type),void 0!==n.mipmaps&&(o.mipmaps=n.mipmaps),1===n.mipmapCount&&(o.minFilter=_s),o.needsUpdate=!0,e&&e(o,n))},n,i),o}}),Object.assign(Ti.prototype,{crossOrigin:"anonymous",load:function(t,e,n,i){function r(){l.removeEventListener("load",r,!1),l.removeEventListener("error",o,!1),cu.add(t,this),e&&e(this),a.manager.itemEnd(t)}function o(e){l.removeEventListener("load",r,!1),l.removeEventListener("error",o,!1),i&&i(e),a.manager.itemEnd(t),a.manager.itemError(t)}void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var a=this,s=cu.get(t);if(void 0!==s)return a.manager.itemStart(t),setTimeout(function(){e&&e(s),a.manager.itemEnd(t)},0),s;var l=document.createElementNS("http://www.w3.org/1999/xhtml","img");return l.addEventListener("load",r,!1),l.addEventListener("error",o,!1),"data:"!==t.substr(0,5)&&void 0!==this.crossOrigin&&(l.crossOrigin=this.crossOrigin),a.manager.itemStart(t),l.src=t,l},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),Object.assign(Si.prototype,{crossOrigin:"anonymous",load:function(t,e,n,i){var r=new lt,o=new Ti(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);for(var a=0,s=0;s<t.length;++s)!function(n){o.load(t[n],function(t){r.images[n]=t,6===++a&&(r.needsUpdate=!0,e&&e(r))},void 0,i)}(s);return r},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),Object.assign(Ai.prototype,{crossOrigin:"anonymous",load:function(t,e,n,i){var r=new u,o=new Ti(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(t,function(n){r.image=n;var i=t.search(/\.(jpg|jpeg)$/)>0||0===t.search(/^data\:image\/jpeg/);r.format=i?Ds:Bs,r.needsUpdate=!0,void 0!==e&&e(r)},n,i),r},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),Object.assign(Ci.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(t,e){var n=this.getUtoTmapping(t);return this.getPoint(n,e)},getPoints:function(t){void 0===t&&(t=5);for(var e=[],n=0;n<=t;n++)e.push(this.getPoint(n/t));return e},getSpacedPoints:function(t){void 0===t&&(t=5);for(var e=[],n=0;n<=t;n++)e.push(this.getPointAt(n/t));return e},getLength:function(){var t=this.getLengths();return t[t.length-1]},getLengths:function(t){if(void 0===t&&(t=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var e,n,i=[],r=this.getPoint(0),o=0;for(i.push(0),n=1;n<=t;n++)e=this.getPoint(n/t),o+=e.distanceTo(r),i.push(o),r=e;return this.cacheArcLengths=i,i},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(t,e){var n,i=this.getLengths(),r=0,o=i.length;n=e||t*i[o-1];for(var a,s=0,l=o-1;s<=l;)if(r=Math.floor(s+(l-s)/2),(a=i[r]-n)<0)s=r+1;else{if(!(a>0)){l=r;break}l=r-1}if(r=l,i[r]===n)return r/(o-1);var u=i[r];return(r+(n-u)/(i[r+1]-u))/(o-1)},getTangent:function(t){var e=t-1e-4,n=t+1e-4;e<0&&(e=0),n>1&&(n=1);var i=this.getPoint(e);return this.getPoint(n).clone().sub(i).normalize()},getTangentAt:function(t){var e=this.getUtoTmapping(t);return this.getTangent(e)},computeFrenetFrames:function(t,e){var n,i,r,a=new s,l=[],u=[],c=[],h=new s,p=new o;for(n=0;n<=t;n++)i=n/t,l[n]=this.getTangentAt(i),l[n].normalize();u[0]=new s,c[0]=new s;var d=Number.MAX_VALUE,f=Math.abs(l[0].x),y=Math.abs(l[0].y),m=Math.abs(l[0].z);for(f<=d&&(d=f,a.set(1,0,0)),y<=d&&(d=y,a.set(0,1,0)),m<=d&&a.set(0,0,1),h.crossVectors(l[0],a).normalize(),u[0].crossVectors(l[0],h),c[0].crossVectors(l[0],u[0]),n=1;n<=t;n++)u[n]=u[n-1].clone(),c[n]=c[n-1].clone(),h.crossVectors(l[n-1],l[n]),h.length()>Number.EPSILON&&(h.normalize(),r=Math.acos(Dl.clamp(l[n-1].dot(l[n]),-1,1)),u[n].applyMatrix4(p.makeRotationAxis(h,r))),c[n].crossVectors(l[n],u[n]);if(!0===e)for(r=Math.acos(Dl.clamp(u[0].dot(u[t]),-1,1)),r/=t,l[0].dot(h.crossVectors(u[0],u[t]))>0&&(r=-r),n=1;n<=t;n++)u[n].applyMatrix4(p.makeRotationAxis(l[n],r*n)),c[n].crossVectors(l[n],u[n]);return{tangents:l,normals:u,binormals:c}},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this},toJSON:function(){var t={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t},fromJSON:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}),Li.prototype=Object.create(Ci.prototype),Li.prototype.constructor=Li,Li.prototype.isEllipseCurve=!0,Li.prototype.getPoint=function(t,e){for(var n=e||new r,i=2*Math.PI,o=this.aEndAngle-this.aStartAngle,a=Math.abs(o)<Number.EPSILON;o<0;)o+=i;for(;o>i;)o-=i;o<Number.EPSILON&&(o=a?0:i),!0!==this.aClockwise||a||(o===i?o=-i:o-=i);var s=this.aStartAngle+t*o,l=this.aX+this.xRadius*Math.cos(s),u=this.aY+this.yRadius*Math.sin(s);if(0!==this.aRotation){var c=Math.cos(this.aRotation),h=Math.sin(this.aRotation),p=l-this.aX,d=u-this.aY;l=p*c-d*h+this.aX,u=p*h+d*c+this.aY}return n.set(l,u)},Li.prototype.copy=function(t){return Ci.prototype.copy.call(this,t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this},Li.prototype.toJSON=function(){var t=Ci.prototype.toJSON.call(this);return t.aX=this.aX,t.aY=this.aY,t.xRadius=this.xRadius,t.yRadius=this.yRadius,t.aStartAngle=this.aStartAngle,t.aEndAngle=this.aEndAngle,t.aClockwise=this.aClockwise,t.aRotation=this.aRotation,t},Li.prototype.fromJSON=function(t){return Ci.prototype.fromJSON.call(this,t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this},ki.prototype=Object.create(Li.prototype),ki.prototype.constructor=ki,ki.prototype.isArcCurve=!0;var du=new s,fu=new Pi,yu=new Pi,mu=new Pi;Ii.prototype=Object.create(Ci.prototype),Ii.prototype.constructor=Ii,Ii.prototype.isCatmullRomCurve3=!0,Ii.prototype.getPoint=function(t,e){var n=e||new s,i=this.points,r=i.length,o=(r-(this.closed?0:1))*t,a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/r)+1)*r:0===l&&a===r-1&&(a=r-2,l=1);var u,c,h,p;if(this.closed||a>0?u=i[(a-1)%r]:(du.subVectors(i[0],i[1]).add(i[0]),u=du),c=i[a%r],h=i[(a+1)%r],this.closed||a+2<r?p=i[(a+2)%r]:(du.subVectors(i[r-1],i[r-2]).add(i[r-1]),p=du),"centripetal"===this.curveType||"chordal"===this.curveType){var d="chordal"===this.curveType?.5:.25,f=Math.pow(u.distanceToSquared(c),d),y=Math.pow(c.distanceToSquared(h),d),m=Math.pow(h.distanceToSquared(p),d);y<1e-4&&(y=1),f<1e-4&&(f=y),m<1e-4&&(m=y),fu.initNonuniformCatmullRom(u.x,c.x,h.x,p.x,f,y,m),yu.initNonuniformCatmullRom(u.y,c.y,h.y,p.y,f,y,m),mu.initNonuniformCatmullRom(u.z,c.z,h.z,p.z,f,y,m)}else"catmullrom"===this.curveType&&(fu.initCatmullRom(u.x,c.x,h.x,p.x,this.tension),yu.initCatmullRom(u.y,c.y,h.y,p.y,this.tension),mu.initCatmullRom(u.z,c.z,h.z,p.z,this.tension));return n.set(fu.calc(l),yu.calc(l),mu.calc(l)),n},Ii.prototype.copy=function(t){Ci.prototype.copy.call(this,t),this.points=[];for(var e=0,n=t.points.length;e<n;e++){var i=t.points[e];this.points.push(i.clone())}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this},Ii.prototype.toJSON=function(){var t=Ci.prototype.toJSON.call(this);t.points=[];for(var e=0,n=this.points.length;e<n;e++){var i=this.points[e];t.points.push(i.toArray())}return t.closed=this.closed,t.curveType=this.curveType,t.tension=this.tension,t},Ii.prototype.fromJSON=function(t){Ci.prototype.fromJSON.call(this,t),this.points=[];for(var e=0,n=t.points.length;e<n;e++){var i=t.points[e];this.points.push((new s).fromArray(i))}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this},Gi.prototype=Object.create(Ci.prototype),Gi.prototype.constructor=Gi,Gi.prototype.isCubicBezierCurve=!0,Gi.prototype.getPoint=function(t,e){var n=e||new r,i=this.v0,o=this.v1,a=this.v2,s=this.v3;return n.set(Vi(t,i.x,o.x,a.x,s.x),Vi(t,i.y,o.y,a.y,s.y)),n},Gi.prototype.copy=function(t){return Ci.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this},Gi.prototype.toJSON=function(){var t=Ci.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t},Gi.prototype.fromJSON=function(t){return Ci.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this},Hi.prototype=Object.create(Ci.prototype),Hi.prototype.constructor=Hi,Hi.prototype.isCubicBezierCurve3=!0,Hi.prototype.getPoint=function(t,e){var n=e||new s,i=this.v0,r=this.v1,o=this.v2,a=this.v3;return n.set(Vi(t,i.x,r.x,o.x,a.x),Vi(t,i.y,r.y,o.y,a.y),Vi(t,i.z,r.z,o.z,a.z)),n},Hi.prototype.copy=function(t){return Ci.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this},Hi.prototype.toJSON=function(){var t=Ci.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t},Hi.prototype.fromJSON=function(t){return Ci.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this},Wi.prototype=Object.create(Ci.prototype),Wi.prototype.constructor=Wi,Wi.prototype.isLineCurve=!0,Wi.prototype.getPoint=function(t,e){var n=e||new r;return 1===t?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(t).add(this.v1)),n},Wi.prototype.getPointAt=function(t,e){return this.getPoint(t,e)},Wi.prototype.getTangent=function(){return this.v2.clone().sub(this.v1).normalize()},Wi.prototype.copy=function(t){return Ci.prototype.copy.call(this,t),this.v1.copy(t.v1),this.v2.copy(t.v2),this},Wi.prototype.toJSON=function(){var t=Ci.prototype.toJSON.call(this);return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},Wi.prototype.fromJSON=function(t){return Ci.prototype.fromJSON.call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},qi.prototype=Object.create(Ci.prototype),qi.prototype.constructor=qi,qi.prototype.isLineCurve3=!0,qi.prototype.getPoint=function(t,e){var n=e||new s;return 1===t?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(t).add(this.v1)),n},qi.prototype.getPointAt=function(t,e){return this.getPoint(t,e)},qi.prototype.copy=function(t){return Ci.prototype.copy.call(this,t),this.v1.copy(t.v1),this.v2.copy(t.v2),this},qi.prototype.toJSON=function(){var t=Ci.prototype.toJSON.call(this);return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},qi.prototype.fromJSON=function(t){return Ci.prototype.fromJSON.call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},Yi.prototype=Object.create(Ci.prototype),Yi.prototype.constructor=Yi,Yi.prototype.isQuadraticBezierCurve=!0,Yi.prototype.getPoint=function(t,e){var n=e||new r,i=this.v0,o=this.v1,a=this.v2;return n.set(Bi(t,i.x,o.x,a.x),Bi(t,i.y,o.y,a.y)),n},Yi.prototype.copy=function(t){return Ci.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this},Yi.prototype.toJSON=function(){var t=Ci.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},Yi.prototype.fromJSON=function(t){return Ci.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},Xi.prototype=Object.create(Ci.prototype),Xi.prototype.constructor=Xi,Xi.prototype.isQuadraticBezierCurve3=!0,Xi.prototype.getPoint=function(t,e){var n=e||new s,i=this.v0,r=this.v1,o=this.v2;return n.set(Bi(t,i.x,r.x,o.x),Bi(t,i.y,r.y,o.y),Bi(t,i.z,r.z,o.z)),n},Xi.prototype.copy=function(t){return Ci.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this},Xi.prototype.toJSON=function(){var t=Ci.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},Xi.prototype.fromJSON=function(t){return Ci.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},$i.prototype=Object.create(Ci.prototype),$i.prototype.constructor=$i,$i.prototype.isSplineCurve=!0,$i.prototype.getPoint=function(t,e){var n=e||new r,i=this.points,o=(i.length-1)*t,a=Math.floor(o),s=o-a,l=i[0===a?a:a-1],u=i[a],c=i[a>i.length-2?i.length-1:a+1],h=i[a>i.length-3?i.length-1:a+2];return n.set(Ri(s,l.x,u.x,c.x,h.x),Ri(s,l.y,u.y,c.y,h.y)),n},$i.prototype.copy=function(t){Ci.prototype.copy.call(this,t),this.points=[];for(var e=0,n=t.points.length;e<n;e++){var i=t.points[e];this.points.push(i.clone())}return this},$i.prototype.toJSON=function(){var t=Ci.prototype.toJSON.call(this);t.points=[];for(var e=0,n=this.points.length;e<n;e++){var i=this.points[e];t.points.push(i.toArray())}return t},$i.prototype.fromJSON=function(t){Ci.prototype.fromJSON.call(this,t),this.points=[];for(var e=0,n=t.points.length;e<n;e++){var i=t.points[e];this.points.push((new r).fromArray(i))}return this};var vu=Object.freeze({ArcCurve:ki,CatmullRomCurve3:Ii,CubicBezierCurve:Gi,CubicBezierCurve3:Hi,EllipseCurve:Li,LineCurve:Wi,LineCurve3:qi,QuadraticBezierCurve:Yi,QuadraticBezierCurve3:Xi,SplineCurve:$i});Zi.prototype=Object.assign(Object.create(Ci.prototype),{constructor:Zi,add:function(t){this.curves.push(t)},closePath:function(){var t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);t.equals(e)||this.curves.push(new Wi(e,t))},getPoint:function(t){for(var e=t*this.getLength(),n=this.getCurveLengths(),i=0;i<n.length;){if(n[i]>=e){var r=n[i]-e,o=this.curves[i],a=o.getLength(),s=0===a?0:1-r/a;return o.getPointAt(s)}i++}return null},getLength:function(){var t=this.getCurveLengths();return t[t.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var t=[],e=0,n=0,i=this.curves.length;n<i;n++)e+=this.curves[n].getLength(),t.push(e);return this.cacheLengths=t,t},getSpacedPoints:function(t){void 0===t&&(t=40);for(var e=[],n=0;n<=t;n++)e.push(this.getPoint(n/t));return this.autoClose&&e.push(e[0]),e},getPoints:function(t){t=t||12;for(var e,n=[],i=0,r=this.curves;i<r.length;i++)for(var o=r[i],a=o&&o.isEllipseCurve?2*t:o&&(o.isLineCurve||o.isLineCurve3)?1:o&&o.isSplineCurve?t*o.points.length:t,s=o.getPoints(a),l=0;l<s.length;l++){var u=s[l];e&&e.equals(u)||(n.push(u),e=u)}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n},copy:function(t){Ci.prototype.copy.call(this,t),this.curves=[];for(var e=0,n=t.curves.length;e<n;e++){var i=t.curves[e];this.curves.push(i.clone())}return this.autoClose=t.autoClose,this},toJSON:function(){var t=Ci.prototype.toJSON.call(this);t.autoClose=this.autoClose,t.curves=[];for(var e=0,n=this.curves.length;e<n;e++){var i=this.curves[e];t.curves.push(i.toJSON())}return t},fromJSON:function(t){Ci.prototype.fromJSON.call(this,t),this.autoClose=t.autoClose,this.curves=[];for(var e=0,n=t.curves.length;e<n;e++){var i=t.curves[e];this.curves.push((new vu[i.type]).fromJSON(i))}return this}}),Ji.prototype=Object.assign(Object.create(Zi.prototype),{constructor:Ji,setFromPoints:function(t){this.moveTo(t[0].x,t[0].y);for(var e=1,n=t.length;e<n;e++)this.lineTo(t[e].x,t[e].y)},moveTo:function(t,e){this.currentPoint.set(t,e)},lineTo:function(t,e){var n=new Wi(this.currentPoint.clone(),new r(t,e));this.curves.push(n),this.currentPoint.set(t,e)},quadraticCurveTo:function(t,e,n,i){var o=new Yi(this.currentPoint.clone(),new r(t,e),new r(n,i));this.curves.push(o),this.currentPoint.set(n,i)},bezierCurveTo:function(t,e,n,i,o,a){var s=new Gi(this.currentPoint.clone(),new r(t,e),new r(n,i),new r(o,a));this.curves.push(s),this.currentPoint.set(o,a)},splineThru:function(t){var e=[this.currentPoint.clone()].concat(t),n=new $i(e);this.curves.push(n),this.currentPoint.copy(t[t.length-1])},arc:function(t,e,n,i,r,o){var a=this.currentPoint.x,s=this.currentPoint.y;this.absarc(t+a,e+s,n,i,r,o)},absarc:function(t,e,n,i,r,o){this.absellipse(t,e,n,n,i,r,o)},ellipse:function(t,e,n,i,r,o,a,s){var l=this.currentPoint.x,u=this.currentPoint.y;this.absellipse(t+l,e+u,n,i,r,o,a,s)},absellipse:function(t,e,n,i,r,o,a,s){var l=new Li(t,e,n,i,r,o,a,s);if(this.curves.length>0){var u=l.getPoint(0);u.equals(this.currentPoint)||this.lineTo(u.x,u.y)}this.curves.push(l);var c=l.getPoint(1);this.currentPoint.copy(c)},copy:function(t){return Zi.prototype.copy.call(this,t),this.currentPoint.copy(t.currentPoint),this},toJSON:function(){var t=Zi.prototype.toJSON.call(this);return t.currentPoint=this.currentPoint.toArray(),t},fromJSON:function(t){return Zi.prototype.fromJSON.call(this,t),this.currentPoint.fromArray(t.currentPoint),this}}),Ki.prototype=Object.assign(Object.create(Ji.prototype),{constructor:Ki,getPointsHoles:function(t){for(var e=[],n=0,i=this.holes.length;n<i;n++)e[n]=this.holes[n].getPoints(t);return e},extractPoints:function(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}},copy:function(t){Ji.prototype.copy.call(this,t),this.holes=[];for(var e=0,n=t.holes.length;e<n;e++){var i=t.holes[e];this.holes.push(i.clone())}return this},toJSON:function(){var t=Ji.prototype.toJSON.call(this);t.uuid=this.uuid,t.holes=[];for(var e=0,n=this.holes.length;e<n;e++){var i=this.holes[e];t.holes.push(i.toJSON())}return t},fromJSON:function(t){Ji.prototype.fromJSON.call(this,t),this.uuid=t.uuid,this.holes=[];for(var e=0,n=t.holes.length;e<n;e++){var i=t.holes[e];this.holes.push((new Ji).fromJSON(i))}return this}}),Qi.prototype=Object.assign(Object.create(E.prototype),{constructor:Qi,isLight:!0,copy:function(t){return E.prototype.copy.call(this,t),this.color.copy(t.color),this.intensity=t.intensity,this},toJSON:function(t){var e=E.prototype.toJSON.call(this,t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),e}}),tr.prototype=Object.assign(Object.create(Qi.prototype),{constructor:tr,isHemisphereLight:!0,copy:function(t){return Qi.prototype.copy.call(this,t),this.groundColor.copy(t.groundColor),this}}),Object.assign(er.prototype,{copy:function(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var t={};return 0!==this.bias&&(t.bias=this.bias),1!==this.radius&&(t.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}),nr.prototype=Object.assign(Object.create(er.prototype),{constructor:nr,isSpotLightShadow:!0,update:function(t){var e=this.camera,n=2*Dl.RAD2DEG*t.angle,i=this.mapSize.width/this.mapSize.height,r=t.distance||e.far;n===e.fov&&i===e.aspect&&r===e.far||(e.fov=n,e.aspect=i,e.far=r,e.updateProjectionMatrix())}}),ir.prototype=Object.assign(Object.create(Qi.prototype),{constructor:ir,isSpotLight:!0,copy:function(t){return Qi.prototype.copy.call(this,t),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),rr.prototype=Object.assign(Object.create(Qi.prototype),{constructor:rr,isPointLight:!0,copy:function(t){return Qi.prototype.copy.call(this,t),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}),or.prototype=Object.assign(Object.create(er.prototype),{constructor:or}),ar.prototype=Object.assign(Object.create(Qi.prototype),{constructor:ar,isDirectionalLight:!0,copy:function(t){return Qi.prototype.copy.call(this,t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),sr.prototype=Object.assign(Object.create(Qi.prototype),{constructor:sr,isAmbientLight:!0}),lr.prototype=Object.assign(Object.create(Qi.prototype),{constructor:lr,isRectAreaLight:!0,copy:function(t){return Qi.prototype.copy.call(this,t),this.width=t.width,this.height=t.height,this},toJSON:function(t){var e=Qi.prototype.toJSON.call(this,t);return e.object.width=this.width,e.object.height=this.height,e}});var gu={arraySlice:function(t,e,n){return gu.isTypedArray(t)?new t.constructor(t.subarray(e,void 0!==n?n:t.length)):t.slice(e,n)},convertArray:function(t,e,n){return!t||!n&&t.constructor===e?t:"number"===typeof e.BYTES_PER_ELEMENT?new e(t):Array.prototype.slice.call(t)},isTypedArray:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)},getKeyframeOrder:function(t){function e(e,n){return t[e]-t[n]}for(var n=t.length,i=new Array(n),r=0;r!==n;++r)i[r]=r;return i.sort(e),i},sortedArray:function(t,e,n){for(var i=t.length,r=new t.constructor(i),o=0,a=0;a!==i;++o)for(var s=n[o]*e,l=0;l!==e;++l)r[a++]=t[s+l];return r},flattenJSON:function(t,e,n,i){for(var r=1,o=t[0];void 0!==o&&void 0===o[i];)o=t[r++];if(void 0!==o){var a=o[i];if(void 0!==a)if(Array.isArray(a))do{a=o[i],void 0!==a&&(e.push(o.time),n.push.apply(n,a)),o=t[r++]}while(void 0!==o);else if(void 0!==a.toArray)do{a=o[i],void 0!==a&&(e.push(o.time),a.toArray(n,n.length)),o=t[r++]}while(void 0!==o);else do{a=o[i],void 0!==a&&(e.push(o.time),n.push(a)),o=t[r++]}while(void 0!==o)}}};Object.assign(ur.prototype,{evaluate:function(t){var e=this.parameterPositions,n=this._cachedIndex,i=e[n],r=e[n-1];t:{e:{var o;n:{i:if(!(t<i)){for(var a=n+2;;){if(void 0===i){if(t<r)break i;return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,t,r)}if(n===a)break;if(r=i,i=e[++n],t<i)break e}o=e.length;break n}{if(t>=r)break t;var s=e[1];t<s&&(n=2,r=s);for(var a=n-2;;){if(void 0===r)return this._cachedIndex=0,this.beforeStart_(0,t,i);if(n===a)break;if(i=r,r=e[--n-1],t>=r)break e}o=n,n=0}}for(;n<o;){var l=n+o>>>1;t<e[l]?o=l:n=l+1}if(i=e[n],void 0===(r=e[n-1]))return this._cachedIndex=0,this.beforeStart_(0,t,i);if(void 0===i)return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,r,t)}this._cachedIndex=n,this.intervalChanged_(n,r,i)}return this.interpolate_(n,r,t,i)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(t){for(var e=this.resultBuffer,n=this.sampleValues,i=this.valueSize,r=t*i,o=0;o!==i;++o)e[o]=n[r+o];return e},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),Object.assign(ur.prototype,{beforeStart_:ur.prototype.copySampleValue_,afterEnd_:ur.prototype.copySampleValue_}),cr.prototype=Object.assign(Object.create(ur.prototype),{constructor:cr,DefaultSettings_:{endingStart:gl,endingEnd:gl},intervalChanged_:function(t,e,n){var i=this.parameterPositions,r=t-2,o=t+1,a=i[r],s=i[o];if(void 0===a)switch(this.getSettings_().endingStart){case xl:r=t,a=2*e-n;break;case _l:r=i.length-2,a=e+i[r]-i[r+1];break;default:r=t,a=n}if(void 0===s)switch(this.getSettings_().endingEnd){case xl:o=t,s=2*n-e;break;case _l:o=1,s=n+i[1]-i[0];break;default:o=t-1,s=e}var l=.5*(n-e),u=this.valueSize;this._weightPrev=l/(e-a),this._weightNext=l/(s-n),this._offsetPrev=r*u,this._offsetNext=o*u},interpolate_:function(t,e,n,i){for(var r=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=t*a,l=s-a,u=this._offsetPrev,c=this._offsetNext,h=this._weightPrev,p=this._weightNext,d=(n-e)/(i-e),f=d*d,y=f*d,m=-h*y+2*h*f-h*d,v=(1+h)*y+(-1.5-2*h)*f+(-.5+h)*d+1,g=(-1-p)*y+(1.5+p)*f+.5*d,x=p*y-p*f,_=0;_!==a;++_)r[_]=m*o[u+_]+v*o[l+_]+g*o[s+_]+x*o[c+_];return r}}),hr.prototype=Object.assign(Object.create(ur.prototype),{constructor:hr,interpolate_:function(t,e,n,i){for(var r=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=t*a,l=s-a,u=(n-e)/(i-e),c=1-u,h=0;h!==a;++h)r[h]=o[l+h]*c+o[s+h]*u;return r}}),pr.prototype=Object.assign(Object.create(ur.prototype),{constructor:pr,interpolate_:function(t){return this.copySampleValue_(t-1)}}),Object.assign(dr,{toJSON:function(t){var e,n=t.constructor;if(void 0!==n.toJSON)e=n.toJSON(t);else{e={name:t.name,times:gu.convertArray(t.times,Array),values:gu.convertArray(t.values,Array)};var i=t.getInterpolation();i!==t.DefaultInterpolation&&(e.interpolation=i)}return e.type=t.ValueTypeName,e}}),Object.assign(dr.prototype,{constructor:dr,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:ml,InterpolantFactoryMethodDiscrete:function(t){return new pr(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodLinear:function(t){return new hr(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:function(t){return new cr(this.times,this.values,this.getValueSize(),t)},setInterpolation:function(t){var e;switch(t){case yl:e=this.InterpolantFactoryMethodDiscrete;break;case ml:e=this.InterpolantFactoryMethodLinear;break;case vl:e=this.InterpolantFactoryMethodSmooth}if(void 0===e){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=e,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return yl;case this.InterpolantFactoryMethodLinear:return ml;case this.InterpolantFactoryMethodSmooth:return vl}},getValueSize:function(){return this.values.length/this.times.length},shift:function(t){if(0!==t)for(var e=this.times,n=0,i=e.length;n!==i;++n)e[n]+=t;return this},scale:function(t){if(1!==t)for(var e=this.times,n=0,i=e.length;n!==i;++n)e[n]*=t;return this},trim:function(t,e){for(var n=this.times,i=n.length,r=0,o=i-1;r!==i&&n[r]<t;)++r;for(;-1!==o&&n[o]>e;)--o;if(++o,0!==r||o!==i){r>=o&&(o=Math.max(o,1),r=o-1);var a=this.getValueSize();this.times=gu.arraySlice(n,r,o),this.values=gu.arraySlice(this.values,r*a,o*a)}return this},validate:function(){var t=!0,e=this.getValueSize();e-Math.floor(e)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);var n=this.times,i=this.values,r=n.length;0===r&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);for(var o=null,a=0;a!==r;a++){var s=n[a];if("number"===typeof s&&isNaN(s)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,s),t=!1;break}if(null!==o&&o>s){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,s,o),t=!1;break}o=s}if(void 0!==i&&gu.isTypedArray(i))for(var a=0,l=i.length;a!==l;++a){var u=i[a];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,u),t=!1;break}}return t},optimize:function(){for(var t=this.times,e=this.values,n=this.getValueSize(),i=this.getInterpolation()===vl,r=1,o=t.length-1,a=1;a<o;++a){var s=!1,l=t[a];if(l!==t[a+1]&&(1!==a||l!==l[0]))if(i)s=!0;else for(var u=a*n,c=u-n,h=u+n,p=0;p!==n;++p){var d=e[u+p];if(d!==e[c+p]||d!==e[h+p]){s=!0;break}}if(s){if(a!==r){t[r]=t[a];for(var f=a*n,y=r*n,p=0;p!==n;++p)e[y+p]=e[f+p]}++r}}if(o>0){t[r]=t[o];for(var f=o*n,y=r*n,p=0;p!==n;++p)e[y+p]=e[f+p];++r}return r!==t.length&&(this.times=gu.arraySlice(t,0,r),this.values=gu.arraySlice(e,0,r*n)),this}}),fr.prototype=Object.assign(Object.create(dr.prototype),{constructor:fr,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:yl,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),yr.prototype=Object.assign(Object.create(dr.prototype),{constructor:yr,ValueTypeName:"color"}),mr.prototype=Object.assign(Object.create(dr.prototype),{constructor:mr,ValueTypeName:"number"}),vr.prototype=Object.assign(Object.create(ur.prototype),{constructor:vr,interpolate_:function(t,e,n,i){for(var r=this.resultBuffer,o=this.sampleValues,s=this.valueSize,l=t*s,u=(n-e)/(i-e),c=l+s;l!==c;l+=4)a.slerpFlat(r,0,o,l-s,o,l,u);return r}}),gr.prototype=Object.assign(Object.create(dr.prototype),{constructor:gr,ValueTypeName:"quaternion",DefaultInterpolation:ml,InterpolantFactoryMethodLinear:function(t){return new vr(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:void 0}),xr.prototype=Object.assign(Object.create(dr.prototype),{constructor:xr,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:yl,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),_r.prototype=Object.assign(Object.create(dr.prototype),{constructor:_r,ValueTypeName:"vector"}),Object.assign(br,{parse:function(t){for(var e=[],n=t.tracks,i=1/(t.fps||1),r=0,o=n.length;r!==o;++r)e.push(Er(n[r]).scale(i));return new br(t.name,t.duration,e)},toJSON:function(t){for(var e=[],n=t.tracks,i={name:t.name,duration:t.duration,tracks:e,uuid:t.uuid},r=0,o=n.length;r!==o;++r)e.push(dr.toJSON(n[r]));return i},CreateFromMorphTargetSequence:function(t,e,n,i){for(var r=e.length,o=[],a=0;a<r;a++){var s=[],l=[];s.push((a+r-1)%r,a,(a+1)%r),l.push(0,1,0);var u=gu.getKeyframeOrder(s);s=gu.sortedArray(s,1,u),l=gu.sortedArray(l,1,u),i||0!==s[0]||(s.push(r),l.push(l[0])),o.push(new mr(".morphTargetInfluences["+e[a].name+"]",s,l).scale(1/n))}return new br(t,-1,o)},findByName:function(t,e){var n=t;if(!Array.isArray(t)){var i=t;n=i.geometry&&i.geometry.animations||i.animations}for(var r=0;r<n.length;r++)if(n[r].name===e)return n[r];return null},CreateClipsFromMorphTargetSequences:function(t,e,n){for(var i={},r=/^([\w-]*?)([\d]+)$/,o=0,a=t.length;o<a;o++){var s=t[o],l=s.name.match(r);if(l&&l.length>1){var u=l[1],c=i[u];c||(i[u]=c=[]),c.push(s)}}var h=[];for(var u in i)h.push(br.CreateFromMorphTargetSequence(u,i[u],e,n));return h},parseAnimation:function(t,e){if(!t)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var n=function(t,e,n,i,r){if(0!==n.length){var o=[],a=[];gu.flattenJSON(n,o,a,i),0!==o.length&&r.push(new t(e,o,a))}},i=[],r=t.name||"default",o=t.length||-1,a=t.fps||30,s=t.hierarchy||[],l=0;l<s.length;l++){var u=s[l].keys;if(u&&0!==u.length)if(u[0].morphTargets){for(var c={},h=0;h<u.length;h++)if(u[h].morphTargets)for(var p=0;p<u[h].morphTargets.length;p++)c[u[h].morphTargets[p]]=-1;for(var d in c){for(var f=[],y=[],p=0;p!==u[h].morphTargets.length;++p){var m=u[h];f.push(m.time),y.push(m.morphTarget===d?1:0)}i.push(new mr(".morphTargetInfluence["+d+"]",f,y))}o=c.length*(a||1)}else{var v=".bones["+e[l].name+"]";n(_r,v+".position",u,"pos",i),n(gr,v+".quaternion",u,"rot",i),n(_r,v+".scale",u,"scl",i)}}return 0===i.length?null:new br(r,o,i)}}),Object.assign(br.prototype,{resetDuration:function(){for(var t=this.tracks,e=0,n=0,i=t.length;n!==i;++n){var r=this.tracks[n];e=Math.max(e,r.times[r.times.length-1])}return this.duration=e,this},trim:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this},validate:function(){for(var t=!0,e=0;e<this.tracks.length;e++)t=t&&this.tracks[e].validate();return t},optimize:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this}}),Object.assign(Mr.prototype,{load:function(t,e,n,i){var r=this;new wi(r.manager).load(t,function(t){e(r.parse(JSON.parse(t)))},n,i)},setTextures:function(t){this.textures=t},parse:function(t){function e(t){return void 0===n[t]&&console.warn("THREE.MaterialLoader: Undefined texture",t),n[t]}var n=this.textures,i=new uu[t.type];if(void 0!==t.uuid&&(i.uuid=t.uuid),void 0!==t.name&&(i.name=t.name),void 0!==t.color&&i.color.setHex(t.color),void 0!==t.roughness&&(i.roughness=t.roughness),void 0!==t.metalness&&(i.metalness=t.metalness),void 0!==t.emissive&&i.emissive.setHex(t.emissive),void 0!==t.specular&&i.specular.setHex(t.specular),void 0!==t.shininess&&(i.shininess=t.shininess),void 0!==t.clearCoat&&(i.clearCoat=t.clearCoat),void 0!==t.clearCoatRoughness&&(i.clearCoatRoughness=t.clearCoatRoughness),void 0!==t.uniforms&&(i.uniforms=t.uniforms),void 0!==t.vertexShader&&(i.vertexShader=t.vertexShader),void 0!==t.fragmentShader&&(i.fragmentShader=t.fragmentShader),void 0!==t.vertexColors&&(i.vertexColors=t.vertexColors),void 0!==t.fog&&(i.fog=t.fog),void 0!==t.flatShading&&(i.flatShading=t.flatShading),void 0!==t.blending&&(i.blending=t.blending),void 0!==t.side&&(i.side=t.side),void 0!==t.opacity&&(i.opacity=t.opacity),void 0!==t.transparent&&(i.transparent=t.transparent),void 0!==t.alphaTest&&(i.alphaTest=t.alphaTest),void 0!==t.depthTest&&(i.depthTest=t.depthTest),void 0!==t.depthWrite&&(i.depthWrite=t.depthWrite),void 0!==t.colorWrite&&(i.colorWrite=t.colorWrite),void 0!==t.wireframe&&(i.wireframe=t.wireframe),void 0!==t.wireframeLinewidth&&(i.wireframeLinewidth=t.wireframeLinewidth),void 0!==t.wireframeLinecap&&(i.wireframeLinecap=t.wireframeLinecap),void 0!==t.wireframeLinejoin&&(i.wireframeLinejoin=t.wireframeLinejoin),void 0!==t.rotation&&(i.rotation=t.rotation),1!==t.linewidth&&(i.linewidth=t.linewidth),void 0!==t.dashSize&&(i.dashSize=t.dashSize),void 0!==t.gapSize&&(i.gapSize=t.gapSize),void 0!==t.scale&&(i.scale=t.scale),void 0!==t.polygonOffset&&(i.polygonOffset=t.polygonOffset),void 0!==t.polygonOffsetFactor&&(i.polygonOffsetFactor=t.polygonOffsetFactor),void 0!==t.polygonOffsetUnits&&(i.polygonOffsetUnits=t.polygonOffsetUnits),void 0!==t.skinning&&(i.skinning=t.skinning),void 0!==t.morphTargets&&(i.morphTargets=t.morphTargets),void 0!==t.dithering&&(i.dithering=t.dithering),void 0!==t.visible&&(i.visible=t.visible),void 0!==t.userData&&(i.userData=t.userData),void 0!==t.shading&&(i.flatShading=1===t.shading),void 0!==t.size&&(i.size=t.size),void 0!==t.sizeAttenuation&&(i.sizeAttenuation=t.sizeAttenuation),void 0!==t.map&&(i.map=e(t.map)),void 0!==t.alphaMap&&(i.alphaMap=e(t.alphaMap),i.transparent=!0),void 0!==t.bumpMap&&(i.bumpMap=e(t.bumpMap)),void 0!==t.bumpScale&&(i.bumpScale=t.bumpScale),void 0!==t.normalMap&&(i.normalMap=e(t.normalMap)),void 0!==t.normalMapType&&(i.normalMapType=t.normalMapType),void 0!==t.normalScale){var o=t.normalScale;!1===Array.isArray(o)&&(o=[o,o]),i.normalScale=(new r).fromArray(o)}return void 0!==t.displacementMap&&(i.displacementMap=e(t.displacementMap)),void 0!==t.displacementScale&&(i.displacementScale=t.displacementScale),void 0!==t.displacementBias&&(i.displacementBias=t.displacementBias),void 0!==t.roughnessMap&&(i.roughnessMap=e(t.roughnessMap)),void 0!==t.metalnessMap&&(i.metalnessMap=e(t.metalnessMap)),void 0!==t.emissiveMap&&(i.emissiveMap=e(t.emissiveMap)),void 0!==t.emissiveIntensity&&(i.emissiveIntensity=t.emissiveIntensity),void 0!==t.specularMap&&(i.specularMap=e(t.specularMap)),void 0!==t.envMap&&(i.envMap=e(t.envMap)),void 0!==t.reflectivity&&(i.reflectivity=t.reflectivity),void 0!==t.lightMap&&(i.lightMap=e(t.lightMap)),void 0!==t.lightMapIntensity&&(i.lightMapIntensity=t.lightMapIntensity),void 0!==t.aoMap&&(i.aoMap=e(t.aoMap)),void 0!==t.aoMapIntensity&&(i.aoMapIntensity=t.aoMapIntensity),void 0!==t.gradientMap&&(i.gradientMap=e(t.gradientMap)),i}}),Object.assign(Tr.prototype,{load:function(t,e,n,i){var r=this;new wi(r.manager).load(t,function(t){e(r.parse(JSON.parse(t)))},n,i)},parse:function(t){var e=new U,n=t.data.index;if(void 0!==n){var i=new xu[n.type](n.array);e.setIndex(new C(i,1))}var r=t.data.attributes;for(var o in r){var a=r[o],i=new xu[a.type](a.array);e.addAttribute(o,new C(i,a.itemSize,a.normalized))}var l=t.data.groups||t.data.drawcalls||t.data.offsets;if(void 0!==l)for(var u=0,c=l.length;u!==c;++u){var h=l[u];e.addGroup(h.start,h.count,h.materialIndex)}var p=t.data.boundingSphere;if(void 0!==p){var d=new s;void 0!==p.center&&d.fromArray(p.center),e.boundingSphere=new y(d,p.radius)}return e}});var xu={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:"undefined"!==typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};Sr.Handlers={handlers:[],add:function(t,e){this.handlers.push(t,e)},get:function(t){for(var e=this.handlers,n=0,i=e.length;n<i;n+=2){var r=e[n],o=e[n+1];if(r.test(t))return o}return null}},Object.assign(Sr.prototype,{crossOrigin:"anonymous",onLoadStart:function(){},onLoadProgress:function(){},onLoadComplete:function(){},initMaterials:function(t,e,n){for(var i=[],r=0;r<t.length;++r)i[r]=this.createMaterial(t[r],e,n);return i},createMaterial:function(){var t={NoBlending:wa,NormalBlending:Ea,AdditiveBlending:Ma,SubtractiveBlending:Ta,MultiplyBlending:Sa,CustomBlending:Aa},e=new g,n=new Ai,i=new Mr;return function(r,o,a){function s(t,e,i,r,s){var u,c=o+t,h=Sr.Handlers.get(c);null!==h?u=h.load(c):(n.setCrossOrigin(a),u=n.load(c)),void 0!==e&&(u.repeat.fromArray(e),1!==e[0]&&(u.wrapS=fs),1!==e[1]&&(u.wrapT=fs)),void 0!==i&&u.offset.fromArray(i),void 0!==r&&("repeat"===r[0]&&(u.wrapS=fs),"mirror"===r[0]&&(u.wrapS=ms),"repeat"===r[1]&&(u.wrapT=fs),"mirror"===r[1]&&(u.wrapT=ms)),void 0!==s&&(u.anisotropy=s);var p=Dl.generateUUID();return l[p]=u,p}var l={},u={uuid:Dl.generateUUID(),type:"MeshLambertMaterial"};for(var c in r){var h=r[c];switch(c){case"DbgColor":case"DbgIndex":case"opticalDensity":case"illumination":break;case"DbgName":u.name=h;break;case"blending":u.blending=t[h];break;case"colorAmbient":case"mapAmbient":console.warn("THREE.Loader.createMaterial:",c,"is no longer supported.");break;case"colorDiffuse":u.color=e.fromArray(h).getHex();break;case"colorSpecular":u.specular=e.fromArray(h).getHex();break;case"colorEmissive":u.emissive=e.fromArray(h).getHex();break;case"specularCoef":u.shininess=h;break;case"shading":"basic"===h.toLowerCase()&&(u.type="MeshBasicMaterial"),"phong"===h.toLowerCase()&&(u.type="MeshPhongMaterial"),"standard"===h.toLowerCase()&&(u.type="MeshStandardMaterial");break;case"mapDiffuse":u.map=s(h,r.mapDiffuseRepeat,r.mapDiffuseOffset,r.mapDiffuseWrap,r.mapDiffuseAnisotropy);break;case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":break;case"mapEmissive":u.emissiveMap=s(h,r.mapEmissiveRepeat,r.mapEmissiveOffset,r.mapEmissiveWrap,r.mapEmissiveAnisotropy);break;case"mapEmissiveRepeat":case"mapEmissiveOffset":case"mapEmissiveWrap":case"mapEmissiveAnisotropy":break;case"mapLight":u.lightMap=s(h,r.mapLightRepeat,r.mapLightOffset,r.mapLightWrap,r.mapLightAnisotropy);break;case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":break;case"mapAO":u.aoMap=s(h,r.mapAORepeat,r.mapAOOffset,r.mapAOWrap,r.mapAOAnisotropy);break;case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":break;case"mapBump":u.bumpMap=s(h,r.mapBumpRepeat,r.mapBumpOffset,r.mapBumpWrap,r.mapBumpAnisotropy);break;case"mapBumpScale":u.bumpScale=h;break;case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":break;case"mapNormal":u.normalMap=s(h,r.mapNormalRepeat,r.mapNormalOffset,r.mapNormalWrap,r.mapNormalAnisotropy);break;case"mapNormalFactor":u.normalScale=h;break;case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":break;case"mapSpecular":u.specularMap=s(h,r.mapSpecularRepeat,r.mapSpecularOffset,r.mapSpecularWrap,r.mapSpecularAnisotropy);break;case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":break;case"mapMetalness":u.metalnessMap=s(h,r.mapMetalnessRepeat,r.mapMetalnessOffset,r.mapMetalnessWrap,r.mapMetalnessAnisotropy);break;case"mapMetalnessRepeat":case"mapMetalnessOffset":case"mapMetalnessWrap":case"mapMetalnessAnisotropy":break;case"mapRoughness":u.roughnessMap=s(h,r.mapRoughnessRepeat,r.mapRoughnessOffset,r.mapRoughnessWrap,r.mapRoughnessAnisotropy);break;case"mapRoughnessRepeat":case"mapRoughnessOffset":case"mapRoughnessWrap":case"mapRoughnessAnisotropy":break;case"mapAlpha":u.alphaMap=s(h,r.mapAlphaRepeat,r.mapAlphaOffset,r.mapAlphaWrap,r.mapAlphaAnisotropy);break;case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":break;case"flipSided":u.side=ya;break;case"doubleSided":u.side=ma;break;case"transparency":console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity"),u.opacity=h;break;case"depthTest":case"depthWrite":case"colorWrite":case"opacity":case"reflectivity":case"transparent":case"visible":case"wireframe":u[c]=h;break;case"vertexColors":!0===h&&(u.vertexColors=ba),"face"===h&&(u.vertexColors=_a);break;default:console.error("THREE.Loader.createMaterial: Unsupported",c,h)}}return"MeshBasicMaterial"===u.type&&delete u.emissive,"MeshPhongMaterial"!==u.type&&delete u.specular,u.opacity<1&&(u.transparent=!0),i.setTextures(l),i.parse(u)}}()});var _u={decodeText:function(t){if("undefined"!==typeof TextDecoder)return(new TextDecoder).decode(t);for(var e="",n=0,i=t.length;n<i;n++)e+=String.fromCharCode(t[n]);return decodeURIComponent(escape(e))},extractUrlBase:function(t){var e=t.lastIndexOf("/");return-1===e?"./":t.substr(0,e+1)}};Object.assign(Ar.prototype,{crossOrigin:"anonymous",load:function(t,e,n,i){var r=this,o=this.texturePath&&"string"===typeof this.texturePath?this.texturePath:_u.extractUrlBase(t),a=new wi(this.manager);a.setWithCredentials(this.withCredentials),a.load(t,function(n){var i=JSON.parse(n),a=i.metadata;if(void 0!==a){var s=a.type;if(void 0!==s&&"object"===s.toLowerCase())return void console.error("THREE.JSONLoader: "+t+" should be loaded with THREE.ObjectLoader instead.")}var l=r.parse(i,o);e(l.geometry,l.materials)},n,i)},setCrossOrigin:function(t){return this.crossOrigin=t,this},setTexturePath:function(t){return this.texturePath=t,this},parse:function(){function t(t,e){function n(t,e){return t&1<<e}var i,o,a,l,u,c,h,p,d,f,y,m,v,x,_,b,w,E,M,T,A,C,L,k,P,I,R,z=t.faces,O=t.vertices,D=t.normals,B=t.colors,N=t.scale,F=0;if(void 0!==t.uvs){for(i=0;i<t.uvs.length;i++)t.uvs[i].length&&F++;for(i=0;i<F;i++)e.faceVertexUvs[i]=[]}for(l=0,u=O.length;l<u;)E=new s,E.x=O[l++]*N,E.y=O[l++]*N,E.z=O[l++]*N,e.vertices.push(E);for(l=0,u=z.length;l<u;)if(f=z[l++],y=n(f,0),m=n(f,1),v=n(f,3),x=n(f,4),_=n(f,5),b=n(f,6),w=n(f,7),y){if(T=new S,T.a=z[l],T.b=z[l+1],T.c=z[l+3],A=new S,A.a=z[l+1],A.b=z[l+2],A.c=z[l+3],l+=4,m&&(d=z[l++],T.materialIndex=d,A.materialIndex=d),a=e.faces.length,v)for(i=0;i<F;i++)for(k=t.uvs[i],e.faceVertexUvs[i][a]=[],e.faceVertexUvs[i][a+1]=[],o=0;o<4;o++)p=z[l++],I=k[2*p],R=k[2*p+1],P=new r(I,R),2!==o&&e.faceVertexUvs[i][a].push(P),0!==o&&e.faceVertexUvs[i][a+1].push(P);if(x&&(h=3*z[l++],T.normal.set(D[h++],D[h++],D[h]),A.normal.copy(T.normal)),_)for(i=0;i<4;i++)h=3*z[l++],L=new s(D[h++],D[h++],D[h]),2!==i&&T.vertexNormals.push(L),0!==i&&A.vertexNormals.push(L);if(b&&(c=z[l++],C=B[c],T.color.setHex(C),A.color.setHex(C)),w)for(i=0;i<4;i++)c=z[l++],C=B[c],2!==i&&T.vertexColors.push(new g(C)),0!==i&&A.vertexColors.push(new g(C));e.faces.push(T),e.faces.push(A)}else{if(M=new S,M.a=z[l++],M.b=z[l++],M.c=z[l++],m&&(d=z[l++],M.materialIndex=d),a=e.faces.length,v)for(i=0;i<F;i++)for(k=t.uvs[i],e.faceVertexUvs[i][a]=[],o=0;o<3;o++)p=z[l++],I=k[2*p],R=k[2*p+1],P=new r(I,R),e.faceVertexUvs[i][a].push(P);if(x&&(h=3*z[l++],M.normal.set(D[h++],D[h++],D[h])),_)for(i=0;i<3;i++)h=3*z[l++],L=new s(D[h++],D[h++],D[h]),M.vertexNormals.push(L);if(b&&(c=z[l++],M.color.setHex(B[c])),w)for(i=0;i<3;i++)c=z[l++],M.vertexColors.push(new g(B[c]));e.faces.push(M)}}function e(t,e){var n=void 0!==t.influencesPerVertex?t.influencesPerVertex:2;if(t.skinWeights)for(var i=0,r=t.skinWeights.length;i<r;i+=n){var o=t.skinWeights[i],a=n>1?t.skinWeights[i+1]:0,s=n>2?t.skinWeights[i+2]:0,l=n>3?t.skinWeights[i+3]:0;e.skinWeights.push(new c(o,a,s,l))}if(t.skinIndices)for(var i=0,r=t.skinIndices.length;i<r;i+=n){var u=t.skinIndices[i],h=n>1?t.skinIndices[i+1]:0,p=n>2?t.skinIndices[i+2]:0,d=n>3?t.skinIndices[i+3]:0;e.skinIndices.push(new c(u,h,p,d))}e.bones=t.bones,e.bones&&e.bones.length>0&&(e.skinWeights.length!==e.skinIndices.length||e.skinIndices.length!==e.vertices.length)&&console.warn("When skinning, number of vertices ("+e.vertices.length+"), skinIndices ("+e.skinIndices.length+"), and skinWeights ("+e.skinWeights.length+") should match.")}function n(t,e){var n=t.scale;if(void 0!==t.morphTargets)for(var i=0,r=t.morphTargets.length;i<r;i++){e.morphTargets[i]={},e.morphTargets[i].name=t.morphTargets[i].name,e.morphTargets[i].vertices=[];for(var o=e.morphTargets[i].vertices,a=t.morphTargets[i].vertices,l=0,u=a.length;l<u;l+=3){var c=new s;c.x=a[l]*n,c.y=a[l+1]*n,c.z=a[l+2]*n,o.push(c)}}if(void 0!==t.morphColors&&t.morphColors.length>0){console.warn('THREE.JSONLoader: "morphColors" no longer supported. Using them as face colors.');for(var h=e.faces,p=t.morphColors[0].colors,i=0,r=h.length;i<r;i++)h[i].color.fromArray(p,3*i)}}function i(t,e){var n=[],i=[];void 0!==t.animation&&i.push(t.animation),void 0!==t.animations&&(t.animations.length?i=i.concat(t.animations):i.push(t.animations));for(var r=0;r<i.length;r++){var o=br.parseAnimation(i[r],e.bones);o&&n.push(o)}if(e.morphTargets){var a=br.CreateClipsFromMorphTargetSequences(e.morphTargets,10);n=n.concat(a)}n.length>0&&(e.animations=n)}return function(r,o){void 0!==r.data&&(r=r.data),void 0!==r.scale?r.scale=1/r.scale:r.scale=1;var a=new A;return t(r,a),e(r,a),n(r,a),i(r,a),a.computeFaceNormals(),a.computeBoundingSphere(),void 0===r.materials||0===r.materials.length?{geometry:a}:{geometry:a,materials:Sr.prototype.initMaterials(r.materials,o,this.crossOrigin)}}}()}),Object.assign(Cr.prototype,{crossOrigin:"anonymous",load:function(t,e,n,i){""===this.texturePath&&(this.texturePath=t.substring(0,t.lastIndexOf("/")+1));var r=this;new wi(r.manager).load(t,function(n){var o=null;try{o=JSON.parse(n)}catch(e){return void 0!==i&&i(e),void console.error("THREE:ObjectLoader: Can't parse "+t+".",e.message)}var a=o.metadata;if(void 0===a||void 0===a.type||"geometry"===a.type.toLowerCase())return void console.error("THREE.ObjectLoader: Can't load "+t+". Use THREE.JSONLoader instead.");r.parse(o,e)},n,i)},setTexturePath:function(t){return this.texturePath=t,this},setCrossOrigin:function(t){return this.crossOrigin=t,this},parse:function(t,e){var n=this.parseShape(t.shapes),i=this.parseGeometries(t.geometries,n),r=this.parseImages(t.images,function(){void 0!==e&&e(s)}),o=this.parseTextures(t.textures,r),a=this.parseMaterials(t.materials,o),s=this.parseObject(t.object,i,a);return t.animations&&(s.animations=this.parseAnimations(t.animations)),void 0!==t.images&&0!==t.images.length||void 0!==e&&e(s),s},parseShape:function(t){var e={};if(void 0!==t)for(var n=0,i=t.length;n<i;n++){var r=(new Ki).fromJSON(t[n]);e[r.uuid]=r}return e},parseGeometries:function(t,e){var n={};if(void 0!==t)for(var i=new Ar,r=new Tr,o=0,a=t.length;o<a;o++){var s,l=t[o];switch(l.type){case"PlaneGeometry":case"PlaneBufferGeometry":s=new lu[l.type](l.width,l.height,l.widthSegments,l.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":s=new lu[l.type](l.width,l.height,l.depth,l.widthSegments,l.heightSegments,l.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":s=new lu[l.type](l.radius,l.segments,l.thetaStart,l.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":s=new lu[l.type](l.radiusTop,l.radiusBottom,l.height,l.radialSegments,l.heightSegments,l.openEnded,l.thetaStart,l.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":s=new lu[l.type](l.radius,l.height,l.radialSegments,l.heightSegments,l.openEnded,l.thetaStart,l.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":s=new lu[l.type](l.radius,l.widthSegments,l.heightSegments,l.phiStart,l.phiLength,l.thetaStart,l.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":s=new lu[l.type](l.radius,l.detail);break;case"RingGeometry":case"RingBufferGeometry":s=new lu[l.type](l.innerRadius,l.outerRadius,l.thetaSegments,l.phiSegments,l.thetaStart,l.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":s=new lu[l.type](l.radius,l.tube,l.radialSegments,l.tubularSegments,l.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":s=new lu[l.type](l.radius,l.tube,l.tubularSegments,l.radialSegments,l.p,l.q);break;case"LatheGeometry":case"LatheBufferGeometry":s=new lu[l.type](l.points,l.segments,l.phiStart,l.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":s=new lu[l.type](l.vertices,l.indices,l.radius,l.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":for(var u=[],c=0,h=l.shapes.length;c<h;c++){var p=e[l.shapes[c]];u.push(p)}s=new lu[l.type](u,l.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":for(var u=[],c=0,h=l.shapes.length;c<h;c++){var p=e[l.shapes[c]];u.push(p)}var d=l.options.extrudePath;void 0!==d&&(l.options.extrudePath=(new vu[d.type]).fromJSON(d)),s=new lu[l.type](u,l.options);break;case"BufferGeometry":s=r.parse(l);break;case"Geometry":s=i.parse(l,this.texturePath).geometry;break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+l.type+'"');continue}s.uuid=l.uuid,void 0!==l.name&&(s.name=l.name),!0===s.isBufferGeometry&&void 0!==l.userData&&(s.userData=l.userData),n[l.uuid]=s}return n},parseMaterials:function(t,e){var n={};if(void 0!==t){var i=new Mr;i.setTextures(e);for(var r=0,o=t.length;r<o;r++){var a=t[r];if("MultiMaterial"===a.type){for(var s=[],l=0;l<a.materials.length;l++)s.push(i.parse(a.materials[l]));n[a.uuid]=s}else n[a.uuid]=i.parse(a)}}return n},parseAnimations:function(t){for(var e=[],n=0;n<t.length;n++){var i=t[n],r=br.parse(i);void 0!==i.uuid&&(r.uuid=i.uuid),e.push(r)}return e},parseImages:function(t,e){function n(t){return i.manager.itemStart(t),a.load(t,function(){i.manager.itemEnd(t)},void 0,function(){i.manager.itemEnd(t),i.manager.itemError(t)})}var i=this,r={};if(void 0!==t&&t.length>0){var o=new bi(e),a=new Ti(o);a.setCrossOrigin(this.crossOrigin);for(var s=0,l=t.length;s<l;s++){var u=t[s],c=u.url;if(Array.isArray(c)){r[u.uuid]=[];for(var h=0,p=c.length;h<p;h++){var d=c[h],f=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(d)?d:i.texturePath+d;r[u.uuid].push(n(f))}}else{var f=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u.url)?u.url:i.texturePath+u.url;r[u.uuid]=n(f)}}}return r},parseTextures:function(t,e){function n(t,e){return"number"===typeof t?t:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",t),e[t])}var i={};if(void 0!==t)for(var r=0,o=t.length;r<o;r++){var a=t[r];void 0===a.image&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),void 0===e[a.image]&&console.warn("THREE.ObjectLoader: Undefined image",a.image);var s;s=Array.isArray(e[a.image])?new lt(e[a.image]):new u(e[a.image]),s.needsUpdate=!0,s.uuid=a.uuid,void 0!==a.name&&(s.name=a.name),void 0!==a.mapping&&(s.mapping=n(a.mapping,bu)),void 0!==a.offset&&s.offset.fromArray(a.offset),void 0!==a.repeat&&s.repeat.fromArray(a.repeat),void 0!==a.center&&s.center.fromArray(a.center),void 0!==a.rotation&&(s.rotation=a.rotation),void 0!==a.wrap&&(s.wrapS=n(a.wrap[0],wu),s.wrapT=n(a.wrap[1],wu)),void 0!==a.format&&(s.format=a.format),void 0!==a.minFilter&&(s.minFilter=n(a.minFilter,Eu)),void 0!==a.magFilter&&(s.magFilter=n(a.magFilter,Eu)),void 0!==a.anisotropy&&(s.anisotropy=a.anisotropy),void 0!==a.flipY&&(s.flipY=a.flipY),i[a.uuid]=s}return i},parseObject:function(t,e,n){function i(t){return void 0===e[t]&&console.warn("THREE.ObjectLoader: Undefined geometry",t),e[t]}function r(t){if(void 0!==t){if(Array.isArray(t)){for(var e=[],i=0,r=t.length;i<r;i++){var o=t[i];void 0===n[o]&&console.warn("THREE.ObjectLoader: Undefined material",o),e.push(n[o])}return e}return void 0===n[t]&&console.warn("THREE.ObjectLoader: Undefined material",t),n[t]}}var o;switch(t.type){case"Scene":o=new ke,void 0!==t.background&&Number.isInteger(t.background)&&(o.background=new g(t.background)),void 0!==t.fog&&("Fog"===t.fog.type?o.fog=new Le(t.fog.color,t.fog.near,t.fog.far):"FogExp2"===t.fog.type&&(o.fog=new Ce(t.fog.color,t.fog.density)));break;case"PerspectiveCamera":o=new Ee(t.fov,t.aspect,t.near,t.far),void 0!==t.focus&&(o.focus=t.focus),void 0!==t.zoom&&(o.zoom=t.zoom),void 0!==t.filmGauge&&(o.filmGauge=t.filmGauge),void 0!==t.filmOffset&&(o.filmOffset=t.filmOffset),void 0!==t.view&&(o.view=Object.assign({},t.view));break;case"OrthographicCamera":o=new T(t.left,t.right,t.top,t.bottom,t.near,t.far),void 0!==t.zoom&&(o.zoom=t.zoom),void 0!==t.view&&(o.view=Object.assign({},t.view));break;case"AmbientLight":o=new sr(t.color,t.intensity);break;case"DirectionalLight":o=new ar(t.color,t.intensity);break;case"PointLight":o=new rr(t.color,t.intensity,t.distance,t.decay);break;case"RectAreaLight":o=new lr(t.color,t.intensity,t.width,t.height);break;case"SpotLight":o=new ir(t.color,t.intensity,t.distance,t.angle,t.penumbra,t.decay);break;case"HemisphereLight":o=new tr(t.color,t.groundColor,t.intensity);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":var a=i(t.geometry),s=r(t.material);o=a.bones&&a.bones.length>0?new Ne(a,s):new Z(a,s);break;case"LOD":o=new Oe;break;case"Line":o=new Ue(i(t.geometry),r(t.material),t.mode);break;case"LineLoop":o=new Ve(i(t.geometry),r(t.material));break;case"LineSegments":o=new je(i(t.geometry),r(t.material));break;case"PointCloud":case"Points":o=new He(i(t.geometry),r(t.material));break;case"Sprite":o=new ze(r(t.material));break;case"Group":o=new we;break;default:o=new E}if(o.uuid=t.uuid,void 0!==t.name&&(o.name=t.name),void 0!==t.matrix?(o.matrix.fromArray(t.matrix),void 0!==t.matrixAutoUpdate&&(o.matrixAutoUpdate=t.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(void 0!==t.position&&o.position.fromArray(t.position),void 0!==t.rotation&&o.rotation.fromArray(t.rotation),void 0!==t.quaternion&&o.quaternion.fromArray(t.quaternion),void 0!==t.scale&&o.scale.fromArray(t.scale)),void 0!==t.castShadow&&(o.castShadow=t.castShadow),void 0!==t.receiveShadow&&(o.receiveShadow=t.receiveShadow),t.shadow&&(void 0!==t.shadow.bias&&(o.shadow.bias=t.shadow.bias),void 0!==t.shadow.radius&&(o.shadow.radius=t.shadow.radius),void 0!==t.shadow.mapSize&&o.shadow.mapSize.fromArray(t.shadow.mapSize),void 0!==t.shadow.camera&&(o.shadow.camera=this.parseObject(t.shadow.camera))),void 0!==t.visible&&(o.visible=t.visible),void 0!==t.frustumCulled&&(o.frustumCulled=t.frustumCulled),void 0!==t.renderOrder&&(o.renderOrder=t.renderOrder),void 0!==t.userData&&(o.userData=t.userData),void 0!==t.layers&&(o.layers.mask=t.layers),void 0!==t.children)for(var l=t.children,u=0;u<l.length;u++)o.add(this.parseObject(l[u],e,n));if("LOD"===t.type)for(var c=t.levels,h=0;h<c.length;h++){var p=c[h],d=o.getObjectByProperty("uuid",p.object);void 0!==d&&o.addLevel(d,p.distance)}return o}});var bu={UVMapping:as,CubeReflectionMapping:ss,CubeRefractionMapping:ls,EquirectangularReflectionMapping:us,EquirectangularRefractionMapping:cs,SphericalReflectionMapping:hs,CubeUVReflectionMapping:ps,CubeUVRefractionMapping:ds},wu={RepeatWrapping:fs,ClampToEdgeWrapping:ys,MirroredRepeatWrapping:ms},Eu={NearestFilter:vs,NearestMipMapNearestFilter:gs,NearestMipMapLinearFilter:xs,LinearFilter:_s,LinearMipMapNearestFilter:bs,LinearMipMapLinearFilter:ws};Lr.prototype={constructor:Lr,setOptions:function(t){return this.options=t,this},load:function(t,e,n,i){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var r=this,o=cu.get(t);if(void 0!==o)return r.manager.itemStart(t),setTimeout(function(){e&&e(o),r.manager.itemEnd(t)},0),o;fetch(t).then(function(t){return t.blob()}).then(function(t){return createImageBitmap(t,r.options)}).then(function(n){cu.add(t,n),e&&e(n),r.manager.itemEnd(t)}).catch(function(e){i&&i(e),r.manager.itemEnd(t),r.manager.itemError(t)})},setCrossOrigin:function(){return this},setPath:function(t){return this.path=t,this}},Object.assign(kr.prototype,{moveTo:function(t,e){this.currentPath=new Ji,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,e)},lineTo:function(t,e){this.currentPath.lineTo(t,e)},quadraticCurveTo:function(t,e,n,i){this.currentPath.quadraticCurveTo(t,e,n,i)},bezierCurveTo:function(t,e,n,i,r,o){this.currentPath.bezierCurveTo(t,e,n,i,r,o)},splineThru:function(t){this.currentPath.splineThru(t)},toShapes:function(t,e){function n(t){for(var e=[],n=0,i=t.length;n<i;n++){var r=t[n],o=new Ki;o.curves=r.curves,e.push(o)}return e}var i=au.isClockWise,r=this.subPaths;if(0===r.length)return[];if(!0===e)return n(r);var o,a,s,l=[];if(1===r.length)return a=r[0],s=new Ki,s.curves=a.curves,l.push(s),l;var u=!i(r[0].getPoints());u=t?!u:u;var c,h=[],p=[],d=[],f=0;p[f]=void 0,d[f]=[];for(var y=0,m=r.length;y<m;y++)a=r[y],c=a.getPoints(),o=i(c),o=t?!o:o,o?(!u&&p[f]&&f++,p[f]={s:new Ki,p:c},p[f].s.curves=a.curves,u&&f++,d[f]=[]):d[f].push({h:a,p:c[0]});if(!p[0])return n(r);if(p.length>1){for(var v=!1,g=[],x=0,_=p.length;x<_;x++)h[x]=[];for(var x=0,_=p.length;x<_;x++)for(var b=d[x],w=0;w<b.length;w++){for(var E=b[w],M=!0,T=0;T<p.length;T++)(function(t,e){for(var n=e.length,i=!1,r=n-1,o=0;o<n;r=o++){var a=e[r],s=e[o],l=s.x-a.x,u=s.y-a.y;if(Math.abs(u)>Number.EPSILON){if(u<0&&(a=e[o],l=-l,s=e[r],u=-u),t.y<a.y||t.y>s.y)continue;if(t.y===a.y){if(t.x===a.x)return!0}else{var c=u*(t.x-a.x)-l*(t.y-a.y);if(0===c)return!0;if(c<0)continue;i=!i}}else{if(t.y!==a.y)continue;if(s.x<=t.x&&t.x<=a.x||a.x<=t.x&&t.x<=s.x)return!0}}return i})(E.p,p[T].p)&&(x!==T&&g.push({froms:x,tos:T,hole:w}),M?(M=!1,h[T].push(E)):v=!0);M&&h[x].push(E)}g.length>0&&(v||(d=h))}for(var S,y=0,A=p.length;y<A;y++){s=p[y].s,l.push(s),S=d[y];for(var C=0,L=S.length;C<L;C++)s.holes.push(S[C].h)}return l}}),Object.assign(Pr.prototype,{isFont:!0,generateShapes:function(t,e){void 0===e&&(e=100);for(var n=[],i=Ir(t,e,this.data),r=0,o=i.length;r<o;r++)Array.prototype.push.apply(n,i[r].toShapes());return n}}),Object.assign(zr.prototype,{load:function(t,e,n,i){var r=this,o=new wi(this.manager);o.setPath(this.path),o.load(t,function(t){var n;try{n=JSON.parse(t)}catch(e){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),n=JSON.parse(t.substring(65,t.length-2))}var i=r.parse(n);e&&e(i)},n,i)},parse:function(t){return new Pr(t)},setPath:function(t){return this.path=t,this}});var Mu,Tu={getContext:function(){return void 0===Mu&&(Mu=new(window.AudioContext||window.webkitAudioContext)),Mu},setContext:function(t){Mu=t}};Object.assign(Or.prototype,{load:function(t,e,n,i){var r=new wi(this.manager);r.setResponseType("arraybuffer"),r.load(t,function(t){var n=t.slice(0);Tu.getContext().decodeAudioData(n,function(t){e(t)})},n,i)}}),Object.assign(Dr.prototype,{update:function(){var t,e,n,i,r,a,s,l,u=new o,c=new o;return function(o){if(t!==this||e!==o.focus||n!==o.fov||i!==o.aspect*this.aspect||r!==o.near||a!==o.far||s!==o.zoom||l!==this.eyeSep){t=this,e=o.focus,n=o.fov,i=o.aspect*this.aspect,r=o.near,a=o.far,s=o.zoom;var h=o.projectionMatrix.clone();l=this.eyeSep/2;var p,d,f=l*r/e,y=r*Math.tan(Dl.DEG2RAD*n*.5)/s;c.elements[12]=-l,u.elements[12]=l,p=-y*i+f,d=y*i+f,h.elements[0]=2*r/(d-p),h.elements[8]=(d+p)/(d-p),this.cameraL.projectionMatrix.copy(h),p=-y*i-f,d=y*i-f,h.elements[0]=2*r/(d-p),h.elements[8]=(d+p)/(d-p),this.cameraR.projectionMatrix.copy(h)}this.cameraL.matrixWorld.copy(o.matrixWorld).multiply(c),this.cameraR.matrixWorld.copy(o.matrixWorld).multiply(u)}}()}),Br.prototype=Object.create(E.prototype),Br.prototype.constructor=Br,Nr.prototype=Object.assign(Object.create(E.prototype),{constructor:Nr,getInput:function(){return this.gain},removeFilter:function(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this},getFilter:function(){return this.filter},setFilter:function(t){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=t,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this},updateMatrixWorld:function(){var t=new s,e=new a,n=new s,i=new s;return function(r){E.prototype.updateMatrixWorld.call(this,r);var o=this.context.listener,a=this.up;this.matrixWorld.decompose(t,e,n),i.set(0,0,-1).applyQuaternion(e),o.positionX?(o.positionX.setValueAtTime(t.x,this.context.currentTime),o.positionY.setValueAtTime(t.y,this.context.currentTime),o.positionZ.setValueAtTime(t.z,this.context.currentTime),o.forwardX.setValueAtTime(i.x,this.context.currentTime),o.forwardY.setValueAtTime(i.y,this.context.currentTime),o.forwardZ.setValueAtTime(i.z,this.context.currentTime),o.upX.setValueAtTime(a.x,this.context.currentTime),o.upY.setValueAtTime(a.y,this.context.currentTime),o.upZ.setValueAtTime(a.z,this.context.currentTime)):(o.setPosition(t.x,t.y,t.z),o.setOrientation(i.x,i.y,i.z,a.x,a.y,a.z))}}()}),Fr.prototype=Object.assign(Object.create(E.prototype),{constructor:Fr,getOutput:function(){return this.gain},setNodeSource:function(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this},setMediaElementSource:function(t){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(t),this.connect(),this},setBuffer:function(t){return this.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(){if(!0===this.isPlaying)return void console.warn("THREE.Audio: Audio is already playing.");if(!1===this.hasPlaybackControl)return void console.warn("THREE.Audio: this Audio has no playback control.");var t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.onended=this.onEnded.bind(this),t.playbackRate.setValueAtTime(this.playbackRate,this.startTime),this.startTime=this.context.currentTime,t.start(this.startTime,this.offset),this.isPlaying=!0,this.source=t,this.connect()},pause:function(){return!1===this.hasPlaybackControl?void console.warn("THREE.Audio: this Audio has no playback control."):(!0===this.isPlaying&&(this.source.stop(),this.source.onended=null,this.offset+=(this.context.currentTime-this.startTime)*this.playbackRate,this.isPlaying=!1),this)},stop:function(){return!1===this.hasPlaybackControl?void console.warn("THREE.Audio: this Audio has no playback control."):(this.source.stop(),this.source.onended=null,this.offset=0,this.isPlaying=!1,this)},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(t){return t||(t=[]),!0===this.isPlaying?(this.disconnect(),this.filters=t,this.connect()):this.filters=t,this},getFilter:function(){return this.getFilters()[0]},setFilter:function(t){return this.setFilters(t?[t]:[])},setPlaybackRate:function(t){return!1===this.hasPlaybackControl?void console.warn("THREE.Audio: this Audio has no playback control."):(this.playbackRate=t,!0===this.isPlaying&&this.source.playbackRate.setValueAtTime(this.playbackRate,this.context.currentTime),this)},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(t){return!1===this.hasPlaybackControl?void console.warn("THREE.Audio: this Audio has no playback control."):(this.loop=t,!0===this.isPlaying&&(this.source.loop=this.loop),this)},getVolume:function(){return this.gain.gain.value},setVolume:function(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}}),Ur.prototype=Object.assign(Object.create(Fr.prototype),{constructor:Ur,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(t){return this.panner.refDistance=t,this},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(t){return this.panner.rolloffFactor=t,this},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(t){return this.panner.distanceModel=t,this},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(t){return this.panner.maxDistance=t,this},setDirectionalCone:function(t,e,n){return this.panner.coneInnerAngle=t,this.panner.coneOuterAngle=e,this.panner.coneOuterGain=n,this},updateMatrixWorld:function(){var t=new s,e=new a,n=new s,i=new s;return function(r){E.prototype.updateMatrixWorld.call(this,r);var o=this.panner;this.matrixWorld.decompose(t,e,n),i.set(0,0,1).applyQuaternion(e),o.setPosition(t.x,t.y,t.z),o.setOrientation(i.x,i.y,i.z)}}()}),Object.assign(jr.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var t=0,e=this.getFrequencyData(),n=0;n<e.length;n++)t+=e[n];return t/e.length}}),Object.assign(Vr.prototype,{accumulate:function(t,e){var n=this.buffer,i=this.valueSize,r=t*i+i,o=this.cumulativeWeight;if(0===o){for(var a=0;a!==i;++a)n[r+a]=n[a];o=e}else{o+=e;var s=e/o;this._mixBufferRegion(n,r,0,s,i)}this.cumulativeWeight=o},apply:function(t){var e=this.valueSize,n=this.buffer,i=t*e+e,r=this.cumulativeWeight,o=this.binding;if(this.cumulativeWeight=0,r<1){var a=3*e;this._mixBufferRegion(n,i,a,1-r,e)}for(var s=e,l=e+e;s!==l;++s)if(n[s]!==n[s+e]){o.setValue(n,i);break}},saveOriginalState:function(){var t=this.binding,e=this.buffer,n=this.valueSize,i=3*n;t.getValue(e,i);for(var r=n,o=i;r!==o;++r)e[r]=e[i+r%n];this.cumulativeWeight=0},restoreOriginalState:function(){var t=3*this.valueSize;this.binding.setValue(this.buffer,t)},_select:function(t,e,n,i,r){if(i>=.5)for(var o=0;o!==r;++o)t[e+o]=t[n+o]},_slerp:function(t,e,n,i){a.slerpFlat(t,e,t,e,t,n,i)},_lerp:function(t,e,n,i,r){for(var o=1-i,a=0;a!==r;++a){var s=e+a;t[s]=t[s]*o+t[n+a]*i}}});var Su="\\[\\]\\.:\\/";Object.assign(Gr.prototype,{getValue:function(t,e){this.bind();var n=this._targetGroup.nCachedObjects_,i=this._bindings[n];void 0!==i&&i.getValue(t,e)},setValue:function(t,e){for(var n=this._bindings,i=this._targetGroup.nCachedObjects_,r=n.length;i!==r;++i)n[i].setValue(t,e)},bind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].bind()},unbind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].unbind()}}),Object.assign(Hr,{Composite:Gr,create:function(t,e,n){return t&&t.isAnimationObjectGroup?new Hr.Composite(t,e,n):new Hr(t,e,n)},sanitizeNodeName:function(){var t=new RegExp("["+Su+"]","g");return function(e){return e.replace(/\s/g,"_").replace(t,"")}}(),parseTrackName:function(){var t="[^"+Su+"]",e="[^"+Su.replace("\\.","")+"]",n=/((?:WC+[\/:])*)/.source.replace("WC",t),i=/(WCOD+)?/.source.replace("WCOD",e),r=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",t),o=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",t),a=new RegExp("^"+n+i+r+o+"$"),s=["material","materials","bones"];return function(t){var e=a.exec(t);if(!e)throw new Error("PropertyBinding: Cannot parse trackName: "+t);var n={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]},i=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==i&&-1!==i){var r=n.nodeName.substring(i+1);-1!==s.indexOf(r)&&(n.nodeName=n.nodeName.substring(0,i),n.objectName=r)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return n}}(),findNode:function(t,e){if(!e||""===e||"root"===e||"."===e||-1===e||e===t.name||e===t.uuid)return t;if(t.skeleton){var n=t.skeleton.getBoneByName(e);if(void 0!==n)return n}if(t.children){var i=function(t){for(var n=0;n<t.length;n++){var r=t[n];if(r.name===e||r.uuid===e)return r;var o=i(r.children);if(o)return o}return null},r=i(t.children);if(r)return r}return null}}),Object.assign(Hr.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(t,e){t[e]=this.node[this.propertyName]},function(t,e){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)t[e++]=n[i]},function(t,e){t[e]=this.resolvedProperty[this.propertyIndex]},function(t,e){this.resolvedProperty.toArray(t,e)}],SetterByBindingTypeAndVersioning:[[function(t,e){this.targetObject[this.propertyName]=t[e]},function(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)n[i]=t[e++]},function(t,e){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)n[i]=t[e++];this.targetObject.needsUpdate=!0},function(t,e){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)n[i]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty[this.propertyIndex]=t[e]},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty.fromArray(t,e)},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(t,e){this.bind(),this.getValue(t,e)},setValue:function(t,e){this.bind(),this.setValue(t,e)},bind:function(){var t=this.node,e=this.parsedPath,n=e.objectName,i=e.propertyName,r=e.propertyIndex;if(t||(t=Hr.findNode(this.rootNode,e.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t)return void console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");if(n){var o=e.objectIndex;switch(n){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(var a=0;a<t.length;a++)if(t[a].name===o){o=a;break}break;default:if(void 0===t[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[n]}if(void 0!==o){if(void 0===t[o])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[o]}}var s=t[i];if(void 0===s){var l=e.nodeName;return void console.error("THREE.PropertyBinding: Trying to update property for track: "+l+"."+i+" but it wasn't found.",t)}var u=this.Versioning.None;void 0!==t.needsUpdate?(u=this.Versioning.NeedsUpdate,this.targetObject=t):void 0!==t.matrixWorldNeedsUpdate&&(u=this.Versioning.MatrixWorldNeedsUpdate,this.targetObject=t);var c=this.BindingType.Direct;if(void 0!==r){if("morphTargetInfluences"===i){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(t.geometry.isBufferGeometry){if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);for(var a=0;a<this.node.geometry.morphAttributes.position.length;a++)if(t.geometry.morphAttributes.position[a].name===r){r=a;break}}else{if(!t.geometry.morphTargets)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.",this);for(var a=0;a<this.node.geometry.morphTargets.length;a++)if(t.geometry.morphTargets[a].name===r){r=a;break}}}c=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=r}else void 0!==s.fromArray&&void 0!==s.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(c=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=i;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][u]},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Object.assign(Hr.prototype,{_getValue_unbound:Hr.prototype.getValue,_setValue_unbound:Hr.prototype.setValue}),Object.assign(Wr.prototype,{isAnimationObjectGroup:!0,add:function(){for(var t=this._objects,e=t.length,n=this.nCachedObjects_,i=this._indicesByUUID,r=this._paths,o=this._parsedPaths,a=this._bindings,s=a.length,l=void 0,u=0,c=arguments.length;u!==c;++u){var h=arguments[u],p=h.uuid,d=i[p];if(void 0===d){d=e++,i[p]=d,t.push(h);for(var f=0,y=s;f!==y;++f)a[f].push(new Hr(h,r[f],o[f]))}else if(d<n){l=t[d];var m=--n,v=t[m];i[v.uuid]=d,t[d]=v,i[p]=m,t[m]=h;for(var f=0,y=s;f!==y;++f){var g=a[f],x=g[m],_=g[d];g[d]=x,void 0===_&&(_=new Hr(h,r[f],o[f])),g[m]=_}}else t[d]!==l&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=n},remove:function(){for(var t=this._objects,e=this.nCachedObjects_,n=this._indicesByUUID,i=this._bindings,r=i.length,o=0,a=arguments.length;o!==a;++o){var s=arguments[o],l=s.uuid,u=n[l];if(void 0!==u&&u>=e){var c=e++,h=t[c];n[h.uuid]=u,t[u]=h,n[l]=c,t[c]=s;for(var p=0,d=r;p!==d;++p){var f=i[p],y=f[c],m=f[u];f[u]=y,f[c]=m}}}this.nCachedObjects_=e},uncache:function(){for(var t=this._objects,e=t.length,n=this.nCachedObjects_,i=this._indicesByUUID,r=this._bindings,o=r.length,a=0,s=arguments.length;a!==s;++a){var l=arguments[a],u=l.uuid,c=i[u];if(void 0!==c)if(delete i[u],c<n){var h=--n,p=t[h],d=--e,f=t[d];i[p.uuid]=c,t[c]=p,i[f.uuid]=h,t[h]=f,t.pop();for(var y=0,m=o;y!==m;++y){var v=r[y],g=v[h],x=v[d];v[c]=g,v[h]=x,v.pop()}}else{var d=--e,f=t[d];i[f.uuid]=c,t[c]=f,t.pop();for(var y=0,m=o;y!==m;++y){var v=r[y];v[c]=v[d],v.pop()}}}this.nCachedObjects_=n},subscribe_:function(t,e){var n=this._bindingsIndicesByPath,i=n[t],r=this._bindings;if(void 0!==i)return r[i];var o=this._paths,a=this._parsedPaths,s=this._objects,l=s.length,u=this.nCachedObjects_,c=new Array(l);i=r.length,n[t]=i,o.push(t),a.push(e),r.push(c);for(var h=u,p=s.length;h!==p;++h){var d=s[h];c[h]=new Hr(d,t,e)}return c},unsubscribe_:function(t){var e=this._bindingsIndicesByPath,n=e[t];if(void 0!==n){var i=this._paths,r=this._parsedPaths,o=this._bindings,a=o.length-1,s=o[a];e[t[a]]=n,o[n]=s,o.pop(),r[n]=r[a],r.pop(),i[n]=i[a],i.pop()}}}),Object.assign(qr.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(t){return this._startTime=t,this},setLoop:function(t,e){return this.loop=t,this.repetitions=e,this},setEffectiveWeight:function(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(t){return this._scheduleFading(t,0,1)},fadeOut:function(t){return this._scheduleFading(t,1,0)},crossFadeFrom:function(t,e,n){if(t.fadeOut(e),this.fadeIn(e),n){var i=this._clip.duration,r=t._clip.duration,o=r/i,a=i/r;t.warp(1,o,e),this.warp(a,1,e)}return this},crossFadeTo:function(t,e,n){return t.crossFadeFrom(this,e,n)},stopFading:function(){var t=this._weightInterpolant;return null!==t&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},setEffectiveTimeScale:function(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(t){return this.timeScale=this._clip.duration/t,this.stopWarping()},syncWith:function(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()},halt:function(t){return this.warp(this._effectiveTimeScale,0,t)},warp:function(t,e,n){var i=this._mixer,r=i.time,o=this._timeScaleInterpolant,a=this.timeScale;null===o&&(o=i._lendControlInterpolant(),this._timeScaleInterpolant=o);var s=o.parameterPositions,l=o.sampleValues;return s[0]=r,s[1]=r+n,l[0]=t/a,l[1]=e/a,this},stopWarping:function(){var t=this._timeScaleInterpolant;return null!==t&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(t,e,n,i){if(!this.enabled)return void this._updateWeight(t);var r=this._startTime;if(null!==r){var o=(t-r)*n;if(o<0||0===n)return;this._startTime=null,e=n*o}e*=this._updateTimeScale(t);var a=this._updateTime(e),s=this._updateWeight(t);if(s>0)for(var l=this._interpolants,u=this._propertyBindings,c=0,h=l.length;c!==h;++c)l[c].evaluate(a),u[c].accumulate(i,s)},_updateWeight:function(t){var e=0;if(this.enabled){e=this.weight;var n=this._weightInterpolant;if(null!==n){var i=n.evaluate(t)[0];e*=i,t>n.parameterPositions[1]&&(this.stopFading(),0===i&&(this.enabled=!1))}}return this._effectiveWeight=e,e},_updateTimeScale:function(t){var e=0;if(!this.paused){e=this.timeScale;var n=this._timeScaleInterpolant;if(null!==n){e*=n.evaluate(t)[0],t>n.parameterPositions[1]&&(this.stopWarping(),0===e?this.paused=!0:this.timeScale=e)}}return this._effectiveTimeScale=e,e},_updateTime:function(t){var e=this.time+t,n=this._clip.duration,i=this.loop,r=this._loopCount,o=i===fl;if(0===t)return-1===r?e:o&&1===(1&r)?n-e:e;if(i===pl){-1===r&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(e>=n)e=n;else{if(!(e<0))break t;e=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{if(-1===r&&(t>=0?(r=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),e>=n||e<0){var a=Math.floor(e/n);e-=n*a,r+=Math.abs(a);var s=this.repetitions-r;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,e=t>0?n:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(1===s){var l=t<0;this._setEndings(l,!l,o)}else this._setEndings(!1,!1,o);this._loopCount=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}if(o&&1===(1&r))return this.time=e,n-e}return this.time=e,e},_setEndings:function(t,e,n){var i=this._interpolantSettings;n?(i.endingStart=xl,i.endingEnd=xl):(i.endingStart=t?this.zeroSlopeAtStart?xl:gl:_l,i.endingEnd=e?this.zeroSlopeAtEnd?xl:gl:_l)},_scheduleFading:function(t,e,n){var i=this._mixer,r=i.time,o=this._weightInterpolant;null===o&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);var a=o.parameterPositions,s=o.sampleValues;return a[0]=r,s[0]=e,a[1]=r+t,s[1]=n,this}}),Yr.prototype=Object.assign(Object.create(i.prototype),{constructor:Yr,_bindAction:function(t,e){var n=t._localRoot||this._root,i=t._clip.tracks,r=i.length,o=t._propertyBindings,a=t._interpolants,s=n.uuid,l=this._bindingsByRootAndName,u=l[s];void 0===u&&(u={},l[s]=u);for(var c=0;c!==r;++c){var h=i[c],p=h.name,d=u[p];if(void 0!==d)o[c]=d;else{if(void 0!==(d=o[c])){null===d._cacheIndex&&(++d.referenceCount,this._addInactiveBinding(d,s,p));continue}var f=e&&e._propertyBindings[c].binding.parsedPath;d=new Vr(Hr.create(n,p,f),h.ValueTypeName,h.getValueSize()),++d.referenceCount,this._addInactiveBinding(d,s,p),o[c]=d}a[c].resultBuffer=d.buffer}},_activateAction:function(t){if(!this._isActiveAction(t)){if(null===t._cacheIndex){var e=(t._localRoot||this._root).uuid,n=t._clip.uuid,i=this._actionsByClip[n];this._bindAction(t,i&&i.knownActions[0]),this._addInactiveAction(t,n,e)}for(var r=t._propertyBindings,o=0,a=r.length;o!==a;++o){var s=r[o];0===s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(t)}},_deactivateAction:function(t){if(this._isActiveAction(t)){for(var e=t._propertyBindings,n=0,i=e.length;n!==i;++n){var r=e[n];0===--r.useCount&&(r.restoreOriginalState(),this._takeBackBinding(r))}this._takeBackAction(t)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}},_isActiveAction:function(t){var e=t._cacheIndex;return null!==e&&e<this._nActiveActions},_addInactiveAction:function(t,e,n){var i=this._actions,r=this._actionsByClip,o=r[e];if(void 0===o)o={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,r[e]=o;else{var a=o.knownActions;t._byClipCacheIndex=a.length,a.push(t)}t._cacheIndex=i.length,i.push(t),o.actionByRoot[n]=t},_removeInactiveAction:function(t){var e=this._actions,n=e[e.length-1],i=t._cacheIndex;n._cacheIndex=i,e[i]=n,e.pop(),t._cacheIndex=null;var r=t._clip.uuid,o=this._actionsByClip,a=o[r],s=a.knownActions,l=s[s.length-1],u=t._byClipCacheIndex;l._byClipCacheIndex=u,s[u]=l,s.pop(),t._byClipCacheIndex=null,delete a.actionByRoot[(t._localRoot||this._root).uuid],0===s.length&&delete o[r],this._removeInactiveBindingsForAction(t)},_removeInactiveBindingsForAction:function(t){for(var e=t._propertyBindings,n=0,i=e.length;n!==i;++n){var r=e[n];0===--r.referenceCount&&this._removeInactiveBinding(r)}},_lendAction:function(t){var e=this._actions,n=t._cacheIndex,i=this._nActiveActions++,r=e[i];t._cacheIndex=i,e[i]=t,r._cacheIndex=n,e[n]=r},_takeBackAction:function(t){var e=this._actions,n=t._cacheIndex,i=--this._nActiveActions,r=e[i];t._cacheIndex=i,e[i]=t,r._cacheIndex=n,e[n]=r},_addInactiveBinding:function(t,e,n){var i=this._bindingsByRootAndName,r=i[e],o=this._bindings;void 0===r&&(r={},i[e]=r),r[n]=t,t._cacheIndex=o.length,o.push(t)},_removeInactiveBinding:function(t){var e=this._bindings,n=t.binding,i=n.rootNode.uuid,r=n.path,o=this._bindingsByRootAndName,a=o[i],s=e[e.length-1],l=t._cacheIndex;s._cacheIndex=l,e[l]=s,e.pop(),delete a[r];t:{for(var u in a)break t;delete o[i]}},_lendBinding:function(t){var e=this._bindings,n=t._cacheIndex,i=this._nActiveBindings++,r=e[i];t._cacheIndex=i,e[i]=t,r._cacheIndex=n,e[n]=r},_takeBackBinding:function(t){var e=this._bindings,n=t._cacheIndex,i=--this._nActiveBindings,r=e[i];t._cacheIndex=i,e[i]=t,r._cacheIndex=n,e[n]=r},_lendControlInterpolant:function(){var t=this._controlInterpolants,e=this._nActiveControlInterpolants++,n=t[e];return void 0===n&&(n=new hr(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),n.__cacheIndex=e,t[e]=n),n},_takeBackControlInterpolant:function(t){var e=this._controlInterpolants,n=t.__cacheIndex,i=--this._nActiveControlInterpolants,r=e[i];t.__cacheIndex=i,e[i]=t,r.__cacheIndex=n,e[n]=r},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(t,e){var n=e||this._root,i=n.uuid,r="string"===typeof t?br.findByName(n,t):t,o=null!==r?r.uuid:t,a=this._actionsByClip[o],s=null;if(void 0!==a){var l=a.actionByRoot[i];if(void 0!==l)return l;s=a.knownActions[0],null===r&&(r=s._clip)}if(null===r)return null;var u=new qr(this,r,e);return this._bindAction(u,s),this._addInactiveAction(u,o,i),u},existingAction:function(t,e){var n=e||this._root,i=n.uuid,r="string"===typeof t?br.findByName(n,t):t,o=r?r.uuid:t,a=this._actionsByClip[o];return void 0!==a?a.actionByRoot[i]||null:null},stopAllAction:function(){var t=this._actions,e=this._nActiveActions,n=this._bindings,i=this._nActiveBindings;this._nActiveActions=0,this._nActiveBindings=0;for(var r=0;r!==e;++r)t[r].reset();for(var r=0;r!==i;++r)n[r].useCount=0;return this},update:function(t){t*=this.timeScale;for(var e=this._actions,n=this._nActiveActions,i=this.time+=t,r=Math.sign(t),o=this._accuIndex^=1,a=0;a!==n;++a){e[a]._update(i,t,r,o)}for(var s=this._bindings,l=this._nActiveBindings,a=0;a!==l;++a)s[a].apply(o);return this},getRoot:function(){return this._root},uncacheClip:function(t){var e=this._actions,n=t.uuid,i=this._actionsByClip,r=i[n];if(void 0!==r){for(var o=r.knownActions,a=0,s=o.length;a!==s;++a){var l=o[a];this._deactivateAction(l);var u=l._cacheIndex,c=e[e.length-1];l._cacheIndex=null,l._byClipCacheIndex=null,c._cacheIndex=u,e[u]=c,e.pop(),this._removeInactiveBindingsForAction(l)}delete i[n]}},uncacheRoot:function(t){var e=t.uuid,n=this._actionsByClip;for(var i in n){var r=n[i].actionByRoot,o=r[e];void 0!==o&&(this._deactivateAction(o),this._removeInactiveAction(o))}var a=this._bindingsByRootAndName,s=a[e];if(void 0!==s)for(var l in s){var u=s[l];u.restoreOriginalState(),this._removeInactiveBinding(u)}},uncacheAction:function(t,e){var n=this.existingAction(t,e);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}),Xr.prototype.clone=function(){return new Xr(void 0===this.value.clone?this.value:this.value.clone())},$r.prototype=Object.assign(Object.create(U.prototype),{constructor:$r,isInstancedBufferGeometry:!0,copy:function(t){return U.prototype.copy.call(this,t),this.maxInstancedCount=t.maxInstancedCount,this},clone:function(){return(new this.constructor).copy(this)}}),Zr.prototype=Object.assign(Object.create(Pe.prototype),{constructor:Zr,isInstancedInterleavedBuffer:!0,copy:function(t){return Pe.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this}}),Jr.prototype=Object.assign(Object.create(C.prototype),{constructor:Jr,isInstancedBufferAttribute:!0,copy:function(t){return C.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this}}),Object.assign(Kr.prototype,{linePrecision:1,set:function(t,e){this.ray.set(t,e)},setFromCamera:function(t,e){e&&e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize()):e&&e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld)):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(t,e,n){var i=n||[];return to(t,this,i,e),i.sort(Qr),i},intersectObjects:function(t,e,n){var i=n||[];if(!1===Array.isArray(t))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),i;for(var r=0,o=t.length;r<o;r++)to(t[r],this,i,e);return i.sort(Qr),i}}),Object.assign(eo.prototype,{start:function(){this.startTime=("undefined"===typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var e=("undefined"===typeof performance?Date:performance).now();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}}),Object.assign(no.prototype,{set:function(t,e,n){return this.radius=t,this.phi=e,this.theta=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this},makeSafe:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this},setFromVector3:function(t){return this.radius=t.length(),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t.x,t.z),this.phi=Math.acos(Dl.clamp(t.y/this.radius,-1,1))),this}}),Object.assign(io.prototype,{set:function(t,e,n){return this.radius=t,this.theta=e,this.y=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.radius=t.radius,this.theta=t.theta,this.y=t.y,this},setFromVector3:function(t){return this.radius=Math.sqrt(t.x*t.x+t.z*t.z),this.theta=Math.atan2(t.x,t.z),this.y=t.y,this}}),Object.assign(ro.prototype,{set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(){var t=new r;return function(e,n){var i=t.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(t){return void 0===t&&(console.warn("THREE.Box2: .getCenter() target is now required"),t=new r),this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){return void 0===t&&(console.warn("THREE.Box2: .getSize() target is now required"),t=new r),this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y},getParameter:function(t,e){return void 0===e&&(console.warn("THREE.Box2: .getParameter() target is now required"),e=new r),e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)},clampPoint:function(t,e){return void 0===e&&(console.warn("THREE.Box2: .clampPoint() target is now required"),e=new r),e.copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new r;return function(e){return t.copy(e).clamp(this.min,this.max).sub(e).length()}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}),Object.assign(oo.prototype,{set:function(t,e){return this.start.copy(t),this.end.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.start.copy(t.start),this.end.copy(t.end),this},getCenter:function(t){return void 0===t&&(console.warn("THREE.Line3: .getCenter() target is now required"),t=new s),t.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(t){return void 0===t&&(console.warn("THREE.Line3: .delta() target is now required"),t=new s),t.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(t,e){return void 0===e&&(console.warn("THREE.Line3: .at() target is now required"),e=new s),this.delta(e).multiplyScalar(t).add(this.start)},closestPointToPointParameter:function(){var t=new s,e=new s;return function(n,i){t.subVectors(n,this.start),e.subVectors(this.end,this.start);var r=e.dot(e),o=e.dot(t),a=o/r;return i&&(a=Dl.clamp(a,0,1)),a}}(),closestPointToPoint:function(t,e,n){var i=this.closestPointToPointParameter(t,e);return void 0===n&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),n=new s),this.delta(n).multiplyScalar(i).add(this.start)},applyMatrix4:function(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this},equals:function(t){return t.start.equals(this.start)&&t.end.equals(this.end)}}),ao.prototype=Object.create(E.prototype),ao.prototype.constructor=ao,ao.prototype.isImmediateRenderObject=!0,so.prototype=Object.create(je.prototype),so.prototype.constructor=so,so.prototype.update=function(){var t=new s,e=new s,n=new l;return function(){var i=["a","b","c"];this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);var r=this.object.matrixWorld,o=this.geometry.attributes.position,a=this.object.geometry;if(a&&a.isGeometry)for(var s=a.vertices,l=a.faces,u=0,c=0,h=l.length;c<h;c++)for(var p=l[c],d=0,f=p.vertexNormals.length;d<f;d++){var y=s[p[i[d]]],m=p.vertexNormals[d];t.copy(y).applyMatrix4(r),e.copy(m).applyMatrix3(n).normalize().multiplyScalar(this.size).add(t),o.setXYZ(u,t.x,t.y,t.z),u+=1,o.setXYZ(u,e.x,e.y,e.z),u+=1}else if(a&&a.isBufferGeometry)for(var v=a.attributes.position,g=a.attributes.normal,u=0,d=0,f=v.count;d<f;d++)t.set(v.getX(d),v.getY(d),v.getZ(d)).applyMatrix4(r),e.set(g.getX(d),g.getY(d),g.getZ(d)),e.applyMatrix3(n).normalize().multiplyScalar(this.size).add(t),o.setXYZ(u,t.x,t.y,t.z),u+=1,o.setXYZ(u,e.x,e.y,e.z),u+=1;o.needsUpdate=!0}}(),lo.prototype=Object.create(E.prototype),lo.prototype.constructor=lo,lo.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},lo.prototype.update=function(){var t=new s,e=new s;return function(){this.light.updateMatrixWorld();var n=this.light.distance?this.light.distance:1e3,i=n*Math.tan(this.light.angle);this.cone.scale.set(i,i,n),t.setFromMatrixPosition(this.light.matrixWorld),e.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(e.sub(t)),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}(),co.prototype=Object.create(je.prototype),co.prototype.constructor=co,co.prototype.updateMatrixWorld=function(){var t=new s,e=new o,n=new o;return function(i){var r=this.bones,o=this.geometry,a=o.getAttribute("position");n.getInverse(this.root.matrixWorld);for(var s=0,l=0;s<r.length;s++){var u=r[s];u.parent&&u.parent.isBone&&(e.multiplyMatrices(n,u.matrixWorld),t.setFromMatrixPosition(e),a.setXYZ(l,t.x,t.y,t.z),e.multiplyMatrices(n,u.parent.matrixWorld),t.setFromMatrixPosition(e),a.setXYZ(l+1,t.x,t.y,t.z),l+=2)}o.getAttribute("position").needsUpdate=!0,E.prototype.updateMatrixWorld.call(this,i)}}(),ho.prototype=Object.create(Z.prototype),ho.prototype.constructor=ho,ho.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},ho.prototype.update=function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)},po.prototype=Object.create(E.prototype),po.prototype.constructor=po,po.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},po.prototype.update=function(){var t=.5*this.light.width,e=.5*this.light.height,n=this.line.geometry.attributes.position,i=n.array;i[0]=t,i[1]=-e,i[2]=0,i[3]=t,i[4]=e,i[5]=0,i[6]=-t,i[7]=e,i[8]=0,i[9]=-t,i[10]=-e,i[11]=0,i[12]=t,i[13]=-e,i[14]=0,n.needsUpdate=!0,void 0!==this.color?this.line.material.color.set(this.color):this.line.material.color.copy(this.light.color)},fo.prototype=Object.create(E.prototype),fo.prototype.constructor=fo,fo.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},fo.prototype.update=function(){var t=new s,e=new g,n=new g;return function(){var i=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var r=i.geometry.getAttribute("color");e.copy(this.light.color),n.copy(this.light.groundColor);for(var o=0,a=r.count;o<a;o++){var s=o<a/2?e:n;r.setXYZ(o,s.r,s.g,s.b)}r.needsUpdate=!0}i.lookAt(t.setFromMatrixPosition(this.light.matrixWorld).negate())}}(),yo.prototype=Object.create(je.prototype),yo.prototype.constructor=yo,mo.prototype=Object.create(je.prototype),mo.prototype.constructor=mo,vo.prototype=Object.create(je.prototype),vo.prototype.constructor=vo,vo.prototype.update=function(){var t=new s,e=new s,n=new l;return function(){this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);for(var i=this.object.matrixWorld,r=this.geometry.attributes.position,o=this.object.geometry,a=o.vertices,s=o.faces,l=0,u=0,c=s.length;u<c;u++){var h=s[u],p=h.normal;t.copy(a[h.a]).add(a[h.b]).add(a[h.c]).divideScalar(3).applyMatrix4(i),e.copy(p).applyMatrix3(n).normalize().multiplyScalar(this.size).add(t),r.setXYZ(l,t.x,t.y,t.z),l+=1,r.setXYZ(l,e.x,e.y,e.z),l+=1}r.needsUpdate=!0}}(),go.prototype=Object.create(E.prototype),go.prototype.constructor=go,go.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},go.prototype.update=function(){var t=new s,e=new s,n=new s;return function(){t.setFromMatrixPosition(this.light.matrixWorld),e.setFromMatrixPosition(this.light.target.matrixWorld),n.subVectors(e,t),this.lightPlane.lookAt(n),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(n),this.targetLine.scale.z=n.length()}}(),xo.prototype=Object.create(je.prototype),xo.prototype.constructor=xo,xo.prototype.update=function(){function t(t,o,a,s){i.set(o,a,s).unproject(r);var l=n[t];if(void 0!==l)for(var u=e.getAttribute("position"),c=0,h=l.length;c<h;c++)u.setXYZ(l[c],i.x,i.y,i.z)}var e,n,i=new s,r=new M;return function(){e=this.geometry,n=this.pointMap;r.projectionMatrix.copy(this.camera.projectionMatrix),t("c",0,0,-1),t("t",0,0,1),t("n1",-1,-1,-1),t("n2",1,-1,-1),t("n3",-1,1,-1),t("n4",1,1,-1),t("f1",-1,-1,1),t("f2",1,-1,1),t("f3",-1,1,1),t("f4",1,1,1),t("u1",.7,1.1,-1),t("u2",-.7,1.1,-1),t("u3",0,2,-1),t("cf1",-1,0,1),t("cf2",1,0,1),t("cf3",0,-1,1),t("cf4",0,1,1),t("cn1",-1,0,-1),t("cn2",1,0,-1),t("cn3",0,-1,-1),t("cn4",0,1,-1),e.getAttribute("position").needsUpdate=!0}}(),_o.prototype=Object.create(je.prototype),_o.prototype.constructor=_o,_o.prototype.update=function(){var t=new f;return function(e){if(void 0!==e&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&t.setFromObject(this.object),!t.isEmpty()){var n=t.min,i=t.max,r=this.geometry.attributes.position,o=r.array;o[0]=i.x,o[1]=i.y,o[2]=i.z,o[3]=n.x,o[4]=i.y,o[5]=i.z,o[6]=n.x,o[7]=n.y,o[8]=i.z,o[9]=i.x,o[10]=n.y,o[11]=i.z,o[12]=i.x,o[13]=i.y,o[14]=n.z,o[15]=n.x,o[16]=i.y,o[17]=n.z,o[18]=n.x,o[19]=n.y,o[20]=n.z,o[21]=i.x,o[22]=n.y,o[23]=n.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}}}(),_o.prototype.setFromObject=function(t){return this.object=t,this.update(),this},bo.prototype=Object.create(je.prototype),bo.prototype.constructor=bo,bo.prototype.updateMatrixWorld=function(t){var e=this.box;e.isEmpty()||(e.getCenter(this.position),e.getSize(this.scale),this.scale.multiplyScalar(.5),E.prototype.updateMatrixWorld.call(this,t))},wo.prototype=Object.create(Ue.prototype),wo.prototype.constructor=wo,wo.prototype.updateMatrixWorld=function(t){var e=-this.plane.constant;Math.abs(e)<1e-8&&(e=1e-8),this.scale.set(.5*this.size,.5*this.size,e),this.children[0].material.side=e<0?ya:fa,this.lookAt(this.plane.normal),E.prototype.updateMatrixWorld.call(this,t)};var Au,Cu;Eo.prototype=Object.create(E.prototype),Eo.prototype.constructor=Eo,Eo.prototype.setDirection=function(){var t,e=new s;return function(n){n.y>.99999?this.quaternion.set(0,0,0,1):n.y<-.99999?this.quaternion.set(1,0,0,0):(e.set(n.z,0,-n.x).normalize(),t=Math.acos(n.y),this.quaternion.setFromAxisAngle(e,t))}}(),Eo.prototype.setLength=function(t,e,n){void 0===e&&(e=.2*t),void 0===n&&(n=.2*e),this.line.scale.set(1,Math.max(0,t-e),1),this.line.updateMatrix(),this.cone.scale.set(n,e,n),this.cone.position.y=t,this.cone.updateMatrix()},Eo.prototype.setColor=function(t){this.line.material.color.copy(t),this.cone.material.color.copy(t)},Mo.prototype=Object.create(je.prototype),Mo.prototype.constructor=Mo;var Lu=0,ku=1;Ci.create=function(t,e){return console.log("THREE.Curve.create() has been deprecated"),t.prototype=Object.create(Ci.prototype),t.prototype.constructor=t,t.prototype.getPoint=e,t},Object.assign(Zi.prototype,{createPointsGeometry:function(t){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var e=this.getPoints(t);return this.createGeometry(e)},createSpacedPointsGeometry:function(t){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var e=this.getSpacedPoints(t);return this.createGeometry(e)},createGeometry:function(t){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");for(var e=new A,n=0,i=t.length;n<i;n++){var r=t[n];e.vertices.push(new s(r.x,r.y,r.z||0))}return e}}),Object.assign(Ji.prototype,{fromPoints:function(t){console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(t)}}),Wo.prototype=Object.create(Ii.prototype),qo.prototype=Object.create(Ii.prototype),Yo.prototype=Object.create(Ii.prototype),Object.assign(Yo.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),yo.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},co.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Object.assign(Sr.prototype,{extractUrlBase:function(t){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),_u.extractUrlBase(t)}}),Object.assign(ro.prototype,{center:function(t){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},size:function(t){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(t)}}),Object.assign(f.prototype,{center:function(t){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionSphere:function(t){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)},size:function(t){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(t)}}),oo.prototype.center=function(t){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(t)},Object.assign(Dl,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(t){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),Dl.floorPowerOfTwo(t)},nextPowerOfTwo:function(t){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),Dl.ceilPowerOfTwo(t)}}),Object.assign(l.prototype,{flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},multiplyVector3:function(t){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBuffer:function(t){return console.warn("THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(t)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}}),Object.assign(o.prototype,{extractPosition:function(t){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(t)},flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},getPosition:function(){var t;return function(){return void 0===t&&(t=new s),console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),t.setFromMatrixColumn(this,3)}}(),setRotationFromQuaternion:function(t){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(t)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(t){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector4:function(t){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(t){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),t.transformDirection(this)},crossVector:function(t){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBuffer:function(t){return console.warn("THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(t)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(t,e,n,i,r,o){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(t,e,i,n,r,o)}}),m.prototype.isIntersectionLine=function(t){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(t)},a.prototype.multiplyVector3=function(t){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),t.applyQuaternion(this)},Object.assign(X.prototype,{isIntersectionBox:function(t){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionPlane:function(t){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(t)},isIntersectionSphere:function(t){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)}}),Object.assign($.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(t,e){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(t,e)},midpoint:function(t){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(t)},normal:function(t){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(t)},plane:function(t){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(t)}}),Object.assign($,{barycoordFromPoint:function(t,e,n,i,r){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),$.getBarycoord(t,e,n,i,r)},normal:function(t,e,n,i){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),$.getNormal(t,e,n,i)}}),Object.assign(Ki.prototype,{extractAllPoints:function(t){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(t)},extrude:function(t){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Wn(this,t)},makeGeometry:function(t){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new ni(this,t)}}),Object.assign(r.prototype,{fromAttribute:function(t,e,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)},distanceToManhattan:function(t){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(s.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(t){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(t)},getScaleFromMatrix:function(t){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(t)},getColumnFromMatrix:function(t,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,t)},applyProjection:function(t){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(t)},fromAttribute:function(t,e,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)},distanceToManhattan:function(t){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(c.prototype,{fromAttribute:function(t,e,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(A.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")}}),Object.assign(E.prototype,{getChildByName:function(t){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(t)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(t,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,t)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")}}),Object.defineProperties(E.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(t){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=t}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.defineProperties(Oe.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(De.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),Object.defineProperty(Ci.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(t){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=t}}),Ee.prototype.setLens=function(t,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==e&&(this.filmGauge=e),this.setFocalLength(t)},Object.defineProperties(Qi.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(t){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=t}},shadowCameraLeft:{set:function(t){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=t}},shadowCameraRight:{set:function(t){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=t}},shadowCameraTop:{set:function(t){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=t}},shadowCameraBottom:{set:function(t){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=t}},shadowCameraNear:{set:function(t){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=t}},shadowCameraFar:{set:function(t){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=t}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(t){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=t}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(t){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=t}},shadowMapHeight:{set:function(t){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=t}}}),Object.defineProperties(C.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")}}),Object.assign(U.prototype,{addIndex:function(t){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(t)},addDrawCall:function(t,e,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(t,e)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")}}),Object.defineProperties(U.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.assign(qn.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}}),Object.defineProperties(Xr.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(W.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new g}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(t){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=t===va}}}),Object.defineProperties(mi.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(Y.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(t){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=t}}}),Object.assign(Ae.prototype,{animate:function(t){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(t)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(t){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(t)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")}}),Object.defineProperties(Ae.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=t}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=t}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(ge.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(h.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=t}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=t}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=t}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=t}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(t){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=t}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(t){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=t}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(t){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=t}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(t){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=t}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(t){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=t}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(t){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=t}}}),Object.defineProperties(Te.prototype,{standing:{set:function(){console.warn("THREE.WebVRManager: .standing has been removed.")}}}),Fr.prototype.load=function(t){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var e=this;return(new Or).load(t,function(t){e.setBuffer(t)}),this},jr.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},Br.prototype.updateCubeMap=function(t,e){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(t,e)};var Pu={merge:function(t,e,n){console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.");var i;e.isMesh&&(e.matrixAutoUpdate&&e.updateMatrix(),i=e.matrix,e=e.geometry),t.merge(e,i,n)},center:function(t){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),t.center()}};Bl.crossOrigin=void 0,Bl.loadTexture=function(t,e,n,i){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var r=new Ai;r.setCrossOrigin(this.crossOrigin);var o=r.load(t,n,void 0,i);return e&&(o.mapping=e),o},Bl.loadTextureCube=function(t,e,n,i){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var r=new Si;r.setCrossOrigin(this.crossOrigin);var o=r.load(t,n,void 0,i);return e&&(o.mapping=e),o},Bl.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},Bl.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};var Iu={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js")}}},function(t,e,n){"use strict";function i(){}function r(t){try{return t.then}catch(t){return v=t,g}}function o(t,e){try{return t(e)}catch(t){return v=t,g}}function a(t,e,n){try{t(e,n)}catch(t){return v=t,g}}function s(t){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");if("function"!==typeof t)throw new TypeError("Promise constructor's argument is not a function");this._75=0,this._83=0,this._18=null,this._38=null,t!==i&&y(t,this)}function l(t,e,n){return new t.constructor(function(r,o){var a=new s(i);a.then(r,o),u(t,new f(e,n,a))})}function u(t,e){for(;3===t._83;)t=t._18;if(s._47&&s._47(t),0===t._83)return 0===t._75?(t._75=1,void(t._38=e)):1===t._75?(t._75=2,void(t._38=[t._38,e])):void t._38.push(e);c(t,e)}function c(t,e){m(function(){var n=1===t._83?e.onFulfilled:e.onRejected;if(null===n)return void(1===t._83?h(e.promise,t._18):p(e.promise,t._18));var i=o(n,t._18);i===g?p(e.promise,v):h(e.promise,i)})}function h(t,e){if(e===t)return p(t,new TypeError("A promise cannot be resolved with itself."));if(e&&("object"===typeof e||"function"===typeof e)){var n=r(e);if(n===g)return p(t,v);if(n===t.then&&e instanceof s)return t._83=3,t._18=e,void d(t);if("function"===typeof n)return void y(n.bind(e),t)}t._83=1,t._18=e,d(t)}function p(t,e){t._83=2,t._18=e,s._71&&s._71(t,e),d(t)}function d(t){if(1===t._75&&(u(t,t._38),t._38=null),2===t._75){for(var e=0;e<t._38.length;e++)u(t,t._38[e]);t._38=null}}function f(t,e,n){this.onFulfilled="function"===typeof t?t:null,this.onRejected="function"===typeof e?e:null,this.promise=n}function y(t,e){var n=!1,i=a(t,function(t){n||(n=!0,h(e,t))},function(t){n||(n=!0,p(e,t))});n||i!==g||(n=!0,p(e,v))}var m=n(19),v=null,g={};t.exports=s,s._47=null,s._71=null,s._44=i,s.prototype.then=function(t,e){if(this.constructor!==s)return l(this,t,e);var n=new s(i);return u(this,new f(t,e,n)),n}},function(t,e,n){t.exports=n(35)},function(t,e,n){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];return t.apply(e,n)}}},function(t,e,n){"use strict";var i=n(0),r=n(39),o=n(41),a=n(42),s=n(43),l=n(12),u="undefined"!==typeof window&&window.btoa&&window.btoa.bind(window)||n(44);t.exports=function(t){return new Promise(function(e,c){var h=t.data,p=t.headers;i.isFormData(h)&&delete p["Content-Type"];var d=new XMLHttpRequest,f="onreadystatechange",y=!1;if("undefined"===typeof window||!window.XDomainRequest||"withCredentials"in d||s(t.url)||(d=new window.XDomainRequest,f="onload",y=!0,d.onprogress=function(){},d.ontimeout=function(){}),t.auth){var m=t.auth.username||"",v=t.auth.password||"";p.Authorization="Basic "+u(m+":"+v)}if(d.open(t.method.toUpperCase(),o(t.url,t.params,t.paramsSerializer),!0),d.timeout=t.timeout,d[f]=function(){if(d&&(4===d.readyState||y)&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in d?a(d.getAllResponseHeaders()):null,i=t.responseType&&"text"!==t.responseType?d.response:d.responseText,o={data:i,status:1223===d.status?204:d.status,statusText:1223===d.status?"No Content":d.statusText,headers:n,config:t,request:d};r(e,c,o),d=null}},d.onerror=function(){c(l("Network Error",t,null,d)),d=null},d.ontimeout=function(){c(l("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",d)),d=null},i.isStandardBrowserEnv()){var g=n(45),x=(t.withCredentials||s(t.url))&&t.xsrfCookieName?g.read(t.xsrfCookieName):void 0;x&&(p[t.xsrfHeaderName]=x)}if("setRequestHeader"in d&&i.forEach(p,function(t,e){"undefined"===typeof h&&"content-type"===e.toLowerCase()?delete p[e]:d.setRequestHeader(e,t)}),t.withCredentials&&(d.withCredentials=!0),t.responseType)try{d.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"===typeof t.onDownloadProgress&&d.addEventListener("progress",t.onDownloadProgress),"function"===typeof t.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(t){d&&(d.abort(),c(t),d=null)}),void 0===h&&(h=null),d.send(h)})}},function(t,e,n){"use strict";var i=n(40);t.exports=function(t,e,n,r,o){var a=new Error(t);return i(a,e,n,r,o)}},function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,n){"use strict";function i(t){this.message=t}i.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},i.prototype.__CANCEL__=!0,t.exports=i},function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t,e,n){n(17),t.exports=n(23)},function(t,e,n){"use strict";"undefined"===typeof Promise&&(n(18).enable(),window.Promise=n(20)),n(21),Object.assign=n(22)},function(t,e,n){"use strict";function i(){u=!1,s._47=null,s._71=null}function r(t){function e(e){(t.allRejections||a(h[e].error,t.whitelist||l))&&(h[e].displayId=c++,t.onUnhandled?(h[e].logged=!0,t.onUnhandled(h[e].displayId,h[e].error)):(h[e].logged=!0,o(h[e].displayId,h[e].error)))}function n(e){h[e].logged&&(t.onHandled?t.onHandled(h[e].displayId,h[e].error):h[e].onUnhandled||(console.warn("Promise Rejection Handled (id: "+h[e].displayId+"):"),console.warn('  This means you can ignore any previous messages of the form "Possible Unhandled Promise Rejection" with id '+h[e].displayId+".")))}t=t||{},u&&i(),u=!0;var r=0,c=0,h={};s._47=function(t){2===t._83&&h[t._56]&&(h[t._56].logged?n(t._56):clearTimeout(h[t._56].timeout),delete h[t._56])},s._71=function(t,n){0===t._75&&(t._56=r++,h[t._56]={displayId:null,error:n,timeout:setTimeout(e.bind(null,t._56),a(n,l)?100:2e3),logged:!1})}}function o(t,e){console.warn("Possible Unhandled Promise Rejection (id: "+t+"):"),((e&&(e.stack||e))+"").split("\n").forEach(function(t){console.warn("  "+t)})}function a(t,e){return e.some(function(e){return t instanceof e})}var s=n(8),l=[ReferenceError,TypeError,RangeError],u=!1;e.disable=i,e.enable=r},function(t,e,n){"use strict";(function(e){function n(t){a.length||(o(),s=!0),a[a.length]=t}function i(){for(;l<a.length;){var t=l;if(l+=1,a[t].call(),l>u){for(var e=0,n=a.length-l;e<n;e++)a[e]=a[e+l];a.length-=l,l=0}}a.length=0,l=0,s=!1}function r(t){return function(){function e(){clearTimeout(n),clearInterval(i),t()}var n=setTimeout(e,0),i=setInterval(e,50)}}t.exports=n;var o,a=[],s=!1,l=0,u=1024,c="undefined"!==typeof e?e:self,h=c.MutationObserver||c.WebKitMutationObserver;o="function"===typeof h?function(t){var e=1,n=new h(t),i=document.createTextNode("");return n.observe(i,{characterData:!0}),function(){e=-e,i.data=e}}(i):r(i),n.requestFlush=o,n.makeRequestCallFromTimer=r}).call(e,n(2))},function(t,e,n){"use strict";function i(t){var e=new r(r._44);return e._83=1,e._18=t,e}var r=n(8);t.exports=r;var o=i(!0),a=i(!1),s=i(null),l=i(void 0),u=i(0),c=i("");r.resolve=function(t){if(t instanceof r)return t;if(null===t)return s;if(void 0===t)return l;if(!0===t)return o;if(!1===t)return a;if(0===t)return u;if(""===t)return c;if("object"===typeof t||"function"===typeof t)try{var e=t.then;if("function"===typeof e)return new r(e.bind(t))}catch(t){return new r(function(e,n){n(t)})}return i(t)},r.all=function(t){var e=Array.prototype.slice.call(t);return new r(function(t,n){function i(a,s){if(s&&("object"===typeof s||"function"===typeof s)){if(s instanceof r&&s.then===r.prototype.then){for(;3===s._83;)s=s._18;return 1===s._83?i(a,s._18):(2===s._83&&n(s._18),void s.then(function(t){i(a,t)},n))}var l=s.then;if("function"===typeof l){return void new r(l.bind(s)).then(function(t){i(a,t)},n)}}e[a]=s,0===--o&&t(e)}if(0===e.length)return t([]);for(var o=e.length,a=0;a<e.length;a++)i(a,e[a])})},r.reject=function(t){return new r(function(e,n){n(t)})},r.race=function(t){return new r(function(e,n){t.forEach(function(t){r.resolve(t).then(e,n)})})},r.prototype.catch=function(t){return this.then(null,t)}},function(t,e){!function(t){"use strict";function e(t){if("string"!==typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function n(t){return"string"!==typeof t&&(t=String(t)),t}function i(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return v.iterable&&(e[Symbol.iterator]=function(){return e}),e}function r(t){this.map={},t instanceof r?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function o(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function a(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function s(t){var e=new FileReader,n=a(e);return e.readAsArrayBuffer(t),n}function l(t){var e=new FileReader,n=a(e);return e.readAsText(t),n}function u(t){for(var e=new Uint8Array(t),n=new Array(e.length),i=0;i<e.length;i++)n[i]=String.fromCharCode(e[i]);return n.join("")}function c(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function h(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"===typeof t)this._bodyText=t;else if(v.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(v.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(v.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(v.arrayBuffer&&v.blob&&x(t))this._bodyArrayBuffer=c(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!v.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!_(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=c(t)}else this._bodyText="";this.headers.get("content-type")||("string"===typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):v.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},v.blob&&(this.blob=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?o(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(s)}),this.text=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return l(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(u(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},v.formData&&(this.formData=function(){return this.text().then(f)}),this.json=function(){return this.text().then(JSON.parse)},this}function p(t){var e=t.toUpperCase();return b.indexOf(e)>-1?e:t}function d(t,e){e=e||{};var n=e.body;if(t instanceof d){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new r(t.headers)),this.method=t.method,this.mode=t.mode,n||null==t._bodyInit||(n=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new r(e.headers)),this.method=p(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function f(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),i=n.shift().replace(/\+/g," "),r=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(i),decodeURIComponent(r))}}),e}function y(t){var e=new r;return t.split(/\r?\n/).forEach(function(t){var n=t.split(":"),i=n.shift().trim();if(i){var r=n.join(":").trim();e.append(i,r)}}),e}function m(t,e){e||(e={}),this.type="default",this.status="status"in e?e.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new r(e.headers),this.url=e.url||"",this._initBody(t)}if(!t.fetch){var v={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(v.arrayBuffer)var g=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],x=function(t){return t&&DataView.prototype.isPrototypeOf(t)},_=ArrayBuffer.isView||function(t){return t&&g.indexOf(Object.prototype.toString.call(t))>-1};r.prototype.append=function(t,i){t=e(t),i=n(i);var r=this.map[t];this.map[t]=r?r+","+i:i},r.prototype.delete=function(t){delete this.map[e(t)]},r.prototype.get=function(t){return t=e(t),this.has(t)?this.map[t]:null},r.prototype.has=function(t){return this.map.hasOwnProperty(e(t))},r.prototype.set=function(t,i){this.map[e(t)]=n(i)},r.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},r.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),i(t)},r.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),i(t)},r.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),i(t)},v.iterable&&(r.prototype[Symbol.iterator]=r.prototype.entries);var b=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];d.prototype.clone=function(){return new d(this,{body:this._bodyInit})},h.call(d.prototype),h.call(m.prototype),m.prototype.clone=function(){return new m(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new r(this.headers),url:this.url})},m.error=function(){var t=new m(null,{status:0,statusText:""});return t.type="error",t};var w=[301,302,303,307,308];m.redirect=function(t,e){if(-1===w.indexOf(e))throw new RangeError("Invalid status code");return new m(null,{status:e,headers:{location:t}})},t.Headers=r,t.Request=d,t.Response=m,t.fetch=function(t,e){return new Promise(function(n,i){var r=new d(t,e),o=new XMLHttpRequest;o.onload=function(){var t={status:o.status,statusText:o.statusText,headers:y(o.getAllResponseHeaders()||"")};t.url="responseURL"in o?o.responseURL:t.headers.get("X-Request-URL");var e="response"in o?o.response:o.responseText;n(new m(e,t))},o.onerror=function(){i(new TypeError("Network request failed"))},o.ontimeout=function(){i(new TypeError("Network request failed"))},o.open(r.method,r.url,!0),"include"===r.credentials&&(o.withCredentials=!0),"responseType"in o&&v.blob&&(o.responseType="blob"),r.headers.forEach(function(t,e){o.setRequestHeader(e,t)}),o.send("undefined"===typeof r._bodyInit?null:r._bodyInit)})},t.fetch.polyfill=!0}}("undefined"!==typeof self?self:this)},function(t,e,n){"use strict";function i(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}var r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(t){i[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,s,l=i(t),u=1;u<arguments.length;u++){n=Object(arguments[u]);for(var c in n)o.call(n,c)&&(l[c]=n[c]);if(r){s=r(n);for(var h=0;h<s.length;h++)a.call(n,s[h])&&(l[s[h]]=n[s[h]])}}return l}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(24),r=(n.n(i),n(25)),o=n.n(r),a=n(3),s=n.n(a),l=n(28),u=n(29),c=n(33),h=n.n(c),p=n(34),d=n(53),f=n.n(d),y=n(54),m=n.n(y),v=(n(61),n(65)),g=(n.n(v),n(66));n.n(g),n(67);if(s.a.use(o.a),window.onload=function(){document.body.classList.add("loaded")},document.querySelectorAll("#my-svg").length>0){var x=new f.a("my-svg",{type:"sync",duration:200,reverseStack:!0,animTimingFunction:f.a.EASE,pathTimingFunction:f.a.EASE_IN});setInterval(function(){x.play(1,function(){x.play(-1)})},5e3)}document.querySelectorAll(".date-picker").forEach(function(t){new l.a(t)}),Object(u.a)(),new h.a(".share-button",{text:function(t){return window.location.href}}).on("success",function(t){var e=s.a.tooltip(t.trigger,{title:"Link copied to clipboard",pos:"bottom"});e.show(),setTimeout(function(){e.$destroy()},5e3),t.clearSelection()}),Object(p.a)(),document.querySelectorAll("[data-scrollto]").forEach(function(t){t.addEventListener("click",function(t){t.preventDefault(),m()(t.srcElement.attributes.href.value,{offset:-100})})})},function(t,e){},function(t,e,n){!function(e,n){t.exports=n()}(0,function(){"use strict";function t(e){t.installed||e.icon.add({"500px":'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <path d="M9.624,11.866c-0.141,0.132,0.479,0.658,0.662,0.418c0.051-0.046,0.607-0.61,0.662-0.664c0,0,0.738,0.719,0.814,0.719\t\tc0.1,0,0.207-0.055,0.322-0.17c0.27-0.269,0.135-0.416,0.066-0.495l-0.631-0.616l0.658-0.668c0.146-0.156,0.021-0.314-0.1-0.449\t\tc-0.182-0.18-0.359-0.226-0.471-0.125l-0.656,0.654l-0.654-0.654c-0.033-0.034-0.08-0.045-0.124-0.045\t\tc-0.079,0-0.191,0.068-0.307,0.181c-0.202,0.202-0.247,0.351-0.133,0.462l0.665,0.665L9.624,11.866z" /> <path d="M11.066,2.884c-1.061,0-2.185,0.248-3.011,0.604c-0.087,0.034-0.141,0.106-0.15,0.205C7.893,3.784,7.919,3.909,7.982,4.066\t\tc0.05,0.136,0.187,0.474,0.452,0.372c0.844-0.326,1.779-0.507,2.633-0.507c0.963,0,1.9,0.191,2.781,0.564\t\tc0.695,0.292,1.357,0.719,2.078,1.34c0.051,0.044,0.105,0.068,0.164,0.068c0.143,0,0.273-0.137,0.389-0.271\t\tc0.191-0.214,0.324-0.395,0.135-0.575c-0.686-0.654-1.436-1.138-2.363-1.533C13.24,3.097,12.168,2.884,11.066,2.884z" /> <path d="M16.43,15.747c-0.092-0.028-0.242,0.05-0.309,0.119l0,0c-0.652,0.652-1.42,1.169-2.268,1.521\t\tc-0.877,0.371-1.814,0.551-2.779,0.551c-0.961,0-1.896-0.189-2.775-0.564c-0.848-0.36-1.612-0.879-2.268-1.53\t\tc-0.682-0.688-1.196-1.455-1.529-2.268c-0.325-0.799-0.471-1.643-0.471-1.643c-0.045-0.24-0.258-0.249-0.567-0.203\t\tc-0.128,0.021-0.519,0.079-0.483,0.36v0.01c0.105,0.644,0.289,1.284,0.545,1.895c0.417,0.969,1.002,1.849,1.756,2.604\t\tc0.757,0.754,1.636,1.34,2.604,1.757C8.901,18.785,9.97,19,11.088,19c1.104,0,2.186-0.215,3.188-0.645\t\tc1.838-0.896,2.604-1.757,2.604-1.757c0.182-0.204,0.227-0.317-0.1-0.643C16.779,15.956,16.525,15.774,16.43,15.747z" /> <path d="M5.633,13.287c0.293,0.71,0.723,1.341,1.262,1.882c0.54,0.54,1.172,0.971,1.882,1.264c0.731,0.303,1.509,0.461,2.298,0.461\t\tc0.801,0,1.578-0.158,2.297-0.461c0.711-0.293,1.344-0.724,1.883-1.264c0.543-0.541,0.971-1.172,1.264-1.882\t\tc0.314-0.721,0.463-1.5,0.463-2.298c0-0.79-0.148-1.569-0.463-2.289c-0.293-0.699-0.721-1.329-1.264-1.881\t\tc-0.539-0.541-1.172-0.959-1.867-1.263c-0.721-0.303-1.5-0.461-2.299-0.461c-0.802,0-1.613,0.159-2.322,0.461\t\tc-0.577,0.25-1.544,0.867-2.119,1.454v0.012V2.108h8.16C15.1,2.104,15.1,1.69,15.1,1.552C15.1,1.417,15.1,1,14.809,1H5.915\t\tC5.676,1,5.527,1.192,5.527,1.384v6.84c0,0.214,0.273,0.372,0.529,0.428c0.5,0.105,0.614-0.056,0.737-0.224l0,0\t\tc0.18-0.273,0.776-0.884,0.787-0.894c0.901-0.905,2.117-1.408,3.416-1.408c1.285,0,2.5,0.501,3.412,1.408\t\tc0.914,0.914,1.408,2.122,1.408,3.405c0,1.288-0.508,2.496-1.408,3.405c-0.9,0.896-2.152,1.406-3.438,1.406\t\tc-0.877,0-1.711-0.229-2.433-0.671v-4.158c0-0.553,0.237-1.151,0.643-1.614c0.462-0.519,1.094-0.799,1.782-0.799\t\tc0.664,0,1.293,0.253,1.758,0.715c0.459,0.459,0.709,1.071,0.709,1.723c0,1.385-1.094,2.468-2.488,2.468\t\tc-0.273,0-0.769-0.121-0.781-0.125c-0.281-0.087-0.405,0.306-0.438,0.436c-0.159,0.496,0.079,0.585,0.123,0.607\t\tc0.452,0.137,0.743,0.157,1.129,0.157c1.973,0,3.572-1.6,3.572-3.57c0-1.964-1.6-3.552-3.572-3.552c-0.97,0-1.872,0.36-2.546,1.038\t\tc-0.656,0.631-1.027,1.487-1.027,2.322v3.438v-0.011c-0.372-0.42-0.732-1.041-0.981-1.682c-0.102-0.248-0.315-0.202-0.607-0.113\t\tc-0.135,0.035-0.519,0.157-0.44,0.439C5.372,12.799,5.577,13.164,5.633,13.287z" /></svg>',album:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <rect x="5" y="2" width="10" height="1" /> <rect x="3" y="4" width="14" height="1" /> <rect fill="none" stroke="#000" x="1.5" y="6.5" width="17" height="11" /></svg>',"arrow-down":'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <polygon points="10.5,16.08 5.63,10.66 6.37,10 10.5,14.58 14.63,10 15.37,10.66" /> <line fill="none" stroke="#000" x1="10.5" y1="4" x2="10.5" y2="15" /></svg>',"arrow-left":'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <polyline fill="none" stroke="#000" points="10 14 5 9.5 10 5" /> <line fill="none" stroke="#000" x1="16" y1="9.5" x2="5" y2="9.52" /></svg>',"arrow-right":'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <polyline fill="none" stroke="#000" points="10 5 15 9.5 10 14" /> <line fill="none" stroke="#000" x1="4" y1="9.5" x2="15" y2="9.5" /></svg>',"arrow-up":'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <polygon points="10.5,4 15.37,9.4 14.63,10.08 10.5,5.49 6.37,10.08 5.63,9.4" /> <line fill="none" stroke="#000" x1="10.5" y1="16" x2="10.5" y2="5" /></svg>',ban:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <circle fill="none" stroke="#000" stroke-width="1.1" cx="10" cy="10" r="9" /> <line fill="none" stroke="#000" stroke-width="1.1" x1="4" y1="3.5" x2="16" y2="16.5" /></svg>',behance:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <path d="M9.5,10.6c-0.4-0.5-0.9-0.9-1.6-1.1c1.7-1,2.2-3.2,0.7-4.7C7.8,4,6.3,4,5.2,4C3.5,4,1.7,4,0,4v12c1.7,0,3.4,0,5.2,0 c1,0,2.1,0,3.1-0.5C10.2,14.6,10.5,12.3,9.5,10.6L9.5,10.6z M5.6,6.1c1.8,0,1.8,2.7-0.1,2.7c-1,0-2,0-2.9,0V6.1H5.6z M2.6,13.8v-3.1 c1.1,0,2.1,0,3.2,0c2.1,0,2.1,3.2,0.1,3.2L2.6,13.8z" /> <path d="M19.9,10.9C19.7,9.2,18.7,7.6,17,7c-4.2-1.3-7.3,3.4-5.3,7.1c0.9,1.7,2.8,2.3,4.7,2.1c1.7-0.2,2.9-1.3,3.4-2.9h-2.2 c-0.4,1.3-2.4,1.5-3.5,0.6c-0.4-0.4-0.6-1.1-0.6-1.7H20C20,11.7,19.9,10.9,19.9,10.9z M13.5,10.6c0-1.6,2.3-2.7,3.5-1.4 c0.4,0.4,0.5,0.9,0.6,1.4H13.5L13.5,10.6z" /> <rect x="13" y="4" width="5" height="1.4" /></svg>',bell:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <path fill="none" stroke="#000" stroke-width="1.1" d="M17,15.5 L3,15.5 C2.99,14.61 3.79,13.34 4.1,12.51 C4.58,11.3 4.72,10.35 5.19,7.01 C5.54,4.53 5.89,3.2 7.28,2.16 C8.13,1.56 9.37,1.5 9.81,1.5 L9.96,1.5 C9.96,1.5 11.62,1.41 12.67,2.17 C14.08,3.2 14.42,4.54 14.77,7.02 C15.26,10.35 15.4,11.31 15.87,12.52 C16.2,13.34 17.01,14.61 17,15.5 L17,15.5 Z" /> <path fill="none" stroke="#000" d="M12.39,16 C12.39,17.37 11.35,18.43 9.91,18.43 C8.48,18.43 7.42,17.37 7.42,16" /></svg>',bold:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <path d="M5,15.3 C5.66,15.3 5.9,15 5.9,14.53 L5.9,5.5 C5.9,4.92 5.56,4.7 5,4.7 L5,4 L8.95,4 C12.6,4 13.7,5.37 13.7,6.9 C13.7,7.87 13.14,9.17 10.86,9.59 L10.86,9.7 C13.25,9.86 14.29,11.28 14.3,12.54 C14.3,14.47 12.94,16 9,16 L5,16 L5,15.3 Z M9,9.3 C11.19,9.3 11.8,8.5 11.85,7 C11.85,5.65 11.3,4.8 9,4.8 L7.67,4.8 L7.67,9.3 L9,9.3 Z M9.185,15.22 C11.97,15 12.39,14 12.4,12.58 C12.4,11.15 11.39,10 9,10 L7.67,10 L7.67,15 L9.18,15 Z" /></svg>',bolt:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <path d="M4.74,20 L7.73,12 L3,12 L15.43,1 L12.32,9 L17.02,9 L4.74,20 L4.74,20 L4.74,20 Z M9.18,11 L7.1,16.39 L14.47,10 L10.86,10 L12.99,4.67 L5.61,11 L9.18,11 L9.18,11 L9.18,11 Z" /></svg>',bookmark:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <polygon fill="none" stroke="#000" points="5.5 1.5 15.5 1.5 15.5 17.5 10.5 12.5 5.5 17.5" /></svg>',calendar:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <path d="M 2,3 2,17 18,17 18,3 2,3 Z M 17,16 3,16 3,8 17,8 17,16 Z M 17,7 3,7 3,4 17,4 17,7 Z" /> <rect width="1" height="3" x="6" y="2" /> <rect width="1" height="3" x="13" y="2" /></svg>',camera:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <circle fill="none" stroke="#000" stroke-width="1.1" cx="10" cy="10.8" r="3.8" /> <path fill="none" stroke="#000" d="M1,4.5 C0.7,4.5 0.5,4.7 0.5,5 L0.5,17 C0.5,17.3 0.7,17.5 1,17.5 L19,17.5 C19.3,17.5 19.5,17.3 19.5,17 L19.5,5 C19.5,4.7 19.3,4.5 19,4.5 L13.5,4.5 L13.5,2.9 C13.5,2.6 13.3,2.5 13,2.5 L7,2.5 C6.7,2.5 6.5,2.6 6.5,2.9 L6.5,4.5 L1,4.5 L1,4.5 Z" /></svg>',cart:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <circle cx="7.3" cy="17.3" r="1.4" /> <circle cx="13.3" cy="17.3" r="1.4" /> <polyline fill="none" stroke="#000" points="0 2 3.2 4 5.3 12.5 16 12.5 18 6.5 8 6.5" /></svg>',check:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <polyline fill="none" stroke="#000" stroke-width="1.1" points="4,10 8,15 17,4" /></svg>',"chevron-down":'<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 7.02"><title>chevron-down</title><path d="M5.58,6.8a.92.92,0,0,0-1.32,0,.9.9,0,0,0,0,1.27l4.86,5.07a1.2,1.2,0,0,0,1.73,0L15.74,8a.9.9,0,0,0,0-1.27.92.92,0,0,0-1.32,0L10,11.39Z" transform="translate(-4 -6.49)"/></svg>',"chevron-left":'<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 7.02 12"><title>chevron-left</title><path d="M13.2,5.58a.92.92,0,0,0,0-1.32.9.9,0,0,0-1.27,0L6.86,9.12a1.2,1.2,0,0,0,0,1.73L12,15.74a.9.9,0,0,0,1.27,0,.92.92,0,0,0,0-1.32L8.61,10Z" transform="translate(-6.49 -4)"/></svg>',"chevron-right":'<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 7.02 12"><title>chevron-right</title><path d="M11.39,10,6.77,14.42a.92.92,0,0,0,0,1.32.9.9,0,0,0,1.27,0l5.1-4.89a1.2,1.2,0,0,0,0-1.73L8.07,4.26a.9.9,0,0,0-1.27,0,.92.92,0,0,0,0,1.32Z" transform="translate(-6.49 -4)"/></svg>',"chevron-up":'<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 7.02"><title>chevron-up</title><path d="M10,8.61l4.43,4.62a.92.92,0,0,0,1.32,0,.9.9,0,0,0,0-1.27l-4.89-5.1a1.2,1.2,0,0,0-1.73,0L4.26,11.93a.9.9,0,0,0,0,1.27.92.92,0,0,0,1.32,0Z" transform="translate(-4 -6.49)"/></svg>',clock:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <circle fill="none" stroke="#000" stroke-width="1.1" cx="10" cy="10" r="9" /> <rect x="9" y="4" width="1" height="7" /> <path fill="none" stroke="#000" stroke-width="1.1" d="M13.018,14.197 L9.445,10.625" /></svg>',close:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <path fill="none" stroke="#000" stroke-width="1.06" d="M16,16 L4,4" /> <path fill="none" stroke="#000" stroke-width="1.06" d="M16,4 L4,16" /></svg>',"cloud-download":'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <path fill="none" stroke="#000" stroke-width="1.1" d="M6.5,14.61 L3.75,14.61 C1.96,14.61 0.5,13.17 0.5,11.39 C0.5,9.76 1.72,8.41 3.3,8.2 C3.38,5.31 5.75,3 8.68,3 C11.19,3 13.31,4.71 13.89,7.02 C14.39,6.8 14.93,6.68 15.5,6.68 C17.71,6.68 19.5,8.45 19.5,10.64 C19.5,12.83 17.71,14.6 15.5,14.6 L12.5,14.6" /> <polyline fill="none" stroke="#000" points="11.75 16 9.5 18.25 7.25 16" /> <path fill="none" stroke="#000" d="M9.5,18 L9.5,9.5" /></svg>',"cloud-upload":'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <path fill="none" stroke="#000" stroke-width="1.1" d="M6.5,14.61 L3.75,14.61 C1.96,14.61 0.5,13.17 0.5,11.39 C0.5,9.76 1.72,8.41 3.31,8.2 C3.38,5.31 5.75,3 8.68,3 C11.19,3 13.31,4.71 13.89,7.02 C14.39,6.8 14.93,6.68 15.5,6.68 C17.71,6.68 19.5,8.45 19.5,10.64 C19.5,12.83 17.71,14.6 15.5,14.6 L12.5,14.6" /> <polyline fill="none" stroke="#000" points="7.25 11.75 9.5 9.5 11.75 11.75" /> <path fill="none" stroke="#000" d="M9.5,18 L9.5,9.5" /></svg>',code:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <polyline fill="none" stroke="#000" stroke-width="1.01" points="13,4 19,10 13,16" /> <polyline fill="none" stroke="#000" stroke-width="1.01" points="7,4 1,10 7,16" /></svg>',cog:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <circle fill="none" stroke="#000" cx="9.997" cy="10" r="3.31" /> <path fill="none" stroke="#000" d="M18.488,12.285 L16.205,16.237 C15.322,15.496 14.185,15.281 13.303,15.791 C12.428,16.289 12.047,17.373 12.246,18.5 L7.735,18.5 C7.938,17.374 7.553,16.299 6.684,15.791 C5.801,15.27 4.655,15.492 3.773,16.237 L1.5,12.285 C2.573,11.871 3.317,10.999 3.317,9.991 C3.305,8.98 2.573,8.121 1.5,7.716 L3.765,3.784 C4.645,4.516 5.794,4.738 6.687,4.232 C7.555,3.722 7.939,2.637 7.735,1.5 L12.263,1.5 C12.072,2.637 12.441,3.71 13.314,4.22 C14.206,4.73 15.343,4.516 16.225,3.794 L18.487,7.714 C17.404,8.117 16.661,8.988 16.67,10.009 C16.672,11.018 17.415,11.88 18.488,12.285 L18.488,12.285 Z" /></svg>',comment:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <path d="M6,18.71 L6,14 L1,14 L1,1 L19,1 L19,14 L10.71,14 L6,18.71 L6,18.71 Z M2,13 L7,13 L7,16.29 L10.29,13 L18,13 L18,2 L2,2 L2,13 L2,13 Z" /></svg>',commenting:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <polygon fill="none" stroke="#000" points="1.5,1.5 18.5,1.5 18.5,13.5 10.5,13.5 6.5,17.5 6.5,13.5 1.5,13.5" /> <circle cx="10" cy="8" r="1" /> <circle cx="6" cy="8" r="1" /> <circle cx="14" cy="8" r="1" /></svg>',comments:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <polyline fill="none" stroke="#000" points="2 0.5 19.5 0.5 19.5 13" /> <path d="M5,19.71 L5,15 L0,15 L0,2 L18,2 L18,15 L9.71,15 L5,19.71 L5,19.71 L5,19.71 Z M1,14 L6,14 L6,17.29 L9.29,14 L17,14 L17,3 L1,3 L1,14 L1,14 L1,14 Z" /></svg>',copy:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <rect fill="none" stroke="#000" x="3.5" y="2.5" width="12" height="16" /> <polyline fill="none" stroke="#000" points="5 0.5 17.5 0.5 17.5 17" /></svg>',"credit-card":'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <rect fill="none" stroke="#000" x="1.5" y="4.5" width="17" height="12" /> <rect x="1" y="7" width="18" height="3" /></svg>',database:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <ellipse fill="none" stroke="#000" cx="10" cy="4.64" rx="7.5" ry="3.14" /> <path fill="none" stroke="#000" d="M17.5,8.11 C17.5,9.85 14.14,11.25 10,11.25 C5.86,11.25 2.5,9.84 2.5,8.11" /> <path fill="none" stroke="#000" d="M17.5,11.25 C17.5,12.99 14.14,14.39 10,14.39 C5.86,14.39 2.5,12.98 2.5,11.25" /> <path fill="none" stroke="#000" d="M17.49,4.64 L17.5,14.36 C17.5,16.1 14.14,17.5 10,17.5 C5.86,17.5 2.5,16.09 2.5,14.36 L2.5,4.64" /></svg>',desktop:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <rect x="8" y="15" width="1" height="2" /> <rect x="11" y="15" width="1" height="2" /> <rect x="5" y="16" width="10" height="1" /> <rect fill="none" stroke="#000" x="1.5" y="3.5" width="17" height="11" /></svg>',download:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <polyline fill="none" stroke="#000" points="14,10 9.5,14.5 5,10" /> <rect x="3" y="17" width="13" height="1" /> <line fill="none" stroke="#000" x1="9.5" y1="13.91" x2="9.5" y2="3" /></svg>',dribbble:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <path fill="none" stroke="#000" stroke-width="1.4" d="M1.3,8.9c0,0,5,0.1,8.6-1c1.4-0.4,2.6-0.9,4-1.9 c1.4-1.1,2.5-2.5,2.5-2.5" /> <path fill="none" stroke="#000" stroke-width="1.4" d="M3.9,16.6c0,0,1.7-2.8,3.5-4.2 c1.8-1.3,4-2,5.7-2.2C16,10,19,10.6,19,10.6" /> <path fill="none" stroke="#000" stroke-width="1.4" d="M6.9,1.6c0,0,3.3,4.6,4.2,6.8 c0.4,0.9,1.3,3.1,1.9,5.2c0.6,2,0.9,4.4,0.9,4.4" /> <circle fill="none" stroke="#000" stroke-width="1.4" cx="10" cy="10" r="9" /></svg>',expand:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <polygon points="13 2 18 2 18 7 17 7 17 3 13 3" /> <polygon points="2 13 3 13 3 17 7 17 7 18 2 18" /> <path fill="none" stroke="#000" stroke-width="1.1" d="M11,9 L17,3" /> <path fill="none" stroke="#000" stroke-width="1.1" d="M3,17 L9,11" /></svg>',facebook:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <path d="M11,10h2.6l0.4-3H11V5.3c0-0.9,0.2-1.5,1.5-1.5H14V1.1c-0.3,0-1-0.1-2.1-0.1C9.6,1,8,2.4,8,5v2H5.5v3H8v8h3V10z" /></svg>',"file-edit":'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <path fill="none" stroke="#000" d="M18.65,1.68 C18.41,1.45 18.109,1.33 17.81,1.33 C17.499,1.33 17.209,1.45 16.98,1.68 L8.92,9.76 L8,12.33 L10.55,11.41 L18.651,3.34 C19.12,2.87 19.12,2.15 18.65,1.68 L18.65,1.68 L18.65,1.68 Z" /> <polyline fill="none" stroke="#000" points="16.5 8.482 16.5 18.5 3.5 18.5 3.5 1.5 14.211 1.5" /></svg>',file:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <rect fill="none" stroke="#000" x="3.5" y="1.5" width="13" height="17" /></svg>',flickr:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <circle cx="5.5" cy="9.5" r="3.5" /> <circle cx="14.5" cy="9.5" r="3.5" /></svg>',folder:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <polygon fill="none" stroke="#000" points="9.5 5.5 8.5 3.5 1.5 3.5 1.5 16.5 18.5 16.5 18.5 5.5" /></svg>',forward:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <path d="M2.47,13.11 C4.02,10.02 6.27,7.85 9.04,6.61 C9.48,6.41 10.27,6.13 11,5.91 L11,2 L18.89,9 L11,16 L11,12.13 C9.25,12.47 7.58,13.19 6.02,14.25 C3.03,16.28 1.63,18.54 1.63,18.54 C1.63,18.54 1.38,15.28 2.47,13.11 L2.47,13.11 Z M5.3,13.53 C6.92,12.4 9.04,11.4 12,10.92 L12,13.63 L17.36,9 L12,4.25 L12,6.8 C11.71,6.86 10.86,7.02 9.67,7.49 C6.79,8.65 4.58,10.96 3.49,13.08 C3.18,13.7 2.68,14.87 2.49,16 C3.28,15.05 4.4,14.15 5.3,13.53 L5.3,13.53 Z" /></svg>',foursquare:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <path d="M15.23,2 C15.96,2 16.4,2.41 16.5,2.86 C16.57,3.15 16.56,3.44 16.51,3.73 C16.46,4.04 14.86,11.72 14.75,12.03 C14.56,12.56 14.16,12.82 13.61,12.83 C13.03,12.84 11.09,12.51 10.69,13 C10.38,13.38 7.79,16.39 6.81,17.53 C6.61,17.76 6.4,17.96 6.08,17.99 C5.68,18.04 5.29,17.87 5.17,17.45 C5.12,17.28 5.1,17.09 5.1,16.91 C5.1,12.4 4.86,7.81 5.11,3.31 C5.17,2.5 5.81,2.12 6.53,2 L15.23,2 L15.23,2 Z M9.76,11.42 C9.94,11.19 10.17,11.1 10.45,11.1 L12.86,11.1 C13.12,11.1 13.31,10.94 13.36,10.69 C13.37,10.64 13.62,9.41 13.74,8.83 C13.81,8.52 13.53,8.28 13.27,8.28 C12.35,8.29 11.42,8.28 10.5,8.28 C9.84,8.28 9.83,7.69 9.82,7.21 C9.8,6.85 10.13,6.55 10.5,6.55 C11.59,6.56 12.67,6.55 13.76,6.55 C14.03,6.55 14.23,6.4 14.28,6.14 C14.34,5.87 14.67,4.29 14.67,4.29 C14.67,4.29 14.82,3.74 14.19,3.74 L7.34,3.74 C7,3.75 6.84,4.02 6.84,4.33 C6.84,7.58 6.85,14.95 6.85,14.99 C6.87,15 8.89,12.51 9.76,11.42 L9.76,11.42 Z" /></svg>',future:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <polyline points="19 2 18 2 18 6 14 6 14 7 19 7 19 2" /> <path fill="none" stroke="#000" stroke-width="1.1" d="M18,6.548 C16.709,3.29 13.354,1 9.6,1 C4.6,1 0.6,5 0.6,10 C0.6,15 4.6,19 9.6,19 C14.6,19 18.6,15 18.6,10" /> <rect x="9" y="4" width="1" height="7" /> <path d="M13.018,14.197 L9.445,10.625" fill="none" stroke="#000" stroke-width="1.1" /></svg>',"git-branch":'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <circle fill="none" stroke="#000" stroke-width="1.2" cx="7" cy="3" r="2" /> <circle fill="none" stroke="#000" stroke-width="1.2" cx="14" cy="6" r="2" /> <circle fill="none" stroke="#000" stroke-width="1.2" cx="7" cy="17" r="2" /> <path fill="none" stroke="#000" stroke-width="2" d="M14,8 C14,10.41 12.43,10.87 10.56,11.25 C9.09,11.54 7,12.06 7,15 L7,5" /></svg>',"git-fork":'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <circle fill="none" stroke="#000" stroke-width="1.2" cx="5.79" cy="2.79" r="1.79" /> <circle fill="none" stroke="#000" stroke-width="1.2" cx="14.19" cy="2.79" r="1.79" /> <ellipse fill="none" stroke="#000" stroke-width="1.2" cx="10.03" cy="16.79" rx="1.79" ry="1.79" /> <path fill="none" stroke="#000" stroke-width="2" d="M5.79,4.57 L5.79,6.56 C5.79,9.19 10.03,10.22 10.03,13.31 C10.03,14.86 10.04,14.55 10.04,14.55 C10.04,14.37 10.04,14.86 10.04,13.31 C10.04,10.22 14.2,9.19 14.2,6.56 L14.2,4.57" /></svg>',"github-alt":'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <path d="M10,0.5 C4.75,0.5 0.5,4.76 0.5,10.01 C0.5,15.26 4.75,19.51 10,19.51 C15.24,19.51 19.5,15.26 19.5,10.01 C19.5,4.76 15.25,0.5 10,0.5 L10,0.5 Z M12.81,17.69 C12.81,17.69 12.81,17.7 12.79,17.69 C12.47,17.75 12.35,17.59 12.35,17.36 L12.35,16.17 C12.35,15.45 12.09,14.92 11.58,14.56 C12.2,14.51 12.77,14.39 13.26,14.21 C13.87,13.98 14.36,13.69 14.74,13.29 C15.42,12.59 15.76,11.55 15.76,10.17 C15.76,9.25 15.45,8.46 14.83,7.8 C15.1,7.08 15.07,6.29 14.75,5.44 L14.51,5.42 C14.34,5.4 14.06,5.46 13.67,5.61 C13.25,5.78 12.79,6.03 12.31,6.35 C11.55,6.16 10.81,6.05 10.09,6.05 C9.36,6.05 8.61,6.15 7.88,6.35 C7.28,5.96 6.75,5.68 6.26,5.54 C6.07,5.47 5.9,5.44 5.78,5.44 L5.42,5.44 C5.06,6.29 5.04,7.08 5.32,7.8 C4.7,8.46 4.4,9.25 4.4,10.17 C4.4,11.94 4.96,13.16 6.08,13.84 C6.53,14.13 7.05,14.32 7.69,14.43 C8.03,14.5 8.32,14.54 8.55,14.55 C8.07,14.89 7.82,15.42 7.82,16.16 L7.82,17.51 C7.8,17.69 7.7,17.8 7.51,17.8 C4.21,16.74 1.82,13.65 1.82,10.01 C1.82,5.5 5.49,1.83 10,1.83 C14.5,1.83 18.17,5.5 18.17,10.01 C18.18,13.53 15.94,16.54 12.81,17.69 L12.81,17.69 Z" /></svg>',github:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <path d="M10,1 C5.03,1 1,5.03 1,10 C1,13.98 3.58,17.35 7.16,18.54 C7.61,18.62 7.77,18.34 7.77,18.11 C7.77,17.9 7.76,17.33 7.76,16.58 C5.26,17.12 4.73,15.37 4.73,15.37 C4.32,14.33 3.73,14.05 3.73,14.05 C2.91,13.5 3.79,13.5 3.79,13.5 C4.69,13.56 5.17,14.43 5.17,14.43 C5.97,15.8 7.28,15.41 7.79,15.18 C7.87,14.6 8.1,14.2 8.36,13.98 C6.36,13.75 4.26,12.98 4.26,9.53 C4.26,8.55 4.61,7.74 5.19,7.11 C5.1,6.88 4.79,5.97 5.28,4.73 C5.28,4.73 6.04,4.49 7.75,5.65 C8.47,5.45 9.24,5.35 10,5.35 C10.76,5.35 11.53,5.45 12.25,5.65 C13.97,4.48 14.72,4.73 14.72,4.73 C15.21,5.97 14.9,6.88 14.81,7.11 C15.39,7.74 15.73,8.54 15.73,9.53 C15.73,12.99 13.63,13.75 11.62,13.97 C11.94,14.25 12.23,14.8 12.23,15.64 C12.23,16.84 12.22,17.81 12.22,18.11 C12.22,18.35 12.38,18.63 12.84,18.54 C16.42,17.35 19,13.98 19,10 C19,5.03 14.97,1 10,1 L10,1 Z" /></svg>',gitter:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <rect x="3.5" y="1" width="1.531" height="11.471" /> <rect x="7.324" y="4.059" width="1.529" height="15.294" /> <rect x="11.148" y="4.059" width="1.527" height="15.294" /> <rect x="14.971" y="4.059" width="1.529" height="8.412" /></svg>',"google-plus":'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <path d="M12.9,9c0,2.7-0.6,5-3.2,6.3c-3.7,1.8-8.1,0.2-9.4-3.6C-1.1,7.6,1.9,3.3,6.1,3c1.7-0.1,3.2,0.3,4.6,1.3 c0.1,0.1,0.3,0.2,0.4,0.4c-0.5,0.5-1.2,1-1.7,1.6c-1-0.8-2.1-1.1-3.5-0.9C5,5.6,4.2,6,3.6,6.7c-1.3,1.3-1.5,3.4-0.5,5 c1,1.7,2.6,2.3,4.6,1.9c1.4-0.3,2.4-1.2,2.6-2.6H6.9V9H12.9z" /> <polygon points="20,9 20,11 18,11 18,13 16,13 16,11 14,11 14,9 16,9 16,7 18,7 18,9 " /></svg>',google:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <path d="M17.86,9.09 C18.46,12.12 17.14,16.05 13.81,17.56 C9.45,19.53 4.13,17.68 2.47,12.87 C0.68,7.68 4.22,2.42 9.5,2.03 C11.57,1.88 13.42,2.37 15.05,3.65 C15.22,3.78 15.37,3.93 15.61,4.14 C14.9,4.81 14.23,5.45 13.5,6.14 C12.27,5.08 10.84,4.72 9.28,4.98 C8.12,5.17 7.16,5.76 6.37,6.63 C4.88,8.27 4.62,10.86 5.76,12.82 C6.95,14.87 9.17,15.8 11.57,15.25 C13.27,14.87 14.76,13.33 14.89,11.75 L10.51,11.75 L10.51,9.09 L17.86,9.09 L17.86,9.09 Z" /></svg>',grid:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <rect x="2" y="2" width="3" height="3" /> <rect x="8" y="2" width="3" height="3" /> <rect x="14" y="2" width="3" height="3" /> <rect x="2" y="8" width="3" height="3" /> <rect x="8" y="8" width="3" height="3" /> <rect x="14" y="8" width="3" height="3" /> <rect x="2" y="14" width="3" height="3" /> <rect x="8" y="14" width="3" height="3" /> <rect x="14" y="14" width="3" height="3" /></svg>',happy:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <circle cx="13" cy="7" r="1" /> <circle cx="7" cy="7" r="1" /> <circle fill="none" stroke="#000" cx="10" cy="10" r="8.5" /> <path fill="none" stroke="#000" d="M14.6,11.4 C13.9,13.3 12.1,14.5 10,14.5 C7.9,14.5 6.1,13.3 5.4,11.4" /></svg>',hashtag:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <path d="M15.431,8 L15.661,7 L12.911,7 L13.831,3 L12.901,3 L11.98,7 L9.29,7 L10.21,3 L9.281,3 L8.361,7 L5.23,7 L5,8 L8.13,8 L7.21,12 L4.23,12 L4,13 L6.98,13 L6.061,17 L6.991,17 L7.911,13 L10.601,13 L9.681,17 L10.611,17 L11.531,13 L14.431,13 L14.661,12 L11.76,12 L12.681,8 L15.431,8 Z M10.831,12 L8.141,12 L9.061,8 L11.75,8 L10.831,12 Z" /></svg>',heart:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <path fill="none" stroke="#000" stroke-width="1.03" d="M10,4 C10,4 8.1,2 5.74,2 C3.38,2 1,3.55 1,6.73 C1,8.84 2.67,10.44 2.67,10.44 L10,18 L17.33,10.44 C17.33,10.44 19,8.84 19,6.73 C19,3.55 16.62,2 14.26,2 C11.9,2 10,4 10,4 L10,4 Z" /></svg>',history:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <polyline fill="#000" points="1 2 2 2 2 6 6 6 6 7 1 7 1 2" /> <path fill="none" stroke="#000" stroke-width="1.1" d="M2.1,6.548 C3.391,3.29 6.746,1 10.5,1 C15.5,1 19.5,5 19.5,10 C19.5,15 15.5,19 10.5,19 C5.5,19 1.5,15 1.5,10" /> <rect x="9" y="4" width="1" height="7" /> <path fill="none" stroke="#000" stroke-width="1.1" d="M13.018,14.197 L9.445,10.625" id="Shape" /></svg>',home:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <polygon points="18.65 11.35 10 2.71 1.35 11.35 0.65 10.65 10 1.29 19.35 10.65" /> <polygon points="15 4 18 4 18 7 17 7 17 5 15 5" /> <polygon points="3 11 4 11 4 18 7 18 7 12 12 12 12 18 16 18 16 11 17 11 17 19 11 19 11 13 8 13 8 19 3 19" /></svg>',image:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <circle cx="16.1" cy="6.1" r="1.1" /> <rect fill="none" stroke="#000" x="0.5" y="2.5" width="19" height="15" /> <polyline fill="none" stroke="#000" stroke-width="1.01" points="4,13 8,9 13,14" /> <polyline fill="none" stroke="#000" stroke-width="1.01" points="11,12 12.5,10.5 16,14" /></svg>',info:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <path d="M12.13,11.59 C11.97,12.84 10.35,14.12 9.1,14.16 C6.17,14.2 9.89,9.46 8.74,8.37 C9.3,8.16 10.62,7.83 10.62,8.81 C10.62,9.63 10.12,10.55 9.88,11.32 C8.66,15.16 12.13,11.15 12.14,11.18 C12.16,11.21 12.16,11.35 12.13,11.59 C12.08,11.95 12.16,11.35 12.13,11.59 L12.13,11.59 Z M11.56,5.67 C11.56,6.67 9.36,7.15 9.36,6.03 C9.36,5 11.56,4.54 11.56,5.67 L11.56,5.67 Z" /> <circle fill="none" stroke="#000" stroke-width="1.1" cx="10" cy="10" r="9" /></svg>',instagram:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <path d="M13.55,1H6.46C3.45,1,1,3.44,1,6.44v7.12c0,3,2.45,5.44,5.46,5.44h7.08c3.02,0,5.46-2.44,5.46-5.44V6.44 C19.01,3.44,16.56,1,13.55,1z M17.5,14c0,1.93-1.57,3.5-3.5,3.5H6c-1.93,0-3.5-1.57-3.5-3.5V6c0-1.93,1.57-3.5,3.5-3.5h8 c1.93,0,3.5,1.57,3.5,3.5V14z" /> <circle cx="14.87" cy="5.26" r="1.09" /> <path d="M10.03,5.45c-2.55,0-4.63,2.06-4.63,4.6c0,2.55,2.07,4.61,4.63,4.61c2.56,0,4.63-2.061,4.63-4.61 C14.65,7.51,12.58,5.45,10.03,5.45L10.03,5.45L10.03,5.45z M10.08,13c-1.66,0-3-1.34-3-2.99c0-1.65,1.34-2.99,3-2.99s3,1.34,3,2.99 C13.08,11.66,11.74,13,10.08,13L10.08,13L10.08,13z" /></svg>',italic:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <path d="M12.63,5.48 L10.15,14.52 C10,15.08 10.37,15.25 11.92,15.3 L11.72,16 L6,16 L6.2,15.31 C7.78,15.26 8.19,15.09 8.34,14.53 L10.82,5.49 C10.97,4.92 10.63,4.76 9.09,4.71 L9.28,4 L15,4 L14.81,4.69 C13.23,4.75 12.78,4.91 12.63,5.48 L12.63,5.48 Z" /></svg>',joomla:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <path d="M7.8,13.4l1.7-1.7L5.9,8c-0.6-0.5-0.6-1.5,0-2c0.6-0.6,1.4-0.6,2,0l1.7-1.7c-1-1-2.3-1.3-3.6-1C5.8,2.2,4.8,1.4,3.7,1.4 c-1.3,0-2.3,1-2.3,2.3c0,1.1,0.8,2,1.8,2.3c-0.4,1.3-0.1,2.8,1,3.8L7.8,13.4L7.8,13.4z" /> <path d="M10.2,4.3c1-1,2.5-1.4,3.8-1c0.2-1.1,1.1-2,2.3-2c1.3,0,2.3,1,2.3,2.3c0,1.2-0.9,2.2-2,2.3c0.4,1.3,0,2.8-1,3.8L13.9,8 c0.6-0.5,0.6-1.5,0-2c-0.5-0.6-1.5-0.6-2,0L8.2,9.7L6.5,8" /> <path d="M14.1,16.8c-1.3,0.4-2.8,0.1-3.8-1l1.7-1.7c0.6,0.6,1.5,0.6,2,0c0.5-0.6,0.6-1.5,0-2l-3.7-3.7L12,6.7l3.7,3.7 c1,1,1.3,2.4,1,3.6c1.1,0.2,2,1.1,2,2.3c0,1.3-1,2.3-2.3,2.3C15.2,18.6,14.3,17.8,14.1,16.8" /> <path d="M13.2,12.2l-3.7,3.7c-1,1-2.4,1.3-3.6,1c-0.2,1-1.2,1.8-2.2,1.8c-1.3,0-2.3-1-2.3-2.3c0-1.1,0.8-2,1.8-2.3 c-0.3-1.3,0-2.7,1-3.7l1.7,1.7c-0.6,0.6-0.6,1.5,0,2c0.6,0.6,1.4,0.6,2,0l3.7-3.7" /></svg>',laptop:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <rect y="16" width="20" height="1" /> <rect fill="none" stroke="#000" x="2.5" y="4.5" width="15" height="10" /></svg>',lifesaver:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <path d="M10,0.5 C4.76,0.5 0.5,4.76 0.5,10 C0.5,15.24 4.76,19.5 10,19.5 C15.24,19.5 19.5,15.24 19.5,10 C19.5,4.76 15.24,0.5 10,0.5 L10,0.5 Z M10,1.5 C11.49,1.5 12.89,1.88 14.11,2.56 L11.85,4.82 C11.27,4.61 10.65,4.5 10,4.5 C9.21,4.5 8.47,4.67 7.79,4.96 L5.58,2.75 C6.87,1.95 8.38,1.5 10,1.5 L10,1.5 Z M4.96,7.8 C4.67,8.48 4.5,9.21 4.5,10 C4.5,10.65 4.61,11.27 4.83,11.85 L2.56,14.11 C1.88,12.89 1.5,11.49 1.5,10 C1.5,8.38 1.95,6.87 2.75,5.58 L4.96,7.79 L4.96,7.8 L4.96,7.8 Z M10,18.5 C8.25,18.5 6.62,17.97 5.27,17.06 L7.46,14.87 C8.22,15.27 9.08,15.5 10,15.5 C10.79,15.5 11.53,15.33 12.21,15.04 L14.42,17.25 C13.13,18.05 11.62,18.5 10,18.5 L10,18.5 Z M10,14.5 C7.52,14.5 5.5,12.48 5.5,10 C5.5,7.52 7.52,5.5 10,5.5 C12.48,5.5 14.5,7.52 14.5,10 C14.5,12.48 12.48,14.5 10,14.5 L10,14.5 Z M15.04,12.21 C15.33,11.53 15.5,10.79 15.5,10 C15.5,9.08 15.27,8.22 14.87,7.46 L17.06,5.27 C17.97,6.62 18.5,8.25 18.5,10 C18.5,11.62 18.05,13.13 17.25,14.42 L15.04,12.21 L15.04,12.21 Z" /></svg>',link:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <path fill="none" stroke="#000" stroke-width="1.1" d="M10.625,12.375 L7.525,15.475 C6.825,16.175 5.925,16.175 5.225,15.475 L4.525,14.775 C3.825,14.074 3.825,13.175 4.525,12.475 L7.625,9.375" /> <path fill="none" stroke="#000" stroke-width="1.1" d="M9.325,7.375 L12.425,4.275 C13.125,3.575 14.025,3.575 14.724,4.275 L15.425,4.975 C16.125,5.675 16.125,6.575 15.425,7.275 L12.325,10.375" /> <path fill="none" stroke="#000" stroke-width="1.1" d="M7.925,11.875 L11.925,7.975" /></svg>',linkedin:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <path d="M5.77,17.89 L5.77,7.17 L2.21,7.17 L2.21,17.89 L5.77,17.89 L5.77,17.89 Z M3.99,5.71 C5.23,5.71 6.01,4.89 6.01,3.86 C5.99,2.8 5.24,2 4.02,2 C2.8,2 2,2.8 2,3.85 C2,4.88 2.77,5.7 3.97,5.7 L3.99,5.7 L3.99,5.71 L3.99,5.71 Z" /> <path d="M7.75,17.89 L11.31,17.89 L11.31,11.9 C11.31,11.58 11.33,11.26 11.43,11.03 C11.69,10.39 12.27,9.73 13.26,9.73 C14.55,9.73 15.06,10.71 15.06,12.15 L15.06,17.89 L18.62,17.89 L18.62,11.74 C18.62,8.45 16.86,6.92 14.52,6.92 C12.6,6.92 11.75,7.99 11.28,8.73 L11.3,8.73 L11.3,7.17 L7.75,7.17 C7.79,8.17 7.75,17.89 7.75,17.89 L7.75,17.89 L7.75,17.89 Z" /></svg>',list:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <rect x="6" y="4" width="12" height="1" /> <rect x="6" y="9" width="12" height="1" /> <rect x="6" y="14" width="12" height="1" /> <rect x="2" y="4" width="2" height="1" /> <rect x="2" y="9" width="2" height="1" /> <rect x="2" y="14" width="2" height="1" /></svg>',location:'<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 13.96 19.55"><title>location</title><path d="M17,7.21A7,7,0,1,0,4.15,11h0l5.23,8.37h0a.7.7,0,0,0,1.26,0h0L15.86,11h0A7,7,0,0,0,17,7.21h0M10,4A3.19,3.19,0,1,1,6.82,7.21,3.18,3.18,0,0,1,10,4h0m0,0Z" transform="translate(-3.02 -0.22)"/></svg>',lock:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <rect fill="none" stroke="#000" height="10" width="13" y="8.5" x="3.5" /> <path fill="none" stroke="#000" d="M6.5,8 L6.5,4.88 C6.5,3.01 8.07,1.5 10,1.5 C11.93,1.5 13.5,3.01 13.5,4.88 L13.5,8" /></svg>',mail:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <polyline fill="none" stroke="#000" points="1.4,6.5 10,11 18.6,6.5" /> <path d="M 1,4 1,16 19,16 19,4 1,4 Z M 18,15 2,15 2,5 18,5 18,15 Z" /></svg>',menu:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <rect x="2" y="4" width="16" height="1" /> <rect x="2" y="9" width="16" height="1" /> <rect x="2" y="14" width="16" height="1" /></svg>',"minus-circle":'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <circle fill="none" stroke="#000" stroke-width="1.1" cx="9.5" cy="9.5" r="9" /> <line fill="none" stroke="#000" x1="5" y1="9.5" x2="14" y2="9.5" /></svg>',minus:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <rect height="1" width="18" y="9" x="1" /></svg>',"more-vertical":'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <circle cx="10" cy="3" r="2" /> <circle cx="10" cy="10" r="2" /> <circle cx="10" cy="17" r="2" /></svg>',more:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <circle cx="3" cy="10" r="2" /> <circle cx="10" cy="10" r="2" /> <circle cx="17" cy="10" r="2" /></svg>',move:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <polygon points="4,5 1,5 1,9 2,9 2,6 4,6 " /> <polygon points="1,16 2,16 2,18 4,18 4,19 1,19 " /> <polygon points="14,16 14,19 11,19 11,18 13,18 13,16 " /> <rect fill="none" stroke="#000" x="5.5" y="1.5" width="13" height="13" /> <rect x="1" y="11" width="1" height="3" /> <rect x="6" y="18" width="3" height="1" /></svg>',nut:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <polygon fill="none" stroke="#000" points="2.5,5.7 10,1.3 17.5,5.7 17.5,14.3 10,18.7 2.5,14.3" /> <circle fill="none" stroke="#000" cx="10" cy="10" r="3.5" /></svg>',pagekit:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <polygon points="3,1 17,1 17,16 10,16 10,13 14,13 14,4 6,4 6,16 10,16 10,19 3,19 " /></svg>',"paint-bucket":'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <path d="M10.21,1 L0,11.21 L8.1,19.31 L18.31,9.1 L10.21,1 L10.21,1 Z M16.89,9.1 L15,11 L1.7,11 L10.21,2.42 L16.89,9.1 Z" /> <path fill="none" stroke="#000" stroke-width="1.1" d="M6.42,2.33 L11.7,7.61" /> <path d="M18.49,12 C18.49,12 20,14.06 20,15.36 C20,16.28 19.24,17 18.49,17 L18.49,17 C17.74,17 17,16.28 17,15.36 C17,14.06 18.49,12 18.49,12 L18.49,12 Z" /></svg>',pencil:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <path fill="none" stroke="#000" d="M17.25,6.01 L7.12,16.1 L3.82,17.2 L5.02,13.9 L15.12,3.88 C15.71,3.29 16.66,3.29 17.25,3.88 C17.83,4.47 17.83,5.42 17.25,6.01 L17.25,6.01 Z" /> <path fill="none" stroke="#000" d="M15.98,7.268 L13.851,5.148" /></svg>',"phone-landscape":'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <path fill="none" stroke="#000" d="M17,5.5 C17.8,5.5 18.5,6.2 18.5,7 L18.5,14 C18.5,14.8 17.8,15.5 17,15.5 L3,15.5 C2.2,15.5 1.5,14.8 1.5,14 L1.5,7 C1.5,6.2 2.2,5.5 3,5.5 L17,5.5 L17,5.5 L17,5.5 Z" /> <circle cx="3.8" cy="10.5" r="0.8" /></svg>',phone:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <path fill="none" stroke="#000" d="M15.5,17 C15.5,17.8 14.8,18.5 14,18.5 L7,18.5 C6.2,18.5 5.5,17.8 5.5,17 L5.5,3 C5.5,2.2 6.2,1.5 7,1.5 L14,1.5 C14.8,1.5 15.5,2.2 15.5,3 L15.5,17 L15.5,17 L15.5,17 Z" /> <circle cx="10.5" cy="16.5" r="0.8" /></svg>',pinterest:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <path d="M10.21,1 C5.5,1 3,4.16 3,7.61 C3,9.21 3.85,11.2 5.22,11.84 C5.43,11.94 5.54,11.89 5.58,11.69 C5.62,11.54 5.8,10.8 5.88,10.45 C5.91,10.34 5.89,10.24 5.8,10.14 C5.36,9.59 5,8.58 5,7.65 C5,5.24 6.82,2.91 9.93,2.91 C12.61,2.91 14.49,4.74 14.49,7.35 C14.49,10.3 13,12.35 11.06,12.35 C9.99,12.35 9.19,11.47 9.44,10.38 C9.75,9.08 10.35,7.68 10.35,6.75 C10.35,5.91 9.9,5.21 8.97,5.21 C7.87,5.21 6.99,6.34 6.99,7.86 C6.99,8.83 7.32,9.48 7.32,9.48 C7.32,9.48 6.24,14.06 6.04,14.91 C5.7,16.35 6.08,18.7 6.12,18.9 C6.14,19.01 6.26,19.05 6.33,18.95 C6.44,18.81 7.74,16.85 8.11,15.44 C8.24,14.93 8.79,12.84 8.79,12.84 C9.15,13.52 10.19,14.09 11.29,14.09 C14.58,14.09 16.96,11.06 16.96,7.3 C16.94,3.7 14,1 10.21,1" /></svg>',"play-circle":'<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\t viewBox="0 0 20 20" style="enable-background:new 0 0 20 20;" xml:space="preserve"><path d="M10,0C4.5,0,0,4.5,0,10c0,5.5,4.5,10,10,10s10-4.5,10-10C20,4.5,15.5,0,10,0z M10,19.2c-5.1,0-9.2-4.1-9.2-9.2\tc0-5.1,4.1-9.2,9.2-9.2s9.2,4.1,9.2,9.2C19.2,15.1,15.1,19.2,10,19.2z"/><path d="M6.4,14.4l8.8-4.4L6.4,5.5V14.4z"/></svg>',play:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <polygon fill="none" stroke="#000" points="6.5,5 14.5,10 6.5,15" /></svg>',"plus-circle":'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <circle fill="none" stroke="#000" stroke-width="1.1" cx="9.5" cy="9.5" r="9" /> <line fill="none" stroke="#000" x1="9.5" y1="5" x2="9.5" y2="14" /> <line fill="none" stroke="#000" x1="5" y1="9.5" x2="14" y2="9.5" /></svg>',plus:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <rect x="9" y="1" width="1" height="17" /> <rect x="1" y="9" width="17" height="1" /></svg>',pull:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <polygon points="6.85,8 9.5,10.6 12.15,8 12.85,8.7 9.5,12 6.15,8.7" /> <line fill="none" stroke="#000" x1="9.5" y1="11" x2="9.5" y2="2" /> <polyline fill="none" stroke="#000" points="6,5.5 3.5,5.5 3.5,18.5 15.5,18.5 15.5,5.5 13,5.5" /></svg>',push:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <polygon points="12.15,4 9.5,1.4 6.85,4 6.15,3.3 9.5,0 12.85,3.3" /> <line fill="none" stroke="#000" x1="9.5" y1="10" x2="9.5" y2="1" /> <polyline fill="none" stroke="#000" points="6 5.5 3.5 5.5 3.5 18.5 15.5 18.5 15.5 5.5 13 5.5" /></svg>',question:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <circle fill="none" stroke="#000" stroke-width="1.1" cx="10" cy="10" r="9" /> <circle cx="10.44" cy="14.42" r="1.05" /> <path fill="none" stroke="#000" stroke-width="1.2" d="M8.17,7.79 C8.17,4.75 12.72,4.73 12.72,7.72 C12.72,8.67 11.81,9.15 11.23,9.75 C10.75,10.24 10.51,10.73 10.45,11.4 C10.44,11.53 10.43,11.64 10.43,11.75" /></svg>',"quote-right":'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <path d="M17.27,7.79 C17.27,9.45 16.97,10.43 15.99,12.02 C14.98,13.64 13,15.23 11.56,15.97 L11.1,15.08 C12.34,14.2 13.14,13.51 14.02,11.82 C14.27,11.34 14.41,10.92 14.49,10.54 C14.3,10.58 14.09,10.6 13.88,10.6 C12.06,10.6 10.59,9.12 10.59,7.3 C10.59,5.48 12.06,4 13.88,4 C15.39,4 16.67,5.02 17.05,6.42 C17.19,6.82 17.27,7.27 17.27,7.79 L17.27,7.79 Z" /> <path d="M8.68,7.79 C8.68,9.45 8.38,10.43 7.4,12.02 C6.39,13.64 4.41,15.23 2.97,15.97 L2.51,15.08 C3.75,14.2 4.55,13.51 5.43,11.82 C5.68,11.34 5.82,10.92 5.9,10.54 C5.71,10.58 5.5,10.6 5.29,10.6 C3.47,10.6 2,9.12 2,7.3 C2,5.48 3.47,4 5.29,4 C6.8,4 8.08,5.02 8.46,6.42 C8.6,6.82 8.68,7.27 8.68,7.79 L8.68,7.79 Z" /></svg>',receiver:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <path fill="none" stroke="#000" stroke-width="1.01" d="M6.189,13.611C8.134,15.525 11.097,18.239 13.867,18.257C16.47,18.275 18.2,16.241 18.2,16.241L14.509,12.551L11.539,13.639L6.189,8.29L7.313,5.355L3.76,1.8C3.76,1.8 1.732,3.537 1.7,6.092C1.667,8.809 4.347,11.738 6.189,13.611" /></svg>',refresh:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <path fill="none" stroke="#000" stroke-width="1.1" d="M17.08,11.15 C17.09,11.31 17.1,11.47 17.1,11.64 C17.1,15.53 13.94,18.69 10.05,18.69 C6.16,18.68 3,15.53 3,11.63 C3,7.74 6.16,4.58 10.05,4.58 C10.9,4.58 11.71,4.73 12.46,5" /> <polyline fill="none" stroke="#000" points="9.9 2 12.79 4.89 9.79 7.9" /></svg>',reply:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <path d="M17.7,13.11 C16.12,10.02 13.84,7.85 11.02,6.61 C10.57,6.41 9.75,6.13 9,5.91 L9,2 L1,9 L9,16 L9,12.13 C10.78,12.47 12.5,13.19 14.09,14.25 C17.13,16.28 18.56,18.54 18.56,18.54 C18.56,18.54 18.81,15.28 17.7,13.11 L17.7,13.11 Z M14.82,13.53 C13.17,12.4 11.01,11.4 8,10.92 L8,13.63 L2.55,9 L8,4.25 L8,6.8 C8.3,6.86 9.16,7.02 10.37,7.49 C13.3,8.65 15.54,10.96 16.65,13.08 C16.97,13.7 17.48,14.86 17.68,16 C16.87,15.05 15.73,14.15 14.82,13.53 L14.82,13.53 Z" /></svg>',rss:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <circle cx="3.12" cy="16.8" r="1.85" /> <path fill="none" stroke="#000" stroke-width="1.1" d="M1.5,8.2 C1.78,8.18 2.06,8.16 2.35,8.16 C7.57,8.16 11.81,12.37 11.81,17.57 C11.81,17.89 11.79,18.19 11.76,18.5" /> <path fill="none" stroke="#000" stroke-width="1.1" d="M1.5,2.52 C1.78,2.51 2.06,2.5 2.35,2.5 C10.72,2.5 17.5,9.24 17.5,17.57 C17.5,17.89 17.49,18.19 17.47,18.5" /></svg>',search:'<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><defs></defs><title>search</title><path class="cls-1" d="M8.51,13a4.5,4.5,0,1,1,0-9h0a4.5,4.5,0,0,1,0,9Zm5.43-.76A6.54,6.54,0,0,0,8.55,2h0A6.54,6.54,0,0,0,2,8.54H2a6.54,6.54,0,0,0,6.54,6.55h0a6.75,6.75,0,0,0,3.72-1.15L16.32,18,18,16.32Z" transform="translate(-2 -2)"/></svg>',server:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <rect x="3" y="3" width="1" height="2" /> <rect x="5" y="3" width="1" height="2" /> <rect x="7" y="3" width="1" height="2" /> <rect x="16" y="3" width="1" height="1" /> <rect x="16" y="10" width="1" height="1" /> <circle fill="none" stroke="#000" cx="9.9" cy="17.4" r="1.4" /> <rect x="3" y="10" width="1" height="2" /> <rect x="5" y="10" width="1" height="2" /> <rect x="9.5" y="14" width="1" height="2" /> <rect x="3" y="17" width="6" height="1" /> <rect x="11" y="17" width="6" height="1" /> <rect fill="none" stroke="#000" x="1.5" y="1.5" width="17" height="5" /> <rect fill="none" stroke="#000" x="1.5" y="8.5" width="17" height="5" /></svg>',settings:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <ellipse fill="none" stroke="#000" cx="6.11" cy="3.55" rx="2.11" ry="2.15" /> <ellipse fill="none" stroke="#000" cx="6.11" cy="15.55" rx="2.11" ry="2.15" /> <circle fill="none" stroke="#000" cx="13.15" cy="9.55" r="2.15" /> <rect x="1" y="3" width="3" height="1" /> <rect x="10" y="3" width="8" height="1" /> <rect x="1" y="9" width="8" height="1" /> <rect x="15" y="9" width="3" height="1" /> <rect x="1" y="15" width="3" height="1" /> <rect x="10" y="15" width="8" height="1" /></svg>',shrink:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <polygon points="11 4 12 4 12 8 16 8 16 9 11 9" /> <polygon points="4 11 9 11 9 16 8 16 8 12 4 12" /> <path fill="none" stroke="#000" stroke-width="1.1" d="M12,8 L18,2" /> <path fill="none" stroke="#000" stroke-width="1.1" d="M2,18 L8,12" /></svg>',"sign-in":'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <polygon points="7 2 17 2 17 17 7 17 7 16 16 16 16 3 7 3" /> <polygon points="9.1 13.4 8.5 12.8 11.28 10 4 10 4 9 11.28 9 8.5 6.2 9.1 5.62 13 9.5" /></svg>',"sign-out":'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <polygon points="13.1 13.4 12.5 12.8 15.28 10 8 10 8 9 15.28 9 12.5 6.2 13.1 5.62 17 9.5" /> <polygon points="13 2 3 2 3 17 13 17 13 16 4 16 4 3 13 3" /></svg>',social:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <line fill="none" stroke="#000" stroke-width="1.1" x1="13.4" y1="14" x2="6.3" y2="10.7" /> <line fill="none" stroke="#000" stroke-width="1.1" x1="13.5" y1="5.5" x2="6.5" y2="8.8" /> <circle fill="none" stroke="#000" stroke-width="1.1" cx="15.5" cy="4.6" r="2.3" /> <circle fill="none" stroke="#000" stroke-width="1.1" cx="15.5" cy="14.8" r="2.3" /> <circle fill="none" stroke="#000" stroke-width="1.1" cx="4.5" cy="9.8" r="2.3" /></svg>',soundcloud:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <path d="M17.2,9.4c-0.4,0-0.8,0.1-1.101,0.2c-0.199-2.5-2.399-4.5-5-4.5c-0.6,0-1.2,0.1-1.7,0.3C9.2,5.5,9.1,5.6,9.1,5.6V15h8 c1.601,0,2.801-1.2,2.801-2.8C20,10.7,18.7,9.4,17.2,9.4L17.2,9.4z" /> <rect x="6" y="6.5" width="1.5" height="8.5" /> <rect x="3" y="8" width="1.5" height="7" /> <rect y="10" width="1.5" height="5" /></svg>',star:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <polygon fill="none" stroke="#000" stroke-width="1.01" points="10 2 12.63 7.27 18.5 8.12 14.25 12.22 15.25 18 10 15.27 4.75 18 5.75 12.22 1.5 8.12 7.37 7.27" /></svg>',strikethrough:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <path d="M6,13.02 L6.65,13.02 C7.64,15.16 8.86,16.12 10.41,16.12 C12.22,16.12 12.92,14.93 12.92,13.89 C12.92,12.55 11.99,12.03 9.74,11.23 C8.05,10.64 6.23,10.11 6.23,7.83 C6.23,5.5 8.09,4.09 10.4,4.09 C11.44,4.09 12.13,4.31 12.72,4.54 L13.33,4 L13.81,4 L13.81,7.59 L13.16,7.59 C12.55,5.88 11.52,4.89 10.07,4.89 C8.84,4.89 7.89,5.69 7.89,7.03 C7.89,8.29 8.89,8.78 10.88,9.45 C12.57,10.03 14.38,10.6 14.38,12.91 C14.38,14.75 13.27,16.93 10.18,16.93 C9.18,16.93 8.17,16.69 7.46,16.39 L6.52,17 L6,17 L6,13.02 L6,13.02 Z" /> <rect x="3" y="10" width="15" height="1" /></svg>',table:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <rect x="1" y="3" width="18" height="1" /> <rect x="1" y="7" width="18" height="1" /> <rect x="1" y="11" width="18" height="1" /> <rect x="1" y="15" width="18" height="1" /></svg>',"tablet-landscape":'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <path fill="none" stroke="#000" d="M1.5,5 C1.5,4.2 2.2,3.5 3,3.5 L17,3.5 C17.8,3.5 18.5,4.2 18.5,5 L18.5,16 C18.5,16.8 17.8,17.5 17,17.5 L3,17.5 C2.2,17.5 1.5,16.8 1.5,16 L1.5,5 L1.5,5 L1.5,5 Z" /> <circle cx="3.7" cy="10.5" r="0.8" /></svg>',tablet:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <path fill="none" stroke="#000" d="M5,18.5 C4.2,18.5 3.5,17.8 3.5,17 L3.5,3 C3.5,2.2 4.2,1.5 5,1.5 L16,1.5 C16.8,1.5 17.5,2.2 17.5,3 L17.5,17 C17.5,17.8 16.8,18.5 16,18.5 L5,18.5 L5,18.5 L5,18.5 Z" /> <circle cx="10.5" cy="16.3" r="0.8" /></svg>',tag:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <path fill="none" stroke="#000" stroke-width="1.1" d="M17.5,3.71 L17.5,7.72 C17.5,7.96 17.4,8.2 17.21,8.39 L8.39,17.2 C7.99,17.6 7.33,17.6 6.93,17.2 L2.8,13.07 C2.4,12.67 2.4,12.01 2.8,11.61 L11.61,2.8 C11.81,2.6 12.08,2.5 12.34,2.5 L16.19,2.5 C16.52,2.5 16.86,2.63 17.11,2.88 C17.35,3.11 17.48,3.4 17.5,3.71 L17.5,3.71 Z" /> <circle cx="14" cy="6" r="1" /></svg>',thumbnails:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <rect fill="none" stroke="#000" x="3.5" y="3.5" width="5" height="5" /> <rect fill="none" stroke="#000" x="11.5" y="3.5" width="5" height="5" /> <rect fill="none" stroke="#000" x="11.5" y="11.5" width="5" height="5" /> <rect fill="none" stroke="#000" x="3.5" y="11.5" width="5" height="5" /></svg>',trash:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <polyline fill="none" stroke="#000" points="6.5 3 6.5 1.5 13.5 1.5 13.5 3" /> <polyline fill="none" stroke="#000" points="4.5 4 4.5 18.5 15.5 18.5 15.5 4" /> <rect x="8" y="7" width="1" height="9" /> <rect x="11" y="7" width="1" height="9" /> <rect x="2" y="3" width="16" height="1" /></svg>',"triangle-down":'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <polygon points="5 7 15 7 10 12" /></svg>',"triangle-left":'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <polygon points="12 5 7 10 12 15" /></svg>',"triangle-right":'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <polygon points="8 5 13 10 8 15" /></svg>',"triangle-up":'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <polygon points="5 13 10 8 15 13" /></svg>',tripadvisor:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <path d="M19.021,7.866C19.256,6.862,20,5.854,20,5.854h-3.346C14.781,4.641,12.504,4,9.98,4C7.363,4,4.999,4.651,3.135,5.876H0\tc0,0,0.738,0.987,0.976,1.988c-0.611,0.837-0.973,1.852-0.973,2.964c0,2.763,2.249,5.009,5.011,5.009\tc1.576,0,2.976-0.737,3.901-1.879l1.063,1.599l1.075-1.615c0.475,0.611,1.1,1.111,1.838,1.451c1.213,0.547,2.574,0.612,3.825,0.15\tc2.589-0.963,3.913-3.852,2.964-6.439c-0.175-0.463-0.4-0.876-0.675-1.238H19.021z M16.38,14.594\tc-1.002,0.371-2.088,0.328-3.06-0.119c-0.688-0.317-1.252-0.817-1.657-1.438c-0.164-0.25-0.313-0.52-0.417-0.811\tc-0.124-0.328-0.186-0.668-0.217-1.014c-0.063-0.689,0.037-1.396,0.339-2.043c0.448-0.971,1.251-1.71,2.25-2.079\tc2.075-0.765,4.375,0.3,5.14,2.366c0.762,2.066-0.301,4.37-2.363,5.134L16.38,14.594L16.38,14.594z M8.322,13.066\tc-0.72,1.059-1.935,1.76-3.309,1.76c-2.207,0-4.001-1.797-4.001-3.996c0-2.203,1.795-4.002,4.001-4.002\tc2.204,0,3.999,1.8,3.999,4.002c0,0.137-0.024,0.261-0.04,0.396c-0.067,0.678-0.284,1.313-0.648,1.853v-0.013H8.322z M2.472,10.775\tc0,1.367,1.112,2.479,2.476,2.479c1.363,0,2.472-1.11,2.472-2.479c0-1.359-1.11-2.468-2.472-2.468\tC3.584,8.306,2.473,9.416,2.472,10.775L2.472,10.775z M12.514,10.775c0,1.367,1.104,2.479,2.471,2.479\tc1.363,0,2.474-1.108,2.474-2.479c0-1.359-1.11-2.468-2.474-2.468c-1.364,0-2.477,1.109-2.477,2.468H12.514z M3.324,10.775\tc0-0.893,0.726-1.618,1.614-1.618c0.889,0,1.625,0.727,1.625,1.618c0,0.898-0.725,1.627-1.625,1.627\tc-0.901,0-1.625-0.729-1.625-1.627H3.324z M13.354,10.775c0-0.893,0.726-1.618,1.627-1.618c0.886,0,1.61,0.727,1.61,1.618\tc0,0.898-0.726,1.627-1.626,1.627s-1.625-0.729-1.625-1.627H13.354z M9.977,4.875c1.798,0,3.425,0.324,4.849,0.968\tc-0.535,0.015-1.061,0.108-1.586,0.3c-1.264,0.463-2.264,1.388-2.815,2.604c-0.262,0.551-0.398,1.133-0.448,1.72\tC9.79,7.905,7.677,5.873,5.076,5.82C6.501,5.208,8.153,4.875,9.94,4.875H9.977z" /></svg>',tumblr:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <path d="M6.885,8.598c0,0,0,3.393,0,4.996c0,0.282,0,0.66,0.094,0.942c0.377,1.509,1.131,2.545,2.545,3.11 c1.319,0.472,2.356,0.472,3.676,0c0.565-0.188,1.132-0.659,1.132-0.659l-0.849-2.263c0,0-1.036,0.378-1.603,0.283 c-0.565-0.094-1.226-0.66-1.226-1.508c0-1.603,0-4.902,0-4.902h2.828V5.771h-2.828V2H8.205c0,0-0.094,0.66-0.188,0.942 C7.828,3.791,7.262,4.733,6.603,5.394C5.848,6.147,5,6.43,5,6.43v2.168H6.885z" /></svg>',tv:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <rect x="7" y="16" width="6" height="1" /> <rect fill="none" stroke="#000" x="0.5" y="3.5" width="19" height="11" /></svg>',twitter:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <path d="M19,4.74 C18.339,5.029 17.626,5.229 16.881,5.32 C17.644,4.86 18.227,4.139 18.503,3.28 C17.79,3.7 17.001,4.009 16.159,4.17 C15.485,3.45 14.526,3 13.464,3 C11.423,3 9.771,4.66 9.771,6.7 C9.771,6.99 9.804,7.269 9.868,7.539 C6.795,7.38 4.076,5.919 2.254,3.679 C1.936,4.219 1.754,4.86 1.754,5.539 C1.754,6.82 2.405,7.95 3.397,8.61 C2.79,8.589 2.22,8.429 1.723,8.149 L1.723,8.189 C1.723,9.978 2.997,11.478 4.686,11.82 C4.376,11.899 4.049,11.939 3.713,11.939 C3.475,11.939 3.245,11.919 3.018,11.88 C3.49,13.349 4.852,14.419 6.469,14.449 C5.205,15.429 3.612,16.019 1.882,16.019 C1.583,16.019 1.29,16.009 1,15.969 C2.635,17.019 4.576,17.629 6.662,17.629 C13.454,17.629 17.17,12 17.17,7.129 C17.17,6.969 17.166,6.809 17.157,6.649 C17.879,6.129 18.504,5.478 19,4.74" /></svg>',uikit:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <polygon points="14.4,3.1 11.3,5.1 15,7.3 15,12.9 10,15.7 5,12.9 5,8.5 2,6.8 2,14.8 9.9,19.5 18,14.8 18,5.3" /> <polygon points="9.8,4.2 6.7,2.4 9.8,0.4 12.9,2.3" /></svg>',unlock:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <rect fill="none" stroke="#000" x="3.5" y="8.5" width="13" height="10" /> <path fill="none" stroke="#000" d="M6.5,8.5 L6.5,4.9 C6.5,3 8.1,1.5 10,1.5 C11.9,1.5 13.5,3 13.5,4.9" /></svg>',upload:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <polyline fill="none" stroke="#000" points="5 8 9.5 3.5 14 8 " /> <rect x="3" y="17" width="13" height="1" /> <line fill="none" stroke="#000" x1="9.5" y1="15" x2="9.5" y2="4" /></svg>',user:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <circle fill="none" stroke="#000" stroke-width="1.1" cx="9.9" cy="6.4" r="4.4" /> <path fill="none" stroke="#000" stroke-width="1.1" d="M1.5,19 C2.3,14.5 5.8,11.2 10,11.2 C14.2,11.2 17.7,14.6 18.5,19.2" /></svg>',users:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <circle fill="none" stroke="#000" stroke-width="1.1" cx="7.7" cy="8.6" r="3.5" /> <path fill="none" stroke="#000" stroke-width="1.1" d="M1,18.1 C1.7,14.6 4.4,12.1 7.6,12.1 C10.9,12.1 13.7,14.8 14.3,18.3" /> <path fill="none" stroke="#000" stroke-width="1.1" d="M11.4,4 C12.8,2.4 15.4,2.8 16.3,4.7 C17.2,6.6 15.7,8.9 13.6,8.9 C16.5,8.9 18.8,11.3 19.2,14.1" /></svg>',"video-camera":'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <polygon points="18,6 18,14 12,10 " /> <rect x="2" y="5" width="12" height="10" /></svg>',vimeo:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <path d="M2.065,7.59C1.84,7.367,1.654,7.082,1.468,6.838c-0.332-0.42-0.137-0.411,0.274-0.772c1.026-0.91,2.004-1.896,3.127-2.688 c1.017-0.713,2.365-1.173,3.286-0.039c0.849,1.045,0.869,2.629,1.084,3.891c0.215,1.309,0.421,2.648,0.88,3.901 c0.127,0.352,0.37,1.018,0.81,1.074c0.567,0.078,1.145-0.917,1.408-1.289c0.684-0.987,1.611-2.317,1.494-3.587 c-0.115-1.349-1.572-1.095-2.482-0.773c0.146-1.514,1.555-3.216,2.912-3.792c1.439-0.597,3.579-0.587,4.302,1.036 c0.772,1.759,0.078,3.802-0.763,5.396c-0.918,1.731-2.1,3.333-3.363,4.829c-1.114,1.329-2.432,2.787-4.093,3.422 c-1.897,0.723-3.021-0.686-3.667-2.318c-0.705-1.777-1.056-3.771-1.565-5.621C4.898,8.726,4.644,7.836,4.136,7.191 C3.473,6.358,2.72,7.141,2.065,7.59C1.977,7.502,2.115,7.551,2.065,7.59L2.065,7.59z" /></svg>',warning:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <circle cx="10" cy="14" r="1" /> <circle fill="none" stroke="#000" stroke-width="1.1" cx="10" cy="10" r="9" /> <path d="M10.97,7.72 C10.85,9.54 10.56,11.29 10.56,11.29 C10.51,11.87 10.27,12 9.99,12 C9.69,12 9.49,11.87 9.43,11.29 C9.43,11.29 9.16,9.54 9.03,7.72 C8.96,6.54 9.03,6 9.03,6 C9.03,5.45 9.46,5.02 9.99,5 C10.53,5.01 10.97,5.44 10.97,6 C10.97,6 11.04,6.54 10.97,7.72 L10.97,7.72 Z" /></svg>',whatsapp:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <path d="M16.7,3.3c-1.8-1.8-4.1-2.8-6.7-2.8c-5.2,0-9.4,4.2-9.4,9.4c0,1.7,0.4,3.3,1.3,4.7l-1.3,4.9l5-1.3c1.4,0.8,2.9,1.2,4.5,1.2 l0,0l0,0c5.2,0,9.4-4.2,9.4-9.4C19.5,7.4,18.5,5,16.7,3.3 M10.1,17.7L10.1,17.7c-1.4,0-2.8-0.4-4-1.1l-0.3-0.2l-3,0.8l0.8-2.9 l-0.2-0.3c-0.8-1.2-1.2-2.7-1.2-4.2c0-4.3,3.5-7.8,7.8-7.8c2.1,0,4.1,0.8,5.5,2.3c1.5,1.5,2.3,3.4,2.3,5.5 C17.9,14.2,14.4,17.7,10.1,17.7 M14.4,11.9c-0.2-0.1-1.4-0.7-1.6-0.8c-0.2-0.1-0.4-0.1-0.5,0.1c-0.2,0.2-0.6,0.8-0.8,0.9 c-0.1,0.2-0.3,0.2-0.5,0.1c-0.2-0.1-1-0.4-1.9-1.2c-0.7-0.6-1.2-1.4-1.3-1.6c-0.1-0.2,0-0.4,0.1-0.5C8,8.8,8.1,8.7,8.2,8.5 c0.1-0.1,0.2-0.2,0.2-0.4c0.1-0.2,0-0.3,0-0.4C8.4,7.6,7.9,6.5,7.7,6C7.5,5.5,7.3,5.6,7.2,5.6c-0.1,0-0.3,0-0.4,0 c-0.2,0-0.4,0.1-0.6,0.3c-0.2,0.2-0.8,0.8-0.8,2c0,1.2,0.8,2.3,1,2.4c0.1,0.2,1.7,2.5,4,3.5c0.6,0.2,1,0.4,1.3,0.5 c0.6,0.2,1.1,0.2,1.5,0.1c0.5-0.1,1.4-0.6,1.6-1.1c0.2-0.5,0.2-1,0.1-1.1C14.8,12.1,14.6,12,14.4,11.9" /></svg>',wordpress:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <path d="M10,0.5c-5.2,0-9.5,4.3-9.5,9.5s4.3,9.5,9.5,9.5c5.2,0,9.5-4.3,9.5-9.5S15.2,0.5,10,0.5L10,0.5L10,0.5z M15.6,3.9h-0.1 c-0.8,0-1.4,0.7-1.4,1.5c0,0.7,0.4,1.3,0.8,1.9c0.3,0.6,0.7,1.3,0.7,2.3c0,0.7-0.3,1.5-0.6,2.7L14.1,15l-3-8.9 c0.5,0,0.9-0.1,0.9-0.1C12.5,6,12.5,5.3,12,5.4c0,0-1.3,0.1-2.2,0.1C9,5.5,7.7,5.4,7.7,5.4C7.2,5.3,7.2,6,7.6,6c0,0,0.4,0.1,0.9,0.1 l1.3,3.5L8,15L5,6.1C5.5,6.1,5.9,6,5.9,6C6.4,6,6.3,5.3,5.9,5.4c0,0-1.3,0.1-2.2,0.1c-0.2,0-0.3,0-0.5,0c1.5-2.2,4-3.7,6.9-3.7 C12.2,1.7,14.1,2.6,15.6,3.9L15.6,3.9L15.6,3.9z M2.5,6.6l3.9,10.8c-2.7-1.3-4.6-4.2-4.6-7.4C1.8,8.8,2,7.6,2.5,6.6L2.5,6.6L2.5,6.6 z M10.2,10.7l2.5,6.9c0,0,0,0.1,0.1,0.1C11.9,18,11,18.2,10,18.2c-0.8,0-1.6-0.1-2.3-0.3L10.2,10.7L10.2,10.7L10.2,10.7z M14.2,17.1 l2.5-7.3c0.5-1.2,0.6-2.1,0.6-2.9c0-0.3,0-0.6-0.1-0.8c0.6,1.2,1,2.5,1,4C18.3,13,16.6,15.7,14.2,17.1L14.2,17.1L14.2,17.1z" /></svg>',world:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <path fill="none" stroke="#000" d="M1,10.5 L19,10.5" /> <path fill="none" stroke="#000" d="M2.35,15.5 L17.65,15.5" /> <path fill="none" stroke="#000" d="M2.35,5.5 L17.523,5.5" /> <path fill="none" stroke="#000" d="M10,19.46 L9.98,19.46 C7.31,17.33 5.61,14.141 5.61,10.58 C5.61,7.02 7.33,3.83 10,1.7 C10.01,1.7 9.99,1.7 10,1.7 L10,1.7 C12.67,3.83 14.4,7.02 14.4,10.58 C14.4,14.141 12.67,17.33 10,19.46 L10,19.46 L10,19.46 L10,19.46 Z" /> <circle fill="none" stroke="#000" cx="10" cy="10.5" r="9" /></svg>',xing:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <path d="M4.4,4.56 C4.24,4.56 4.11,4.61 4.05,4.72 C3.98,4.83 3.99,4.97 4.07,5.12 L5.82,8.16 L5.82,8.17 L3.06,13.04 C2.99,13.18 2.99,13.33 3.06,13.44 C3.12,13.55 3.24,13.62 3.4,13.62 L6,13.62 C6.39,13.62 6.57,13.36 6.71,13.12 C6.71,13.12 9.41,8.35 9.51,8.16 C9.49,8.14 7.72,5.04 7.72,5.04 C7.58,4.81 7.39,4.56 6.99,4.56 L4.4,4.56 L4.4,4.56 Z" /> <path d="M15.3,1 C14.91,1 14.74,1.25 14.6,1.5 C14.6,1.5 9.01,11.42 8.82,11.74 C8.83,11.76 12.51,18.51 12.51,18.51 C12.64,18.74 12.84,19 13.23,19 L15.82,19 C15.98,19 16.1,18.94 16.16,18.83 C16.23,18.72 16.23,18.57 16.16,18.43 L12.5,11.74 L12.5,11.72 L18.25,1.56 C18.32,1.42 18.32,1.27 18.25,1.16 C18.21,1.06 18.08,1 17.93,1 L15.3,1 L15.3,1 Z" /></svg>',yelp:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <path d="M17.175,14.971c-0.112,0.77-1.686,2.767-2.406,3.054c-0.246,0.1-0.487,0.076-0.675-0.069\tc-0.122-0.096-2.446-3.859-2.446-3.859c-0.194-0.293-0.157-0.682,0.083-0.978c0.234-0.284,0.581-0.393,0.881-0.276\tc0.016,0.01,4.21,1.394,4.332,1.482c0.178,0.148,0.263,0.379,0.225,0.646L17.175,14.971L17.175,14.971z M11.464,10.789\tc-0.203-0.307-0.199-0.666,0.009-0.916c0,0,2.625-3.574,2.745-3.657c0.203-0.135,0.452-0.141,0.69-0.025\tc0.691,0.335,2.085,2.405,2.167,3.199v0.027c0.024,0.271-0.082,0.491-0.273,0.623c-0.132,0.083-4.43,1.155-4.43,1.155\tc-0.322,0.096-0.68-0.06-0.882-0.381L11.464,10.789z M9.475,9.563C9.32,9.609,8.848,9.757,8.269,8.817c0,0-3.916-6.16-4.007-6.351\tc-0.057-0.212,0.011-0.455,0.202-0.65C5.047,1.211,8.21,0.327,9.037,0.529c0.27,0.069,0.457,0.238,0.522,0.479\tc0.047,0.266,0.433,5.982,0.488,7.264C10.098,9.368,9.629,9.517,9.475,9.563z M9.927,19.066c-0.083,0.225-0.273,0.373-0.54,0.421\tc-0.762,0.13-3.15-0.751-3.647-1.342c-0.096-0.131-0.155-0.262-0.167-0.394c-0.011-0.095,0-0.189,0.036-0.272\tc0.061-0.155,2.917-3.538,2.917-3.538c0.214-0.272,0.595-0.355,0.952-0.213c0.345,0.13,0.56,0.428,0.536,0.749\tC10.014,14.479,9.977,18.923,9.927,19.066z M3.495,13.912c-0.235-0.009-0.444-0.148-0.568-0.382c-0.089-0.17-0.151-0.453-0.19-0.794\tC2.63,11.701,2.761,10.144,3.07,9.648c0.145-0.226,0.357-0.345,0.592-0.336c0.154,0,4.255,1.667,4.255,1.667\tc0.321,0.118,0.521,0.453,0.5,0.833c-0.023,0.37-0.236,0.655-0.551,0.738L3.495,13.912z" /></svg>',youtube:'<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <path d="M15,4.1c1,0.1,2.3,0,3,0.8c0.8,0.8,0.9,2.1,0.9,3.1C19,9.2,19,10.9,19,12c-0.1,1.1,0,2.4-0.5,3.4c-0.5,1.1-1.4,1.5-2.5,1.6 c-1.2,0.1-8.6,0.1-11,0c-1.1-0.1-2.4-0.1-3.2-1c-0.7-0.8-0.7-2-0.8-3C1,11.8,1,10.1,1,8.9c0-1.1,0-2.4,0.5-3.4C2,4.5,3,4.3,4.1,4.2 C5.3,4.1,12.6,4,15,4.1z M8,7.5v6l5.5-3L8,7.5z" /></svg>',"business-hours":'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"> <defs> <linearGradient id="a" x1="12.863%" x2="70.533%" y1="90.417%" y2="-14.164%"> <stop offset="0%" stop-color="#06038D"/> <stop offset="46.444%" stop-color="#AA2FAC"/> <stop offset="100%" stop-color="#7C3E98"/> </linearGradient> </defs> <g fill="url(#a)" fill-rule="nonzero" transform="translate(-967 -933)"> <path d="M987.485 936.515A11.921 11.921 0 0 0 979 933a11.921 11.921 0 0 0-8.485 3.515A11.922 11.922 0 0 0 967 945c0 3.205 1.248 6.219 3.515 8.485A11.921 11.921 0 0 0 979 957c3.205 0 6.219-1.248 8.485-3.515A11.922 11.922 0 0 0 991 945c0-3.205-1.248-6.219-3.515-8.485zM979 956.063c-6.1 0-11.063-4.963-11.063-11.063 0-6.1 4.963-11.063 11.063-11.063 6.1 0 11.063 4.963 11.063 11.063 0 6.1-4.963 11.063-11.063 11.063z"/> <path d="M989.317 943.058c-.643-3.22-2.894-5.923-6.023-7.23a.484.484 0 0 0-.627.24.454.454 0 0 0 .248.604c2.84 1.186 4.883 3.638 5.466 6.56a.473.473 0 0 0 .558.364.46.46 0 0 0 .378-.538zM981.08 935.248l-.015-.003a.557.557 0 0 0-.233 1.089l.006.001a.55.55 0 0 0 .66-.422.557.557 0 0 0-.419-.665zM975.642 953.33c-2.85-1.161-4.898-3.615-5.48-6.564a.468.468 0 0 0-.55-.362.458.458 0 0 0-.37.535 9.765 9.765 0 0 0 2.106 4.376 10.167 10.167 0 0 0 3.932 2.859.47.47 0 0 0 .613-.245.453.453 0 0 0-.25-.598zM977.18 954.23l-.034-.007a.54.54 0 0 0-.645.42.554.554 0 0 0 .41.661l.038.009a.544.544 0 0 0 .643-.423.554.554 0 0 0-.413-.66zM988.406 946.406a.46.46 0 0 0-.547.36c-.768 3.599-3.551 6.374-7.09 7.07a.47.47 0 0 0-.365.55.463.463 0 0 0 .538.373 9.816 9.816 0 0 0 5.052-2.705 10.167 10.167 0 0 0 2.763-5.089.47.47 0 0 0-.351-.559zM977.596 935.614a.46.46 0 0 0-.538-.373 9.816 9.816 0 0 0-5.052 2.706 10.167 10.167 0 0 0-2.763 5.088.47.47 0 0 0 .45.57c.211 0 .402-.15.449-.37.767-3.6 3.55-6.375 7.09-7.071a.47.47 0 0 0 .364-.55zM979.28 943.605c-.924 0-1.675.75-1.675 1.674 0 .923.75 1.674 1.674 1.674.923 0 1.674-.75 1.674-1.674 0-.923-.75-1.674-1.674-1.674zm0 2.364a.69.69 0 1 1 0-1.38.69.69 0 0 1 0 1.38zM979.28 934.674c-.31 0-.56.236-.56.527v1.18c0 .29.25.526.56.526.307 0 .557-.236.557-.526v-1.18c0-.29-.25-.527-.558-.527zM979.28 952.535c-.31 0-.56.202-.56.45v1.332c0 .249.25.45.56.45.307 0 .557-.201.557-.45v-1.331c0-.25-.25-.451-.558-.451zM988.85 944.72h-1.282c-.262 0-.475.25-.475.56 0 .307.213.557.475.557h1.283c.262 0 .475-.25.475-.558 0-.308-.213-.558-.475-.558zM970.451 944.72h-1.321c-.252 0-.456.25-.456.56 0 .307.204.557.456.557h1.321c.252 0 .456-.25.456-.558 0-.308-.204-.558-.456-.558z"/> <path d="M978.211 944.72h-2.329c-.282 0-.51.25-.51.56 0 .307.228.557.51.557h2.329c.282 0 .51-.25.51-.558 0-.308-.228-.558-.51-.558zM979.28 939.14c-.31 0-.56.22-.56.49v4.6c0 .271.25.49.56.49.307 0 .557-.219.557-.49v-4.6c0-.27-.25-.49-.558-.49z"/> </g></svg>',filter:'<svg width="20px" height="20px" viewBox="0 0 17 13" version="1.1" xmlns="http://www.w3.org/2000/svg"> <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <g id="noun_filter_787739" fill="#000000" fill-rule="nonzero"> <g id="Group"> <path d="M16.8650119,1.31114286 C16.8650119,1.99725397 16.3195952,2.55357143 15.6464762,2.55357143 L1.35352381,2.55357143 C0.680607143,2.55357143 0.134988095,1.99746032 0.134988095,1.31114286 C0.134988095,0.625031746 0.680404762,0.0687142857 1.35352381,0.0687142857 L15.6466786,0.0687142857 C16.3195952,0.0687142857 16.8650119,0.625031746 16.8650119,1.31114286 Z" id="Shape"></path> <path d="M14.8412024,6.53239683 C14.8412024,7.21850794 14.2957857,7.7748254 13.6226667,7.7748254 L3.37733333,7.7748254 C2.70441667,7.7748254 2.15879762,7.21871429 2.15879762,6.53239683 C2.15879762,5.84628571 2.70421429,5.28996825 3.37733333,5.28996825 L13.622869,5.28996825 C14.2957857,5.28996825 14.8412024,5.84628571 14.8412024,6.53239683 Z" id="Shape"></path> <path d="M11.8054881,11.7534444 C11.8054881,12.4395556 11.2600714,12.995873 10.5869524,12.995873 L6.41304762,12.995873 C5.74013095,12.995873 5.1945119,12.4397619 5.1945119,11.7534444 C5.1945119,11.0673333 5.73992857,10.5110159 6.41304762,10.5110159 L10.5871548,10.5110159 C11.2600714,10.5110159 11.8054881,11.0673333 11.8054881,11.7534444 Z" id="Shape"></path> </g> </g> </g></svg>',"office-icon":'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"> <defs> <linearGradient id="a" x1="12.863%" x2="70.533%" y1="90.417%" y2="-14.164%"> <stop offset="0%" stop-color="#06038D"/> <stop offset="46.444%" stop-color="#AA2FAC"/> <stop offset="100%" stop-color="#7C3E98"/> </linearGradient> </defs> <g fill="url(#a)" fill-rule="nonzero" transform="translate(-240 -933)"> <path d="M262.773 954.6c-.071 0-.141.006-.21.018a1.63 1.63 0 0 0-1.427-.818 1.63 1.63 0 0 0-1.426.818 1.23 1.23 0 0 0-.21-.018c-.677 0-1.227.538-1.227 1.2 0 .14.03.274.075.4h-1.712v-2.4h2.046c.226 0 .409-.18.409-.4v-16c0-.22-.183-.4-.41-.4H246.41c-.226 0-.409.18-.409.4v19.2c0 .22.183.4.41.4h16.363c.676 0 1.227-.538 1.227-1.2 0-.662-.55-1.2-1.227-1.2zm-6.137-16.8h1.637v2.4h-1.637v-2.4zm0 3.2h1.637v2.4h-1.637V941zm0 3.2h1.637v2.4h-1.637v-2.4zm0 3.2h1.637v2.4h-1.637v-2.4zm0 3.2h1.637v2.4h-1.637v-2.4zm-8.181 5.6h-1.637v-2.4h1.637v2.4zm0-3.2h-1.637v-2.4h1.637v2.4zm0-3.2h-1.637v-2.4h1.637v2.4zm0-3.2h-1.637v-2.4h1.637v2.4zm0-3.2h-1.637V941h1.637v2.4zm0-3.2h-1.637v-2.4h1.637v2.4zm2.454 16h-1.636v-2.4h1.636v2.4zm0-3.2h-1.636v-2.4h1.636v2.4zm0-3.2h-1.636v-2.4h1.636v2.4zm0-3.2h-1.636v-2.4h1.636v2.4zm0-3.2h-1.636V941h1.636v2.4zm0-3.2h-1.636v-2.4h1.636v2.4zm2.455 16h-1.637v-2.4h1.637v2.4zm0-3.2h-1.637v-2.4h1.637v2.4zm0-3.2h-1.637v-2.4h1.637v2.4zm0-3.2h-1.637v-2.4h1.637v2.4zm0-3.2h-1.637V941h1.637v2.4zm0-3.2h-1.637v-2.4h1.637v2.4zm2.454 16h-1.636v-2.4h1.636v2.4zm0-3.2h-1.636v-2.4h1.636v2.4zm0-3.2h-1.636v-2.4h1.636v2.4zm0-3.2h-1.636v-2.4h1.636v2.4zm0-3.2h-1.636V941h1.636v2.4zm0-3.2h-1.636v-2.4h1.636v2.4zm6.955 16H259.5a.405.405 0 0 1-.41-.4.41.41 0 0 1 .63-.335c.114.07.254.083.377.035a.402.402 0 0 0 .245-.28.81.81 0 0 1 .794-.62.81.81 0 0 1 .795.62c.03.126.12.23.244.28a.418.418 0 0 0 .376-.035c.266-.168.631.038.63.335 0 .22-.183.4-.408.4z"/> <path d="M248.885 935.8v-1.2h2.827c.222 0 .403-.18.403-.4v-.4h1.616v.4c0 .22.18.4.404.4h2.827v.8h-6.866a.402.402 0 0 0-.404.4c0 .22.181.4.404.4h10.096v16.592c0 .22.181.4.404.4.223 0 .404-.18.404-.4V935.8c0-.22-.18-.4-.404-.4h-2.827v-1.2c0-.22-.18-.4-.404-.4h-2.826v-.4c0-.22-.181-.4-.404-.4h-2.423a.402.402 0 0 0-.404.4v.4h-2.827a.402.402 0 0 0-.404.4v1.2h-2.827a.402.402 0 0 0-.404.4v20.4h-2.423v-1.64a2.008 2.008 0 0 0 1.615-1.96c0-.052-.023-5.2-2.019-5.2-1.996 0-2.019 5.148-2.019 5.2 0 .966.695 1.774 1.615 1.96v1.64h-1.211a.402.402 0 0 0-.404.4c0 .22.18.4.404.4h4.846c.223 0 .404-.18.404-.4v-20.4h2.827c.223 0 .404-.18.404-.4zm-8.077 16.8c0-1.993.54-4.4 1.211-4.4s1.212 2.407 1.212 4.4c0 .662-.544 1.2-1.212 1.2a1.207 1.207 0 0 1-1.211-1.2z"/> </g></svg>',phonebook:'<svg xmlns="http://www.w3.org/2000/svg" width="19" height="24" viewBox="0 0 19 24"> <defs> <linearGradient id="a" x1="12.863%" x2="70.533%" y1="90.417%" y2="-14.164%"> <stop offset="0%" stop-color="#06038D"/> <stop offset="46.444%" stop-color="#AA2FAC"/> <stop offset="100%" stop-color="#7C3E98"/> </linearGradient> </defs> <g fill="url(#a)" fill-rule="nonzero" transform="translate(-615 -933)"> <path d="M615.5 943a.5.5 0 1 0 .5.5v-.002a.499.499 0 0 0-.5-.498z"/> <path d="M631.648 933h-14.296a2.35 2.35 0 0 0-2.352 2.344v6.242a.47.47 0 0 0 .94 0v-6.242a1.41 1.41 0 0 1 1.412-1.407h14.296c.778 0 1.411.631 1.411 1.407v15.562a1.41 1.41 0 0 1-1.41 1.407h-14.297c-.53 0-1.018.175-1.411.47v-7.515a.47.47 0 0 0-.941 0v9.388a2.35 2.35 0 0 0 2.352 2.344h14.296a2.35 2.35 0 0 0 2.352-2.344v-19.312a2.35 2.35 0 0 0-2.352-2.344zm1.411 21.656a1.41 1.41 0 0 1-1.41 1.407h-14.297a1.41 1.41 0 0 1-1.411-1.407 1.41 1.41 0 0 1 1.41-1.406h14.297c.53 0 1.018-.175 1.411-.47a1.41 1.41 0 0 1-1.41 1.4h-11.93a.47.47 0 1 0 0 .937h11.93c.528 0 1.017-.175 1.41-.47v.01z"/> <path d="M618.853 954.146a.504.504 0 0 0-.707 0 .504.504 0 0 0 0 .708.504.504 0 0 0 .707 0 .504.504 0 0 0 0-.708zM629.605 944.69l-1.708-1.708a1.341 1.341 0 0 0-.955-.395c-.36 0-.7.14-.954.395l-.556.556a.215.215 0 0 1-.305 0l-1.666-1.666a.216.216 0 0 1 0-.305l.555-.556a1.351 1.351 0 0 0 0-1.91l-1.706-1.706a1.35 1.35 0 0 0-2.017.121l-.366.467a4.35 4.35 0 0 0 .345 5.759l2.986 2.986a4.34 4.34 0 0 0 3.076 1.272c.944 0 1.892-.306 2.683-.927l.467-.366a1.351 1.351 0 0 0 .12-2.017zm-.518.981a.432.432 0 0 1-.167.318l-.467.366a3.438 3.438 0 0 1-4.55-.273l-2.985-2.985a3.437 3.437 0 0 1-.273-4.55l.366-.467a.432.432 0 0 1 .318-.167.431.431 0 0 1 .335.128l1.707 1.706c.17.17.17.448 0 .619l-.556.555a1.13 1.13 0 0 0 0 1.596l1.667 1.666c.213.213.496.33.797.33.302 0 .585-.117.798-.33l.556-.555a.434.434 0 0 1 .618 0l1.708 1.708c.09.09.135.209.128.335z"/> </g></svg>'})}return"undefined"!==typeof window&&window.UIkit&&window.UIkit.use(t),t})},function(t,e,n){function i(t,e){this._id=t,this._clearFn=e}var r=Function.prototype.apply;e.setTimeout=function(){return new i(r.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new i(r.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(27),e.setImmediate=setImmediate,e.clearImmediate=clearImmediate},function(t,e,n){(function(t,e){!function(t,n){"use strict";function i(t){"function"!==typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var i={callback:t,args:e};return u[l]=i,s(l),l++}function r(t){delete u[t]}function o(t){var e=t.callback,i=t.args;switch(i.length){case 0:e();break;case 1:e(i[0]);break;case 2:e(i[0],i[1]);break;case 3:e(i[0],i[1],i[2]);break;default:e.apply(n,i)}}function a(t){if(c)setTimeout(a,0,t);else{var e=u[t];if(e){c=!0;try{o(e)}finally{r(t),c=!1}}}}if(!t.setImmediate){var s,l=1,u={},c=!1,h=t.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(t);p=p&&p.setTimeout?p:t,"[object process]"==={}.toString.call(t.process)?function(){s=function(t){e.nextTick(function(){a(t)})}}():function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?function(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"===typeof n.data&&0===n.data.indexOf(e)&&a(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),s=function(n){t.postMessage(e+n,"*")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){a(t.data)},s=function(e){t.port2.postMessage(e)}}():h&&"onreadystatechange"in h.createElement("script")?function(){var t=h.documentElement;s=function(e){var n=h.createElement("script");n.onreadystatechange=function(){a(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}():function(){s=function(t){setTimeout(a,0,t)}}(),p.setImmediate=i,p.clearImmediate=r}}("undefined"===typeof self?"undefined"===typeof t?this:t:self)}).call(e,n(2),n(4))},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(){function t(e,n){this.selectedMonth=this.selectedYear=this.currentYear=null,this.id=t.next_id++,t.instances[this.id]=this,this.original_input=e,this.InitOptions(n),this.InitValue(),this.Init(),this.RefreshInputs()}return t.Get=function(e){if("undefined"===typeof e.parentElement.dataset.mp)throw"Unable to retrieve the Monthpicker of element "+e;return t.instances[e.parentElement.dataset.mp]},t.prototype.InitValue=function(){var t=new Date;this.currentYear=t.getFullYear();var e=!1;this.original_input.value.match("[0-9]{1,2}/[0-9]{4}")&&(e=this.original_input.value.split("/"),this.selectedMonth=parseInt(e[0]),this.currentYear=this.selectedYear=parseInt(e[1]),e=!0),this.opts.allowNull||e||(this.selectedMonth=t.getMonth(),this.selectedYear=t.getFullYear(),null!==this.bounds.min.year&&(this.selectedYear<this.bounds.min.year?(this.selectedYear=this.bounds.min.year,this.selectedMonth=this.bounds.min.month?this.bounds.min.month:1):this.selectedYear==this.bounds.min.year&&this.selectedMonth<this.bounds.min.month&&(this.selectedMonth=this.bounds.min.month)),null!==this.bounds.max.year&&(this.selectedYear>this.bounds.max.year?(this.selectedYear=this.bounds.max.year,this.selectedMonth=this.bounds.max.month?this.bounds.max.month:12):this.selectedYear==this.bounds.max.year&&this.selectedMonth>this.bounds.max.month&&(this.selectedMonth=this.bounds.max.month)),this.currentYear=this.selectedYear)},t.prototype.InitOptions=function(e){this.opts=t._clone(t.defaultOpts),this.MergeOptions(e),this.EvaluateOptions()},t.prototype.UpdateOptions=function(t){this.MergeOptions(t),this.EvaluateOptions(),this.RefreshUI()},t.prototype.MergeOptions=function(t){if(t)for(var e in t)this.opts[e]=t[e]},t.prototype.EvaluateOptions=function(){var t={min:{year:null,month:null},max:{year:null,month:null}};if(null!==this.opts.minValue||null!==this.opts.minYear)if(null!==this.opts.minValue&&null!==this.opts.minYear){var e=this.opts.minValue.split("/"),n=parseInt(this.opts.minYear),i=parseInt(e[1]);n>i?(t.min.year=n,t.min.month=1):(t.min.year=i,t.min.month=parseInt(e[0]))}else null!==this.opts.minValue?(e=this.opts.minValue.split("/"),t.min.year=parseInt(e[1]),t.min.month=parseInt(e[0])):(t.min.year=parseInt(this.opts.minYear),t.min.month=1);null===this.opts.maxValue&&null===this.opts.maxYear||(null!==this.opts.maxValue&&null!==this.opts.maxYear?(e=this.opts.maxValue.split("/"),n=parseInt(this.opts.maxYear),i=parseInt(e[1]),n<i?(t.max.year=n,t.max.month=12):(t.max.year=i,t.max.month=parseInt(e[0]))):null!==this.opts.maxValue?(e=this.opts.maxValue.split("/"),t.max.year=parseInt(e[1]),t.max.month=parseInt(e[0])):(t.max.year=parseInt(this.opts.maxYear),t.max.month=12)),this.bounds=t},t.prototype.RefreshInputs=function(){this.selectedYear&&this.selectedMonth?(this.original_input.value=(10>this.selectedMonth?"0"+this.selectedMonth:this.selectedMonth.toString())+"/"+this.selectedYear,this.input.innerHTML=this.opts.monthLabels[this.selectedMonth-1]+" "+this.selectedYear):this.input.innerHTML='<span class="placeholder">'+this.original_input.placeholder+"</span>"},t.prototype.RefreshUI=function(){this.UpdateCalendarView(),null!==this.currentYear&&(this.year_input.innerHTML=this.currentYear.toString()),this.UpdateYearSwitches()},t.prototype.InitIU=function(){this.parent=document.createElement("div"),this.parent.classList.add("monthpicker"),this.parent.tabIndex=-1;var t=getComputedStyle(this.original_input,null);this.parent.style.width=t.getPropertyValue("width"),"auto"===this.parent.style.width&&(this.parent.style.width=0===this.original_input.offsetWidth?"100px":this.original_input.offsetWidth+"px"),this.original_input.parentElement.insertBefore(this.parent,this.original_input),this.parent.appendChild(this.original_input),this.original_input.style.display="none",this.input=document.createElement("div"),this.input.classList.add("uk-select"),this.input.style.height=t.getPropertyValue("height"),"auto"===this.input.style.height&&(this.input.style.height=0===this.original_input.offsetHeight?"20px":this.original_input.offsetHeight+"px"),this.input.style.padding=t.getPropertyValue("padding"),this.input.style.border=t.getPropertyValue("border"),this.parent.appendChild(this.input),this.selector=document.createElement("div"),this.selector.classList.add("monthpicker_selector"),this.selector.style.display="none";for(var t="<table><tr><td><span class='yearSwitch down' data-uk-icon='chevron-left'></span></td><td><div class='yearValue'>"+this.currentYear+"</div> </td><td><span class='yearSwitch up' data-uk-icon='chevron-right'></span> </td></tr> ",e=0;4>e;e++)var n=3*e,i=this.opts.monthLabels.slice(n,n+3),t=t+"<tr><td class='month month"+(n+1)+"' data-m='"+(n+1)+"'>"+i[0]+"</td><td class='month month"+(n+2)+"' data-m='"+(n+2)+"'>"+i[1]+"</td><td class='month month"+(n+3)+"' data-m='"+(n+3)+"'>"+i[2]+"</td></tr>";this.selector.innerHTML=t+"</table>",this.parent.appendChild(this.selector)},t.prototype.Init=function(){this.InitIU(),this.year_input=this.selector.querySelector(".yearValue"),this.parent.dataset.mp=this.id.toString(),this.parent.addEventListener("focus",function(){t.instances[this.dataset.mp].Show()},!0),this.parent.addEventListener("blur",function(){t.instances[this.dataset.mp].Hide()},!0),this.parent.querySelector(".yearSwitch.down").addEventListener("click",function(){t.instances[this.closest(".monthpicker").dataset.mp].PrevYear()}),this.parent.querySelector(".yearSwitch.up").addEventListener("click",function(){t.instances[this.closest(".monthpicker").dataset.mp].NextYear()});for(var e=this.parent.querySelectorAll(".monthpicker_selector>table tr:not(:first-child) td.month"),n=0;n<e.length;n++)e[n].addEventListener("click",function(){this.classList.contains("off")||t.instances[this.closest(".monthpicker").dataset.mp].SelectMonth(this.dataset.m)})},t.prototype.SelectMonth=function(t){var e=parseInt(t);if(isNaN(e))throw"Selected month is not a number : "+t;if(1>e||12<e)throw"Month is out of range (should be in [1:12], was "+t+")";this.selectedMonth=e,this.selectedYear=this.currentYear,this.RefreshUI(),this.RefreshInputs(),this.ReleaseFocus(),null!==this.opts.onSelect&&this.opts.onSelect()},t.prototype.UpdateCalendarView=function(){for(var t=this.selector.querySelectorAll(".month"),e=0;e<t.length;e++)t[e].classList.remove("selected");for(null!==this.selectedYear&&this.currentYear===this.selectedYear&&t[this.selectedMonth-1].classList.add("selected"),e=0;e<t.length;e++)t[e].classList.remove("off");if(null!==this.bounds.min.year&&this.currentYear<=this.bounds.min.year)for(e=1;e<this.bounds.min.month;e++)t[e-1].classList.add("off");if(null!==this.bounds.max.year&&this.currentYear>=this.bounds.max.year)for(e=12;e>this.bounds.max.month;e--)t[e-1].classList.add("off")},t.prototype.ReleaseFocus=function(){this.parent.blur()},t.prototype.Show=function(){this.RefreshUI(),this.selector.style.display="block"},t.prototype.Hide=function(){null!==this.selectedYear&&(this.currentYear=this.selectedYear),this.selector.style.display="none"},t.prototype.ShowYear=function(t){this.currentYear=t,this.RefreshUI()},t.prototype.UpdateYearSwitches=function(){var t=this.selector.querySelector(".yearSwitch.down"),e=this.selector.querySelector(".yearSwitch.up");null!==this.bounds.min.year&&this.currentYear<=this.bounds.min.year?t.classList.add("off"):t.classList.remove("off"),null!==this.bounds.max.year&&this.currentYear>=this.bounds.max.year?e.classList.add("off"):e.classList.remove("off")},t.prototype.PrevYear=function(){this.ShowYear(this.currentYear-1)},t.prototype.NextYear=function(){this.ShowYear(this.currentYear+1)},t._clone=function(e){var n;if(null==e||"object"!=("undefined"===typeof e?"undefined":i(e)))return e;if(e instanceof Date)return n=new Date,n.setTime(e.getTime()),n;if(e instanceof Array){n=[];for(var r=0,o=e.length;r<o;r++)n[r]=t._clone(e[r]);return n}if(e instanceof Object){n={};for(r in e)e.hasOwnProperty(r)&&(n[r]=t._clone(e[r]));return n}throw Error("Unable to copy obj! Its type isn't supported.")},t.next_id=1,t.instances=[],t.defaultOpts={minValue:null,minYear:null,maxValue:null,maxYear:null,monthLabels:"Jan Feb Mar Apr May Jun Jui Aug Sep Oct Nov Dec".split(" "),onSelect:null,onClose:null,allowNull:!0},t}();window.jQuery&&(window.jQuery.fn.Monthpicker=function(t,e){var n;if("undefined"===typeof t||"object"===("undefined"===typeof t?"undefined":i(t)))n="ctor";else{if("string"!==typeof t||"option"!==t)return void console.error("Error : Monthpicker - bad argument (1)");n="option"}window.jQuery(this).each(function(i,o){switch(n){case"ctor":"INPUT"!=o.tagName||"text"!=o.getAttribute("type")&&null!==o.getAttribute("type")?console.error("Monthpicker must be called on a text input"):new r(o,t);break;case"option":"INPUT"!=o.tagName||"text"!=o.getAttribute("type")&&null!==o.getAttribute("type")?console.error("Monthpicker must be called on a text input"):r.Get(o).UpdateOptions(e)}})}),window.Element&&function(t){t.matches=t.matches||t.matchesSelector||t.webkitMatchesSelector||t.msMatchesSelector||function(t){t=(this.parentNode||this.document).querySelectorAll(t);for(var e=-1;t[++e]&&t[e]!=this;);return!!t[e]}}(window.Element.prototype),window.Element&&function(t){t.closest=t.closest||function(t){for(var e=this;e.matches&&!e.matches(t);)e=e.parentNode;return e.matches?e:null}}(window.Element.prototype)},function(t,e,n){"use strict";var i=n(30),r=(n.n(i),n(31)),o=(n.n(r),n(32));e.a=function(){document.querySelectorAll(".particles-backdrop").forEach(function(t,e){var n="particlesbackdrop-"+e;t.setAttribute("id",n),window.particlesJS(n,o.a)})}},function(t,e){function n(t){var e=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;t=t.replace(e,function(t,e,n,i){return e+e+n+n+i+i});var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return n?{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16)}:null}function i(t,e,n){return Math.min(Math.max(t,e),n)}function r(t,e){return e.indexOf(t)>-1}var o=function(t,e){var o=document.querySelector("#"+t+" > .particles-js-canvas-el");this.pJS={canvas:{el:o,w:o.offsetWidth,h:o.offsetHeight},particles:{number:{value:400,density:{enable:!0,value_area:800}},color:{value:"#fff"},shape:{type:"circle",stroke:{width:0,color:"#ff0000"},polygon:{nb_sides:5},image:{src:"",width:100,height:100}},opacity:{value:1,random:!1,anim:{enable:!1,speed:2,opacity_min:0,sync:!1}},size:{value:20,random:!1,anim:{enable:!1,speed:20,size_min:0,sync:!1}},line_linked:{enable:!0,distance:100,color:"#fff",opacity:1,width:1},move:{enable:!0,speed:2,direction:"none",random:!1,straight:!1,out_mode:"out",bounce:!1,attract:{enable:!1,rotateX:3e3,rotateY:3e3}},array:[]},interactivity:{detect_on:"canvas",events:{onhover:{enable:!0,mode:"grab"},onclick:{enable:!0,mode:"push"},resize:!0},modes:{grab:{distance:100,line_linked:{opacity:1}},bubble:{distance:200,size:80,duration:.4},repulse:{distance:200,duration:.4},push:{particles_nb:4},remove:{particles_nb:2}},mouse:{}},retina_detect:!1,fn:{interact:{},modes:{},vendors:{}},tmp:{}};var a=this.pJS;e&&Object.deepExtend(a,e),a.tmp.obj={size_value:a.particles.size.value,size_anim_speed:a.particles.size.anim.speed,move_speed:a.particles.move.speed,line_linked_distance:a.particles.line_linked.distance,line_linked_width:a.particles.line_linked.width,mode_grab_distance:a.interactivity.modes.grab.distance,mode_bubble_distance:a.interactivity.modes.bubble.distance,mode_bubble_size:a.interactivity.modes.bubble.size,mode_repulse_distance:a.interactivity.modes.repulse.distance},a.fn.retinaInit=function(){a.retina_detect&&window.devicePixelRatio>1?(a.canvas.pxratio=window.devicePixelRatio,a.tmp.retina=!0):(a.canvas.pxratio=1,a.tmp.retina=!1),a.canvas.w=a.canvas.el.offsetWidth*a.canvas.pxratio,a.canvas.h=a.canvas.el.offsetHeight*a.canvas.pxratio,a.particles.size.value=a.tmp.obj.size_value*a.canvas.pxratio,a.particles.size.anim.speed=a.tmp.obj.size_anim_speed*a.canvas.pxratio,a.particles.move.speed=a.tmp.obj.move_speed*a.canvas.pxratio,a.particles.line_linked.distance=a.tmp.obj.line_linked_distance*a.canvas.pxratio,a.interactivity.modes.grab.distance=a.tmp.obj.mode_grab_distance*a.canvas.pxratio,a.interactivity.modes.bubble.distance=a.tmp.obj.mode_bubble_distance*a.canvas.pxratio,a.particles.line_linked.width=a.tmp.obj.line_linked_width*a.canvas.pxratio,a.interactivity.modes.bubble.size=a.tmp.obj.mode_bubble_size*a.canvas.pxratio,a.interactivity.modes.repulse.distance=a.tmp.obj.mode_repulse_distance*a.canvas.pxratio},a.fn.canvasInit=function(){a.canvas.ctx=a.canvas.el.getContext("2d")},a.fn.canvasSize=function(){a.canvas.el.width=a.canvas.w,a.canvas.el.height=a.canvas.h,a&&a.interactivity.events.resize&&window.addEventListener("resize",function(){a.canvas.w=a.canvas.el.offsetWidth,a.canvas.h=a.canvas.el.offsetHeight,a.tmp.retina&&(a.canvas.w*=a.canvas.pxratio,a.canvas.h*=a.canvas.pxratio),a.canvas.el.width=a.canvas.w,a.canvas.el.height=a.canvas.h,a.particles.move.enable||(a.fn.particlesEmpty(),a.fn.particlesCreate(),a.fn.particlesDraw(),a.fn.vendors.densityAutoParticles()),a.fn.vendors.densityAutoParticles()})},a.fn.canvasPaint=function(){a.canvas.ctx.fillRect(0,0,a.canvas.w,a.canvas.h)},a.fn.canvasClear=function(){a.canvas.ctx.clearRect(0,0,a.canvas.w,a.canvas.h)},a.fn.particle=function(t,e,i){if(this.radius=(a.particles.size.random?Math.random():1)*a.particles.size.value,a.particles.size.anim.enable&&(this.size_status=!1,this.vs=a.particles.size.anim.speed/100,a.particles.size.anim.sync||(this.vs=this.vs*Math.random())),this.x=i?i.x:Math.random()*a.canvas.w,this.y=i?i.y:Math.random()*a.canvas.h,this.x>a.canvas.w-2*this.radius?this.x=this.x-this.radius:this.x<2*this.radius&&(this.x=this.x+this.radius),this.y>a.canvas.h-2*this.radius?this.y=this.y-this.radius:this.y<2*this.radius&&(this.y=this.y+this.radius),a.particles.move.bounce&&a.fn.vendors.checkOverlap(this,i),this.color={},"object"==typeof t.value)if(t.value instanceof Array){var r=t.value[Math.floor(Math.random()*a.particles.color.value.length)];this.color.rgb=n(r)}else void 0!=t.value.r&&void 0!=t.value.g&&void 0!=t.value.b&&(this.color.rgb={r:t.value.r,g:t.value.g,b:t.value.b}),void 0!=t.value.h&&void 0!=t.value.s&&void 0!=t.value.l&&(this.color.hsl={h:t.value.h,s:t.value.s,l:t.value.l});else"random"==t.value?this.color.rgb={r:Math.floor(256*Math.random())+0,g:Math.floor(256*Math.random())+0,b:Math.floor(256*Math.random())+0}:"string"==typeof t.value&&(this.color=t,this.color.rgb=n(this.color.value));this.opacity=(a.particles.opacity.random?Math.random():1)*a.particles.opacity.value,a.particles.opacity.anim.enable&&(this.opacity_status=!1,this.vo=a.particles.opacity.anim.speed/100,a.particles.opacity.anim.sync||(this.vo=this.vo*Math.random()));var o={};switch(a.particles.move.direction){case"top":o={x:0,y:-1};break;case"top-right":o={x:.5,y:-.5};break;case"right":o={x:1,y:-0};break;case"bottom-right":o={x:.5,y:.5};break;case"bottom":o={x:0,y:1};break;case"bottom-left":o={x:-.5,y:1};break;case"left":o={x:-1,y:0};break;case"top-left":o={x:-.5,y:-.5};break;default:o={x:0,y:0}}a.particles.move.straight?(this.vx=o.x,this.vy=o.y,a.particles.move.random&&(this.vx=this.vx*Math.random(),this.vy=this.vy*Math.random())):(this.vx=o.x+Math.random()-.5,this.vy=o.y+Math.random()-.5),this.vx_i=this.vx,this.vy_i=this.vy;var s=a.particles.shape.type;if("object"==typeof s){if(s instanceof Array){var l=s[Math.floor(Math.random()*s.length)];this.shape=l}}else this.shape=s;if("image"==this.shape){var u=a.particles.shape;this.img={src:u.image.src,ratio:u.image.width/u.image.height},this.img.ratio||(this.img.ratio=1),"svg"==a.tmp.img_type&&void 0!=a.tmp.source_svg&&(a.fn.vendors.createSvgImg(this),a.tmp.pushing&&(this.img.loaded=!1))}},a.fn.particle.prototype.draw=function(){var t=this;if(void 0!=t.radius_bubble)var e=t.radius_bubble;else var e=t.radius;if(void 0!=t.opacity_bubble)var n=t.opacity_bubble;else var n=t.opacity;if(t.color.rgb)var i="rgba("+t.color.rgb.r+","+t.color.rgb.g+","+t.color.rgb.b+","+n+")";else var i="hsla("+t.color.hsl.h+","+t.color.hsl.s+"%,"+t.color.hsl.l+"%,"+n+")";switch(a.canvas.ctx.fillStyle=i,a.canvas.ctx.beginPath(),t.shape){case"circle":a.canvas.ctx.arc(t.x,t.y,e,0,2*Math.PI,!1);break;case"edge":a.canvas.ctx.rect(t.x-e,t.y-e,2*e,2*e);break;case"triangle":a.fn.vendors.drawShape(a.canvas.ctx,t.x-e,t.y+e/1.66,2*e,3,2);break;case"polygon":a.fn.vendors.drawShape(a.canvas.ctx,t.x-e/(a.particles.shape.polygon.nb_sides/3.5),t.y-e/.76,2.66*e/(a.particles.shape.polygon.nb_sides/3),a.particles.shape.polygon.nb_sides,1);break;case"star":a.fn.vendors.drawShape(a.canvas.ctx,t.x-2*e/(a.particles.shape.polygon.nb_sides/4),t.y-e/1.52,2*e*2.66/(a.particles.shape.polygon.nb_sides/3),a.particles.shape.polygon.nb_sides,2);break;case"image":if("svg"==a.tmp.img_type)var r=t.img.obj;else var r=a.tmp.img_obj;r&&function(){a.canvas.ctx.drawImage(r,t.x-e,t.y-e,2*e,2*e/t.img.ratio)}()}a.canvas.ctx.closePath(),a.particles.shape.stroke.width>0&&(a.canvas.ctx.strokeStyle=a.particles.shape.stroke.color,a.canvas.ctx.lineWidth=a.particles.shape.stroke.width,a.canvas.ctx.stroke()),a.canvas.ctx.fill()},a.fn.particlesCreate=function(){for(var t=0;t<a.particles.number.value;t++)a.particles.array.push(new a.fn.particle(a.particles.color,a.particles.opacity.value))},a.fn.particlesUpdate=function(){for(var t=0;t<a.particles.array.length;t++){var e=a.particles.array[t];if(a.particles.move.enable){var n=a.particles.move.speed/2;e.x+=e.vx*n,e.y+=e.vy*n}if(a.particles.opacity.anim.enable&&(1==e.opacity_status?(e.opacity>=a.particles.opacity.value&&(e.opacity_status=!1),e.opacity+=e.vo):(e.opacity<=a.particles.opacity.anim.opacity_min&&(e.opacity_status=!0),e.opacity-=e.vo),e.opacity<0&&(e.opacity=0)),a.particles.size.anim.enable&&(1==e.size_status?(e.radius>=a.particles.size.value&&(e.size_status=!1),e.radius+=e.vs):(e.radius<=a.particles.size.anim.size_min&&(e.size_status=!0),e.radius-=e.vs),e.radius<0&&(e.radius=0)),"bounce"==a.particles.move.out_mode)var i={x_left:e.radius,x_right:a.canvas.w,y_top:e.radius,y_bottom:a.canvas.h};else var i={x_left:-e.radius,x_right:a.canvas.w+e.radius,y_top:-e.radius,y_bottom:a.canvas.h+e.radius};switch(e.x-e.radius>a.canvas.w?(e.x=i.x_left,e.y=Math.random()*a.canvas.h):e.x+e.radius<0&&(e.x=i.x_right,e.y=Math.random()*a.canvas.h),e.y-e.radius>a.canvas.h?(e.y=i.y_top,e.x=Math.random()*a.canvas.w):e.y+e.radius<0&&(e.y=i.y_bottom,e.x=Math.random()*a.canvas.w),a.particles.move.out_mode){case"bounce":e.x+e.radius>a.canvas.w?e.vx=-e.vx:e.x-e.radius<0&&(e.vx=-e.vx),e.y+e.radius>a.canvas.h?e.vy=-e.vy:e.y-e.radius<0&&(e.vy=-e.vy)}if(r("grab",a.interactivity.events.onhover.mode)&&a.fn.modes.grabParticle(e),(r("bubble",a.interactivity.events.onhover.mode)||r("bubble",a.interactivity.events.onclick.mode))&&a.fn.modes.bubbleParticle(e),(r("repulse",a.interactivity.events.onhover.mode)||r("repulse",a.interactivity.events.onclick.mode))&&a.fn.modes.repulseParticle(e),a.particles.line_linked.enable||a.particles.move.attract.enable)for(var o=t+1;o<a.particles.array.length;o++){var s=a.particles.array[o];a.particles.line_linked.enable&&a.fn.interact.linkParticles(e,s),a.particles.move.attract.enable&&a.fn.interact.attractParticles(e,s),a.particles.move.bounce&&a.fn.interact.bounceParticles(e,s)}}},a.fn.particlesDraw=function(){a.canvas.ctx.clearRect(0,0,a.canvas.w,a.canvas.h),a.fn.particlesUpdate();for(var t=0;t<a.particles.array.length;t++){a.particles.array[t].draw()}},a.fn.particlesEmpty=function(){a.particles.array=[]},a.fn.particlesRefresh=function(){cancelRequestAnimFrame(a.fn.checkAnimFrame),cancelRequestAnimFrame(a.fn.drawAnimFrame),a.tmp.source_svg=void 0,a.tmp.img_obj=void 0,a.tmp.count_svg=0,a.fn.particlesEmpty(),a.fn.canvasClear(),a.fn.vendors.start()},a.fn.interact.linkParticles=function(t,e){var n=t.x-e.x,i=t.y-e.y,r=Math.sqrt(n*n+i*i);if(r<=a.particles.line_linked.distance){var o=a.particles.line_linked.opacity-r/(1/a.particles.line_linked.opacity)/a.particles.line_linked.distance;if(o>0){var s=a.particles.line_linked.color_rgb_line;a.canvas.ctx.strokeStyle="rgba("+s.r+","+s.g+","+s.b+","+o+")",a.canvas.ctx.lineWidth=a.particles.line_linked.width,a.canvas.ctx.beginPath(),a.canvas.ctx.moveTo(t.x,t.y),a.canvas.ctx.lineTo(e.x,e.y),a.canvas.ctx.stroke(),a.canvas.ctx.closePath()}}},a.fn.interact.attractParticles=function(t,e){var n=t.x-e.x,i=t.y-e.y;if(Math.sqrt(n*n+i*i)<=a.particles.line_linked.distance){var r=n/(1e3*a.particles.move.attract.rotateX),o=i/(1e3*a.particles.move.attract.rotateY);t.vx-=r,t.vy-=o,e.vx+=r,e.vy+=o}},a.fn.interact.bounceParticles=function(t,e){var n=t.x-e.x,i=t.y-e.y;Math.sqrt(n*n+i*i)<=t.radius+e.radius&&(t.vx=-t.vx,t.vy=-t.vy,e.vx=-e.vx,e.vy=-e.vy)},a.fn.modes.pushParticles=function(t,e){a.tmp.pushing=!0;for(var n=0;n<t;n++)a.particles.array.push(new a.fn.particle(a.particles.color,a.particles.opacity.value,{x:e?e.pos_x:Math.random()*a.canvas.w,y:e?e.pos_y:Math.random()*a.canvas.h})),n==t-1&&(a.particles.move.enable||a.fn.particlesDraw(),a.tmp.pushing=!1)},a.fn.modes.removeParticles=function(t){a.particles.array.splice(0,t),a.particles.move.enable||a.fn.particlesDraw()},a.fn.modes.bubbleParticle=function(t){function e(){t.opacity_bubble=t.opacity,t.radius_bubble=t.radius}function n(e,n,i,r,o){if(e!=n)if(a.tmp.bubble_duration_end){if(void 0!=i){var l=r-p*(r-e)/a.interactivity.modes.bubble.duration,u=e-l;h=e+u,"size"==o&&(t.radius_bubble=h),"opacity"==o&&(t.opacity_bubble=h)}}else if(s<=a.interactivity.modes.bubble.distance){if(void 0!=i)var c=i;else var c=r;if(c!=e){var h=r-p*(r-e)/a.interactivity.modes.bubble.duration;"size"==o&&(t.radius_bubble=h),"opacity"==o&&(t.opacity_bubble=h)}}else"size"==o&&(t.radius_bubble=void 0),"opacity"==o&&(t.opacity_bubble=void 0)}if(a.interactivity.events.onhover.enable&&r("bubble",a.interactivity.events.onhover.mode)){var i=t.x-a.interactivity.mouse.pos_x,o=t.y-a.interactivity.mouse.pos_y,s=Math.sqrt(i*i+o*o),l=1-s/a.interactivity.modes.bubble.distance;if(s<=a.interactivity.modes.bubble.distance){if(l>=0&&"mousemove"==a.interactivity.status){if(a.interactivity.modes.bubble.size!=a.particles.size.value)if(a.interactivity.modes.bubble.size>a.particles.size.value){var u=t.radius+a.interactivity.modes.bubble.size*l;u>=0&&(t.radius_bubble=u)}else{var c=t.radius-a.interactivity.modes.bubble.size,u=t.radius-c*l;t.radius_bubble=u>0?u:0}if(a.interactivity.modes.bubble.opacity!=a.particles.opacity.value)if(a.interactivity.modes.bubble.opacity>a.particles.opacity.value){var h=a.interactivity.modes.bubble.opacity*l;h>t.opacity&&h<=a.interactivity.modes.bubble.opacity&&(t.opacity_bubble=h)}else{var h=t.opacity-(a.particles.opacity.value-a.interactivity.modes.bubble.opacity)*l;h<t.opacity&&h>=a.interactivity.modes.bubble.opacity&&(t.opacity_bubble=h)}}}else e();"mouseleave"==a.interactivity.status&&e()}else if(a.interactivity.events.onclick.enable&&r("bubble",a.interactivity.events.onclick.mode)){if(a.tmp.bubble_clicking){var i=t.x-a.interactivity.mouse.click_pos_x,o=t.y-a.interactivity.mouse.click_pos_y,s=Math.sqrt(i*i+o*o),p=((new Date).getTime()-a.interactivity.mouse.click_time)/1e3;p>a.interactivity.modes.bubble.duration&&(a.tmp.bubble_duration_end=!0),p>2*a.interactivity.modes.bubble.duration&&(a.tmp.bubble_clicking=!1,a.tmp.bubble_duration_end=!1)}a.tmp.bubble_clicking&&(n(a.interactivity.modes.bubble.size,a.particles.size.value,t.radius_bubble,t.radius,"size"),n(a.interactivity.modes.bubble.opacity,a.particles.opacity.value,t.opacity_bubble,t.opacity,"opacity"))}},a.fn.modes.repulseParticle=function(t){if(a.interactivity.events.onhover.enable&&r("repulse",a.interactivity.events.onhover.mode)&&"mousemove"==a.interactivity.status){var e=t.x-a.interactivity.mouse.pos_x,n=t.y-a.interactivity.mouse.pos_y,o=Math.sqrt(e*e+n*n),s={x:e/o,y:n/o},l=a.interactivity.modes.repulse.distance,u=i(1/l*(-1*Math.pow(o/l,2)+1)*l*100,0,50),c={x:t.x+s.x*u,y:t.y+s.y*u};"bounce"==a.particles.move.out_mode?(c.x-t.radius>0&&c.x+t.radius<a.canvas.w&&(t.x=c.x),c.y-t.radius>0&&c.y+t.radius<a.canvas.h&&(t.y=c.y)):(t.x=c.x,t.y=c.y)}else if(a.interactivity.events.onclick.enable&&r("repulse",a.interactivity.events.onclick.mode))if(a.tmp.repulse_finish||++a.tmp.repulse_count==a.particles.array.length&&(a.tmp.repulse_finish=!0),a.tmp.repulse_clicking){var l=Math.pow(a.interactivity.modes.repulse.distance/6,3),h=a.interactivity.mouse.click_pos_x-t.x,p=a.interactivity.mouse.click_pos_y-t.y,d=h*h+p*p,f=-l/d*1;d<=l&&function(){var e=Math.atan2(p,h);if(t.vx=f*Math.cos(e),t.vy=f*Math.sin(e),"bounce"==a.particles.move.out_mode){var n={x:t.x+t.vx,y:t.y+t.vy};n.x+t.radius>a.canvas.w?t.vx=-t.vx:n.x-t.radius<0&&(t.vx=-t.vx),n.y+t.radius>a.canvas.h?t.vy=-t.vy:n.y-t.radius<0&&(t.vy=-t.vy)}}()}else 0==a.tmp.repulse_clicking&&(t.vx=t.vx_i,t.vy=t.vy_i)},a.fn.modes.grabParticle=function(t){if(a.interactivity.events.onhover.enable&&"mousemove"==a.interactivity.status){var e=t.x-a.interactivity.mouse.pos_x,n=t.y-a.interactivity.mouse.pos_y,i=Math.sqrt(e*e+n*n);if(i<=a.interactivity.modes.grab.distance){var r=a.interactivity.modes.grab.line_linked.opacity-i/(1/a.interactivity.modes.grab.line_linked.opacity)/a.interactivity.modes.grab.distance;if(r>0){var o=a.particles.line_linked.color_rgb_line;a.canvas.ctx.strokeStyle="rgba("+o.r+","+o.g+","+o.b+","+r+")",a.canvas.ctx.lineWidth=a.particles.line_linked.width,a.canvas.ctx.beginPath(),a.canvas.ctx.moveTo(t.x,t.y),a.canvas.ctx.lineTo(a.interactivity.mouse.pos_x,a.interactivity.mouse.pos_y),a.canvas.ctx.stroke(),a.canvas.ctx.closePath()}}}},a.fn.vendors.eventsListeners=function(){"window"==a.interactivity.detect_on?a.interactivity.el=window:a.interactivity.el=a.canvas.el,(a.interactivity.events.onhover.enable||a.interactivity.events.onclick.enable)&&(a.interactivity.el.addEventListener("mousemove",function(t){if(a.interactivity.el==window)var e=t.clientX,n=t.clientY;else var e=t.offsetX||t.clientX,n=t.offsetY||t.clientY;a.interactivity.mouse.pos_x=e,a.interactivity.mouse.pos_y=n,a.tmp.retina&&(a.interactivity.mouse.pos_x*=a.canvas.pxratio,a.interactivity.mouse.pos_y*=a.canvas.pxratio),a.interactivity.status="mousemove"}),a.interactivity.el.addEventListener("mouseleave",function(t){a.interactivity.mouse.pos_x=null,a.interactivity.mouse.pos_y=null,a.interactivity.status="mouseleave"})),a.interactivity.events.onclick.enable&&a.interactivity.el.addEventListener("click",function(){if(a.interactivity.mouse.click_pos_x=a.interactivity.mouse.pos_x,a.interactivity.mouse.click_pos_y=a.interactivity.mouse.pos_y,a.interactivity.mouse.click_time=(new Date).getTime(),a.interactivity.events.onclick.enable)switch(a.interactivity.events.onclick.mode){case"push":a.particles.move.enable?a.fn.modes.pushParticles(a.interactivity.modes.push.particles_nb,a.interactivity.mouse):1==a.interactivity.modes.push.particles_nb?a.fn.modes.pushParticles(a.interactivity.modes.push.particles_nb,a.interactivity.mouse):a.interactivity.modes.push.particles_nb>1&&a.fn.modes.pushParticles(a.interactivity.modes.push.particles_nb);break;case"remove":a.fn.modes.removeParticles(a.interactivity.modes.remove.particles_nb);break;case"bubble":a.tmp.bubble_clicking=!0;break;case"repulse":a.tmp.repulse_clicking=!0,a.tmp.repulse_count=0,a.tmp.repulse_finish=!1,setTimeout(function(){a.tmp.repulse_clicking=!1},1e3*a.interactivity.modes.repulse.duration)}})},a.fn.vendors.densityAutoParticles=function(){if(a.particles.number.density.enable){var t=a.canvas.el.width*a.canvas.el.height/1e3;a.tmp.retina&&(t/=2*a.canvas.pxratio);var e=t*a.particles.number.value/a.particles.number.density.value_area,n=a.particles.array.length-e;n<0?a.fn.modes.pushParticles(Math.abs(n)):a.fn.modes.removeParticles(n)}},a.fn.vendors.checkOverlap=function(t,e){for(var n=0;n<a.particles.array.length;n++){var i=a.particles.array[n],r=t.x-i.x,o=t.y-i.y;Math.sqrt(r*r+o*o)<=t.radius+i.radius&&(t.x=e?e.x:Math.random()*a.canvas.w,t.y=e?e.y:Math.random()*a.canvas.h,a.fn.vendors.checkOverlap(t))}},a.fn.vendors.createSvgImg=function(t){var e=a.tmp.source_svg,n=/#([0-9A-F]{3,6})/gi,i=e.replace(n,function(e,n,i,r){if(t.color.rgb)var o="rgba("+t.color.rgb.r+","+t.color.rgb.g+","+t.color.rgb.b+","+t.opacity+")";else var o="hsla("+t.color.hsl.h+","+t.color.hsl.s+"%,"+t.color.hsl.l+"%,"+t.opacity+")";return o}),r=new Blob([i],{type:"image/svg+xml;charset=utf-8"}),o=window.URL||window.webkitURL||window,s=o.createObjectURL(r),l=new Image;l.addEventListener("load",function(){t.img.obj=l,t.img.loaded=!0,o.revokeObjectURL(s),a.tmp.count_svg++}),l.src=s},a.fn.vendors.destroypJS=function(){cancelAnimationFrame(a.fn.drawAnimFrame),o.remove(),pJSDom=null},a.fn.vendors.drawShape=function(t,e,n,i,r,o){var a=r*o,s=r/o,l=180*(s-2)/s,u=Math.PI-Math.PI*l/180;t.save(),t.beginPath(),t.translate(e,n),t.moveTo(0,0);for(var c=0;c<a;c++)t.lineTo(i,0),t.translate(i,0),t.rotate(u);t.fill(),t.restore()},a.fn.vendors.exportImg=function(){window.open(a.canvas.el.toDataURL("image/png"),"_blank")},a.fn.vendors.loadImg=function(t){if(a.tmp.img_error=void 0,""!=a.particles.shape.image.src)if("svg"==t){var e=new XMLHttpRequest;e.open("GET",a.particles.shape.image.src),e.onreadystatechange=function(t){4==e.readyState&&(200==e.status?(a.tmp.source_svg=t.currentTarget.response,a.fn.vendors.checkBeforeDraw()):(console.log("Error pJS - Image not found"),a.tmp.img_error=!0))},e.send()}else{var n=new Image;n.addEventListener("load",function(){a.tmp.img_obj=n,a.fn.vendors.checkBeforeDraw()}),n.src=a.particles.shape.image.src}else console.log("Error pJS - No image.src"),a.tmp.img_error=!0},a.fn.vendors.draw=function(){"image"==a.particles.shape.type?"svg"==a.tmp.img_type?a.tmp.count_svg>=a.particles.number.value?(a.fn.particlesDraw(),a.particles.move.enable?a.fn.drawAnimFrame=requestAnimFrame(a.fn.vendors.draw):cancelRequestAnimFrame(a.fn.drawAnimFrame)):a.tmp.img_error||(a.fn.drawAnimFrame=requestAnimFrame(a.fn.vendors.draw)):void 0!=a.tmp.img_obj?(a.fn.particlesDraw(),a.particles.move.enable?a.fn.drawAnimFrame=requestAnimFrame(a.fn.vendors.draw):cancelRequestAnimFrame(a.fn.drawAnimFrame)):a.tmp.img_error||(a.fn.drawAnimFrame=requestAnimFrame(a.fn.vendors.draw)):(a.fn.particlesDraw(),a.particles.move.enable?a.fn.drawAnimFrame=requestAnimFrame(a.fn.vendors.draw):cancelRequestAnimFrame(a.fn.drawAnimFrame))},a.fn.vendors.checkBeforeDraw=function(){"image"==a.particles.shape.type?"svg"==a.tmp.img_type&&void 0==a.tmp.source_svg?a.tmp.checkAnimFrame=requestAnimFrame(check):(cancelRequestAnimFrame(a.tmp.checkAnimFrame),a.tmp.img_error||(a.fn.vendors.init(),a.fn.vendors.draw())):(a.fn.vendors.init(),a.fn.vendors.draw())},a.fn.vendors.init=function(){a.fn.retinaInit(),a.fn.canvasInit(),a.fn.canvasSize(),a.fn.canvasPaint(),a.fn.particlesCreate(),a.fn.vendors.densityAutoParticles(),a.particles.line_linked.color_rgb_line=n(a.particles.line_linked.color)},a.fn.vendors.start=function(){r("image",a.particles.shape.type)?(a.tmp.img_type=a.particles.shape.image.src.substr(a.particles.shape.image.src.length-3),a.fn.vendors.loadImg(a.tmp.img_type)):a.fn.vendors.checkBeforeDraw()},a.fn.vendors.eventsListeners(),a.fn.vendors.start()};Object.deepExtend=function(t,e){for(var n in e)e[n]&&e[n].constructor&&e[n].constructor===Object?(t[n]=t[n]||{},arguments.callee(t[n],e[n])):t[n]=e[n];return t},window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}(),window.cancelRequestAnimFrame=function(){return window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout}(),window.pJSDom=[],window.particlesJS=function(t,e){"string"!=typeof t&&(e=t,t="particles-js"),t||(t="particles-js");var n=document.getElementById(t),i=n.getElementsByClassName("particles-js-canvas-el");if(i.length)for(;i.length>0;)n.removeChild(i[0]);var r=document.createElement("canvas");r.className="particles-js-canvas-el",r.style.width="100%",r.style.height="100%",null!=document.getElementById(t).appendChild(r)&&pJSDom.push(new o(t,e))},window.particlesJS.load=function(t,e,n){var i=new XMLHttpRequest;i.open("GET",e),i.onreadystatechange=function(e){if(4==i.readyState)if(200==i.status){var r=JSON.parse(e.currentTarget.response);window.particlesJS(t,r),n&&n()}else console.log("Error pJS - XMLHttpRequest status: "+i.status),console.log("Error pJS - File config not found")},i.send()}},function(t,e){},function(t,e,n){"use strict";e.a={particles:{number:{value:80,density:{enable:!0,value_area:800}},color:{value:"#A2ACAB"},shape:{type:"circle",stroke:{width:0,color:"#A2ACAB"},polygon:{nb_sides:5}},opacity:{value:.5,random:!1,anim:{enable:!1,speed:1,opacity_min:.1,sync:!1}},size:{value:3,random:!0,anim:{enable:!1,speed:40,size_min:.1,sync:!1}},line_linked:{enable:!0,distance:150,color:"#A2ACAB",opacity:.4,width:1},move:{enable:!0,speed:6,direction:"none",random:!1,straight:!1,out_mode:"out",bounce:!1,attract:{enable:!1,rotateX:600,rotateY:1200}}},interactivity:{detect_on:"canvas",events:{onhover:{enable:!0,mode:"grab"},onclick:{enable:!0,mode:"push"},resize:!0},modes:{grab:{distance:140,line_linked:{opacity:1}},bubble:{distance:400,size:40,duration:2,opacity:8,speed:3},repulse:{distance:200,duration:.4},push:{particles_nb:4},remove:{particles_nb:2}}},retina_detect:!0}},function(t,e,n){!function(e,n){t.exports=n()}(0,function(){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=3)}([function(t,e,n){var i,r,o;!function(a,s){r=[t,n(7)],i=s,void 0!==(o="function"===typeof i?i.apply(e,r):i)&&(t.exports=o)}(0,function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(t){return t&&t.__esModule?t:{default:t}}(e),r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),a=function(){function t(e){n(this,t),this.resolveOptions(e),this.initSelection()}return o(t,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=t.action,this.container=t.container,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var t=this,e="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return t.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[e?"right":"left"]="-9999px";var n=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=n+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,i.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,i.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var t=void 0;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)}},{key:"handleResult",value:function(t){this.emitter.emit(t?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=t,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(t){if(void 0!==t){if(!t||"object"!==("undefined"===typeof t?"undefined":r(t))||1!==t.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(t.hasAttribute("readonly")||t.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=t}},get:function(){return this._target}}]),t}();t.exports=a})},function(t,e,n){function i(t,e,n){if(!t&&!e&&!n)throw new Error("Missing required arguments");if(!s.string(e))throw new TypeError("Second argument must be a String");if(!s.fn(n))throw new TypeError("Third argument must be a Function");if(s.node(t))return r(t,e,n);if(s.nodeList(t))return o(t,e,n);if(s.string(t))return a(t,e,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function r(t,e,n){return t.addEventListener(e,n),{destroy:function(){t.removeEventListener(e,n)}}}function o(t,e,n){return Array.prototype.forEach.call(t,function(t){t.addEventListener(e,n)}),{destroy:function(){Array.prototype.forEach.call(t,function(t){t.removeEventListener(e,n)})}}}function a(t,e,n){return l(document.body,t,e,n)}var s=n(6),l=n(5);t.exports=i},function(t,e){function n(){}n.prototype={on:function(t,e,n){var i=this.e||(this.e={});return(i[t]||(i[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){function i(){r.off(t,i),e.apply(n,arguments)}var r=this;return i._=e,this.on(t,i,n)},emit:function(t){var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),i=0,r=n.length;for(i;i<r;i++)n[i].fn.apply(n[i].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),i=n[t],r=[];if(i&&e)for(var o=0,a=i.length;o<a;o++)i[o].fn!==e&&i[o].fn._!==e&&r.push(i[o]);return r.length?n[t]=r:delete n[t],this}},t.exports=n},function(t,e,n){var i,r,o;!function(a,s){r=[t,n(0),n(2),n(1)],i=s,void 0!==(o="function"===typeof i?i.apply(e,r):i)&&(t.exports=o)}(0,function(t,e,n,i){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function s(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t,e){var n="data-clipboard-"+t;if(e.hasAttribute(n))return e.getAttribute(n)}var u=r(e),c=r(n),h=r(i),p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),f=function(t){function e(t,n){o(this,e);var i=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return i.resolveOptions(n),i.listenClick(t),i}return s(e,t),d(e,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"===typeof t.action?t.action:this.defaultAction,this.target="function"===typeof t.target?t.target:this.defaultTarget,this.text="function"===typeof t.text?t.text:this.defaultText,this.container="object"===p(t.container)?t.container:document.body}},{key:"listenClick",value:function(t){var e=this;this.listener=(0,h.default)(t,"click",function(t){return e.onClick(t)})}},{key:"onClick",value:function(t){var e=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new u.default({action:this.action(e),target:this.target(e),text:this.text(e),container:this.container,trigger:e,emitter:this})}},{key:"defaultAction",value:function(t){return l("action",t)}},{key:"defaultTarget",value:function(t){var e=l("target",t);if(e)return document.querySelector(e)}},{key:"defaultText",value:function(t){return l("text",t)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],e="string"===typeof t?[t]:t,n=!!document.queryCommandSupported;return e.forEach(function(t){n=n&&!!document.queryCommandSupported(t)}),n}}]),e}(c.default);t.exports=f})},function(t,e){function n(t,e){for(;t&&t.nodeType!==i;){if("function"===typeof t.matches&&t.matches(e))return t;t=t.parentNode}}var i=9;if("undefined"!==typeof Element&&!Element.prototype.matches){var r=Element.prototype;r.matches=r.matchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector||r.webkitMatchesSelector}t.exports=n},function(t,e,n){function i(t,e,n,i,r){var a=o.apply(this,arguments);return t.addEventListener(n,a,r),{destroy:function(){t.removeEventListener(n,a,r)}}}function r(t,e,n,r,o){return"function"===typeof t.addEventListener?i.apply(null,arguments):"function"===typeof n?i.bind(null,document).apply(null,arguments):("string"===typeof t&&(t=document.querySelectorAll(t)),Array.prototype.map.call(t,function(t){return i(t,e,n,r,o)}))}function o(t,e,n,i){return function(n){n.delegateTarget=a(n.target,e),n.delegateTarget&&i.call(t,n)}}var a=n(4);t.exports=r},function(t,e){e.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},e.nodeList=function(t){var n=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in t&&(0===t.length||e.node(t[0]))},e.string=function(t){return"string"===typeof t||t instanceof String},e.fn=function(t){return"[object Function]"===Object.prototype.toString.call(t)}},function(t,e){function n(t){var e;if("SELECT"===t.nodeName)t.focus(),e=t.value;else if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName){var n=t.hasAttribute("readonly");n||t.setAttribute("readonly",""),t.select(),t.setSelectionRange(0,t.value.length),n||t.removeAttribute("readonly"),e=t.value}else{t.hasAttribute("contenteditable")&&t.focus();var i=window.getSelection(),r=document.createRange();r.selectNodeContents(t),i.removeAllRanges(),i.addRange(r),e=i.toString()}return e}t.exports=n}])})},function(t,e,n){"use strict";var i=n(9),r=n.n(i),o=n(3);n.n(o);e.a=function(){document.querySelectorAll(".linkedin-action").forEach(function(t){var e=t.querySelector("form"),n=t.querySelector("button"),i=t.querySelector("input"),o=e.getAttribute("action");e.addEventListener("submit",function(a){var s=n.querySelector("i").innerHTML;n.querySelector("i").innerHTML="<div uk-spinner></div>",a.preventDefault(),r()({method:"post",url:o,data:{profile:i.value},config:{headers:{"Content-Type":"multipart/form-data"}}}).then(function(i){n.querySelector("i").innerHTML=s;var r=document.createElement("div");r.className="success-note";var o=document.createTextNode("Thank you for your interest in GBM! We will review your resume and get back to you as quickly as possible. ");r.appendChild(o),e.parentElement.parentElement.parentElement.appendChild(r),setTimeout(function(){r.remove()},5e3),t.classList.remove("linkedin-active")}).catch(function(i){n.querySelector("i").innerHTML=s;var r=document.createElement("div");r.className="error-note";var o=document.createTextNode("Sorry, Something went wrong, Please try again");r.appendChild(o),e.parentElement.parentElement.parentElement.appendChild(r),setTimeout(function(){r.remove()},5e3),t.classList.remove("linkedin-active")})},!1)})}},function(t,e,n){"use strict";function i(t){var e=new a(t),n=o(a.prototype.request,e);return r.extend(n,a.prototype,e),r.extend(n,e),n}var r=n(0),o=n(10),a=n(37),s=n(5),l=i(s);l.Axios=a,l.create=function(t){return i(r.merge(s,t))},l.Cancel=n(14),l.CancelToken=n(51),l.isCancel=n(13),l.all=function(t){return Promise.all(t)},l.spread=n(52),t.exports=l,t.exports.default=l},function(t,e){function n(t){return!!t.constructor&&"function"===typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function i(t){return"function"===typeof t.readFloatLE&&"function"===typeof t.slice&&n(t.slice(0,0))}t.exports=function(t){return null!=t&&(n(t)||i(t)||!!t._isBuffer)}},function(t,e,n){"use strict";function i(t){this.defaults=t,this.interceptors={request:new a,response:new a}}var r=n(5),o=n(0),a=n(46),s=n(47);i.prototype.request=function(t){"string"===typeof t&&(t=o.merge({url:arguments[0]},arguments[1])),t=o.merge(r,this.defaults,{method:"get"},t),t.method=t.method.toLowerCase();var e=[s,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){e.push(t.fulfilled,t.rejected)});e.length;)n=n.then(e.shift(),e.shift());return n},o.forEach(["delete","get","head","options"],function(t){i.prototype[t]=function(e,n){return this.request(o.merge(n||{},{method:t,url:e}))}}),o.forEach(["post","put","patch"],function(t){i.prototype[t]=function(e,n,i){return this.request(o.merge(i||{},{method:t,url:e,data:n}))}}),t.exports=i},function(t,e,n){"use strict";var i=n(0);t.exports=function(t,e){i.forEach(t,function(n,i){i!==e&&i.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[i])})}},function(t,e,n){"use strict";var i=n(12);t.exports=function(t,e,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?e(i("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)}},function(t,e,n){"use strict";t.exports=function(t,e,n,i,r){return t.config=e,n&&(t.code=n),t.request=i,t.response=r,t}},function(t,e,n){"use strict";function i(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var r=n(0);t.exports=function(t,e,n){if(!e)return t;var o;if(n)o=n(e);else if(r.isURLSearchParams(e))o=e.toString();else{var a=[];r.forEach(e,function(t,e){null!==t&&"undefined"!==typeof t&&(r.isArray(t)&&(e+="[]"),r.isArray(t)||(t=[t]),r.forEach(t,function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),a.push(i(e)+"="+i(t))}))}),o=a.join("&")}return o&&(t+=(-1===t.indexOf("?")?"?":"&")+o),t}},function(t,e,n){"use strict";var i=n(0),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,o,a={};return t?(i.forEach(t.split("\n"),function(t){if(o=t.indexOf(":"),e=i.trim(t.substr(0,o)).toLowerCase(),n=i.trim(t.substr(o+1)),e){if(a[e]&&r.indexOf(e)>=0)return;a[e]="set-cookie"===e?(a[e]?a[e]:[]).concat([n]):a[e]?a[e]+", "+n:n}}),a):a}},function(t,e,n){"use strict";var i=n(0);t.exports=i.isStandardBrowserEnv()?function(){function t(t){var e=t;return n&&(r.setAttribute("href",e),e=r.href),r.setAttribute("href",e),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}var e,n=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");return e=t(window.location.href),function(n){var r=i.isString(n)?t(n):n;return r.protocol===e.protocol&&r.host===e.host}}():function(){return function(){return!0}}()},function(t,e,n){"use strict";function i(){this.message="String contains an invalid character"}function r(t){for(var e,n,r=String(t),a="",s=0,l=o;r.charAt(0|s)||(l="=",s%1);a+=l.charAt(63&e>>8-s%1*8)){if((n=r.charCodeAt(s+=.75))>255)throw new i;e=e<<8|n}return a}var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.prototype=new Error,i.prototype.code=5,i.prototype.name="InvalidCharacterError",t.exports=r},function(t,e,n){"use strict";var i=n(0);t.exports=i.isStandardBrowserEnv()?function(){return{write:function(t,e,n,r,o,a){var s=[];s.push(t+"="+encodeURIComponent(e)),i.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),i.isString(r)&&s.push("path="+r),i.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},function(t,e,n){"use strict";function i(){this.handlers=[]}var r=n(0);i.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},i.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},i.prototype.forEach=function(t){r.forEach(this.handlers,function(e){null!==e&&t(e)})},t.exports=i},function(t,e,n){"use strict";function i(t){t.cancelToken&&t.cancelToken.throwIfRequested()}var r=n(0),o=n(48),a=n(13),s=n(5),l=n(49),u=n(50);t.exports=function(t){return i(t),t.baseURL&&!l(t.url)&&(t.url=u(t.baseURL,t.url)),t.headers=t.headers||{},t.data=o(t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]}),(t.adapter||s.adapter)(t).then(function(e){return i(t),e.data=o(e.data,e.headers,t.transformResponse),e},function(e){return a(e)||(i(t),e&&e.response&&(e.response.data=o(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}},function(t,e,n){"use strict";var i=n(0);t.exports=function(t,e,n){return i.forEach(n,function(n){t=n(t,e)}),t}},function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,n){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,n){"use strict";function i(t){if("function"!==typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var n=this;t(function(t){n.reason||(n.reason=new r(t),e(n.reason))})}var r=n(14);i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var t;return{token:new i(function(e){t=e}),cancel:t}},t.exports=i},function(t,e,n){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},function(t,e,n){"use strict";var i,r;!function(){function n(t){if("undefined"===typeof t)throw new Error('Pathformer [constructor]: "element" parameter is required');if(t.constructor===String&&!(t=document.getElementById(t)))throw new Error('Pathformer [constructor]: "element" parameter is not related to an existing ID');if(!(t instanceof window.SVGElement||t instanceof window.SVGGElement||/^svg$/i.test(t.nodeName)))throw new Error('Pathformer [constructor]: "element" parameter must be a string or a SVGelement');this.el=t,this.scan(t)}function o(t,e,n){a(),this.isReady=!1,this.setElement(t,e),this.setOptions(e),this.setCallback(n),this.isReady&&this.init()}n.prototype.TYPES=["line","ellipse","circle","polygon","polyline","rect"],n.prototype.ATTR_WATCH=["cx","cy","points","r","rx","ry","x","x1","x2","y","y1","y2"],n.prototype.scan=function(t){for(var e,n,i,r,o=t.querySelectorAll(this.TYPES.join(",")),a=0;a<o.length;a++)n=o[a],e=this[n.tagName.toLowerCase()+"ToPath"],i=e(this.parseAttr(n.attributes)),r=this.pathMaker(n,i),n.parentNode.replaceChild(r,n)},n.prototype.lineToPath=function(t){var e={},n=t.x1||0,i=t.y1||0,r=t.x2||0,o=t.y2||0;return e.d="M"+n+","+i+"L"+r+","+o,e},n.prototype.rectToPath=function(t){var e={},n=parseFloat(t.x)||0,i=parseFloat(t.y)||0,r=parseFloat(t.width)||0,o=parseFloat(t.height)||0;if(t.rx||t.ry){var a=parseInt(t.rx,10)||-1,s=parseInt(t.ry,10)||-1;a=Math.min(Math.max(a<0?s:a,0),r/2),s=Math.min(Math.max(s<0?a:s,0),o/2),e.d="M "+(n+a)+","+i+" L "+(n+r-a)+","+i+" A "+a+","+s+",0,0,1,"+(n+r)+","+(i+s)+" L "+(n+r)+","+(i+o-s)+" A "+a+","+s+",0,0,1,"+(n+r-a)+","+(i+o)+" L "+(n+a)+","+(i+o)+" A "+a+","+s+",0,0,1,"+n+","+(i+o-s)+" L "+n+","+(i+s)+" A "+a+","+s+",0,0,1,"+(n+a)+","+i}else e.d="M"+n+" "+i+" L"+(n+r)+" "+i+" L"+(n+r)+" "+(i+o)+" L"+n+" "+(i+o)+" Z";return e},n.prototype.polylineToPath=function(t){var e,n,i={},r=t.points.trim().split(" ");if(-1===t.points.indexOf(",")){var o=[];for(e=0;e<r.length;e+=2)o.push(r[e]+","+r[e+1]);r=o}for(n="M"+r[0],e=1;e<r.length;e++)-1!==r[e].indexOf(",")&&(n+="L"+r[e]);return i.d=n,i},n.prototype.polygonToPath=function(t){var e=n.prototype.polylineToPath(t);return e.d+="Z",e},n.prototype.ellipseToPath=function(t){var e={},n=parseFloat(t.rx)||0,i=parseFloat(t.ry)||0,r=parseFloat(t.cx)||0,o=parseFloat(t.cy)||0,a=r-n,s=o,l=parseFloat(r)+parseFloat(n),u=o;return e.d="M"+a+","+s+"A"+n+","+i+" 0,1,1 "+l+","+u+"A"+n+","+i+" 0,1,1 "+a+","+u,e},n.prototype.circleToPath=function(t){var e={},n=parseFloat(t.r)||0,i=parseFloat(t.cx)||0,r=parseFloat(t.cy)||0,o=i-n,a=r,s=parseFloat(i)+parseFloat(n),l=r;return e.d="M"+o+","+a+"A"+n+","+n+" 0,1,1 "+s+","+l+"A"+n+","+n+" 0,1,1 "+o+","+l,e},n.prototype.pathMaker=function(t,e){var n,i,r=document.createElementNS("http://www.w3.org/2000/svg","path");for(n=0;n<t.attributes.length;n++)i=t.attributes[n],-1===this.ATTR_WATCH.indexOf(i.name)&&r.setAttribute(i.name,i.value);for(n in e)r.setAttribute(n,e[n]);return r},n.prototype.parseAttr=function(t){for(var e,n={},i=0;i<t.length;i++){if(e=t[i],-1!==this.ATTR_WATCH.indexOf(e.name)&&-1!==e.value.indexOf("%"))throw new Error("Pathformer [parseAttr]: a SVG shape got values in percentage. This cannot be transformed into 'path' tags. Please use 'viewBox'.");n[e.name]=e.value}return n};var a,s,l,u;o.LINEAR=function(t){return t},o.EASE=function(t){return-Math.cos(t*Math.PI)/2+.5},o.EASE_OUT=function(t){return 1-Math.pow(1-t,3)},o.EASE_IN=function(t){return Math.pow(t,3)},o.EASE_OUT_BOUNCE=function(t){var e=1-Math.cos(t*(.5*Math.PI)),n=Math.pow(e,1.5),i=Math.pow(1-t,2);return 1-i+(1-Math.abs(Math.cos(n*(2.5*Math.PI))))*i},o.prototype.setElement=function(t,e){var n,i;if("undefined"===typeof t)throw new Error('Vivus [constructor]: "element" parameter is required');if(t.constructor===String&&!(t=document.getElementById(t)))throw new Error('Vivus [constructor]: "element" parameter is not related to an existing ID');if(this.parentEl=t,e&&e.file){var i=this;n=function(t){var n=document.createElement("div");n.innerHTML=this.responseText;var r=n.querySelector("svg");if(!r)throw new Error("Vivus [load]: Cannot find the SVG in the loaded file : "+e.file);i.el=r,i.el.setAttribute("width","100%"),i.el.setAttribute("height","100%"),i.parentEl.appendChild(i.el),i.isReady=!0,i.init(),i=null};var r=new window.XMLHttpRequest;return r.addEventListener("load",n),r.open("GET",e.file),void r.send()}switch(t.constructor){case window.SVGSVGElement:case window.SVGElement:case window.SVGGElement:this.el=t,this.isReady=!0;break;case window.HTMLObjectElement:i=this,n=function(e){if(!i.isReady){if(i.el=t.contentDocument&&t.contentDocument.querySelector("svg"),!i.el&&e)throw new Error("Vivus [constructor]: object loaded does not contain any SVG");i.el&&(t.getAttribute("built-by-vivus")&&(i.parentEl.insertBefore(i.el,t),i.parentEl.removeChild(t),i.el.setAttribute("width","100%"),i.el.setAttribute("height","100%")),i.isReady=!0,i.init(),i=null)}},n()||t.addEventListener("load",n);break;default:throw new Error('Vivus [constructor]: "element" parameter is not valid (or miss the "file" attribute)')}},o.prototype.setOptions=function(t){var e=["delayed","sync","async","nsync","oneByOne","scenario","scenario-sync"],n=["inViewport","manual","autostart"];if(void 0!==t&&t.constructor!==Object)throw new Error('Vivus [constructor]: "options" parameter must be an object');if(t=t||{},t.type&&-1===e.indexOf(t.type))throw new Error("Vivus [constructor]: "+t.type+" is not an existing animation `type`");if(this.type=t.type||e[0],t.start&&-1===n.indexOf(t.start))throw new Error("Vivus [constructor]: "+t.start+" is not an existing `start` option");if(this.start=t.start||n[0],this.isIE=-1!==window.navigator.userAgent.indexOf("MSIE")||-1!==window.navigator.userAgent.indexOf("Trident/")||-1!==window.navigator.userAgent.indexOf("Edge/"),this.duration=u(t.duration,120),this.delay=u(t.delay,null),this.dashGap=u(t.dashGap,1),this.forceRender=t.hasOwnProperty("forceRender")?!!t.forceRender:this.isIE,this.reverseStack=!!t.reverseStack,this.selfDestroy=!!t.selfDestroy,this.onReady=t.onReady,this.map=[],this.frameLength=this.currentFrame=this.delayUnit=this.speed=this.handle=null,this.ignoreInvisible=!!t.hasOwnProperty("ignoreInvisible")&&!!t.ignoreInvisible,this.animTimingFunction=t.animTimingFunction||o.LINEAR,this.pathTimingFunction=t.pathTimingFunction||o.LINEAR,this.delay>=this.duration)throw new Error("Vivus [constructor]: delay must be shorter than duration")},o.prototype.setCallback=function(t){if(t&&t.constructor!==Function)throw new Error('Vivus [constructor]: "callback" parameter must be a function');this.callback=t||function(){}},o.prototype.mapping=function(){var t,e,n,i,r,o,a,s;for(s=o=a=0,e=this.el.querySelectorAll("path"),t=0;t<e.length;t++)n=e[t],this.isInvisible(n)||(r={el:n,length:Math.ceil(n.getTotalLength())},isNaN(r.length)?window.console&&console.warn&&console.warn("Vivus [mapping]: cannot retrieve a path element length",n):(this.map.push(r),n.style.strokeDasharray=r.length+" "+(r.length+2*this.dashGap),n.style.strokeDashoffset=r.length+this.dashGap,r.length+=this.dashGap,o+=r.length,this.renderPath(t)));for(o=0===o?1:o,this.delay=null===this.delay?this.duration/3:this.delay,this.delayUnit=this.delay/(e.length>1?e.length-1:1),this.reverseStack&&this.map.reverse(),t=0;t<this.map.length;t++){switch(r=this.map[t],this.type){case"delayed":r.startAt=this.delayUnit*t,r.duration=this.duration-this.delay;break;case"oneByOne":r.startAt=a/o*this.duration,r.duration=r.length/o*this.duration;break;case"sync":case"async":case"nsync":r.startAt=0,r.duration=this.duration;break;case"scenario-sync":n=r.el,i=this.parseAttr(n),r.startAt=s+(u(i["data-delay"],this.delayUnit)||0),r.duration=u(i["data-duration"],this.duration),s=void 0!==i["data-async"]?r.startAt:r.startAt+r.duration,this.frameLength=Math.max(this.frameLength,r.startAt+r.duration);break;case"scenario":n=r.el,i=this.parseAttr(n),r.startAt=u(i["data-start"],this.delayUnit)||0,r.duration=u(i["data-duration"],this.duration),this.frameLength=Math.max(this.frameLength,r.startAt+r.duration)}a+=r.length,this.frameLength=this.frameLength||this.duration}},o.prototype.drawer=function(){var t=this;if(this.currentFrame+=this.speed,this.currentFrame<=0)this.stop(),this.reset();else{if(!(this.currentFrame>=this.frameLength))return this.trace(),void(this.handle=s(function(){t.drawer()}));this.stop(),this.currentFrame=this.frameLength,this.trace(),this.selfDestroy&&this.destroy()}this.callback(this),this.instanceCallback&&(this.instanceCallback(this),this.instanceCallback=null)},o.prototype.trace=function(){var t,e,n,i;for(i=this.animTimingFunction(this.currentFrame/this.frameLength)*this.frameLength,t=0;t<this.map.length;t++)n=this.map[t],e=(i-n.startAt)/n.duration,e=this.pathTimingFunction(Math.max(0,Math.min(1,e))),n.progress!==e&&(n.progress=e,n.el.style.strokeDashoffset=Math.floor(n.length*(1-e)),this.renderPath(t))},o.prototype.renderPath=function(t){if(this.forceRender&&this.map&&this.map[t]){var e=this.map[t],n=e.el.cloneNode(!0);e.el.parentNode.replaceChild(n,e.el),e.el=n}},o.prototype.init=function(){this.frameLength=0,this.currentFrame=0,this.map=[],new n(this.el),this.mapping(),this.starter(),this.onReady&&this.onReady(this)},o.prototype.starter=function(){switch(this.start){case"manual":return;case"autostart":this.play();break;case"inViewport":var t=this,e=function(){t.isInViewport(t.parentEl,1)&&(t.play(),window.removeEventListener("scroll",e))};window.addEventListener("scroll",e),e()}},o.prototype.getStatus=function(){return 0===this.currentFrame?"start":this.currentFrame===this.frameLength?"end":"progress"},o.prototype.reset=function(){return this.setFrameProgress(0)},o.prototype.finish=function(){return this.setFrameProgress(1)},o.prototype.setFrameProgress=function(t){return t=Math.min(1,Math.max(0,t)),this.currentFrame=Math.round(this.frameLength*t),this.trace(),this},o.prototype.play=function(t,e){if(this.instanceCallback=null,t&&"function"===typeof t)this.instanceCallback=t,t=null;else if(t&&"number"!==typeof t)throw new Error("Vivus [play]: invalid speed");return e&&"function"===typeof e&&!this.instanceCallback&&(this.instanceCallback=e),this.speed=t||1,this.handle||this.drawer(),this},o.prototype.stop=function(){return this.handle&&(l(this.handle),this.handle=null),this},o.prototype.destroy=function(){this.stop();var t,e;for(t=0;t<this.map.length;t++)e=this.map[t],e.el.style.strokeDashoffset=null,e.el.style.strokeDasharray=null,this.renderPath(t)},o.prototype.isInvisible=function(t){var e,n=t.getAttribute("data-ignore");return null!==n?"false"!==n:!!this.ignoreInvisible&&(e=t.getBoundingClientRect(),!e.width&&!e.height)},o.prototype.parseAttr=function(t){var e,n={};if(t&&t.attributes)for(var i=0;i<t.attributes.length;i++)e=t.attributes[i],n[e.name]=e.value;return n},o.prototype.isInViewport=function(t,e){var n=this.scrollY(),i=n+this.getViewportH(),r=t.getBoundingClientRect(),o=r.height,a=n+r.top,s=a+o;return e=e||0,a+o*e<=i&&s>=n},o.prototype.getViewportH=function(){var t=this.docElem.clientHeight,e=window.innerHeight;return t<e?e:t},o.prototype.scrollY=function(){return window.pageYOffset||this.docElem.scrollTop},a=function(){o.prototype.docElem||(o.prototype.docElem=window.document.documentElement,s=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)}}(),l=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(t){return window.clearTimeout(t)}}())},u=function(t,e){var n=parseInt(t,10);return n>=0?n:e},i=[],void 0!==(r=function(){return o}.apply(e,i))&&(t.exports=r)}()},function(t,e,n){function i(t,e,n){var i=document.body,r=document.documentElement,o=t.getBoundingClientRect(),a=r.clientHeight,s=Math.max(i.scrollHeight,i.offsetHeight,r.clientHeight,r.scrollHeight,r.offsetHeight);e=e||0;var l;l="bottom"===n?o.bottom-a:"middle"===n?o.bottom-a/2-o.height/2:o.top;var u=s-a;return Math.min(l+e+window.pageYOffset,u)}var r=n(55);t.exports=function(t,e){if(e=e||{},"string"===typeof t&&(t=document.querySelector(t)),t)return r(0,i(t,e.offset,e.align),e)}},function(t,e,n){function i(){return{top:window.pageYOffset||document.documentElement.scrollTop,left:window.pageXOffset||document.documentElement.scrollLeft}}function r(t,e,n){function r(){a(r),l.update()}n=n||{};var s=i(),l=o(s).ease(n.ease||"out-circ").to({top:e,left:t}).duration(n.duration||1e3);return l.update(function(t){window.scrollTo(0|t.left,0|t.top)}),l.on("end",function(){r=function(){}}),r(),l}var o=n(56),a=n(59);t.exports=r},function(t,e,n){function i(t){if(!(this instanceof i))return new i(t);this._from=t,this.ease("linear"),this.duration(500)}var r=n(57);n(58)(i.prototype),i.prototype.reset=function(){return this.isArray="[object Array]"===Object.prototype.toString.call(this._from),this._curr=Object.assign({},this._from),this._done=!1,this._start=Date.now(),this},i.prototype.to=function(t){return this.reset(),this._to=t,this},i.prototype.duration=function(t){return this._duration=t,this},i.prototype.ease=function(t){if(!(t="function"==typeof t?t:r[t]))throw new TypeError("invalid easing function");return this._ease=t,this},i.prototype.stop=function(){return this.stopped=!0,this._done=!0,this.emit("stop"),this.emit("end"),this},i.prototype.step=function(){if(!this._done){var t=this._duration,e=Date.now();if(e-this._start>=t)return this._from=this._to,this._update(this._to),this._done=!0,this.emit("end"),this;var n=this._from,i=this._to,r=this._curr,o=this._ease,a=(e-this._start)/t,s=o(a);if(this.isArray){for(var l=0;l<n.length;++l)r[l]=n[l]+(i[l]-n[l])*s;return this._update(r),this}for(var u in n)r[u]=n[u]+(i[u]-n[u])*s;return this._update(r),this}},i.prototype.update=function(t){return 0==arguments.length?this.step():(this._update=t,this)},t.exports=i},function(t,e){e.linear=function(t){return t},e.inQuad=function(t){return t*t},e.outQuad=function(t){return t*(2-t)},e.inOutQuad=function(t){return t*=2,t<1?.5*t*t:-.5*(--t*(t-2)-1)},e.inCube=function(t){return t*t*t},e.outCube=function(t){return--t*t*t+1},e.inOutCube=function(t){return t*=2,t<1?.5*t*t*t:.5*((t-=2)*t*t+2)},e.inQuart=function(t){return t*t*t*t},e.outQuart=function(t){return 1- --t*t*t*t},e.inOutQuart=function(t){return t*=2,t<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},e.inQuint=function(t){return t*t*t*t*t},e.outQuint=function(t){return--t*t*t*t*t+1},e.inOutQuint=function(t){return t*=2,t<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},e.inSine=function(t){return 1-Math.cos(t*Math.PI/2)},e.outSine=function(t){return Math.sin(t*Math.PI/2)},e.inOutSine=function(t){return.5*(1-Math.cos(Math.PI*t))},e.inExpo=function(t){return 0==t?0:Math.pow(1024,t-1)},e.outExpo=function(t){return 1==t?t:1-Math.pow(2,-10*t)},e.inOutExpo=function(t){return 0==t?0:1==t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))},e.inCirc=function(t){return 1-Math.sqrt(1-t*t)},e.outCirc=function(t){return Math.sqrt(1- --t*t)},e.inOutCirc=function(t){return t*=2,t<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},e.inBack=function(t){var e=1.70158;return t*t*((e+1)*t-e)},e.outBack=function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},e.inOutBack=function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)},e.inBounce=function(t){return 1-e.outBounce(1-t)},e.outBounce=function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},e.inOutBounce=function(t){return t<.5?.5*e.inBounce(2*t):.5*e.outBounce(2*t-1)+.5},e.inElastic=function(t){var e,n=.1;return 0===t?0:1===t?1:(!n||n<1?(n=1,e=.1):e=.4*Math.asin(1/n)/(2*Math.PI),-n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4))},e.outElastic=function(t){var e,n=.1;return 0===t?0:1===t?1:(!n||n<1?(n=1,e=.1):e=.4*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/.4)+1)},e.inOutElastic=function(t){var e,n=.1;return 0===t?0:1===t?1:(!n||n<1?(n=1,e=.1):e=.4*Math.asin(1/n)/(2*Math.PI),(t*=2)<1?n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4)*-.5:n*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4)*.5+1)},e["in-quad"]=e.inQuad,e["out-quad"]=e.outQuad,e["in-out-quad"]=e.inOutQuad,e["in-cube"]=e.inCube,e["out-cube"]=e.outCube,e["in-out-cube"]=e.inOutCube,e["in-quart"]=e.inQuart,e["out-quart"]=e.outQuart,e["in-out-quart"]=e.inOutQuart,e["in-quint"]=e.inQuint,e["out-quint"]=e.outQuint,e["in-out-quint"]=e.inOutQuint,e["in-sine"]=e.inSine,e["out-sine"]=e.outSine,e["in-out-sine"]=e.inOutSine,e["in-expo"]=e.inExpo,e["out-expo"]=e.outExpo,e["in-out-expo"]=e.inOutExpo,e["in-circ"]=e.inCirc,e["out-circ"]=e.outCirc,e["in-out-circ"]=e.inOutCirc,e["in-back"]=e.inBack,e["out-back"]=e.outBack,e["in-out-back"]=e.inOutBack,e["in-bounce"]=e.inBounce,e["out-bounce"]=e.outBounce,e["in-out-bounce"]=e.inOutBounce,e["in-elastic"]=e.inElastic,e["out-elastic"]=e.outElastic,e["in-out-elastic"]=e.inOutElastic},function(t,e,n){function i(t){if(t)return r(t)}function r(t){for(var e in i.prototype)t[e]=i.prototype[e];return t}i.prototype.on=i.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},i.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var i,r=0;r<n.length;r++)if((i=n[r])===e||i.fn===e){n.splice(r,1);break}return 0===n.length&&delete this._callbacks["$"+t],this},i.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks["$"+t];if(n){n=n.slice(0);for(var i=0,r=n.length;i<r;++i)n[i].apply(this,e)}return this},i.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},i.prototype.hasListeners=function(t){return!!this.listeners(t).length},t.exports=i},function(t,e,n){(function(e){for(var i=n(60),r="undefined"===typeof window?e:window,o=["moz","webkit"],a="AnimationFrame",s=r["request"+a],l=r["cancel"+a]||r["cancelRequest"+a],u=0;!s&&u<o.length;u++)s=r[o[u]+"Request"+a],l=r[o[u]+"Cancel"+a]||r[o[u]+"CancelRequest"+a];if(!s||!l){var c=0,h=0,p=[];s=function(t){if(0===p.length){var e=i(),n=Math.max(0,1e3/60-(e-c));c=n+e,setTimeout(function(){var t=p.slice(0);p.length=0;for(var e=0;e<t.length;e++)if(!t[e].cancelled)try{t[e].callback(c)}catch(t){setTimeout(function(){throw t},0)}},Math.round(n))}return p.push({handle:++h,callback:t,cancelled:!1}),h},l=function(t){for(var e=0;e<p.length;e++)p[e].handle===t&&(p[e].cancelled=!0)}}t.exports=function(t){return s.call(r,t)},t.exports.cancel=function(){l.apply(r,arguments)},t.exports.polyfill=function(t){t||(t=r),t.requestAnimationFrame=s,t.cancelAnimationFrame=l}}).call(e,n(2))},function(t,e,n){(function(e){(function(){var n,i,r,o,a,s;"undefined"!==typeof performance&&null!==performance&&performance.now?t.exports=function(){return performance.now()}:"undefined"!==typeof e&&null!==e&&e.hrtime?(t.exports=function(){return(n()-a)/1e6},i=e.hrtime,n=function(){var t;return t=i(),1e9*t[0]+t[1]},o=n(),s=1e9*e.uptime(),a=o-s):Date.now?(t.exports=function(){return Date.now()-r},r=Date.now()):(t.exports=function(){return(new Date).getTime()-r},r=(new Date).getTime())}).call(this)}).call(e,n(4))},function(t,e,n){"use strict";var i=n(62),r=(n.n(i),n(63)),o=(n.n(r),n(64));n.n(o)},function(t,e,n){(function(t){(function(t,e,i){"use strict";var r=function(t,e,n){n=o.extend({},o.options,n);var i=o.runValidations(t,e,n);if(i.some(function(t){return o.isPromise(t.error)}))throw new Error("Use validate.async if you want support for promises");return r.processValidationResults(i,n)},o=r;o.extend=function(t){return[].slice.call(arguments,1).forEach(function(e){for(var n in e)t[n]=e[n]}),t},o.extend(r,{version:{major:0,minor:12,patch:0,metadata:null,toString:function(){var t=o.format("%{major}.%{minor}.%{patch}",o.version);return o.isEmpty(o.version.metadata)||(t+="+"+o.version.metadata),t}},Promise:"undefined"!==typeof Promise?Promise:null,EMPTY_STRING_REGEXP:/^\s*$/,runValidations:function(t,e,n){var i,r,a,s,l,u,c,h=[];(o.isDomElement(t)||o.isJqueryElement(t))&&(t=o.collectFormValues(t));for(i in e){a=o.getDeepObjectValue(t,i),s=o.result(e[i],a,t,i,n,e);for(r in s){if(!(l=o.validators[r]))throw c=o.format("Unknown validator %{name}",{name:r}),new Error(c);u=s[r],u=o.result(u,a,t,i,n,e),u&&h.push({attribute:i,value:a,validator:r,globalOptions:n,attributes:t,options:u,error:l.call(l,a,u,i,t,n)})}}return h},processValidationResults:function(t,e){t=o.pruneEmptyErrors(t,e),t=o.expandMultipleErrors(t,e),t=o.convertErrorMessages(t,e);var n=e.format||"grouped";if("function"!==typeof o.formatters[n])throw new Error(o.format("Unknown format %{format}",e));return t=o.formatters[n](t),o.isEmpty(t)?void 0:t},async:function(t,e,n){n=o.extend({},o.async.options,n);var i=n.wrapErrors||function(t){return t};!1!==n.cleanAttributes&&(t=o.cleanAttributes(t,e));var r=o.runValidations(t,e,n);return new o.Promise(function(a,s){o.waitForResults(r).then(function(){var l=o.processValidationResults(r,n);l?s(new i(l,n,t,e)):a(t)},function(t){s(t)})})},single:function(t,e,n){return n=o.extend({},o.single.options,n,{format:"flat",fullMessages:!1}),o({single:t},{single:e},n)},waitForResults:function(t){return t.reduce(function(t,e){return o.isPromise(e.error)?t.then(function(){return e.error.then(function(t){e.error=t||null})}):t},new o.Promise(function(t){t()}))},result:function(t){var e=[].slice.call(arguments,1);return"function"===typeof t&&(t=t.apply(null,e)),t},isNumber:function(t){return"number"===typeof t&&!isNaN(t)},isFunction:function(t){return"function"===typeof t},isInteger:function(t){return o.isNumber(t)&&t%1===0},isBoolean:function(t){return"boolean"===typeof t},isObject:function(t){return t===Object(t)},isDate:function(t){return t instanceof Date},isDefined:function(t){return null!==t&&void 0!==t},isPromise:function(t){return!!t&&o.isFunction(t.then)},isJqueryElement:function(t){return t&&o.isString(t.jquery)},isDomElement:function(t){return!!t&&(!(!t.querySelectorAll||!t.querySelector)&&(!(!o.isObject(document)||t!==document)||("object"===typeof HTMLElement?t instanceof HTMLElement:t&&"object"===typeof t&&null!==t&&1===t.nodeType&&"string"===typeof t.nodeName)))},isEmpty:function(t){var e;if(!o.isDefined(t))return!0;if(o.isFunction(t))return!1;if(o.isString(t))return o.EMPTY_STRING_REGEXP.test(t);if(o.isArray(t))return 0===t.length;if(o.isDate(t))return!1;if(o.isObject(t)){for(e in t)return!1;return!0}return!1},format:o.extend(function(t,e){return o.isString(t)?t.replace(o.format.FORMAT_REGEXP,function(t,n,i){return"%"===n?"%{"+i+"}":String(e[i])}):t},{FORMAT_REGEXP:/(%?)%\{([^\}]+)\}/g}),prettify:function(t){return o.isNumber(t)?100*t%1===0?""+t:parseFloat(Math.round(100*t)/100).toFixed(2):o.isArray(t)?t.map(function(t){return o.prettify(t)}).join(", "):o.isObject(t)?t.toString():(t=""+t,t.replace(/([^\s])\.([^\s])/g,"$1 $2").replace(/\\+/g,"").replace(/[_-]/g," ").replace(/([a-z])([A-Z])/g,function(t,e,n){return e+" "+n.toLowerCase()}).toLowerCase())},stringifyValue:function(t,e){return(e&&e.prettify||o.prettify)(t)},isString:function(t){return"string"===typeof t},isArray:function(t){return"[object Array]"==={}.toString.call(t)},isHash:function(t){return o.isObject(t)&&!o.isArray(t)&&!o.isFunction(t)},contains:function(t,e){return!!o.isDefined(t)&&(o.isArray(t)?-1!==t.indexOf(e):e in t)},unique:function(t){return o.isArray(t)?t.filter(function(t,e,n){return n.indexOf(t)==e}):t},forEachKeyInKeypath:function(t,e,n){if(o.isString(e)){var i,r="",a=!1;for(i=0;i<e.length;++i)switch(e[i]){case".":a?(a=!1,r+="."):(t=n(t,r,!1),r="");break;case"\\":a?(a=!1,r+="\\"):a=!0;break;default:a=!1,r+=e[i]}return n(t,r,!0)}},getDeepObjectValue:function(t,e){if(o.isObject(t))return o.forEachKeyInKeypath(t,e,function(t,e){if(o.isObject(t))return t[e]})},collectFormValues:function(t,e){var n,i,r,a,s,l,u={};if(o.isJqueryElement(t)&&(t=t[0]),!t)return u;for(e=e||{},a=t.querySelectorAll("input[name], textarea[name]"),n=0;n<a.length;++n)r=a.item(n),o.isDefined(r.getAttribute("data-ignored"))||(name=r.name.replace(/\./g,"\\\\."),l=o.sanitizeFormValue(r.value,e),"number"===r.type?l=l?+l:null:"checkbox"===r.type?r.attributes.value?r.checked||(l=u[name]||null):l=r.checked:"radio"===r.type&&(r.checked||(l=u[name]||null)),u[name]=l);for(a=t.querySelectorAll("select[name]"),n=0;n<a.length;++n)if(r=a.item(n),!o.isDefined(r.getAttribute("data-ignored"))){if(r.multiple){l=[];for(i in r.options)(s=r.options[i])&&s.selected&&l.push(o.sanitizeFormValue(s.value,e))}else{var c="undefined"!==typeof r.options[r.selectedIndex]?r.options[r.selectedIndex].value:"";l=o.sanitizeFormValue(c,e)}u[r.name]=l}return u},sanitizeFormValue:function(t,e){return e.trim&&o.isString(t)&&(t=t.trim()),!1!==e.nullify&&""===t?null:t},capitalize:function(t){return o.isString(t)?t[0].toUpperCase()+t.slice(1):t},pruneEmptyErrors:function(t){return t.filter(function(t){return!o.isEmpty(t.error)})},expandMultipleErrors:function(t){var e=[];return t.forEach(function(t){o.isArray(t.error)?t.error.forEach(function(n){e.push(o.extend({},t,{error:n}))}):e.push(t)}),e},convertErrorMessages:function(t,e){e=e||{};var n=[],i=e.prettify||o.prettify;return t.forEach(function(t){var r=o.result(t.error,t.value,t.attribute,t.options,t.attributes,t.globalOptions);if(!o.isString(r))return void n.push(t);"^"===r[0]?r=r.slice(1):!1!==e.fullMessages&&(r=o.capitalize(i(t.attribute))+" "+r),r=r.replace(/\\\^/g,"^"),r=o.format(r,{value:o.stringifyValue(t.value,e)}),n.push(o.extend({},t,{error:r}))}),n},groupErrorsByAttribute:function(t){var e={};return t.forEach(function(t){var n=e[t.attribute];n?n.push(t):e[t.attribute]=[t]}),e},flattenErrorsToArray:function(t){return t.map(function(t){return t.error}).filter(function(t,e,n){return n.indexOf(t)===e})},cleanAttributes:function(t,e){function n(t,e,n){return o.isObject(t[e])?t[e]:t[e]=!!n||{}}function i(t,e){if(!o.isObject(t))return t;var n,r,a=o.extend({},t);for(r in t)n=e[r],o.isObject(n)?a[r]=i(a[r],n):n||delete a[r];return a}return o.isObject(e)&&o.isObject(t)?(e=function(t){var e,i={};for(e in t)t[e]&&o.forEachKeyInKeypath(i,e,n);return i}(e),i(t,e)):{}},exposeModule:function(t,e,n,i,r){n?(i&&i.exports&&(n=i.exports=t),n.validate=t):(e.validate=t,t.isFunction(r)&&r.amd&&r([],function(){return t}))},warn:function(t){"undefined"!==typeof console&&console.warn&&console.warn("[validate.js] "+t)},error:function(t){"undefined"!==typeof console&&console.error&&console.error("[validate.js] "+t)}}),r.validators={presence:function(t,e){if(e=o.extend({},this.options,e),!1!==e.allowEmpty?!o.isDefined(t):o.isEmpty(t))return e.message||this.message||"can't be blank"},length:function(t,e,n){if(o.isDefined(t)){e=o.extend({},this.options,e);var i,r=e.is,a=e.maximum,s=e.minimum,l=e.tokenizer||function(t){return t},u=[];t=l(t);var c=t.length;return o.isNumber(c)?(o.isNumber(r)&&c!==r&&(i=e.wrongLength||this.wrongLength||"is the wrong length (should be %{count} characters)",u.push(o.format(i,{count:r}))),o.isNumber(s)&&c<s&&(i=e.tooShort||this.tooShort||"is too short (minimum is %{count} characters)",u.push(o.format(i,{count:s}))),o.isNumber(a)&&c>a&&(i=e.tooLong||this.tooLong||"is too long (maximum is %{count} characters)",u.push(o.format(i,{count:a}))),u.length>0?e.message||u:void 0):(o.error(o.format("Attribute %{attr} has a non numeric value for `length`",{attr:n})),e.message||this.notValid||"has an incorrect length")}},numericality:function(t,e,n,i,r){if(o.isDefined(t)){e=o.extend({},this.options,e);var a,s,l=[],u={greaterThan:function(t,e){return t>e},greaterThanOrEqualTo:function(t,e){return t>=e},equalTo:function(t,e){return t===e},lessThan:function(t,e){return t<e},lessThanOrEqualTo:function(t,e){return t<=e},divisibleBy:function(t,e){return t%e===0}},c=e.prettify||r&&r.prettify||o.prettify;if(o.isString(t)&&e.strict){var h="^-?(0|[1-9]\\d*)";if(e.onlyInteger||(h+="(\\.\\d+)?"),h+="$",!new RegExp(h).test(t))return e.message||e.notValid||this.notValid||this.message||"must be a valid number"}if(!0!==e.noStrings&&o.isString(t)&&!o.isEmpty(t)&&(t=+t),!o.isNumber(t))return e.message||e.notValid||this.notValid||this.message||"is not a number";if(e.onlyInteger&&!o.isInteger(t))return e.message||e.notInteger||this.notInteger||this.message||"must be an integer";for(a in u)if(s=e[a],o.isNumber(s)&&!u[a](t,s)){var p="not"+o.capitalize(a),d=e[p]||this[p]||this.message||"must be %{type} %{count}";l.push(o.format(d,{count:s,type:c(a)}))}return e.odd&&t%2!==1&&l.push(e.notOdd||this.notOdd||this.message||"must be odd"),e.even&&t%2!==0&&l.push(e.notEven||this.notEven||this.message||"must be even"),l.length?e.message||l:void 0}},datetime:o.extend(function(t,e){if(!o.isFunction(this.parse)||!o.isFunction(this.format))throw new Error("Both the parse and format functions needs to be set to use the datetime/date validator");if(o.isDefined(t)){e=o.extend({},this.options,e);var n,i=[],r=e.earliest?this.parse(e.earliest,e):NaN,a=e.latest?this.parse(e.latest,e):NaN;return t=this.parse(t,e),isNaN(t)||e.dateOnly&&t%864e5!==0?(n=e.notValid||e.message||this.notValid||"must be a valid date",o.format(n,{value:arguments[0]})):(!isNaN(r)&&t<r&&(n=e.tooEarly||e.message||this.tooEarly||"must be no earlier than %{date}",n=o.format(n,{value:this.format(t,e),date:this.format(r,e)}),i.push(n)),!isNaN(a)&&t>a&&(n=e.tooLate||e.message||this.tooLate||"must be no later than %{date}",n=o.format(n,{date:this.format(a,e),value:this.format(t,e)}),i.push(n)),i.length?o.unique(i):void 0)}},{parse:null,format:null}),date:function(t,e){return e=o.extend({},e,{dateOnly:!0}),o.validators.datetime.call(o.validators.datetime,t,e)},format:function(t,e){(o.isString(e)||e instanceof RegExp)&&(e={pattern:e}),e=o.extend({},this.options,e);var n,i=e.message||this.message||"is invalid",r=e.pattern;if(o.isDefined(t))return o.isString(t)?(o.isString(r)&&(r=new RegExp(e.pattern,e.flags)),n=r.exec(t),n&&n[0].length==t.length?void 0:i):i},inclusion:function(t,e){if(o.isDefined(t)&&(o.isArray(e)&&(e={within:e}),e=o.extend({},this.options,e),!o.contains(e.within,t))){var n=e.message||this.message||"^%{value} is not included in the list";return o.format(n,{value:t})}},exclusion:function(t,e){if(o.isDefined(t)&&(o.isArray(e)&&(e={within:e}),e=o.extend({},this.options,e),o.contains(e.within,t))){var n=e.message||this.message||"^%{value} is restricted";return o.format(n,{value:t})}},email:o.extend(function(t,e){e=o.extend({},this.options,e);var n=e.message||this.message||"is not a valid email";if(o.isDefined(t))return o.isString(t)&&this.PATTERN.exec(t)?void 0:n},{PATTERN:/^[a-z0-9\u007F-\uffff!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9\u007F-\uffff!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z]{2,}$/i}),equality:function(t,e,n,i,r){if(o.isDefined(t)){o.isString(e)&&(e={attribute:e}),e=o.extend({},this.options,e);var a=e.message||this.message||"is not equal to %{attribute}";if(o.isEmpty(e.attribute)||!o.isString(e.attribute))throw new Error("The attribute must be a non empty string");var s=o.getDeepObjectValue(i,e.attribute),l=e.comparator||function(t,e){return t===e},u=e.prettify||r&&r.prettify||o.prettify;return l(t,s,e,n,i)?void 0:o.format(a,{attribute:u(e.attribute)})}},url:function(t,e){if(o.isDefined(t)){e=o.extend({},this.options,e);var n=e.message||this.message||"is not a valid url",i=e.schemes||this.schemes||["http","https"],r=e.allowLocal||this.allowLocal||!1;if(!o.isString(t))return n;var a="^(?:(?:"+i.join("|")+")://)(?:\\S+(?::\\S*)?@)?(?:",s="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))";r?s+="?":a+="(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})",a+="(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*"+s+")(?::\\d{2,5})?(?:[/?#]\\S*)?$";return new RegExp(a,"i").exec(t)?void 0:n}}},r.formatters={detailed:function(t){return t},flat:o.flattenErrorsToArray,grouped:function(t){var e;t=o.groupErrorsByAttribute(t);for(e in t)t[e]=o.flattenErrorsToArray(t[e]);return t},constraint:function(t){var e;t=o.groupErrorsByAttribute(t);for(e in t)t[e]=t[e].map(function(t){return t.validator}).sort();return t}},r.exposeModule(r,this,t,e,n(15))}).call(this,e,t,n(15))}).call(e,n(6)(t))},function(t,e,n){(function(t){!function(e,n){t.exports=n()}(0,function(){"use strict";function e(){return Ai.apply(null,arguments)}function n(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function i(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function r(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if(t.hasOwnProperty(e))return!1;return!0}function o(t){return void 0===t}function a(t){return"number"===typeof t||"[object Number]"===Object.prototype.toString.call(t)}function s(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function l(t,e){var n,i=[];for(n=0;n<t.length;++n)i.push(e(t[n],n));return i}function u(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function c(t,e){for(var n in e)u(e,n)&&(t[n]=e[n]);return u(e,"toString")&&(t.toString=e.toString),u(e,"valueOf")&&(t.valueOf=e.valueOf),t}function h(t,e,n,i){return Me(t,e,n,i,!0).utc()}function p(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function d(t){return null==t._pf&&(t._pf=p()),t._pf}function f(t){if(null==t._isValid){var e=d(t),n=Ci.call(e.parsedDateParts,function(t){return null!=t}),i=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(i=i&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return i;t._isValid=i}return t._isValid}function y(t){var e=h(NaN);return null!=t?c(d(e),t):d(e).userInvalidated=!0,e}function m(t,e){var n,i,r;if(o(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),o(e._i)||(t._i=e._i),o(e._f)||(t._f=e._f),o(e._l)||(t._l=e._l),o(e._strict)||(t._strict=e._strict),o(e._tzm)||(t._tzm=e._tzm),o(e._isUTC)||(t._isUTC=e._isUTC),o(e._offset)||(t._offset=e._offset),o(e._pf)||(t._pf=d(e)),o(e._locale)||(t._locale=e._locale),Li.length>0)for(n=0;n<Li.length;n++)i=Li[n],r=e[i],o(r)||(t[i]=r);return t}function v(t){m(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===ki&&(ki=!0,e.updateOffset(this),ki=!1)}function g(t){return t instanceof v||null!=t&&null!=t._isAMomentObject}function x(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function _(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=x(e)),n}function b(t,e,n){var i,r=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),a=0;for(i=0;i<r;i++)(n&&t[i]!==e[i]||!n&&_(t[i])!==_(e[i]))&&a++;return a+o}function w(t){!1===e.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function E(t,n){var i=!0;return c(function(){if(null!=e.deprecationHandler&&e.deprecationHandler(null,t),i){for(var r,o=[],a=0;a<arguments.length;a++){if(r="","object"===typeof arguments[a]){r+="\n["+a+"] ";for(var s in arguments[0])r+=s+": "+arguments[0][s]+", ";r=r.slice(0,-2)}else r=arguments[a];o.push(r)}w(t+"\nArguments: "+Array.prototype.slice.call(o).join("")+"\n"+(new Error).stack),i=!1}return n.apply(this,arguments)},n)}function M(t,n){null!=e.deprecationHandler&&e.deprecationHandler(t,n),Pi[t]||(w(n),Pi[t]=!0)}function T(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function S(t){var e,n;for(n in t)e=t[n],T(e)?this[n]=e:this["_"+n]=e;this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function A(t,e){var n,r=c({},t);for(n in e)u(e,n)&&(i(t[n])&&i(e[n])?(r[n]={},c(r[n],t[n]),c(r[n],e[n])):null!=e[n]?r[n]=e[n]:delete r[n]);for(n in t)u(t,n)&&!u(e,n)&&i(t[n])&&(r[n]=c({},r[n]));return r}function C(t){null!=t&&this.set(t)}function L(t,e,n){var i=this._calendar[t]||this._calendar.sameElse;return T(i)?i.call(e,n):i}function k(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])}function P(){return this._invalidDate}function I(t){return this._ordinal.replace("%d",t)}function R(t,e,n,i){var r=this._relativeTime[n];return T(r)?r(t,e,n,i):r.replace(/%d/i,t)}function z(t,e){var n=this._relativeTime[t>0?"future":"past"];return T(n)?n(e):n.replace(/%s/i,e)}function O(t,e){var n=t.toLowerCase();Bi[n]=Bi[n+"s"]=Bi[e]=t}function D(t){return"string"===typeof t?Bi[t]||Bi[t.toLowerCase()]:void 0}function B(t){var e,n,i={};for(n in t)u(t,n)&&(e=D(n))&&(i[e]=t[n]);return i}function N(t,e){Ni[t]=e}function F(t){var e=[];for(var n in t)e.push({unit:n,priority:Ni[n]});return e.sort(function(t,e){return t.priority-e.priority}),e}function U(t,e,n){var i=""+Math.abs(t),r=e-i.length;return(t>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}function j(t,e,n,i){var r=i;"string"===typeof i&&(r=function(){return this[i]()}),t&&(Vi[t]=r),e&&(Vi[e[0]]=function(){return U(r.apply(this,arguments),e[1],e[2])}),n&&(Vi[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),t)})}function V(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function G(t){var e,n,i=t.match(Fi);for(e=0,n=i.length;e<n;e++)Vi[i[e]]?i[e]=Vi[i[e]]:i[e]=V(i[e]);return function(e){var r,o="";for(r=0;r<n;r++)o+=T(i[r])?i[r].call(e,t):i[r];return o}}function H(t,e){return t.isValid()?(e=W(e,t.localeData()),ji[e]=ji[e]||G(e),ji[e](t)):t.localeData().invalidDate()}function W(t,e){function n(t){return e.longDateFormat(t)||t}var i=5;for(Ui.lastIndex=0;i>=0&&Ui.test(t);)t=t.replace(Ui,n),Ui.lastIndex=0,i-=1;return t}function q(t,e,n){ar[t]=T(e)?e:function(t,i){return t&&n?n:e}}function Y(t,e){return u(ar,t)?ar[t](e._strict,e._locale):new RegExp(X(t))}function X(t){return $(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,i,r){return e||n||i||r}))}function $(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Z(t,e){var n,i=e;for("string"===typeof t&&(t=[t]),a(e)&&(i=function(t,n){n[e]=_(t)}),n=0;n<t.length;n++)sr[t[n]]=i}function J(t,e){Z(t,function(t,n,i,r){i._w=i._w||{},e(t,i._w,i,r)})}function K(t,e,n){null!=e&&u(sr,t)&&sr[t](e,n._a,n,t)}function Q(t){return tt(t)?366:365}function tt(t){return t%4===0&&t%100!==0||t%400===0}function et(){return tt(this.year())}function nt(t,n){return function(i){return null!=i?(rt(this,t,i),e.updateOffset(this,n),this):it(this,t)}}function it(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function rt(t,e,n){t.isValid()&&!isNaN(n)&&("FullYear"===e&&tt(t.year())&&1===t.month()&&29===t.date()?t._d["set"+(t._isUTC?"UTC":"")+e](n,t.month(),lt(n,t.month())):t._d["set"+(t._isUTC?"UTC":"")+e](n))}function ot(t){return t=D(t),T(this[t])?this[t]():this}function at(t,e){if("object"===typeof t){t=B(t);for(var n=F(t),i=0;i<n.length;i++)this[n[i].unit](t[n[i].unit])}else if(t=D(t),T(this[t]))return this[t](e);return this}function st(t,e){return(t%e+e)%e}function lt(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=st(e,12);return t+=(e-n)/12,1===n?tt(t)?29:28:31-n%7%2}function ut(t,e){return t?n(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||xr).test(e)?"format":"standalone"][t.month()]:n(this._months)?this._months:this._months.standalone}function ct(t,e){return t?n(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[xr.test(e)?"format":"standalone"][t.month()]:n(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function ht(t,e,n){var i,r,o,a=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)o=h([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===e?(r=vr.call(this._shortMonthsParse,a),-1!==r?r:null):(r=vr.call(this._longMonthsParse,a),-1!==r?r:null):"MMM"===e?-1!==(r=vr.call(this._shortMonthsParse,a))?r:(r=vr.call(this._longMonthsParse,a),-1!==r?r:null):-1!==(r=vr.call(this._longMonthsParse,a))?r:(r=vr.call(this._shortMonthsParse,a),-1!==r?r:null)}function pt(t,e,n){var i,r,o;if(this._monthsParseExact)return ht.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(r=h([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(o="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(n&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}}function dt(t,e){var n;if(!t.isValid())return t;if("string"===typeof e)if(/^\d+$/.test(e))e=_(e);else if(e=t.localeData().monthsParse(e),!a(e))return t;return n=Math.min(t.date(),lt(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function ft(t){return null!=t?(dt(this,t),e.updateOffset(this,!0),this):it(this,"Month")}function yt(){return lt(this.year(),this.month())}function mt(t){return this._monthsParseExact?(u(this,"_monthsRegex")||gt.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(u(this,"_monthsShortRegex")||(this._monthsShortRegex=wr),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function vt(t){return this._monthsParseExact?(u(this,"_monthsRegex")||gt.call(this),t?this._monthsStrictRegex:this._monthsRegex):(u(this,"_monthsRegex")||(this._monthsRegex=Er),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function gt(){function t(t,e){return e.length-t.length}var e,n,i=[],r=[],o=[];for(e=0;e<12;e++)n=h([2e3,e]),i.push(this.monthsShort(n,"")),r.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(i.sort(t),r.sort(t),o.sort(t),e=0;e<12;e++)i[e]=$(i[e]),r[e]=$(r[e]);for(e=0;e<24;e++)o[e]=$(o[e]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function xt(t,e,n,i,r,o,a){var s=new Date(t,e,n,i,r,o,a);return t<100&&t>=0&&isFinite(s.getFullYear())&&s.setFullYear(t),s}function _t(t){var e=new Date(Date.UTC.apply(null,arguments));return t<100&&t>=0&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function bt(t,e,n){var i=7+e-n;return-(7+_t(t,0,i).getUTCDay()-e)%7+i-1}function wt(t,e,n,i,r){var o,a,s=(7+n-i)%7,l=bt(t,i,r),u=1+7*(e-1)+s+l;return u<=0?(o=t-1,a=Q(o)+u):u>Q(t)?(o=t+1,a=u-Q(t)):(o=t,a=u),{year:o,dayOfYear:a}}function Et(t,e,n){var i,r,o=bt(t.year(),e,n),a=Math.floor((t.dayOfYear()-o-1)/7)+1;return a<1?(r=t.year()-1,i=a+Mt(r,e,n)):a>Mt(t.year(),e,n)?(i=a-Mt(t.year(),e,n),r=t.year()+1):(r=t.year(),i=a),{week:i,year:r}}function Mt(t,e,n){var i=bt(t,e,n),r=bt(t+1,e,n);return(Q(t)-i+r)/7}function Tt(t){return Et(t,this._week.dow,this._week.doy).week}function St(){return this._week.dow}function At(){return this._week.doy}function Ct(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function Lt(t){var e=Et(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function kt(t,e){return"string"!==typeof t?t:isNaN(t)?(t=e.weekdaysParse(t),"number"===typeof t?t:null):parseInt(t,10)}function Pt(t,e){return"string"===typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function It(t,e){return t?n(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]:n(this._weekdays)?this._weekdays:this._weekdays.standalone}function Rt(t){return t?this._weekdaysShort[t.day()]:this._weekdaysShort}function zt(t){return t?this._weekdaysMin[t.day()]:this._weekdaysMin}function Ot(t,e,n){var i,r,o,a=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)o=h([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===e?(r=vr.call(this._weekdaysParse,a),-1!==r?r:null):"ddd"===e?(r=vr.call(this._shortWeekdaysParse,a),-1!==r?r:null):(r=vr.call(this._minWeekdaysParse,a),-1!==r?r:null):"dddd"===e?-1!==(r=vr.call(this._weekdaysParse,a))?r:-1!==(r=vr.call(this._shortWeekdaysParse,a))?r:(r=vr.call(this._minWeekdaysParse,a),-1!==r?r:null):"ddd"===e?-1!==(r=vr.call(this._shortWeekdaysParse,a))?r:-1!==(r=vr.call(this._weekdaysParse,a))?r:(r=vr.call(this._minWeekdaysParse,a),-1!==r?r:null):-1!==(r=vr.call(this._minWeekdaysParse,a))?r:-1!==(r=vr.call(this._weekdaysParse,a))?r:(r=vr.call(this._shortWeekdaysParse,a),-1!==r?r:null)}function Dt(t,e,n){var i,r,o;if(this._weekdaysParseExact)return Ot.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(r=h([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(o="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[i].test(t))return i;if(n&&"ddd"===e&&this._shortWeekdaysParse[i].test(t))return i;if(n&&"dd"===e&&this._minWeekdaysParse[i].test(t))return i;if(!n&&this._weekdaysParse[i].test(t))return i}}function Bt(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=kt(t,this.localeData()),this.add(t-e,"d")):e}function Nt(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function Ft(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=Pt(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7}function Ut(t){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||Gt.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(u(this,"_weekdaysRegex")||(this._weekdaysRegex=Cr),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function jt(t){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||Gt.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(u(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Lr),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Vt(t){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||Gt.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(u(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=kr),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Gt(){function t(t,e){return e.length-t.length}var e,n,i,r,o,a=[],s=[],l=[],u=[];for(e=0;e<7;e++)n=h([2e3,1]).day(e),i=this.weekdaysMin(n,""),r=this.weekdaysShort(n,""),o=this.weekdays(n,""),a.push(i),s.push(r),l.push(o),u.push(i),u.push(r),u.push(o);for(a.sort(t),s.sort(t),l.sort(t),u.sort(t),e=0;e<7;e++)s[e]=$(s[e]),l[e]=$(l[e]),u[e]=$(u[e]);this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Ht(){return this.hours()%12||12}function Wt(){return this.hours()||24}function qt(t,e){j(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function Yt(t,e){return e._meridiemParse}function Xt(t){return"p"===(t+"").toLowerCase().charAt(0)}function $t(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}function Zt(t){return t?t.toLowerCase().replace("_","-"):t}function Jt(t){for(var e,n,i,r,o=0;o<t.length;){for(r=Zt(t[o]).split("-"),e=r.length,n=Zt(t[o+1]),n=n?n.split("-"):null;e>0;){if(i=Kt(r.slice(0,e).join("-")))return i;if(n&&n.length>=e&&b(r,n,!0)>=e-1)break;e--}o++}return Pr}function Kt(e){var n=null;if(!Or[e]&&"undefined"!==typeof t&&t&&t.exports)try{n=Pr._abbr;!function(){var t=new Error('Cannot find module "./locale"');throw t.code="MODULE_NOT_FOUND",t}(),Qt(n)}catch(t){}return Or[e]}function Qt(t,e){var n;return t&&(n=o(e)?ne(t):te(t,e),n?Pr=n:"undefined"!==typeof console&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),Pr._abbr}function te(t,e){if(null!==e){var n,i=zr;if(e.abbr=t,null!=Or[t])M("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=Or[t]._config;else if(null!=e.parentLocale)if(null!=Or[e.parentLocale])i=Or[e.parentLocale]._config;else{if(null==(n=Kt(e.parentLocale)))return Dr[e.parentLocale]||(Dr[e.parentLocale]=[]),Dr[e.parentLocale].push({name:t,config:e}),null;i=n._config}return Or[t]=new C(A(i,e)),Dr[t]&&Dr[t].forEach(function(t){te(t.name,t.config)}),Qt(t),Or[t]}return delete Or[t],null}function ee(t,e){if(null!=e){var n,i,r=zr;i=Kt(t),null!=i&&(r=i._config),e=A(r,e),n=new C(e),n.parentLocale=Or[t],Or[t]=n,Qt(t)}else null!=Or[t]&&(null!=Or[t].parentLocale?Or[t]=Or[t].parentLocale:null!=Or[t]&&delete Or[t]);return Or[t]}function ne(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Pr;if(!n(t)){if(e=Kt(t))return e;t=[t]}return Jt(t)}function ie(){return Ii(Or)}function re(t){var e,n=t._a;return n&&-2===d(t).overflow&&(e=n[ur]<0||n[ur]>11?ur:n[cr]<1||n[cr]>lt(n[lr],n[ur])?cr:n[hr]<0||n[hr]>24||24===n[hr]&&(0!==n[pr]||0!==n[dr]||0!==n[fr])?hr:n[pr]<0||n[pr]>59?pr:n[dr]<0||n[dr]>59?dr:n[fr]<0||n[fr]>999?fr:-1,d(t)._overflowDayOfYear&&(e<lr||e>cr)&&(e=cr),d(t)._overflowWeeks&&-1===e&&(e=yr),d(t)._overflowWeekday&&-1===e&&(e=mr),d(t).overflow=e),t}function oe(t,e,n){return null!=t?t:null!=e?e:n}function ae(t){var n=new Date(e.now());return t._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function se(t){var e,n,i,r,o,a=[];if(!t._d){for(i=ae(t),t._w&&null==t._a[cr]&&null==t._a[ur]&&le(t),null!=t._dayOfYear&&(o=oe(t._a[lr],i[lr]),(t._dayOfYear>Q(o)||0===t._dayOfYear)&&(d(t)._overflowDayOfYear=!0),n=_t(o,0,t._dayOfYear),t._a[ur]=n.getUTCMonth(),t._a[cr]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=a[e]=i[e];for(;e<7;e++)t._a[e]=a[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[hr]&&0===t._a[pr]&&0===t._a[dr]&&0===t._a[fr]&&(t._nextDay=!0,t._a[hr]=0),t._d=(t._useUTC?_t:xt).apply(null,a),r=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[hr]=24),t._w&&"undefined"!==typeof t._w.d&&t._w.d!==r&&(d(t).weekdayMismatch=!0)}}function le(t){var e,n,i,r,o,a,s,l;if(e=t._w,null!=e.GG||null!=e.W||null!=e.E)o=1,a=4,n=oe(e.GG,t._a[lr],Et(Te(),1,4).year),i=oe(e.W,1),((r=oe(e.E,1))<1||r>7)&&(l=!0);else{o=t._locale._week.dow,a=t._locale._week.doy;var u=Et(Te(),o,a);n=oe(e.gg,t._a[lr],u.year),i=oe(e.w,u.week),null!=e.d?((r=e.d)<0||r>6)&&(l=!0):null!=e.e?(r=e.e+o,(e.e<0||e.e>6)&&(l=!0)):r=o}i<1||i>Mt(n,o,a)?d(t)._overflowWeeks=!0:null!=l?d(t)._overflowWeekday=!0:(s=wt(n,i,r,o,a),t._a[lr]=s.year,t._dayOfYear=s.dayOfYear)}function ue(t){var e,n,i,r,o,a,s=t._i,l=Br.exec(s)||Nr.exec(s);if(l){for(d(t).iso=!0,e=0,n=Ur.length;e<n;e++)if(Ur[e][1].exec(l[1])){r=Ur[e][0],i=!1!==Ur[e][2];break}if(null==r)return void(t._isValid=!1);if(l[3]){for(e=0,n=jr.length;e<n;e++)if(jr[e][1].exec(l[3])){o=(l[2]||" ")+jr[e][0];break}if(null==o)return void(t._isValid=!1)}if(!i&&null!=o)return void(t._isValid=!1);if(l[4]){if(!Fr.exec(l[4]))return void(t._isValid=!1);a="Z"}t._f=r+(o||"")+(a||""),ve(t)}else t._isValid=!1}function ce(t,e,n,i,r,o){var a=[he(t),br.indexOf(e),parseInt(n,10),parseInt(i,10),parseInt(r,10)];return o&&a.push(parseInt(o,10)),a}function he(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function pe(t){return t.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}function de(t,e,n){if(t){if(Sr.indexOf(t)!==new Date(e[0],e[1],e[2]).getDay())return d(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function fe(t,e,n){if(t)return Hr[t];if(e)return 0;var i=parseInt(n,10),r=i%100;return(i-r)/100*60+r}function ye(t){var e=Gr.exec(pe(t._i));if(e){var n=ce(e[4],e[3],e[2],e[5],e[6],e[7]);if(!de(e[1],n,t))return;t._a=n,t._tzm=fe(e[8],e[9],e[10]),t._d=_t.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),d(t).rfc2822=!0}else t._isValid=!1}function me(t){var n=Vr.exec(t._i);if(null!==n)return void(t._d=new Date(+n[1]));ue(t),!1===t._isValid&&(delete t._isValid,ye(t),!1===t._isValid&&(delete t._isValid,e.createFromInputFallback(t)))}function ve(t){if(t._f===e.ISO_8601)return void ue(t);if(t._f===e.RFC_2822)return void ye(t);t._a=[],d(t).empty=!0;var n,i,r,o,a,s=""+t._i,l=s.length,u=0;for(r=W(t._f,t._locale).match(Fi)||[],n=0;n<r.length;n++)o=r[n],i=(s.match(Y(o,t))||[])[0],i&&(a=s.substr(0,s.indexOf(i)),a.length>0&&d(t).unusedInput.push(a),s=s.slice(s.indexOf(i)+i.length),u+=i.length),Vi[o]?(i?d(t).empty=!1:d(t).unusedTokens.push(o),K(o,i,t)):t._strict&&!i&&d(t).unusedTokens.push(o);d(t).charsLeftOver=l-u,s.length>0&&d(t).unusedInput.push(s),t._a[hr]<=12&&!0===d(t).bigHour&&t._a[hr]>0&&(d(t).bigHour=void 0),d(t).parsedDateParts=t._a.slice(0),d(t).meridiem=t._meridiem,t._a[hr]=ge(t._locale,t._a[hr],t._meridiem),se(t),re(t)}function ge(t,e,n){var i;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?(i=t.isPM(n),i&&e<12&&(e+=12),i||12!==e||(e=0),e):e}function xe(t){var e,n,i,r,o;if(0===t._f.length)return d(t).invalidFormat=!0,void(t._d=new Date(NaN));for(r=0;r<t._f.length;r++)o=0,e=m({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[r],ve(e),f(e)&&(o+=d(e).charsLeftOver,o+=10*d(e).unusedTokens.length,d(e).score=o,(null==i||o<i)&&(i=o,n=e));c(t,n||e)}function _e(t){if(!t._d){var e=B(t._i);t._a=l([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),se(t)}}function be(t){var e=new v(re(we(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function we(t){var e=t._i,i=t._f;return t._locale=t._locale||ne(t._l),null===e||void 0===i&&""===e?y({nullInput:!0}):("string"===typeof e&&(t._i=e=t._locale.preparse(e)),g(e)?new v(re(e)):(s(e)?t._d=e:n(i)?xe(t):i?ve(t):Ee(t),f(t)||(t._d=null),t))}function Ee(t){var r=t._i;o(r)?t._d=new Date(e.now()):s(r)?t._d=new Date(r.valueOf()):"string"===typeof r?me(t):n(r)?(t._a=l(r.slice(0),function(t){return parseInt(t,10)}),se(t)):i(r)?_e(t):a(r)?t._d=new Date(r):e.createFromInputFallback(t)}function Me(t,e,o,a,s){var l={};return!0!==o&&!1!==o||(a=o,o=void 0),(i(t)&&r(t)||n(t)&&0===t.length)&&(t=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=s,l._l=o,l._i=t,l._f=e,l._strict=a,be(l)}function Te(t,e,n,i){return Me(t,e,n,i,!1)}function Se(t,e){var i,r;if(1===e.length&&n(e[0])&&(e=e[0]),!e.length)return Te();for(i=e[0],r=1;r<e.length;++r)e[r].isValid()&&!e[r][t](i)||(i=e[r]);return i}function Ae(){return Se("isBefore",[].slice.call(arguments,0))}function Ce(){return Se("isAfter",[].slice.call(arguments,0))}function Le(t){for(var e in t)if(-1===vr.call(Xr,e)||null!=t[e]&&isNaN(t[e]))return!1;for(var n=!1,i=0;i<Xr.length;++i)if(t[Xr[i]]){if(n)return!1;parseFloat(t[Xr[i]])!==_(t[Xr[i]])&&(n=!0)}return!0}function ke(){return this._isValid}function Pe(){return Ze(NaN)}function Ie(t){var e=B(t),n=e.year||0,i=e.quarter||0,r=e.month||0,o=e.week||0,a=e.day||0,s=e.hour||0,l=e.minute||0,u=e.second||0,c=e.millisecond||0;this._isValid=Le(e),this._milliseconds=+c+1e3*u+6e4*l+1e3*s*60*60,this._days=+a+7*o,this._months=+r+3*i+12*n,this._data={},this._locale=ne(),this._bubble()}function Re(t){return t instanceof Ie}function ze(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function Oe(t,e){j(t,0,0,function(){var t=this.utcOffset(),n="+";return t<0&&(t=-t,n="-"),n+U(~~(t/60),2)+e+U(~~t%60,2)})}function De(t,e){var n=(e||"").match(t);if(null===n)return null;var i=n[n.length-1]||[],r=(i+"").match($r)||["-",0,0],o=60*r[1]+_(r[2]);return 0===o?0:"+"===r[0]?o:-o}function Be(t,n){var i,r;return n._isUTC?(i=n.clone(),r=(g(t)||s(t)?t.valueOf():Te(t).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+r),e.updateOffset(i,!1),i):Te(t).local()}function Ne(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Fe(t,n,i){var r,o=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"===typeof t){if(null===(t=De(ir,t)))return this}else Math.abs(t)<16&&!i&&(t*=60);return!this._isUTC&&n&&(r=Ne(this)),this._offset=t,this._isUTC=!0,null!=r&&this.add(r,"m"),o!==t&&(!n||this._changeInProgress?en(this,Ze(t-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:Ne(this)}function Ue(t,e){return null!=t?("string"!==typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function je(t){return this.utcOffset(0,t)}function Ve(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Ne(this),"m")),this}function Ge(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"===typeof this._i){var t=De(nr,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this}function He(t){return!!this.isValid()&&(t=t?Te(t).utcOffset():0,(this.utcOffset()-t)%60===0)}function We(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function qe(){if(!o(this._isDSTShifted))return this._isDSTShifted;var t={};if(m(t,this),t=we(t),t._a){var e=t._isUTC?h(t._a):Te(t._a);this._isDSTShifted=this.isValid()&&b(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Ye(){return!!this.isValid()&&!this._isUTC}function Xe(){return!!this.isValid()&&this._isUTC}function $e(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function Ze(t,e){var n,i,r,o=t,s=null;return Re(t)?o={ms:t._milliseconds,d:t._days,M:t._months}:a(t)?(o={},e?o[e]=t:o.milliseconds=t):(s=Zr.exec(t))?(n="-"===s[1]?-1:1,o={y:0,d:_(s[cr])*n,h:_(s[hr])*n,m:_(s[pr])*n,s:_(s[dr])*n,ms:_(ze(1e3*s[fr]))*n}):(s=Jr.exec(t))?(n="-"===s[1]?-1:(s[1],1),o={y:Je(s[2],n),M:Je(s[3],n),w:Je(s[4],n),d:Je(s[5],n),h:Je(s[6],n),m:Je(s[7],n),s:Je(s[8],n)}):null==o?o={}:"object"===typeof o&&("from"in o||"to"in o)&&(r=Qe(Te(o.from),Te(o.to)),o={},o.ms=r.milliseconds,o.M=r.months),i=new Ie(o),Re(t)&&u(t,"_locale")&&(i._locale=t._locale),i}function Je(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Ke(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function Qe(t,e){var n;return t.isValid()&&e.isValid()?(e=Be(e,t),t.isBefore(e)?n=Ke(t,e):(n=Ke(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function tn(t,e){return function(n,i){var r,o;return null===i||isNaN(+i)||(M(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=i,i=o),n="string"===typeof n?+n:n,r=Ze(n,i),en(this,r,t),this}}function en(t,n,i,r){var o=n._milliseconds,a=ze(n._days),s=ze(n._months);t.isValid()&&(r=null==r||r,s&&dt(t,it(t,"Month")+s*i),a&&rt(t,"Date",it(t,"Date")+a*i),o&&t._d.setTime(t._d.valueOf()+o*i),r&&e.updateOffset(t,a||s))}function nn(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function rn(t,n){var i=t||Te(),r=Be(i,this).startOf("day"),o=e.calendarFormat(this,r)||"sameElse",a=n&&(T(n[o])?n[o].call(this,i):n[o]);return this.format(a||this.localeData().calendar(o,this,Te(i)))}function on(){return new v(this)}function an(t,e){var n=g(t)?t:Te(t);return!(!this.isValid()||!n.isValid())&&(e=D(o(e)?"millisecond":e),"millisecond"===e?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf())}function sn(t,e){var n=g(t)?t:Te(t);return!(!this.isValid()||!n.isValid())&&(e=D(o(e)?"millisecond":e),"millisecond"===e?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf())}function ln(t,e,n,i){return i=i||"()",("("===i[0]?this.isAfter(t,n):!this.isBefore(t,n))&&(")"===i[1]?this.isBefore(e,n):!this.isAfter(e,n))}function un(t,e){var n,i=g(t)?t:Te(t);return!(!this.isValid()||!i.isValid())&&(e=D(e||"millisecond"),"millisecond"===e?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf()))}function cn(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function hn(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function pn(t,e,n){var i,r,o;if(!this.isValid())return NaN;if(i=Be(t,this),!i.isValid())return NaN;switch(r=6e4*(i.utcOffset()-this.utcOffset()),e=D(e)){case"year":o=dn(this,i)/12;break;case"month":o=dn(this,i);break;case"quarter":o=dn(this,i)/3;break;case"second":o=(this-i)/1e3;break;case"minute":o=(this-i)/6e4;break;case"hour":o=(this-i)/36e5;break;case"day":o=(this-i-r)/864e5;break;case"week":o=(this-i-r)/6048e5;break;default:o=this-i}return n?o:x(o)}function dn(t,e){var n,i,r=12*(e.year()-t.year())+(e.month()-t.month()),o=t.clone().add(r,"months");return e-o<0?(n=t.clone().add(r-1,"months"),i=(e-o)/(o-n)):(n=t.clone().add(r+1,"months"),i=(e-o)/(n-o)),-(r+i)||0}function fn(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function yn(t){if(!this.isValid())return null;var e=!0!==t,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?H(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):T(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",H(n,"Z")):H(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function mn(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var n="["+t+'("]',i=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",r=e+'[")]';return this.format(n+i+"-MM-DD[T]HH:mm:ss.SSS"+r)}function vn(t){t||(t=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var n=H(this,t);return this.localeData().postformat(n)}function gn(t,e){return this.isValid()&&(g(t)&&t.isValid()||Te(t).isValid())?Ze({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function xn(t){return this.from(Te(),t)}function _n(t,e){return this.isValid()&&(g(t)&&t.isValid()||Te(t).isValid())?Ze({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function bn(t){return this.to(Te(),t)}function wn(t){var e;return void 0===t?this._locale._abbr:(e=ne(t),null!=e&&(this._locale=e),this)}function En(){return this._locale}function Mn(t){switch(t=D(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this}function Tn(t){return void 0===(t=D(t))||"millisecond"===t?this:("date"===t&&(t="day"),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms"))}function Sn(){return this._d.valueOf()-6e4*(this._offset||0)}function An(){return Math.floor(this.valueOf()/1e3)}function Cn(){return new Date(this.valueOf())}function Ln(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function kn(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function Pn(){return this.isValid()?this.toISOString():null}function In(){return f(this)}function Rn(){return c({},d(this))}function zn(){return d(this).overflow}function On(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Dn(t,e){j(0,[t,t.length],0,e)}function Bn(t){return jn.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Nn(t){return jn.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function Fn(){return Mt(this.year(),1,4)}function Un(){var t=this.localeData()._week;return Mt(this.year(),t.dow,t.doy)}function jn(t,e,n,i,r){var o;return null==t?Et(this,i,r).year:(o=Mt(t,i,r),e>o&&(e=o),Vn.call(this,t,e,n,i,r))}function Vn(t,e,n,i,r){var o=wt(t,e,n,i,r),a=_t(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function Gn(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}function Hn(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}function Wn(t,e){e[fr]=_(1e3*("0."+t))}function qn(){return this._isUTC?"UTC":""}function Yn(){return this._isUTC?"Coordinated Universal Time":""}function Xn(t){return Te(1e3*t)}function $n(){return Te.apply(null,arguments).parseZone()}function Zn(t){return t}function Jn(t,e,n,i){var r=ne(),o=h().set(i,e);return r[n](o,t)}function Kn(t,e,n){if(a(t)&&(e=t,t=void 0),t=t||"",null!=e)return Jn(t,e,n,"month");var i,r=[];for(i=0;i<12;i++)r[i]=Jn(t,i,n,"month");return r}function Qn(t,e,n,i){"boolean"===typeof t?(a(e)&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,a(e)&&(n=e,e=void 0),e=e||"");var r=ne(),o=t?r._week.dow:0;if(null!=n)return Jn(e,(n+o)%7,i,"day");var s,l=[];for(s=0;s<7;s++)l[s]=Jn(e,(s+o)%7,i,"day");return l}function ti(t,e){return Kn(t,e,"months")}function ei(t,e){return Kn(t,e,"monthsShort")}function ni(t,e,n){return Qn(t,e,n,"weekdays")}function ii(t,e,n){return Qn(t,e,n,"weekdaysShort")}function ri(t,e,n){return Qn(t,e,n,"weekdaysMin")}function oi(){var t=this._data;return this._milliseconds=lo(this._milliseconds),this._days=lo(this._days),this._months=lo(this._months),t.milliseconds=lo(t.milliseconds),t.seconds=lo(t.seconds),t.minutes=lo(t.minutes),t.hours=lo(t.hours),t.months=lo(t.months),t.years=lo(t.years),this}function ai(t,e,n,i){var r=Ze(e,n);return t._milliseconds+=i*r._milliseconds,t._days+=i*r._days,t._months+=i*r._months,t._bubble()}function si(t,e){return ai(this,t,e,1)}function li(t,e){return ai(this,t,e,-1)}function ui(t){return t<0?Math.floor(t):Math.ceil(t)}function ci(){var t,e,n,i,r,o=this._milliseconds,a=this._days,s=this._months,l=this._data;return o>=0&&a>=0&&s>=0||o<=0&&a<=0&&s<=0||(o+=864e5*ui(pi(s)+a),a=0,s=0),l.milliseconds=o%1e3,t=x(o/1e3),l.seconds=t%60,e=x(t/60),l.minutes=e%60,n=x(e/60),l.hours=n%24,a+=x(n/24),r=x(hi(a)),s+=r,a-=ui(pi(r)),i=x(s/12),s%=12,l.days=a,l.months=s,l.years=i,this}function hi(t){return 4800*t/146097}function pi(t){return 146097*t/4800}function di(t){if(!this.isValid())return NaN;var e,n,i=this._milliseconds;if("month"===(t=D(t))||"year"===t)return e=this._days+i/864e5,n=this._months+hi(e),"month"===t?n:n/12;switch(e=this._days+Math.round(pi(this._months)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return 24*e+i/36e5;case"minute":return 1440*e+i/6e4;case"second":return 86400*e+i/1e3;case"millisecond":return Math.floor(864e5*e)+i;default:throw new Error("Unknown unit "+t)}}function fi(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*_(this._months/12):NaN}function yi(t){return function(){return this.as(t)}}function mi(){return Ze(this)}function vi(t){return t=D(t),this.isValid()?this[t+"s"]():NaN}function gi(t){return function(){return this.isValid()?this._data[t]:NaN}}function xi(){return x(this.days()/7)}function _i(t,e,n,i,r){return r.relativeTime(e||1,!!n,t,i)}function bi(t,e,n){var i=Ze(t).abs(),r=To(i.as("s")),o=To(i.as("m")),a=To(i.as("h")),s=To(i.as("d")),l=To(i.as("M")),u=To(i.as("y")),c=r<=So.ss&&["s",r]||r<So.s&&["ss",r]||o<=1&&["m"]||o<So.m&&["mm",o]||a<=1&&["h"]||a<So.h&&["hh",a]||s<=1&&["d"]||s<So.d&&["dd",s]||l<=1&&["M"]||l<So.M&&["MM",l]||u<=1&&["y"]||["yy",u];return c[2]=e,c[3]=+t>0,c[4]=n,_i.apply(null,c)}function wi(t){return void 0===t?To:"function"===typeof t&&(To=t,!0)}function Ei(t,e){return void 0!==So[t]&&(void 0===e?So[t]:(So[t]=e,"s"===t&&(So.ss=e-1),!0))}function Mi(t){if(!this.isValid())return this.localeData().invalidDate();var e=this.localeData(),n=bi(this,!t,e);return t&&(n=e.pastFuture(+this,n)),e.postformat(n)}function Ti(t){return(t>0)-(t<0)||+t}function Si(){if(!this.isValid())return this.localeData().invalidDate();var t,e,n,i=Ao(this._milliseconds)/1e3,r=Ao(this._days),o=Ao(this._months);t=x(i/60),e=x(t/60),i%=60,t%=60,n=x(o/12),o%=12;var a=n,s=o,l=r,u=e,c=t,h=i?i.toFixed(3).replace(/\.?0+$/,""):"",p=this.asSeconds();if(!p)return"P0D";var d=p<0?"-":"",f=Ti(this._months)!==Ti(p)?"-":"",y=Ti(this._days)!==Ti(p)?"-":"",m=Ti(this._milliseconds)!==Ti(p)?"-":"";return d+"P"+(a?f+a+"Y":"")+(s?f+s+"M":"")+(l?y+l+"D":"")+(u||c||h?"T":"")+(u?m+u+"H":"")+(c?m+c+"M":"")+(h?m+h+"S":"")}var Ai,Ci;Ci=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),n=e.length>>>0,i=0;i<n;i++)if(i in e&&t.call(this,e[i],i,e))return!0;return!1};var Li=e.momentProperties=[],ki=!1,Pi={};e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;var Ii;Ii=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)u(t,e)&&n.push(e);return n};var Ri={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},zi={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Oi=/\d{1,2}/,Di={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Bi={},Ni={},Fi=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Ui=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ji={},Vi={},Gi=/\d/,Hi=/\d\d/,Wi=/\d{3}/,qi=/\d{4}/,Yi=/[+-]?\d{6}/,Xi=/\d\d?/,$i=/\d\d\d\d?/,Zi=/\d\d\d\d\d\d?/,Ji=/\d{1,3}/,Ki=/\d{1,4}/,Qi=/[+-]?\d{1,6}/,tr=/\d+/,er=/[+-]?\d+/,nr=/Z|[+-]\d\d:?\d\d/gi,ir=/Z|[+-]\d\d(?::?\d\d)?/gi,rr=/[+-]?\d+(\.\d{1,3})?/,or=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ar={},sr={},lr=0,ur=1,cr=2,hr=3,pr=4,dr=5,fr=6,yr=7,mr=8;j("Y",0,0,function(){var t=this.year();return t<=9999?""+t:"+"+t}),j(0,["YY",2],0,function(){return this.year()%100}),j(0,["YYYY",4],0,"year"),j(0,["YYYYY",5],0,"year"),j(0,["YYYYYY",6,!0],0,"year"),O("year","y"),N("year",1),q("Y",er),q("YY",Xi,Hi),q("YYYY",Ki,qi),q("YYYYY",Qi,Yi),q("YYYYYY",Qi,Yi),Z(["YYYYY","YYYYYY"],lr),Z("YYYY",function(t,n){n[lr]=2===t.length?e.parseTwoDigitYear(t):_(t)}),Z("YY",function(t,n){n[lr]=e.parseTwoDigitYear(t)}),Z("Y",function(t,e){e[lr]=parseInt(t,10)}),e.parseTwoDigitYear=function(t){return _(t)+(_(t)>68?1900:2e3)};var vr,gr=nt("FullYear",!0);vr=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},j("M",["MM",2],"Mo",function(){return this.month()+1}),j("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),j("MMMM",0,0,function(t){return this.localeData().months(this,t)}),O("month","M"),N("month",8),q("M",Xi),q("MM",Xi,Hi),q("MMM",function(t,e){return e.monthsShortRegex(t)}),q("MMMM",function(t,e){return e.monthsRegex(t)}),Z(["M","MM"],function(t,e){e[ur]=_(t)-1}),Z(["MMM","MMMM"],function(t,e,n,i){var r=n._locale.monthsParse(t,i,n._strict);null!=r?e[ur]=r:d(n).invalidMonth=t});var xr=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,_r="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),br="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),wr=or,Er=or;j("w",["ww",2],"wo","week"),j("W",["WW",2],"Wo","isoWeek"),O("week","w"),O("isoWeek","W"),N("week",5),N("isoWeek",5),q("w",Xi),q("ww",Xi,Hi),q("W",Xi),q("WW",Xi,Hi),J(["w","ww","W","WW"],function(t,e,n,i){e[i.substr(0,1)]=_(t)});var Mr={dow:0,doy:6};j("d",0,"do","day"),j("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),j("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),j("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),j("e",0,0,"weekday"),j("E",0,0,"isoWeekday"),O("day","d"),O("weekday","e"),O("isoWeekday","E"),N("day",11),N("weekday",11),N("isoWeekday",11),q("d",Xi),q("e",Xi),q("E",Xi),q("dd",function(t,e){return e.weekdaysMinRegex(t)}),q("ddd",function(t,e){return e.weekdaysShortRegex(t)}),q("dddd",function(t,e){return e.weekdaysRegex(t)}),J(["dd","ddd","dddd"],function(t,e,n,i){var r=n._locale.weekdaysParse(t,i,n._strict);null!=r?e.d=r:d(n).invalidWeekday=t}),J(["d","e","E"],function(t,e,n,i){e[i]=_(t)});var Tr="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Sr="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ar="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Cr=or,Lr=or,kr=or;j("H",["HH",2],0,"hour"),j("h",["hh",2],0,Ht),j("k",["kk",2],0,Wt),j("hmm",0,0,function(){return""+Ht.apply(this)+U(this.minutes(),2)}),j("hmmss",0,0,function(){return""+Ht.apply(this)+U(this.minutes(),2)+U(this.seconds(),2)}),j("Hmm",0,0,function(){return""+this.hours()+U(this.minutes(),2)}),j("Hmmss",0,0,function(){return""+this.hours()+U(this.minutes(),2)+U(this.seconds(),2)}),qt("a",!0),qt("A",!1),O("hour","h"),N("hour",13),q("a",Yt),q("A",Yt),q("H",Xi),q("h",Xi),q("k",Xi),q("HH",Xi,Hi),q("hh",Xi,Hi),q("kk",Xi,Hi),q("hmm",$i),q("hmmss",Zi),q("Hmm",$i),q("Hmmss",Zi),Z(["H","HH"],hr),Z(["k","kk"],function(t,e,n){var i=_(t);e[hr]=24===i?0:i}),Z(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),Z(["h","hh"],function(t,e,n){e[hr]=_(t),d(n).bigHour=!0}),Z("hmm",function(t,e,n){var i=t.length-2;e[hr]=_(t.substr(0,i)),e[pr]=_(t.substr(i)),d(n).bigHour=!0}),Z("hmmss",function(t,e,n){var i=t.length-4,r=t.length-2;e[hr]=_(t.substr(0,i)),e[pr]=_(t.substr(i,2)),e[dr]=_(t.substr(r)),d(n).bigHour=!0}),Z("Hmm",function(t,e,n){var i=t.length-2;e[hr]=_(t.substr(0,i)),e[pr]=_(t.substr(i))}),Z("Hmmss",function(t,e,n){var i=t.length-4,r=t.length-2;e[hr]=_(t.substr(0,i)),e[pr]=_(t.substr(i,2)),e[dr]=_(t.substr(r))});var Pr,Ir=/[ap]\.?m?\.?/i,Rr=nt("Hours",!0),zr={calendar:Ri,longDateFormat:zi,invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:Oi,relativeTime:Di,months:_r,monthsShort:br,week:Mr,weekdays:Tr,weekdaysMin:Ar,weekdaysShort:Sr,meridiemParse:Ir},Or={},Dr={},Br=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Nr=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Fr=/Z|[+-]\d\d(?::?\d\d)?/,Ur=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],jr=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Vr=/^\/?Date\((\-?\d+)/i,Gr=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Hr={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};e.createFromInputFallback=E("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),e.ISO_8601=function(){},e.RFC_2822=function(){};var Wr=E("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Te.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:y()}),qr=E("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Te.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:y()}),Yr=function(){return Date.now?Date.now():+new Date},Xr=["year","quarter","month","week","day","hour","minute","second","millisecond"];Oe("Z",":"),Oe("ZZ",""),q("Z",ir),q("ZZ",ir),Z(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=De(ir,t)});var $r=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var Zr=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Jr=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;Ze.fn=Ie.prototype,Ze.invalid=Pe;var Kr=tn(1,"add"),Qr=tn(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var to=E("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});j(0,["gg",2],0,function(){return this.weekYear()%100}),j(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Dn("gggg","weekYear"),Dn("ggggg","weekYear"),Dn("GGGG","isoWeekYear"),Dn("GGGGG","isoWeekYear"),O("weekYear","gg"),O("isoWeekYear","GG"),N("weekYear",1),N("isoWeekYear",1),q("G",er),q("g",er),q("GG",Xi,Hi),q("gg",Xi,Hi),q("GGGG",Ki,qi),q("gggg",Ki,qi),q("GGGGG",Qi,Yi),q("ggggg",Qi,Yi),J(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,i){e[i.substr(0,2)]=_(t)}),J(["gg","GG"],function(t,n,i,r){n[r]=e.parseTwoDigitYear(t)}),j("Q",0,"Qo","quarter"),O("quarter","Q"),N("quarter",7),q("Q",Gi),Z("Q",function(t,e){e[ur]=3*(_(t)-1)}),j("D",["DD",2],"Do","date"),O("date","D"),N("date",9),q("D",Xi),q("DD",Xi,Hi),q("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient}),Z(["D","DD"],cr),Z("Do",function(t,e){e[cr]=_(t.match(Xi)[0])});var eo=nt("Date",!0);j("DDD",["DDDD",3],"DDDo","dayOfYear"),O("dayOfYear","DDD"),N("dayOfYear",4),q("DDD",Ji),q("DDDD",Wi),Z(["DDD","DDDD"],function(t,e,n){n._dayOfYear=_(t)}),j("m",["mm",2],0,"minute"),O("minute","m"),N("minute",14),q("m",Xi),q("mm",Xi,Hi),Z(["m","mm"],pr);var no=nt("Minutes",!1);j("s",["ss",2],0,"second"),O("second","s"),N("second",15),q("s",Xi),q("ss",Xi,Hi),Z(["s","ss"],dr);var io=nt("Seconds",!1);j("S",0,0,function(){return~~(this.millisecond()/100)}),j(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),j(0,["SSS",3],0,"millisecond"),j(0,["SSSS",4],0,function(){return 10*this.millisecond()}),j(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),j(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),j(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),j(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),j(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),O("millisecond","ms"),N("millisecond",16),q("S",Ji,Gi),q("SS",Ji,Hi),q("SSS",Ji,Wi);var ro;for(ro="SSSS";ro.length<=9;ro+="S")q(ro,tr);for(ro="S";ro.length<=9;ro+="S")Z(ro,Wn);var oo=nt("Milliseconds",!1);j("z",0,0,"zoneAbbr"),j("zz",0,0,"zoneName");var ao=v.prototype;ao.add=Kr,ao.calendar=rn,ao.clone=on,ao.diff=pn,ao.endOf=Tn,ao.format=vn,ao.from=gn,ao.fromNow=xn,ao.to=_n,ao.toNow=bn,ao.get=ot,ao.invalidAt=zn,ao.isAfter=an,ao.isBefore=sn,ao.isBetween=ln,ao.isSame=un,ao.isSameOrAfter=cn,ao.isSameOrBefore=hn,ao.isValid=In,ao.lang=to,ao.locale=wn,ao.localeData=En,ao.max=qr,ao.min=Wr,ao.parsingFlags=Rn,ao.set=at,ao.startOf=Mn,ao.subtract=Qr,ao.toArray=Ln,ao.toObject=kn,ao.toDate=Cn,ao.toISOString=yn,ao.inspect=mn,ao.toJSON=Pn,ao.toString=fn,ao.unix=An,ao.valueOf=Sn,ao.creationData=On,ao.year=gr,ao.isLeapYear=et,ao.weekYear=Bn,ao.isoWeekYear=Nn,ao.quarter=ao.quarters=Gn,ao.month=ft,ao.daysInMonth=yt,ao.week=ao.weeks=Ct,ao.isoWeek=ao.isoWeeks=Lt,ao.weeksInYear=Un,ao.isoWeeksInYear=Fn,ao.date=eo,ao.day=ao.days=Bt,ao.weekday=Nt,ao.isoWeekday=Ft,ao.dayOfYear=Hn,ao.hour=ao.hours=Rr,ao.minute=ao.minutes=no,ao.second=ao.seconds=io,ao.millisecond=ao.milliseconds=oo,ao.utcOffset=Fe,ao.utc=je,ao.local=Ve,ao.parseZone=Ge,ao.hasAlignedHourOffset=He,ao.isDST=We,ao.isLocal=Ye,ao.isUtcOffset=Xe,ao.isUtc=$e,ao.isUTC=$e,ao.zoneAbbr=qn,ao.zoneName=Yn,ao.dates=E("dates accessor is deprecated. Use date instead.",eo),ao.months=E("months accessor is deprecated. Use month instead",ft),ao.years=E("years accessor is deprecated. Use year instead",gr),ao.zone=E("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Ue),ao.isDSTShifted=E("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",qe);var so=C.prototype;so.calendar=L,so.longDateFormat=k,so.invalidDate=P,so.ordinal=I,so.preparse=Zn,so.postformat=Zn,so.relativeTime=R,so.pastFuture=z,so.set=S,so.months=ut,so.monthsShort=ct,so.monthsParse=pt,so.monthsRegex=vt,so.monthsShortRegex=mt,so.week=Tt,so.firstDayOfYear=At,so.firstDayOfWeek=St,so.weekdays=It,so.weekdaysMin=zt,so.weekdaysShort=Rt,so.weekdaysParse=Dt,so.weekdaysRegex=Ut,so.weekdaysShortRegex=jt,so.weekdaysMinRegex=Vt,so.isPM=Xt,so.meridiem=$t,Qt("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===_(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),e.lang=E("moment.lang is deprecated. Use moment.locale instead.",Qt),e.langData=E("moment.langData is deprecated. Use moment.localeData instead.",ne);var lo=Math.abs,uo=yi("ms"),co=yi("s"),ho=yi("m"),po=yi("h"),fo=yi("d"),yo=yi("w"),mo=yi("M"),vo=yi("y"),go=gi("milliseconds"),xo=gi("seconds"),_o=gi("minutes"),bo=gi("hours"),wo=gi("days"),Eo=gi("months"),Mo=gi("years"),To=Math.round,So={ss:44,s:45,m:45,h:22,d:26,M:11},Ao=Math.abs,Co=Ie.prototype;return Co.isValid=ke,Co.abs=oi,Co.add=si,Co.subtract=li,Co.as=di,Co.asMilliseconds=uo,Co.asSeconds=co,Co.asMinutes=ho,Co.asHours=po,Co.asDays=fo,Co.asWeeks=yo,Co.asMonths=mo,Co.asYears=vo,Co.valueOf=fi,Co._bubble=ci,Co.clone=mi,Co.get=vi,Co.milliseconds=go,Co.seconds=xo,Co.minutes=_o,Co.hours=bo,Co.days=wo,Co.weeks=xi,Co.months=Eo,Co.years=Mo,Co.humanize=Mi,Co.toISOString=Si,Co.toString=Si,Co.toJSON=Si,Co.locale=wn,Co.localeData=En,Co.toIsoString=E("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Si),Co.lang=to,j("X",0,0,"unix"),j("x",0,0,"valueOf"),q("x",er),q("X",rr),Z("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))}),Z("x",function(t,e,n){n._d=new Date(_(t))}),e.version="2.22.1",function(t){Ai=t}(Te),e.fn=ao,e.min=Ae,e.max=Ce,e.now=Yr,e.utc=h,e.unix=Xn,e.months=ti,e.isDate=s,e.locale=Qt,e.invalid=y,e.duration=Ze,e.isMoment=g,e.weekdays=ni,e.parseZone=$n,e.localeData=ne,e.isDuration=Re,e.monthsShort=ei,e.weekdaysMin=ri,e.defineLocale=te,e.updateLocale=ee,e.locales=ie,e.weekdaysShort=ii,e.normalizeUnits=D,e.relativeTimeRounding=wi,e.relativeTimeThreshold=Ei,e.calendarFormat=nn,e.prototype=ao,e.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"YYYY-[W]WW",MONTH:"YYYY-MM"},e})}).call(e,n(6)(t))},function(t,e,n){(function(t,i){var r;(function(){function o(t,e){return t.set(e[0],e[1]),t}function a(t,e){return t.add(e),t}function s(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function l(t,e,n,i){for(var r=-1,o=null==t?0:t.length;++r<o;){var a=t[r];e(i,a,n(a),t)}return i}function u(t,e){for(var n=-1,i=null==t?0:t.length;++n<i&&!1!==e(t[n],n,t););return t}function c(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function h(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(!e(t[n],n,t))return!1;return!0}function p(t,e){for(var n=-1,i=null==t?0:t.length,r=0,o=[];++n<i;){var a=t[n];e(a,n,t)&&(o[r++]=a)}return o}function d(t,e){return!!(null==t?0:t.length)&&M(t,e,0)>-1}function f(t,e,n){for(var i=-1,r=null==t?0:t.length;++i<r;)if(n(e,t[i]))return!0;return!1}function y(t,e){for(var n=-1,i=null==t?0:t.length,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r}function m(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}function v(t,e,n,i){var r=-1,o=null==t?0:t.length;for(i&&o&&(n=t[++r]);++r<o;)n=e(n,t[r],r,t);return n}function g(t,e,n,i){var r=null==t?0:t.length;for(i&&r&&(n=t[--r]);r--;)n=e(n,t[r],r,t);return n}function x(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}function _(t){return t.split("")}function b(t){return t.match(Ue)||[]}function w(t,e,n){var i;return n(t,function(t,n,r){if(e(t,n,r))return i=n,!1}),i}function E(t,e,n,i){for(var r=t.length,o=n+(i?1:-1);i?o--:++o<r;)if(e(t[o],o,t))return o;return-1}function M(t,e,n){return e===e?J(t,e,n):E(t,S,n)}function T(t,e,n,i){for(var r=n-1,o=t.length;++r<o;)if(i(t[r],e))return r;return-1}function S(t){return t!==t}function A(t,e){var n=null==t?0:t.length;return n?I(t,e)/n:Ot}function C(t){return function(e){return null==e?rt:e[t]}}function L(t){return function(e){return null==t?rt:t[e]}}function k(t,e,n,i,r){return r(t,function(t,r,o){n=i?(i=!1,t):e(n,t,r,o)}),n}function P(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function I(t,e){for(var n,i=-1,r=t.length;++i<r;){var o=e(t[i]);o!==rt&&(n=n===rt?o:n+o)}return n}function R(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}function z(t,e){return y(e,function(e){return[e,t[e]]})}function O(t){return function(e){return t(e)}}function D(t,e){return y(e,function(e){return t[e]})}function B(t,e){return t.has(e)}function N(t,e){for(var n=-1,i=t.length;++n<i&&M(e,t[n],0)>-1;);return n}function F(t,e){for(var n=t.length;n--&&M(e,t[n],0)>-1;);return n}function U(t,e){for(var n=t.length,i=0;n--;)t[n]===e&&++i;return i}function j(t){return"\\"+Cn[t]}function V(t,e){return null==t?rt:t[e]}function G(t){return xn.test(t)}function H(t){return _n.test(t)}function W(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}function q(t){var e=-1,n=Array(t.size);return t.forEach(function(t,i){n[++e]=[i,t]}),n}function Y(t,e){return function(n){return t(e(n))}}function X(t,e){for(var n=-1,i=t.length,r=0,o=[];++n<i;){var a=t[n];a!==e&&a!==ct||(t[n]=ct,o[r++]=n)}return o}function $(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function Z(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}function J(t,e,n){for(var i=n-1,r=t.length;++i<r;)if(t[i]===e)return i;return-1}function K(t,e,n){for(var i=n+1;i--;)if(t[i]===e)return i;return i}function Q(t){return G(t)?et(t):Wn(t)}function tt(t){return G(t)?nt(t):_(t)}function et(t){for(var e=vn.lastIndex=0;vn.test(t);)++e;return e}function nt(t){return t.match(vn)||[]}function it(t){return t.match(gn)||[]}var rt,ot=200,at="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",st="Expected a function",lt="__lodash_hash_undefined__",ut=500,ct="__lodash_placeholder__",ht=1,pt=2,dt=4,ft=1,yt=2,mt=1,vt=2,gt=4,xt=8,_t=16,bt=32,wt=64,Et=128,Mt=256,Tt=512,St=30,At="...",Ct=800,Lt=16,kt=1,Pt=2,It=1/0,Rt=9007199254740991,zt=1.7976931348623157e308,Ot=NaN,Dt=4294967295,Bt=Dt-1,Nt=Dt>>>1,Ft=[["ary",Et],["bind",mt],["bindKey",vt],["curry",xt],["curryRight",_t],["flip",Tt],["partial",bt],["partialRight",wt],["rearg",Mt]],Ut="[object Arguments]",jt="[object Array]",Vt="[object AsyncFunction]",Gt="[object Boolean]",Ht="[object Date]",Wt="[object DOMException]",qt="[object Error]",Yt="[object Function]",Xt="[object GeneratorFunction]",$t="[object Map]",Zt="[object Number]",Jt="[object Null]",Kt="[object Object]",Qt="[object Proxy]",te="[object RegExp]",ee="[object Set]",ne="[object String]",ie="[object Symbol]",re="[object Undefined]",oe="[object WeakMap]",ae="[object WeakSet]",se="[object ArrayBuffer]",le="[object DataView]",ue="[object Float32Array]",ce="[object Float64Array]",he="[object Int8Array]",pe="[object Int16Array]",de="[object Int32Array]",fe="[object Uint8Array]",ye="[object Uint8ClampedArray]",me="[object Uint16Array]",ve="[object Uint32Array]",ge=/\b__p \+= '';/g,xe=/\b(__p \+=) '' \+/g,_e=/(__e\(.*?\)|\b__t\)) \+\n'';/g,be=/&(?:amp|lt|gt|quot|#39);/g,we=/[&<>"']/g,Ee=RegExp(be.source),Me=RegExp(we.source),Te=/<%-([\s\S]+?)%>/g,Se=/<%([\s\S]+?)%>/g,Ae=/<%=([\s\S]+?)%>/g,Ce=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Le=/^\w*$/,ke=/^\./,Pe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ie=/[\\^$.*+?()[\]{}|]/g,Re=RegExp(Ie.source),ze=/^\s+|\s+$/g,Oe=/^\s+/,De=/\s+$/,Be=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ne=/\{\n\/\* \[wrapped with (.+)\] \*/,Fe=/,? & /,Ue=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,je=/\\(\\)?/g,Ve=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ge=/\w*$/,He=/^[-+]0x[0-9a-f]+$/i,We=/^0b[01]+$/i,qe=/^\[object .+?Constructor\]$/,Ye=/^0o[0-7]+$/i,Xe=/^(?:0|[1-9]\d*)$/,$e=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ze=/($^)/,Je=/['\n\r\u2028\u2029\\]/g,Ke="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Qe="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",tn="["+Qe+"]",en="["+Ke+"]",nn="[a-z\\xdf-\\xf6\\xf8-\\xff]",rn="[^\\ud800-\\udfff"+Qe+"\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",on="\\ud83c[\\udffb-\\udfff]",an="(?:\\ud83c[\\udde6-\\uddff]){2}",sn="[\\ud800-\\udbff][\\udc00-\\udfff]",ln="[A-Z\\xc0-\\xd6\\xd8-\\xde]",un="(?:"+nn+"|"+rn+")",cn="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",hn="(?:\\u200d(?:"+["[^\\ud800-\\udfff]",an,sn].join("|")+")[\\ufe0e\\ufe0f]?"+cn+")*",pn="[\\ufe0e\\ufe0f]?"+cn+hn,dn="(?:"+["[\\u2700-\\u27bf]",an,sn].join("|")+")"+pn,fn="(?:"+["[^\\ud800-\\udfff]"+en+"?",en,an,sn,"[\\ud800-\\udfff]"].join("|")+")",yn=RegExp("['\u2019]","g"),mn=RegExp(en,"g"),vn=RegExp(on+"(?="+on+")|"+fn+pn,"g"),gn=RegExp([ln+"?"+nn+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?="+[tn,ln,"$"].join("|")+")","(?:[A-Z\\xc0-\\xd6\\xd8-\\xde]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?="+[tn,ln+un,"$"].join("|")+")",ln+"?"+un+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?",ln+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?","\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)","\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)","\\d+",dn].join("|"),"g"),xn=RegExp("[\\u200d\\ud800-\\udfff"+Ke+"\\ufe0e\\ufe0f]"),_n=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,bn=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],wn=-1,En={};En[ue]=En[ce]=En[he]=En[pe]=En[de]=En[fe]=En[ye]=En[me]=En[ve]=!0,En[Ut]=En[jt]=En[se]=En[Gt]=En[le]=En[Ht]=En[qt]=En[Yt]=En[$t]=En[Zt]=En[Kt]=En[te]=En[ee]=En[ne]=En[oe]=!1;var Mn={};Mn[Ut]=Mn[jt]=Mn[se]=Mn[le]=Mn[Gt]=Mn[Ht]=Mn[ue]=Mn[ce]=Mn[he]=Mn[pe]=Mn[de]=Mn[$t]=Mn[Zt]=Mn[Kt]=Mn[te]=Mn[ee]=Mn[ne]=Mn[ie]=Mn[fe]=Mn[ye]=Mn[me]=Mn[ve]=!0,Mn[qt]=Mn[Yt]=Mn[oe]=!1;var Tn={"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"},Sn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},An={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Cn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ln=parseFloat,kn=parseInt,Pn="object"==typeof t&&t&&t.Object===Object&&t,In="object"==typeof self&&self&&self.Object===Object&&self,Rn=Pn||In||Function("return this")(),zn="object"==typeof e&&e&&!e.nodeType&&e,On=zn&&"object"==typeof i&&i&&!i.nodeType&&i,Dn=On&&On.exports===zn,Bn=Dn&&Pn.process,Nn=function(){try{return Bn&&Bn.binding&&Bn.binding("util")}catch(t){}}(),Fn=Nn&&Nn.isArrayBuffer,Un=Nn&&Nn.isDate,jn=Nn&&Nn.isMap,Vn=Nn&&Nn.isRegExp,Gn=Nn&&Nn.isSet,Hn=Nn&&Nn.isTypedArray,Wn=C("length"),qn=L(Tn),Yn=L(Sn),Xn=L(An),$n=function t(e){function n(t){if(ol(t)&&!mp(t)&&!(t instanceof _)){if(t instanceof r)return t;if(mc.call(t,"__wrapped__"))return na(t)}return new r(t)}function i(){}function r(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=rt}function _(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Dt,this.__views__=[]}function L(){var t=new _(this.__wrapped__);return t.__actions__=Br(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Br(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Br(this.__views__),t}function J(){if(this.__filtered__){var t=new _(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function et(){var t=this.__wrapped__.value(),e=this.__dir__,n=mp(t),i=e<0,r=n?t.length:0,o=Ao(0,r,this.__views__),a=o.start,s=o.end,l=s-a,u=i?s:a-1,c=this.__iteratees__,h=c.length,p=0,d=qc(l,this.__takeCount__);if(!n||!i&&r==l&&d==l)return gr(t,this.__actions__);var f=[];t:for(;l--&&p<d;){u+=e;for(var y=-1,m=t[u];++y<h;){var v=c[y],g=v.iteratee,x=v.type,_=g(m);if(x==Pt)m=_;else if(!_){if(x==kt)continue t;break t}}f[p++]=m}return f}function nt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function Ue(){this.__data__=nh?nh(null):{},this.size=0}function Ke(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function Qe(t){var e=this.__data__;if(nh){var n=e[t];return n===lt?rt:n}return mc.call(e,t)?e[t]:rt}function tn(t){var e=this.__data__;return nh?e[t]!==rt:mc.call(e,t)}function en(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=nh&&e===rt?lt:e,this}function nn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function rn(){this.__data__=[],this.size=0}function on(t){var e=this.__data__,n=Zn(e,t);return!(n<0)&&(n==e.length-1?e.pop():kc.call(e,n,1),--this.size,!0)}function an(t){var e=this.__data__,n=Zn(e,t);return n<0?rt:e[n][1]}function sn(t){return Zn(this.__data__,t)>-1}function ln(t,e){var n=this.__data__,i=Zn(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}function un(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function cn(){this.size=0,this.__data__={hash:new nt,map:new(Kc||nn),string:new nt}}function hn(t){var e=Eo(this,t).delete(t);return this.size-=e?1:0,e}function pn(t){return Eo(this,t).get(t)}function dn(t){return Eo(this,t).has(t)}function fn(t,e){var n=Eo(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}function vn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new un;++e<n;)this.add(t[e])}function gn(t){return this.__data__.set(t,lt),this}function xn(t){return this.__data__.has(t)}function _n(t){var e=this.__data__=new nn(t);this.size=e.size}function Tn(){this.__data__=new nn,this.size=0}function Sn(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function An(t){return this.__data__.get(t)}function Cn(t){return this.__data__.has(t)}function Pn(t,e){var n=this.__data__;if(n instanceof nn){var i=n.__data__;if(!Kc||i.length<ot-1)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new un(i)}return n.set(t,e),this.size=n.size,this}function In(t,e){var n=mp(t),i=!n&&yp(t),r=!n&&!i&&gp(t),o=!n&&!i&&!r&&Ep(t),a=n||i||r||o,s=a?R(t.length,uc):[],l=s.length;for(var u in t)!e&&!mc.call(t,u)||a&&("length"==u||r&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Oo(u,l))||s.push(u);return s}function zn(t){var e=t.length;return e?t[Qi(0,e-1)]:rt}function On(t,e){return Ko(Br(t),ni(e,0,t.length))}function Bn(t){return Ko(Br(t))}function Nn(t,e,n){(n===rt||Ws(t[e],n))&&(n!==rt||e in t)||ti(t,e,n)}function Wn(t,e,n){var i=t[e];mc.call(t,e)&&Ws(i,n)&&(n!==rt||e in t)||ti(t,e,n)}function Zn(t,e){for(var n=t.length;n--;)if(Ws(t[n][0],e))return n;return-1}function Jn(t,e,n,i){return fh(t,function(t,r,o){e(i,t,n(t),o)}),i}function Kn(t,e){return t&&Nr(e,Ul(e),t)}function Qn(t,e){return t&&Nr(e,jl(e),t)}function ti(t,e,n){"__proto__"==e&&zc?zc(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function ei(t,e){for(var n=-1,i=e.length,r=nc(i),o=null==t;++n<i;)r[n]=o?rt:Bl(t,e[n]);return r}function ni(t,e,n){return t===t&&(n!==rt&&(t=t<=n?t:n),e!==rt&&(t=t>=e?t:e)),t}function ii(t,e,n,i,r,o){var a,s=e&ht,l=e&pt,c=e&dt;if(n&&(a=r?n(t,i,r,o):n(t)),a!==rt)return a;if(!rl(t))return t;var h=mp(t);if(h){if(a=ko(t),!s)return Br(t,a)}else{var p=Sh(t),d=p==Yt||p==Xt;if(gp(t))return Tr(t,s);if(p==Kt||p==Ut||d&&!r){if(a=l||d?{}:Po(t),!s)return l?Ur(t,Qn(a,t)):Fr(t,Kn(a,t))}else{if(!Mn[p])return r?t:{};a=Io(t,p,ii,s)}}o||(o=new _n);var f=o.get(t);if(f)return f;o.set(t,a);var y=c?l?xo:go:l?jl:Ul,m=h?rt:y(t);return u(m||t,function(i,r){m&&(r=i,i=t[r]),Wn(a,r,ii(i,e,n,r,t,o))}),a}function ri(t){var e=Ul(t);return function(n){return oi(n,t,e)}}function oi(t,e,n){var i=n.length;if(null==t)return!i;for(t=sc(t);i--;){var r=n[i],o=e[r],a=t[r];if(a===rt&&!(r in t)||!o(a))return!1}return!0}function ai(t,e,n){if("function"!=typeof t)throw new cc(st);return Lh(function(){t.apply(rt,n)},e)}function si(t,e,n,i){var r=-1,o=d,a=!0,s=t.length,l=[],u=e.length;if(!s)return l;n&&(e=y(e,O(n))),i?(o=f,a=!1):e.length>=ot&&(o=B,a=!1,e=new vn(e));t:for(;++r<s;){var c=t[r],h=null==n?c:n(c);if(c=i||0!==c?c:0,a&&h===h){for(var p=u;p--;)if(e[p]===h)continue t;l.push(c)}else o(e,h,i)||l.push(c)}return l}function li(t,e){var n=!0;return fh(t,function(t,i,r){return n=!!e(t,i,r)}),n}function ui(t,e,n){for(var i=-1,r=t.length;++i<r;){var o=t[i],a=e(o);if(null!=a&&(s===rt?a===a&&!ml(a):n(a,s)))var s=a,l=o}return l}function ci(t,e,n,i){var r=t.length;for(n=wl(n),n<0&&(n=-n>r?0:r+n),i=i===rt||i>r?r:wl(i),i<0&&(i+=r),i=n>i?0:El(i);n<i;)t[n++]=e;return t}function hi(t,e){var n=[];return fh(t,function(t,i,r){e(t,i,r)&&n.push(t)}),n}function pi(t,e,n,i,r){var o=-1,a=t.length;for(n||(n=zo),r||(r=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?pi(s,e-1,n,i,r):m(r,s):i||(r[r.length]=s)}return r}function di(t,e){return t&&mh(t,e,Ul)}function fi(t,e){return t&&vh(t,e,Ul)}function yi(t,e){return p(e,function(e){return el(t[e])})}function mi(t,e){e=Er(e,t);for(var n=0,i=e.length;null!=t&&n<i;)t=t[Qo(e[n++])];return n&&n==i?t:rt}function vi(t,e,n){var i=e(t);return mp(t)?i:m(i,n(t))}function gi(t){return null==t?t===rt?re:Jt:Rc&&Rc in sc(t)?So(t):qo(t)}function xi(t,e){return t>e}function _i(t,e){return null!=t&&mc.call(t,e)}function bi(t,e){return null!=t&&e in sc(t)}function wi(t,e,n){return t>=qc(e,n)&&t<Wc(e,n)}function Ei(t,e,n){for(var i=n?f:d,r=t[0].length,o=t.length,a=o,s=nc(o),l=1/0,u=[];a--;){var c=t[a];a&&e&&(c=y(c,O(e))),l=qc(c.length,l),s[a]=!n&&(e||r>=120&&c.length>=120)?new vn(a&&c):rt}c=t[0];var h=-1,p=s[0];t:for(;++h<r&&u.length<l;){var m=c[h],v=e?e(m):m;if(m=n||0!==m?m:0,!(p?B(p,v):i(u,v,n))){for(a=o;--a;){var g=s[a];if(!(g?B(g,v):i(t[a],v,n)))continue t}p&&p.push(v),u.push(m)}}return u}function Mi(t,e,n,i){return di(t,function(t,r,o){e(i,n(t),r,o)}),i}function Ti(t,e,n){e=Er(e,t),t=Xo(t,e);var i=null==t?t:t[Qo(ba(e))];return null==i?rt:s(i,t,n)}function Si(t){return ol(t)&&gi(t)==Ut}function Ai(t){return ol(t)&&gi(t)==se}function Ci(t){return ol(t)&&gi(t)==Ht}function Li(t,e,n,i,r){return t===e||(null==t||null==e||!ol(t)&&!ol(e)?t!==t&&e!==e:ki(t,e,n,i,Li,r))}function ki(t,e,n,i,r,o){var a=mp(t),s=mp(e),l=a?jt:Sh(t),u=s?jt:Sh(e);l=l==Ut?Kt:l,u=u==Ut?Kt:u;var c=l==Kt,h=u==Kt,p=l==u;if(p&&gp(t)){if(!gp(e))return!1;a=!0,c=!1}if(p&&!c)return o||(o=new _n),a||Ep(t)?fo(t,e,n,i,r,o):yo(t,e,l,n,i,r,o);if(!(n&ft)){var d=c&&mc.call(t,"__wrapped__"),f=h&&mc.call(e,"__wrapped__");if(d||f){var y=d?t.value():t,m=f?e.value():e;return o||(o=new _n),r(y,m,n,i,o)}}return!!p&&(o||(o=new _n),mo(t,e,n,i,r,o))}function Pi(t){return ol(t)&&Sh(t)==$t}function Ii(t,e,n,i){var r=n.length,o=r,a=!i;if(null==t)return!o;for(t=sc(t);r--;){var s=n[r];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++r<o;){s=n[r];var l=s[0],u=t[l],c=s[1];if(a&&s[2]){if(u===rt&&!(l in t))return!1}else{var h=new _n;if(i)var p=i(u,c,l,t,e,h);if(!(p===rt?Li(c,u,ft|yt,i,h):p))return!1}}return!0}function Ri(t){return!(!rl(t)||Uo(t))&&(el(t)?wc:qe).test(ta(t))}function zi(t){return ol(t)&&gi(t)==te}function Oi(t){return ol(t)&&Sh(t)==ee}function Di(t){return ol(t)&&il(t.length)&&!!En[gi(t)]}function Bi(t){return"function"==typeof t?t:null==t?ku:"object"==typeof t?mp(t)?Gi(t[0],t[1]):Vi(t):Nu(t)}function Ni(t){if(!jo(t))return Hc(t);var e=[];for(var n in sc(t))mc.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Fi(t){if(!rl(t))return Wo(t);var e=jo(t),n=[];for(var i in t)("constructor"!=i||!e&&mc.call(t,i))&&n.push(i);return n}function Ui(t,e){return t<e}function ji(t,e){var n=-1,i=qs(t)?nc(t.length):[];return fh(t,function(t,r,o){i[++n]=e(t,r,o)}),i}function Vi(t){var e=Mo(t);return 1==e.length&&e[0][2]?Go(e[0][0],e[0][1]):function(n){return n===t||Ii(n,t,e)}}function Gi(t,e){return Bo(t)&&Vo(e)?Go(Qo(t),e):function(n){var i=Bl(n,t);return i===rt&&i===e?Fl(n,t):Li(e,i,ft|yt)}}function Hi(t,e,n,i,r){t!==e&&mh(e,function(o,a){if(rl(o))r||(r=new _n),Wi(t,e,a,n,Hi,i,r);else{var s=i?i(t[a],o,a+"",t,e,r):rt;s===rt&&(s=o),Nn(t,a,s)}},jl)}function Wi(t,e,n,i,r,o,a){var s=t[n],l=e[n],u=a.get(l);if(u)return void Nn(t,n,u);var c=o?o(s,l,n+"",t,e,a):rt,h=c===rt;if(h){var p=mp(l),d=!p&&gp(l),f=!p&&!d&&Ep(l);c=l,p||d||f?mp(s)?c=s:Ys(s)?c=Br(s):d?(h=!1,c=Tr(l,!0)):f?(h=!1,c=Ir(l,!0)):c=[]:dl(l)||yp(l)?(c=s,yp(s)?c=Tl(s):(!rl(s)||i&&el(s))&&(c=Po(l))):h=!1}h&&(a.set(l,c),r(c,l,i,o,a),a.delete(l)),Nn(t,n,c)}function qi(t,e){var n=t.length;if(n)return e+=e<0?n:0,Oo(e,n)?t[e]:rt}function Yi(t,e,n){var i=-1;return e=y(e.length?e:[ku],O(wo())),P(ji(t,function(t,n,r){return{criteria:y(e,function(e){return e(t)}),index:++i,value:t}}),function(t,e){return zr(t,e,n)})}function Xi(t,e){return $i(t,e,function(e,n){return Fl(t,n)})}function $i(t,e,n){for(var i=-1,r=e.length,o={};++i<r;){var a=e[i],s=mi(t,a);n(s,a)&&or(o,Er(a,t),s)}return o}function Zi(t){return function(e){return mi(e,t)}}function Ji(t,e,n,i){var r=i?T:M,o=-1,a=e.length,s=t;for(t===e&&(e=Br(e)),n&&(s=y(t,O(n)));++o<a;)for(var l=0,u=e[o],c=n?n(u):u;(l=r(s,c,l,i))>-1;)s!==t&&kc.call(s,l,1),kc.call(t,l,1);return t}function Ki(t,e){for(var n=t?e.length:0,i=n-1;n--;){var r=e[n];if(n==i||r!==o){var o=r;Oo(r)?kc.call(t,r,1):yr(t,r)}}return t}function Qi(t,e){return t+Fc($c()*(e-t+1))}function tr(t,e,n,i){for(var r=-1,o=Wc(Nc((e-t)/(n||1)),0),a=nc(o);o--;)a[i?o:++r]=t,t+=n;return a}function er(t,e){var n="";if(!t||e<1||e>Rt)return n;do{e%2&&(n+=t),(e=Fc(e/2))&&(t+=t)}while(e);return n}function nr(t,e){return kh(Yo(t,e,ku),t+"")}function ir(t){return zn(Ql(t))}function rr(t,e){var n=Ql(t);return Ko(n,ni(e,0,n.length))}function or(t,e,n,i){if(!rl(t))return t;e=Er(e,t);for(var r=-1,o=e.length,a=o-1,s=t;null!=s&&++r<o;){var l=Qo(e[r]),u=n;if(r!=a){var c=s[l];u=i?i(c,l,s):rt,u===rt&&(u=rl(c)?c:Oo(e[r+1])?[]:{})}Wn(s,l,u),s=s[l]}return t}function ar(t){return Ko(Ql(t))}function sr(t,e,n){var i=-1,r=t.length;e<0&&(e=-e>r?0:r+e),n=n>r?r:n,n<0&&(n+=r),r=e>n?0:n-e>>>0,e>>>=0;for(var o=nc(r);++i<r;)o[i]=t[i+e];return o}function lr(t,e){var n;return fh(t,function(t,i,r){return!(n=e(t,i,r))}),!!n}function ur(t,e,n){var i=0,r=null==t?i:t.length;if("number"==typeof e&&e===e&&r<=Nt){for(;i<r;){var o=i+r>>>1,a=t[o];null!==a&&!ml(a)&&(n?a<=e:a<e)?i=o+1:r=o}return r}return cr(t,e,ku,n)}function cr(t,e,n,i){e=n(e);for(var r=0,o=null==t?0:t.length,a=e!==e,s=null===e,l=ml(e),u=e===rt;r<o;){var c=Fc((r+o)/2),h=n(t[c]),p=h!==rt,d=null===h,f=h===h,y=ml(h);if(a)var m=i||f;else m=u?f&&(i||p):s?f&&p&&(i||!d):l?f&&p&&!d&&(i||!y):!d&&!y&&(i?h<=e:h<e);m?r=c+1:o=c}return qc(o,Bt)}function hr(t,e){for(var n=-1,i=t.length,r=0,o=[];++n<i;){var a=t[n],s=e?e(a):a;if(!n||!Ws(s,l)){var l=s;o[r++]=0===a?0:a}}return o}function pr(t){return"number"==typeof t?t:ml(t)?Ot:+t}function dr(t){if("string"==typeof t)return t;if(mp(t))return y(t,dr)+"";if(ml(t))return ph?ph.call(t):"";var e=t+"";return"0"==e&&1/t==-It?"-0":e}function fr(t,e,n){var i=-1,r=d,o=t.length,a=!0,s=[],l=s;if(n)a=!1,r=f;else if(o>=ot){var u=e?null:wh(t);if(u)return $(u);a=!1,r=B,l=new vn}else l=e?[]:s;t:for(;++i<o;){var c=t[i],h=e?e(c):c;if(c=n||0!==c?c:0,a&&h===h){for(var p=l.length;p--;)if(l[p]===h)continue t;e&&l.push(h),s.push(c)}else r(l,h,n)||(l!==s&&l.push(h),s.push(c))}return s}function yr(t,e){return e=Er(e,t),null==(t=Xo(t,e))||delete t[Qo(ba(e))]}function mr(t,e,n,i){return or(t,e,n(mi(t,e)),i)}function vr(t,e,n,i){for(var r=t.length,o=i?r:-1;(i?o--:++o<r)&&e(t[o],o,t););return n?sr(t,i?0:o,i?o+1:r):sr(t,i?o+1:0,i?r:o)}function gr(t,e){var n=t;return n instanceof _&&(n=n.value()),v(e,function(t,e){return e.func.apply(e.thisArg,m([t],e.args))},n)}function xr(t,e,n){var i=t.length;if(i<2)return i?fr(t[0]):[];for(var r=-1,o=nc(i);++r<i;)for(var a=t[r],s=-1;++s<i;)s!=r&&(o[r]=si(o[r]||a,t[s],e,n));return fr(pi(o,1),e,n)}function _r(t,e,n){for(var i=-1,r=t.length,o=e.length,a={};++i<r;){var s=i<o?e[i]:rt;n(a,t[i],s)}return a}function br(t){return Ys(t)?t:[]}function wr(t){return"function"==typeof t?t:ku}function Er(t,e){return mp(t)?t:Bo(t,e)?[t]:Ph(Al(t))}function Mr(t,e,n){var i=t.length;return n=n===rt?i:n,!e&&n>=i?t:sr(t,e,n)}function Tr(t,e){if(e)return t.slice();var n=t.length,i=Sc?Sc(n):new t.constructor(n);return t.copy(i),i}function Sr(t){var e=new t.constructor(t.byteLength);return new Tc(e).set(new Tc(t)),e}function Ar(t,e){var n=e?Sr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}function Cr(t,e,n){return v(e?n(q(t),ht):q(t),o,new t.constructor)}function Lr(t){var e=new t.constructor(t.source,Ge.exec(t));return e.lastIndex=t.lastIndex,e}function kr(t,e,n){return v(e?n($(t),ht):$(t),a,new t.constructor)}function Pr(t){return hh?sc(hh.call(t)):{}}function Ir(t,e){var n=e?Sr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Rr(t,e){if(t!==e){var n=t!==rt,i=null===t,r=t===t,o=ml(t),a=e!==rt,s=null===e,l=e===e,u=ml(e);if(!s&&!u&&!o&&t>e||o&&a&&l&&!s&&!u||i&&a&&l||!n&&l||!r)return 1;if(!i&&!o&&!u&&t<e||u&&n&&r&&!i&&!o||s&&n&&r||!a&&r||!l)return-1}return 0}function zr(t,e,n){for(var i=-1,r=t.criteria,o=e.criteria,a=r.length,s=n.length;++i<a;){var l=Rr(r[i],o[i]);if(l){if(i>=s)return l;return l*("desc"==n[i]?-1:1)}}return t.index-e.index}function Or(t,e,n,i){for(var r=-1,o=t.length,a=n.length,s=-1,l=e.length,u=Wc(o-a,0),c=nc(l+u),h=!i;++s<l;)c[s]=e[s];for(;++r<a;)(h||r<o)&&(c[n[r]]=t[r]);for(;u--;)c[s++]=t[r++];return c}function Dr(t,e,n,i){for(var r=-1,o=t.length,a=-1,s=n.length,l=-1,u=e.length,c=Wc(o-s,0),h=nc(c+u),p=!i;++r<c;)h[r]=t[r];for(var d=r;++l<u;)h[d+l]=e[l];for(;++a<s;)(p||r<o)&&(h[d+n[a]]=t[r++]);return h}function Br(t,e){var n=-1,i=t.length;for(e||(e=nc(i));++n<i;)e[n]=t[n];return e}function Nr(t,e,n,i){var r=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var s=e[o],l=i?i(n[s],t[s],s,n,t):rt;l===rt&&(l=t[s]),r?ti(n,s,l):Wn(n,s,l)}return n}function Fr(t,e){return Nr(t,Mh(t),e)}function Ur(t,e){return Nr(t,Th(t),e)}function jr(t,e){return function(n,i){var r=mp(n)?l:Jn,o=e?e():{};return r(n,t,wo(i,2),o)}}function Vr(t){return nr(function(e,n){var i=-1,r=n.length,o=r>1?n[r-1]:rt,a=r>2?n[2]:rt;for(o=t.length>3&&"function"==typeof o?(r--,o):rt,a&&Do(n[0],n[1],a)&&(o=r<3?rt:o,r=1),e=sc(e);++i<r;){var s=n[i];s&&t(e,s,i,o)}return e})}function Gr(t,e){return function(n,i){if(null==n)return n;if(!qs(n))return t(n,i);for(var r=n.length,o=e?r:-1,a=sc(n);(e?o--:++o<r)&&!1!==i(a[o],o,a););return n}}function Hr(t){return function(e,n,i){for(var r=-1,o=sc(e),a=i(e),s=a.length;s--;){var l=a[t?s:++r];if(!1===n(o[l],l,o))break}return e}}function Wr(t,e,n){function i(){return(this&&this!==Rn&&this instanceof i?o:t).apply(r?n:this,arguments)}var r=e&mt,o=Xr(t);return i}function qr(t){return function(e){e=Al(e);var n=G(e)?tt(e):rt,i=n?n[0]:e.charAt(0),r=n?Mr(n,1).join(""):e.slice(1);return i[t]()+r}}function Yr(t){return function(e){return v(Tu(ou(e).replace(yn,"")),t,"")}}function Xr(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=dh(t.prototype),i=t.apply(n,e);return rl(i)?i:n}}function $r(t,e,n){function i(){for(var o=arguments.length,a=nc(o),l=o,u=bo(i);l--;)a[l]=arguments[l];var c=o<3&&a[0]!==u&&a[o-1]!==u?[]:X(a,u);return(o-=c.length)<n?ao(t,e,Kr,i.placeholder,rt,a,c,rt,rt,n-o):s(this&&this!==Rn&&this instanceof i?r:t,this,a)}var r=Xr(t);return i}function Zr(t){return function(e,n,i){var r=sc(e);if(!qs(e)){var o=wo(n,3);e=Ul(e),n=function(t){return o(r[t],t,r)}}var a=t(e,n,i);return a>-1?r[o?e[a]:a]:rt}}function Jr(t){return vo(function(e){var n=e.length,i=n,o=r.prototype.thru;for(t&&e.reverse();i--;){var a=e[i];if("function"!=typeof a)throw new cc(st);if(o&&!s&&"wrapper"==_o(a))var s=new r([],!0)}for(i=s?i:n;++i<n;){a=e[i];var l=_o(a),u="wrapper"==l?Eh(a):rt;s=u&&Fo(u[0])&&u[1]==(Et|xt|bt|Mt)&&!u[4].length&&1==u[9]?s[_o(u[0])].apply(s,u[3]):1==a.length&&Fo(a)?s[l]():s.thru(a)}return function(){var t=arguments,i=t[0];if(s&&1==t.length&&mp(i))return s.plant(i).value();for(var r=0,o=n?e[r].apply(this,t):i;++r<n;)o=e[r].call(this,o);return o}})}function Kr(t,e,n,i,r,o,a,s,l,u){function c(){for(var v=arguments.length,g=nc(v),x=v;x--;)g[x]=arguments[x];if(f)var _=bo(c),b=U(g,_);if(i&&(g=Or(g,i,r,f)),o&&(g=Dr(g,o,a,f)),v-=b,f&&v<u){var w=X(g,_);return ao(t,e,Kr,c.placeholder,n,g,w,s,l,u-v)}var E=p?n:this,M=d?E[t]:t;return v=g.length,s?g=$o(g,s):y&&v>1&&g.reverse(),h&&l<v&&(g.length=l),this&&this!==Rn&&this instanceof c&&(M=m||Xr(M)),M.apply(E,g)}var h=e&Et,p=e&mt,d=e&vt,f=e&(xt|_t),y=e&Tt,m=d?rt:Xr(t);return c}function Qr(t,e){return function(n,i){return Mi(n,t,e(i),{})}}function to(t,e){return function(n,i){var r;if(n===rt&&i===rt)return e;if(n!==rt&&(r=n),i!==rt){if(r===rt)return i;"string"==typeof n||"string"==typeof i?(n=dr(n),i=dr(i)):(n=pr(n),i=pr(i)),r=t(n,i)}return r}}function eo(t){return vo(function(e){return e=y(e,O(wo())),nr(function(n){var i=this;return t(e,function(t){return s(t,i,n)})})})}function no(t,e){e=e===rt?" ":dr(e);var n=e.length;if(n<2)return n?er(e,t):e;var i=er(e,Nc(t/Q(e)));return G(e)?Mr(tt(i),0,t).join(""):i.slice(0,t)}function io(t,e,n,i){function r(){for(var e=-1,l=arguments.length,u=-1,c=i.length,h=nc(c+l),p=this&&this!==Rn&&this instanceof r?a:t;++u<c;)h[u]=i[u];for(;l--;)h[u++]=arguments[++e];return s(p,o?n:this,h)}var o=e&mt,a=Xr(t);return r}function ro(t){return function(e,n,i){return i&&"number"!=typeof i&&Do(e,n,i)&&(n=i=rt),e=bl(e),n===rt?(n=e,e=0):n=bl(n),i=i===rt?e<n?1:-1:bl(i),tr(e,n,i,t)}}function oo(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=Ml(e),n=Ml(n)),t(e,n)}}function ao(t,e,n,i,r,o,a,s,l,u){var c=e&xt,h=c?a:rt,p=c?rt:a,d=c?o:rt,f=c?rt:o;e|=c?bt:wt,(e&=~(c?wt:bt))&gt||(e&=~(mt|vt));var y=[t,e,r,d,h,f,p,s,l,u],m=n.apply(rt,y);return Fo(t)&&Ch(m,y),m.placeholder=i,Zo(m,t,e)}function so(t){var e=ac[t];return function(t,n){if(t=Ml(t),n=null==n?0:qc(wl(n),292)){var i=(Al(t)+"e").split("e");return i=(Al(e(i[0]+"e"+(+i[1]+n)))+"e").split("e"),+(i[0]+"e"+(+i[1]-n))}return e(t)}}function lo(t){return function(e){var n=Sh(e);return n==$t?q(e):n==ee?Z(e):z(e,t(e))}}function uo(t,e,n,i,r,o,a,s){var l=e&vt;if(!l&&"function"!=typeof t)throw new cc(st);var u=i?i.length:0;if(u||(e&=~(bt|wt),i=r=rt),a=a===rt?a:Wc(wl(a),0),s=s===rt?s:wl(s),u-=r?r.length:0,e&wt){var c=i,h=r;i=r=rt}var p=l?rt:Eh(t),d=[t,e,n,i,r,c,h,o,a,s];if(p&&Ho(d,p),t=d[0],e=d[1],n=d[2],i=d[3],r=d[4],s=d[9]=d[9]===rt?l?0:t.length:Wc(d[9]-u,0),!s&&e&(xt|_t)&&(e&=~(xt|_t)),e&&e!=mt)f=e==xt||e==_t?$r(t,e,s):e!=bt&&e!=(mt|bt)||r.length?Kr.apply(rt,d):io(t,e,n,i);else var f=Wr(t,e,n);return Zo((p?gh:Ch)(f,d),t,e)}function co(t,e,n,i){return t===rt||Ws(t,dc[n])&&!mc.call(i,n)?e:t}function ho(t,e,n,i,r,o){return rl(t)&&rl(e)&&(o.set(e,t),Hi(t,e,rt,ho,o),o.delete(e)),t}function po(t){return dl(t)?rt:t}function fo(t,e,n,i,r,o){var a=n&ft,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(t);if(u&&o.get(e))return u==e;var c=-1,h=!0,p=n&yt?new vn:rt;for(o.set(t,e),o.set(e,t);++c<s;){var d=t[c],f=e[c];if(i)var y=a?i(f,d,c,e,t,o):i(d,f,c,t,e,o);if(y!==rt){if(y)continue;h=!1;break}if(p){if(!x(e,function(t,e){if(!B(p,e)&&(d===t||r(d,t,n,i,o)))return p.push(e)})){h=!1;break}}else if(d!==f&&!r(d,f,n,i,o)){h=!1;break}}return o.delete(t),o.delete(e),h}function yo(t,e,n,i,r,o,a){switch(n){case le:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case se:return!(t.byteLength!=e.byteLength||!o(new Tc(t),new Tc(e)));case Gt:case Ht:case Zt:return Ws(+t,+e);case qt:return t.name==e.name&&t.message==e.message;case te:case ne:return t==e+"";case $t:var s=q;case ee:var l=i&ft;if(s||(s=$),t.size!=e.size&&!l)return!1;var u=a.get(t);if(u)return u==e;i|=yt,a.set(t,e);var c=fo(s(t),s(e),i,r,o,a);return a.delete(t),c;case ie:if(hh)return hh.call(t)==hh.call(e)}return!1}function mo(t,e,n,i,r,o){var a=n&ft,s=go(t),l=s.length;if(l!=go(e).length&&!a)return!1;for(var u=l;u--;){var c=s[u];if(!(a?c in e:mc.call(e,c)))return!1}var h=o.get(t);if(h&&o.get(e))return h==e;var p=!0;o.set(t,e),o.set(e,t);for(var d=a;++u<l;){c=s[u];var f=t[c],y=e[c];if(i)var m=a?i(y,f,c,e,t,o):i(f,y,c,t,e,o);if(!(m===rt?f===y||r(f,y,n,i,o):m)){p=!1;break}d||(d="constructor"==c)}if(p&&!d){var v=t.constructor,g=e.constructor;v!=g&&"constructor"in t&&"constructor"in e&&!("function"==typeof v&&v instanceof v&&"function"==typeof g&&g instanceof g)&&(p=!1)}return o.delete(t),o.delete(e),p}function vo(t){return kh(Yo(t,rt,da),t+"")}function go(t){return vi(t,Ul,Mh)}function xo(t){return vi(t,jl,Th)}function _o(t){for(var e=t.name+"",n=rh[e],i=mc.call(rh,e)?n.length:0;i--;){var r=n[i],o=r.func;if(null==o||o==t)return r.name}return e}function bo(t){return(mc.call(n,"placeholder")?n:t).placeholder}function wo(){var t=n.iteratee||Pu;return t=t===Pu?Bi:t,arguments.length?t(arguments[0],arguments[1]):t}function Eo(t,e){var n=t.__data__;return No(e)?n["string"==typeof e?"string":"hash"]:n.map}function Mo(t){for(var e=Ul(t),n=e.length;n--;){var i=e[n],r=t[i];e[n]=[i,r,Vo(r)]}return e}function To(t,e){var n=V(t,e);return Ri(n)?n:rt}function So(t){var e=mc.call(t,Rc),n=t[Rc];try{t[Rc]=rt;var i=!0}catch(t){}var r=xc.call(t);return i&&(e?t[Rc]=n:delete t[Rc]),r}function Ao(t,e,n){for(var i=-1,r=n.length;++i<r;){var o=n[i],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=qc(e,t+a);break;case"takeRight":t=Wc(t,e-a)}}return{start:t,end:e}}function Co(t){var e=t.match(Ne);return e?e[1].split(Fe):[]}function Lo(t,e,n){e=Er(e,t);for(var i=-1,r=e.length,o=!1;++i<r;){var a=Qo(e[i]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++i!=r?o:!!(r=null==t?0:t.length)&&il(r)&&Oo(a,r)&&(mp(t)||yp(t))}function ko(t){var e=t.length,n=t.constructor(e);return e&&"string"==typeof t[0]&&mc.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function Po(t){return"function"!=typeof t.constructor||jo(t)?{}:dh(Ac(t))}function Io(t,e,n,i){var r=t.constructor;switch(e){case se:return Sr(t);case Gt:case Ht:return new r(+t);case le:return Ar(t,i);case ue:case ce:case he:case pe:case de:case fe:case ye:case me:case ve:return Ir(t,i);case $t:return Cr(t,i,n);case Zt:case ne:return new r(t);case te:return Lr(t);case ee:return kr(t,i,n);case ie:return Pr(t)}}function Ro(t,e){var n=e.length;if(!n)return t;var i=n-1;return e[i]=(n>1?"& ":"")+e[i],e=e.join(n>2?", ":" "),t.replace(Be,"{\n/* [wrapped with "+e+"] */\n")}function zo(t){return mp(t)||yp(t)||!!(Pc&&t&&t[Pc])}function Oo(t,e){return!!(e=null==e?Rt:e)&&("number"==typeof t||Xe.test(t))&&t>-1&&t%1==0&&t<e}function Do(t,e,n){if(!rl(n))return!1;var i=typeof e;return!!("number"==i?qs(n)&&Oo(e,n.length):"string"==i&&e in n)&&Ws(n[e],t)}function Bo(t,e){if(mp(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!ml(t))||(Le.test(t)||!Ce.test(t)||null!=e&&t in sc(e))}function No(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function Fo(t){var e=_o(t),i=n[e];if("function"!=typeof i||!(e in _.prototype))return!1;if(t===i)return!0;var r=Eh(i);return!!r&&t===r[0]}function Uo(t){return!!gc&&gc in t}function jo(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||dc)}function Vo(t){return t===t&&!rl(t)}function Go(t,e){return function(n){return null!=n&&(n[t]===e&&(e!==rt||t in sc(n)))}}function Ho(t,e){var n=t[1],i=e[1],r=n|i,o=r<(mt|vt|Et),a=i==Et&&n==xt||i==Et&&n==Mt&&t[7].length<=e[8]||i==(Et|Mt)&&e[7].length<=e[8]&&n==xt;if(!o&&!a)return t;i&mt&&(t[2]=e[2],r|=n&mt?0:gt);var s=e[3];if(s){var l=t[3];t[3]=l?Or(l,s,e[4]):s,t[4]=l?X(t[3],ct):e[4]}return s=e[5],s&&(l=t[5],t[5]=l?Dr(l,s,e[6]):s,t[6]=l?X(t[5],ct):e[6]),s=e[7],s&&(t[7]=s),i&Et&&(t[8]=null==t[8]?e[8]:qc(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=r,t}function Wo(t){var e=[];if(null!=t)for(var n in sc(t))e.push(n);return e}function qo(t){return xc.call(t)}function Yo(t,e,n){return e=Wc(e===rt?t.length-1:e,0),function(){for(var i=arguments,r=-1,o=Wc(i.length-e,0),a=nc(o);++r<o;)a[r]=i[e+r];r=-1;for(var l=nc(e+1);++r<e;)l[r]=i[r];return l[e]=n(a),s(t,this,l)}}function Xo(t,e){return e.length<2?t:mi(t,sr(e,0,-1))}function $o(t,e){for(var n=t.length,i=qc(e.length,n),r=Br(t);i--;){var o=e[i];t[i]=Oo(o,n)?r[o]:rt}return t}function Zo(t,e,n){var i=e+"";return kh(t,Ro(i,ea(Co(i),n)))}function Jo(t){var e=0,n=0;return function(){var i=Yc(),r=Lt-(i-n);if(n=i,r>0){if(++e>=Ct)return arguments[0]}else e=0;return t.apply(rt,arguments)}}function Ko(t,e){var n=-1,i=t.length,r=i-1;for(e=e===rt?i:e;++n<e;){var o=Qi(n,r),a=t[o];t[o]=t[n],t[n]=a}return t.length=e,t}function Qo(t){if("string"==typeof t||ml(t))return t;var e=t+"";return"0"==e&&1/t==-It?"-0":e}function ta(t){if(null!=t){try{return yc.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function ea(t,e){return u(Ft,function(n){var i="_."+n[0];e&n[1]&&!d(t,i)&&t.push(i)}),t.sort()}function na(t){if(t instanceof _)return t.clone();var e=new r(t.__wrapped__,t.__chain__);return e.__actions__=Br(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function ia(t,e,n){e=(n?Do(t,e,n):e===rt)?1:Wc(wl(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];for(var r=0,o=0,a=nc(Nc(i/e));r<i;)a[o++]=sr(t,r,r+=e);return a}function ra(t){for(var e=-1,n=null==t?0:t.length,i=0,r=[];++e<n;){var o=t[e];o&&(r[i++]=o)}return r}function oa(){var t=arguments.length;if(!t)return[];for(var e=nc(t-1),n=arguments[0],i=t;i--;)e[i-1]=arguments[i];return m(mp(n)?Br(n):[n],pi(e,1))}function aa(t,e,n){var i=null==t?0:t.length;return i?(e=n||e===rt?1:wl(e),sr(t,e<0?0:e,i)):[]}function sa(t,e,n){var i=null==t?0:t.length;return i?(e=n||e===rt?1:wl(e),e=i-e,sr(t,0,e<0?0:e)):[]}function la(t,e){return t&&t.length?vr(t,wo(e,3),!0,!0):[]}function ua(t,e){return t&&t.length?vr(t,wo(e,3),!0):[]}function ca(t,e,n,i){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&Do(t,e,n)&&(n=0,i=r),ci(t,e,n,i)):[]}function ha(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:wl(n);return r<0&&(r=Wc(i+r,0)),E(t,wo(e,3),r)}function pa(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=i-1;return n!==rt&&(r=wl(n),r=n<0?Wc(i+r,0):qc(r,i-1)),E(t,wo(e,3),r,!0)}function da(t){return(null==t?0:t.length)?pi(t,1):[]}function fa(t){return(null==t?0:t.length)?pi(t,It):[]}function ya(t,e){return(null==t?0:t.length)?(e=e===rt?1:wl(e),pi(t,e)):[]}function ma(t){for(var e=-1,n=null==t?0:t.length,i={};++e<n;){var r=t[e];i[r[0]]=r[1]}return i}function va(t){return t&&t.length?t[0]:rt}function ga(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:wl(n);return r<0&&(r=Wc(i+r,0)),M(t,e,r)}function xa(t){return(null==t?0:t.length)?sr(t,0,-1):[]}function _a(t,e){return null==t?"":Gc.call(t,e)}function ba(t){var e=null==t?0:t.length;return e?t[e-1]:rt}function wa(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=i;return n!==rt&&(r=wl(n),r=r<0?Wc(i+r,0):qc(r,i-1)),e===e?K(t,e,r):E(t,S,r,!0)}function Ea(t,e){return t&&t.length?qi(t,wl(e)):rt}function Ma(t,e){return t&&t.length&&e&&e.length?Ji(t,e):t}function Ta(t,e,n){return t&&t.length&&e&&e.length?Ji(t,e,wo(n,2)):t}function Sa(t,e,n){return t&&t.length&&e&&e.length?Ji(t,e,rt,n):t}function Aa(t,e){var n=[];if(!t||!t.length)return n;var i=-1,r=[],o=t.length;for(e=wo(e,3);++i<o;){var a=t[i];e(a,i,t)&&(n.push(a),r.push(i))}return Ki(t,r),n}function Ca(t){return null==t?t:Zc.call(t)}function La(t,e,n){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&Do(t,e,n)?(e=0,n=i):(e=null==e?0:wl(e),n=n===rt?i:wl(n)),sr(t,e,n)):[]}function ka(t,e){return ur(t,e)}function Pa(t,e,n){return cr(t,e,wo(n,2))}function Ia(t,e){var n=null==t?0:t.length;if(n){var i=ur(t,e);if(i<n&&Ws(t[i],e))return i}return-1}function Ra(t,e){return ur(t,e,!0)}function za(t,e,n){return cr(t,e,wo(n,2),!0)}function Oa(t,e){if(null==t?0:t.length){var n=ur(t,e,!0)-1;if(Ws(t[n],e))return n}return-1}function Da(t){return t&&t.length?hr(t):[]}function Ba(t,e){return t&&t.length?hr(t,wo(e,2)):[]}function Na(t){var e=null==t?0:t.length;return e?sr(t,1,e):[]}function Fa(t,e,n){return t&&t.length?(e=n||e===rt?1:wl(e),sr(t,0,e<0?0:e)):[]}function Ua(t,e,n){var i=null==t?0:t.length;return i?(e=n||e===rt?1:wl(e),e=i-e,sr(t,e<0?0:e,i)):[]}function ja(t,e){return t&&t.length?vr(t,wo(e,3),!1,!0):[]}function Va(t,e){return t&&t.length?vr(t,wo(e,3)):[]}function Ga(t){return t&&t.length?fr(t):[]}function Ha(t,e){return t&&t.length?fr(t,wo(e,2)):[]}function Wa(t,e){return e="function"==typeof e?e:rt,t&&t.length?fr(t,rt,e):[]}function qa(t){if(!t||!t.length)return[];var e=0;return t=p(t,function(t){if(Ys(t))return e=Wc(t.length,e),!0}),R(e,function(e){return y(t,C(e))})}function Ya(t,e){if(!t||!t.length)return[];var n=qa(t);return null==e?n:y(n,function(t){return s(e,rt,t)})}function Xa(t,e){return _r(t||[],e||[],Wn)}function $a(t,e){return _r(t||[],e||[],or)}function Za(t){var e=n(t);return e.__chain__=!0,e}function Ja(t,e){return e(t),t}function Ka(t,e){return e(t)}function Qa(){return Za(this)}function ts(){return new r(this.value(),this.__chain__)}function es(){this.__values__===rt&&(this.__values__=_l(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?rt:this.__values__[this.__index__++]}}function ns(){return this}function is(t){for(var e,n=this;n instanceof i;){var r=na(n);r.__index__=0,r.__values__=rt,e?o.__wrapped__=r:e=r;var o=r;n=n.__wrapped__}return o.__wrapped__=t,e}function rs(){var t=this.__wrapped__;if(t instanceof _){var e=t;return this.__actions__.length&&(e=new _(this)),e=e.reverse(),e.__actions__.push({func:Ka,args:[Ca],thisArg:rt}),new r(e,this.__chain__)}return this.thru(Ca)}function os(){return gr(this.__wrapped__,this.__actions__)}function as(t,e,n){var i=mp(t)?h:li;return n&&Do(t,e,n)&&(e=rt),i(t,wo(e,3))}function ss(t,e){return(mp(t)?p:hi)(t,wo(e,3))}function ls(t,e){return pi(fs(t,e),1)}function us(t,e){return pi(fs(t,e),It)}function cs(t,e,n){return n=n===rt?1:wl(n),pi(fs(t,e),n)}function hs(t,e){return(mp(t)?u:fh)(t,wo(e,3))}function ps(t,e){return(mp(t)?c:yh)(t,wo(e,3))}function ds(t,e,n,i){t=qs(t)?t:Ql(t),n=n&&!i?wl(n):0;var r=t.length;return n<0&&(n=Wc(r+n,0)),yl(t)?n<=r&&t.indexOf(e,n)>-1:!!r&&M(t,e,n)>-1}function fs(t,e){return(mp(t)?y:ji)(t,wo(e,3))}function ys(t,e,n,i){return null==t?[]:(mp(e)||(e=null==e?[]:[e]),n=i?rt:n,mp(n)||(n=null==n?[]:[n]),Yi(t,e,n))}function ms(t,e,n){var i=mp(t)?v:k,r=arguments.length<3;return i(t,wo(e,4),n,r,fh)}function vs(t,e,n){var i=mp(t)?g:k,r=arguments.length<3;return i(t,wo(e,4),n,r,yh)}function gs(t,e){return(mp(t)?p:hi)(t,Is(wo(e,3)))}function xs(t){return(mp(t)?zn:ir)(t)}function _s(t,e,n){return e=(n?Do(t,e,n):e===rt)?1:wl(e),(mp(t)?On:rr)(t,e)}function bs(t){return(mp(t)?Bn:ar)(t)}function ws(t){if(null==t)return 0;if(qs(t))return yl(t)?Q(t):t.length;var e=Sh(t);return e==$t||e==ee?t.size:Ni(t).length}function Es(t,e,n){var i=mp(t)?x:lr;return n&&Do(t,e,n)&&(e=rt),i(t,wo(e,3))}function Ms(t,e){if("function"!=typeof e)throw new cc(st);return t=wl(t),function(){if(--t<1)return e.apply(this,arguments)}}function Ts(t,e,n){return e=n?rt:e,e=t&&null==e?t.length:e,uo(t,Et,rt,rt,rt,rt,e)}function Ss(t,e){var n;if("function"!=typeof e)throw new cc(st);return t=wl(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=rt),n}}function As(t,e,n){e=n?rt:e;var i=uo(t,xt,rt,rt,rt,rt,rt,e);return i.placeholder=As.placeholder,i}function Cs(t,e,n){e=n?rt:e;var i=uo(t,_t,rt,rt,rt,rt,rt,e);return i.placeholder=Cs.placeholder,i}function Ls(t,e,n){function i(e){var n=p,i=d;return p=d=rt,g=e,y=t.apply(i,n)}function r(t){return g=t,m=Lh(s,e),x?i(t):y}function o(t){var n=t-v,i=t-g,r=e-n;return _?qc(r,f-i):r}function a(t){var n=t-v,i=t-g;return v===rt||n>=e||n<0||_&&i>=f}function s(){var t=rp();if(a(t))return l(t);m=Lh(s,o(t))}function l(t){return m=rt,b&&p?i(t):(p=d=rt,y)}function u(){m!==rt&&bh(m),g=0,p=v=d=m=rt}function c(){return m===rt?y:l(rp())}function h(){var t=rp(),n=a(t);if(p=arguments,d=this,v=t,n){if(m===rt)return r(v);if(_)return m=Lh(s,e),i(v)}return m===rt&&(m=Lh(s,e)),y}var p,d,f,y,m,v,g=0,x=!1,_=!1,b=!0;if("function"!=typeof t)throw new cc(st);return e=Ml(e)||0,rl(n)&&(x=!!n.leading,_="maxWait"in n,f=_?Wc(Ml(n.maxWait)||0,e):f,b="trailing"in n?!!n.trailing:b),h.cancel=u,h.flush=c,h}function ks(t){return uo(t,Tt)}function Ps(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new cc(st);var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var a=t.apply(this,i);return n.cache=o.set(r,a)||o,a};return n.cache=new(Ps.Cache||un),n}function Is(t){if("function"!=typeof t)throw new cc(st);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function Rs(t){return Ss(2,t)}function zs(t,e){if("function"!=typeof t)throw new cc(st);return e=e===rt?e:wl(e),nr(t,e)}function Os(t,e){if("function"!=typeof t)throw new cc(st);return e=null==e?0:Wc(wl(e),0),nr(function(n){var i=n[e],r=Mr(n,0,e);return i&&m(r,i),s(t,this,r)})}function Ds(t,e,n){var i=!0,r=!0;if("function"!=typeof t)throw new cc(st);return rl(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),Ls(t,e,{leading:i,maxWait:e,trailing:r})}function Bs(t){return Ts(t,1)}function Ns(t,e){return cp(wr(e),t)}function Fs(){if(!arguments.length)return[];var t=arguments[0];return mp(t)?t:[t]}function Us(t){return ii(t,dt)}function js(t,e){return e="function"==typeof e?e:rt,ii(t,dt,e)}function Vs(t){return ii(t,ht|dt)}function Gs(t,e){return e="function"==typeof e?e:rt,ii(t,ht|dt,e)}function Hs(t,e){return null==e||oi(t,e,Ul(e))}function Ws(t,e){return t===e||t!==t&&e!==e}function qs(t){return null!=t&&il(t.length)&&!el(t)}function Ys(t){return ol(t)&&qs(t)}function Xs(t){return!0===t||!1===t||ol(t)&&gi(t)==Gt}function $s(t){return ol(t)&&1===t.nodeType&&!dl(t)}function Zs(t){if(null==t)return!0;if(qs(t)&&(mp(t)||"string"==typeof t||"function"==typeof t.splice||gp(t)||Ep(t)||yp(t)))return!t.length;var e=Sh(t);if(e==$t||e==ee)return!t.size;if(jo(t))return!Ni(t).length;for(var n in t)if(mc.call(t,n))return!1;return!0}function Js(t,e){return Li(t,e)}function Ks(t,e,n){n="function"==typeof n?n:rt;var i=n?n(t,e):rt;return i===rt?Li(t,e,rt,n):!!i}function Qs(t){if(!ol(t))return!1;var e=gi(t);return e==qt||e==Wt||"string"==typeof t.message&&"string"==typeof t.name&&!dl(t)}function tl(t){return"number"==typeof t&&Vc(t)}function el(t){if(!rl(t))return!1;var e=gi(t);return e==Yt||e==Xt||e==Vt||e==Qt}function nl(t){return"number"==typeof t&&t==wl(t)}function il(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Rt}function rl(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function ol(t){return null!=t&&"object"==typeof t}function al(t,e){return t===e||Ii(t,e,Mo(e))}function sl(t,e,n){return n="function"==typeof n?n:rt,Ii(t,e,Mo(e),n)}function ll(t){return pl(t)&&t!=+t}function ul(t){if(Ah(t))throw new rc(at);return Ri(t)}function cl(t){return null===t}function hl(t){return null==t}function pl(t){return"number"==typeof t||ol(t)&&gi(t)==Zt}function dl(t){if(!ol(t)||gi(t)!=Kt)return!1;var e=Ac(t);if(null===e)return!0;var n=mc.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&yc.call(n)==_c}function fl(t){return nl(t)&&t>=-Rt&&t<=Rt}function yl(t){return"string"==typeof t||!mp(t)&&ol(t)&&gi(t)==ne}function ml(t){return"symbol"==typeof t||ol(t)&&gi(t)==ie}function vl(t){return t===rt}function gl(t){return ol(t)&&Sh(t)==oe}function xl(t){return ol(t)&&gi(t)==ae}function _l(t){if(!t)return[];if(qs(t))return yl(t)?tt(t):Br(t);if(Ic&&t[Ic])return W(t[Ic]());var e=Sh(t);return(e==$t?q:e==ee?$:Ql)(t)}function bl(t){if(!t)return 0===t?t:0;if((t=Ml(t))===It||t===-It){return(t<0?-1:1)*zt}return t===t?t:0}function wl(t){var e=bl(t),n=e%1;return e===e?n?e-n:e:0}function El(t){return t?ni(wl(t),0,Dt):0}function Ml(t){if("number"==typeof t)return t;if(ml(t))return Ot;if(rl(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=rl(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(ze,"");var n=We.test(t);return n||Ye.test(t)?kn(t.slice(2),n?2:8):He.test(t)?Ot:+t}function Tl(t){return Nr(t,jl(t))}function Sl(t){return t?ni(wl(t),-Rt,Rt):0===t?t:0}function Al(t){return null==t?"":dr(t)}function Cl(t,e){var n=dh(t);return null==e?n:Kn(n,e)}function Ll(t,e){return w(t,wo(e,3),di)}function kl(t,e){return w(t,wo(e,3),fi)}function Pl(t,e){return null==t?t:mh(t,wo(e,3),jl)}function Il(t,e){return null==t?t:vh(t,wo(e,3),jl)}function Rl(t,e){return t&&di(t,wo(e,3))}function zl(t,e){return t&&fi(t,wo(e,3))}function Ol(t){return null==t?[]:yi(t,Ul(t))}function Dl(t){return null==t?[]:yi(t,jl(t))}function Bl(t,e,n){var i=null==t?rt:mi(t,e);return i===rt?n:i}function Nl(t,e){return null!=t&&Lo(t,e,_i)}function Fl(t,e){return null!=t&&Lo(t,e,bi)}function Ul(t){return qs(t)?In(t):Ni(t)}function jl(t){return qs(t)?In(t,!0):Fi(t)}function Vl(t,e){var n={};return e=wo(e,3),di(t,function(t,i,r){ti(n,e(t,i,r),t)}),n}function Gl(t,e){var n={};return e=wo(e,3),di(t,function(t,i,r){ti(n,i,e(t,i,r))}),n}function Hl(t,e){return Wl(t,Is(wo(e)))}function Wl(t,e){if(null==t)return{};var n=y(xo(t),function(t){return[t]});return e=wo(e),$i(t,n,function(t,n){return e(t,n[0])})}function ql(t,e,n){e=Er(e,t);var i=-1,r=e.length;for(r||(r=1,t=rt);++i<r;){var o=null==t?rt:t[Qo(e[i])];o===rt&&(i=r,o=n),t=el(o)?o.call(t):o}return t}function Yl(t,e,n){return null==t?t:or(t,e,n)}function Xl(t,e,n,i){return i="function"==typeof i?i:rt,null==t?t:or(t,e,n,i)}function $l(t,e,n){var i=mp(t),r=i||gp(t)||Ep(t);if(e=wo(e,4),null==n){var o=t&&t.constructor;n=r?i?new o:[]:rl(t)&&el(o)?dh(Ac(t)):{}}return(r?u:di)(t,function(t,i,r){return e(n,t,i,r)}),n}function Zl(t,e){return null==t||yr(t,e)}function Jl(t,e,n){return null==t?t:mr(t,e,wr(n))}function Kl(t,e,n,i){return i="function"==typeof i?i:rt,null==t?t:mr(t,e,wr(n),i)}function Ql(t){return null==t?[]:D(t,Ul(t))}function tu(t){return null==t?[]:D(t,jl(t))}function eu(t,e,n){return n===rt&&(n=e,e=rt),n!==rt&&(n=Ml(n),n=n===n?n:0),e!==rt&&(e=Ml(e),e=e===e?e:0),ni(Ml(t),e,n)}function nu(t,e,n){return e=bl(e),n===rt?(n=e,e=0):n=bl(n),t=Ml(t),wi(t,e,n)}function iu(t,e,n){if(n&&"boolean"!=typeof n&&Do(t,e,n)&&(e=n=rt),n===rt&&("boolean"==typeof e?(n=e,e=rt):"boolean"==typeof t&&(n=t,t=rt)),t===rt&&e===rt?(t=0,e=1):(t=bl(t),e===rt?(e=t,t=0):e=bl(e)),t>e){var i=t;t=e,e=i}if(n||t%1||e%1){var r=$c();return qc(t+r*(e-t+Ln("1e-"+((r+"").length-1))),e)}return Qi(t,e)}function ru(t){return $p(Al(t).toLowerCase())}function ou(t){return(t=Al(t))&&t.replace($e,qn).replace(mn,"")}function au(t,e,n){t=Al(t),e=dr(e);var i=t.length;n=n===rt?i:ni(wl(n),0,i);var r=n;return(n-=e.length)>=0&&t.slice(n,r)==e}function su(t){return t=Al(t),t&&Me.test(t)?t.replace(we,Yn):t}function lu(t){return t=Al(t),t&&Re.test(t)?t.replace(Ie,"\\$&"):t}function uu(t,e,n){t=Al(t),e=wl(e);var i=e?Q(t):0;if(!e||i>=e)return t;var r=(e-i)/2;return no(Fc(r),n)+t+no(Nc(r),n)}function cu(t,e,n){t=Al(t),e=wl(e);var i=e?Q(t):0;return e&&i<e?t+no(e-i,n):t}function hu(t,e,n){t=Al(t),e=wl(e);var i=e?Q(t):0;return e&&i<e?no(e-i,n)+t:t}function pu(t,e,n){return n||null==e?e=0:e&&(e=+e),Xc(Al(t).replace(Oe,""),e||0)}function du(t,e,n){return e=(n?Do(t,e,n):e===rt)?1:wl(e),er(Al(t),e)}function fu(){var t=arguments,e=Al(t[0]);return t.length<3?e:e.replace(t[1],t[2])}function yu(t,e,n){return n&&"number"!=typeof n&&Do(t,e,n)&&(e=n=rt),(n=n===rt?Dt:n>>>0)?(t=Al(t),t&&("string"==typeof e||null!=e&&!bp(e))&&!(e=dr(e))&&G(t)?Mr(tt(t),0,n):t.split(e,n)):[]}function mu(t,e,n){return t=Al(t),n=null==n?0:ni(wl(n),0,t.length),e=dr(e),t.slice(n,n+e.length)==e}function vu(t,e,i){var r=n.templateSettings;i&&Do(t,e,i)&&(e=rt),t=Al(t),e=Cp({},e,r,co);var o,a,s=Cp({},e.imports,r.imports,co),l=Ul(s),u=D(s,l),c=0,h=e.interpolate||Ze,p="__p += '",d=lc((e.escape||Ze).source+"|"+h.source+"|"+(h===Ae?Ve:Ze).source+"|"+(e.evaluate||Ze).source+"|$","g"),f="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++wn+"]")+"\n";t.replace(d,function(e,n,i,r,s,l){return i||(i=r),p+=t.slice(c,l).replace(Je,j),n&&(o=!0,p+="' +\n__e("+n+") +\n'"),s&&(a=!0,p+="';\n"+s+";\n__p += '"),i&&(p+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),c=l+e.length,e}),p+="';\n";var y=e.variable;y||(p="with (obj) {\n"+p+"\n}\n"),p=(a?p.replace(ge,""):p).replace(xe,"$1").replace(_e,"$1;"),p="function("+(y||"obj")+") {\n"+(y?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var m=Zp(function(){return oc(l,f+"return "+p).apply(rt,u)});if(m.source=p,Qs(m))throw m;return m}function gu(t){return Al(t).toLowerCase()}function xu(t){return Al(t).toUpperCase()}function _u(t,e,n){if((t=Al(t))&&(n||e===rt))return t.replace(ze,"");if(!t||!(e=dr(e)))return t;var i=tt(t),r=tt(e);return Mr(i,N(i,r),F(i,r)+1).join("")}function bu(t,e,n){if((t=Al(t))&&(n||e===rt))return t.replace(De,"");if(!t||!(e=dr(e)))return t;var i=tt(t);return Mr(i,0,F(i,tt(e))+1).join("")}function wu(t,e,n){if((t=Al(t))&&(n||e===rt))return t.replace(Oe,"");if(!t||!(e=dr(e)))return t;var i=tt(t);return Mr(i,N(i,tt(e))).join("")}function Eu(t,e){var n=St,i=At;if(rl(e)){var r="separator"in e?e.separator:r;n="length"in e?wl(e.length):n,i="omission"in e?dr(e.omission):i}t=Al(t);var o=t.length;if(G(t)){var a=tt(t);o=a.length}if(n>=o)return t;var s=n-Q(i);if(s<1)return i;var l=a?Mr(a,0,s).join(""):t.slice(0,s);if(r===rt)return l+i;if(a&&(s+=l.length-s),bp(r)){if(t.slice(s).search(r)){var u,c=l;for(r.global||(r=lc(r.source,Al(Ge.exec(r))+"g")),r.lastIndex=0;u=r.exec(c);)var h=u.index;l=l.slice(0,h===rt?s:h)}}else if(t.indexOf(dr(r),s)!=s){var p=l.lastIndexOf(r);p>-1&&(l=l.slice(0,p))}return l+i}function Mu(t){return t=Al(t),t&&Ee.test(t)?t.replace(be,Xn):t}function Tu(t,e,n){return t=Al(t),e=n?rt:e,e===rt?H(t)?it(t):b(t):t.match(e)||[]}function Su(t){var e=null==t?0:t.length,n=wo();return t=e?y(t,function(t){if("function"!=typeof t[1])throw new cc(st);return[n(t[0]),t[1]]}):[],nr(function(n){for(var i=-1;++i<e;){var r=t[i];if(s(r[0],this,n))return s(r[1],this,n)}})}function Au(t){return ri(ii(t,ht))}function Cu(t){return function(){return t}}function Lu(t,e){return null==t||t!==t?e:t}function ku(t){return t}function Pu(t){return Bi("function"==typeof t?t:ii(t,ht))}function Iu(t){return Vi(ii(t,ht))}function Ru(t,e){return Gi(t,ii(e,ht))}function zu(t,e,n){var i=Ul(e),r=yi(e,i);null!=n||rl(e)&&(r.length||!i.length)||(n=e,e=t,t=this,r=yi(e,Ul(e)));var o=!(rl(n)&&"chain"in n)||!!n.chain,a=el(t);return u(r,function(n){var i=e[n];t[n]=i,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__);return(n.__actions__=Br(this.__actions__)).push({func:i,args:arguments,thisArg:t}),n.__chain__=e,n}return i.apply(t,m([this.value()],arguments))})}),t}function Ou(){return Rn._===this&&(Rn._=bc),this}function Du(){}function Bu(t){return t=wl(t),nr(function(e){return qi(e,t)})}function Nu(t){return Bo(t)?C(Qo(t)):Zi(t)}function Fu(t){return function(e){return null==t?rt:mi(t,e)}}function Uu(){return[]}function ju(){return!1}function Vu(){return{}}function Gu(){return""}function Hu(){return!0}function Wu(t,e){if((t=wl(t))<1||t>Rt)return[];var n=Dt,i=qc(t,Dt);e=wo(e),t-=Dt;for(var r=R(i,e);++n<t;)e(n);return r}function qu(t){return mp(t)?y(t,Qo):ml(t)?[t]:Br(Ph(Al(t)))}function Yu(t){var e=++vc;return Al(t)+e}function Xu(t){return t&&t.length?ui(t,ku,xi):rt}function $u(t,e){return t&&t.length?ui(t,wo(e,2),xi):rt}function Zu(t){return A(t,ku)}function Ju(t,e){return A(t,wo(e,2))}function Ku(t){return t&&t.length?ui(t,ku,Ui):rt}function Qu(t,e){return t&&t.length?ui(t,wo(e,2),Ui):rt}function tc(t){return t&&t.length?I(t,ku):0}function ec(t,e){return t&&t.length?I(t,wo(e,2)):0}e=null==e?Rn:$n.defaults(Rn.Object(),e,$n.pick(Rn,bn));var nc=e.Array,ic=e.Date,rc=e.Error,oc=e.Function,ac=e.Math,sc=e.Object,lc=e.RegExp,uc=e.String,cc=e.TypeError,hc=nc.prototype,pc=oc.prototype,dc=sc.prototype,fc=e["__core-js_shared__"],yc=pc.toString,mc=dc.hasOwnProperty,vc=0,gc=function(){var t=/[^.]+$/.exec(fc&&fc.keys&&fc.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),xc=dc.toString,_c=yc.call(sc),bc=Rn._,wc=lc("^"+yc.call(mc).replace(Ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ec=Dn?e.Buffer:rt,Mc=e.Symbol,Tc=e.Uint8Array,Sc=Ec?Ec.allocUnsafe:rt,Ac=Y(sc.getPrototypeOf,sc),Cc=sc.create,Lc=dc.propertyIsEnumerable,kc=hc.splice,Pc=Mc?Mc.isConcatSpreadable:rt,Ic=Mc?Mc.iterator:rt,Rc=Mc?Mc.toStringTag:rt,zc=function(){try{var t=To(sc,"defineProperty");return t({},"",{}),t}catch(t){}}(),Oc=e.clearTimeout!==Rn.clearTimeout&&e.clearTimeout,Dc=ic&&ic.now!==Rn.Date.now&&ic.now,Bc=e.setTimeout!==Rn.setTimeout&&e.setTimeout,Nc=ac.ceil,Fc=ac.floor,Uc=sc.getOwnPropertySymbols,jc=Ec?Ec.isBuffer:rt,Vc=e.isFinite,Gc=hc.join,Hc=Y(sc.keys,sc),Wc=ac.max,qc=ac.min,Yc=ic.now,Xc=e.parseInt,$c=ac.random,Zc=hc.reverse,Jc=To(e,"DataView"),Kc=To(e,"Map"),Qc=To(e,"Promise"),th=To(e,"Set"),eh=To(e,"WeakMap"),nh=To(sc,"create"),ih=eh&&new eh,rh={},oh=ta(Jc),ah=ta(Kc),sh=ta(Qc),lh=ta(th),uh=ta(eh),ch=Mc?Mc.prototype:rt,hh=ch?ch.valueOf:rt,ph=ch?ch.toString:rt,dh=function(){function t(){}return function(e){if(!rl(e))return{};if(Cc)return Cc(e);t.prototype=e;var n=new t;return t.prototype=rt,n}}();n.templateSettings={escape:Te,evaluate:Se,interpolate:Ae,variable:"",imports:{_:n}},n.prototype=i.prototype,n.prototype.constructor=n,r.prototype=dh(i.prototype),r.prototype.constructor=r,_.prototype=dh(i.prototype),_.prototype.constructor=_,nt.prototype.clear=Ue,nt.prototype.delete=Ke,nt.prototype.get=Qe,nt.prototype.has=tn,nt.prototype.set=en,nn.prototype.clear=rn,nn.prototype.delete=on,nn.prototype.get=an,nn.prototype.has=sn,nn.prototype.set=ln,un.prototype.clear=cn,un.prototype.delete=hn,un.prototype.get=pn,un.prototype.has=dn,un.prototype.set=fn,vn.prototype.add=vn.prototype.push=gn,vn.prototype.has=xn,_n.prototype.clear=Tn,_n.prototype.delete=Sn,_n.prototype.get=An,_n.prototype.has=Cn,_n.prototype.set=Pn;var fh=Gr(di),yh=Gr(fi,!0),mh=Hr(),vh=Hr(!0),gh=ih?function(t,e){return ih.set(t,e),t}:ku,xh=zc?function(t,e){return zc(t,"toString",{configurable:!0,enumerable:!1,value:Cu(e),writable:!0})}:ku,_h=nr,bh=Oc||function(t){return Rn.clearTimeout(t)},wh=th&&1/$(new th([,-0]))[1]==It?function(t){return new th(t)}:Du,Eh=ih?function(t){return ih.get(t)}:Du,Mh=Uc?function(t){return null==t?[]:(t=sc(t),p(Uc(t),function(e){return Lc.call(t,e)}))}:Uu,Th=Uc?function(t){for(var e=[];t;)m(e,Mh(t)),t=Ac(t);return e}:Uu,Sh=gi;(Jc&&Sh(new Jc(new ArrayBuffer(1)))!=le||Kc&&Sh(new Kc)!=$t||Qc&&"[object Promise]"!=Sh(Qc.resolve())||th&&Sh(new th)!=ee||eh&&Sh(new eh)!=oe)&&(Sh=function(t){var e=gi(t),n=e==Kt?t.constructor:rt,i=n?ta(n):"";if(i)switch(i){case oh:return le;case ah:return $t;case sh:return"[object Promise]";case lh:return ee;case uh:return oe}return e});var Ah=fc?el:ju,Ch=Jo(gh),Lh=Bc||function(t,e){return Rn.setTimeout(t,e)},kh=Jo(xh),Ph=function(t){var e=Ps(t,function(t){return n.size===ut&&n.clear(),t}),n=e.cache;return e}(function(t){var e=[];return ke.test(t)&&e.push(""),t.replace(Pe,function(t,n,i,r){e.push(i?r.replace(je,"$1"):n||t)}),e}),Ih=nr(function(t,e){return Ys(t)?si(t,pi(e,1,Ys,!0)):[]}),Rh=nr(function(t,e){var n=ba(e);return Ys(n)&&(n=rt),Ys(t)?si(t,pi(e,1,Ys,!0),wo(n,2)):[]}),zh=nr(function(t,e){var n=ba(e);return Ys(n)&&(n=rt),Ys(t)?si(t,pi(e,1,Ys,!0),rt,n):[]}),Oh=nr(function(t){var e=y(t,br);return e.length&&e[0]===t[0]?Ei(e):[]}),Dh=nr(function(t){var e=ba(t),n=y(t,br);return e===ba(n)?e=rt:n.pop(),n.length&&n[0]===t[0]?Ei(n,wo(e,2)):[]}),Bh=nr(function(t){var e=ba(t),n=y(t,br);return e="function"==typeof e?e:rt,e&&n.pop(),n.length&&n[0]===t[0]?Ei(n,rt,e):[]}),Nh=nr(Ma),Fh=vo(function(t,e){var n=null==t?0:t.length,i=ei(t,e);return Ki(t,y(e,function(t){return Oo(t,n)?+t:t}).sort(Rr)),i}),Uh=nr(function(t){return fr(pi(t,1,Ys,!0))}),jh=nr(function(t){var e=ba(t);return Ys(e)&&(e=rt),fr(pi(t,1,Ys,!0),wo(e,2))}),Vh=nr(function(t){var e=ba(t);return e="function"==typeof e?e:rt,fr(pi(t,1,Ys,!0),rt,e)}),Gh=nr(function(t,e){return Ys(t)?si(t,e):[]}),Hh=nr(function(t){return xr(p(t,Ys))}),Wh=nr(function(t){var e=ba(t);return Ys(e)&&(e=rt),xr(p(t,Ys),wo(e,2))}),qh=nr(function(t){var e=ba(t);return e="function"==typeof e?e:rt,xr(p(t,Ys),rt,e)}),Yh=nr(qa),Xh=nr(function(t){var e=t.length,n=e>1?t[e-1]:rt;return n="function"==typeof n?(t.pop(),n):rt,Ya(t,n)}),$h=vo(function(t){var e=t.length,n=e?t[0]:0,i=this.__wrapped__,o=function(e){return ei(e,t)};return!(e>1||this.__actions__.length)&&i instanceof _&&Oo(n)?(i=i.slice(n,+n+(e?1:0)),i.__actions__.push({func:Ka,args:[o],thisArg:rt}),new r(i,this.__chain__).thru(function(t){return e&&!t.length&&t.push(rt),t})):this.thru(o)}),Zh=jr(function(t,e,n){mc.call(t,n)?++t[n]:ti(t,n,1)}),Jh=Zr(ha),Kh=Zr(pa),Qh=jr(function(t,e,n){mc.call(t,n)?t[n].push(e):ti(t,n,[e])}),tp=nr(function(t,e,n){var i=-1,r="function"==typeof e,o=qs(t)?nc(t.length):[];return fh(t,function(t){o[++i]=r?s(e,t,n):Ti(t,e,n)}),o}),ep=jr(function(t,e,n){ti(t,n,e)}),np=jr(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),ip=nr(function(t,e){if(null==t)return[];var n=e.length;return n>1&&Do(t,e[0],e[1])?e=[]:n>2&&Do(e[0],e[1],e[2])&&(e=[e[0]]),Yi(t,pi(e,1),[])}),rp=Dc||function(){return Rn.Date.now()},op=nr(function(t,e,n){var i=mt;if(n.length){var r=X(n,bo(op));i|=bt}return uo(t,i,e,n,r)}),ap=nr(function(t,e,n){var i=mt|vt;if(n.length){var r=X(n,bo(ap));i|=bt}return uo(e,i,t,n,r)}),sp=nr(function(t,e){return ai(t,1,e)}),lp=nr(function(t,e,n){return ai(t,Ml(e)||0,n)});Ps.Cache=un;var up=_h(function(t,e){e=1==e.length&&mp(e[0])?y(e[0],O(wo())):y(pi(e,1),O(wo()));var n=e.length;return nr(function(i){for(var r=-1,o=qc(i.length,n);++r<o;)i[r]=e[r].call(this,i[r]);return s(t,this,i)})}),cp=nr(function(t,e){var n=X(e,bo(cp));return uo(t,bt,rt,e,n)}),hp=nr(function(t,e){var n=X(e,bo(hp));return uo(t,wt,rt,e,n)}),pp=vo(function(t,e){return uo(t,Mt,rt,rt,rt,e)}),dp=oo(xi),fp=oo(function(t,e){return t>=e}),yp=Si(function(){return arguments}())?Si:function(t){return ol(t)&&mc.call(t,"callee")&&!Lc.call(t,"callee")},mp=nc.isArray,vp=Fn?O(Fn):Ai,gp=jc||ju,xp=Un?O(Un):Ci,_p=jn?O(jn):Pi,bp=Vn?O(Vn):zi,wp=Gn?O(Gn):Oi,Ep=Hn?O(Hn):Di,Mp=oo(Ui),Tp=oo(function(t,e){return t<=e}),Sp=Vr(function(t,e){if(jo(e)||qs(e))return void Nr(e,Ul(e),t);for(var n in e)mc.call(e,n)&&Wn(t,n,e[n])}),Ap=Vr(function(t,e){Nr(e,jl(e),t)}),Cp=Vr(function(t,e,n,i){Nr(e,jl(e),t,i)}),Lp=Vr(function(t,e,n,i){Nr(e,Ul(e),t,i)}),kp=vo(ei),Pp=nr(function(t){return t.push(rt,co),s(Cp,rt,t)}),Ip=nr(function(t){return t.push(rt,ho),s(Bp,rt,t)}),Rp=Qr(function(t,e,n){t[e]=n},Cu(ku)),zp=Qr(function(t,e,n){mc.call(t,e)?t[e].push(n):t[e]=[n]},wo),Op=nr(Ti),Dp=Vr(function(t,e,n){Hi(t,e,n)}),Bp=Vr(function(t,e,n,i){Hi(t,e,n,i)}),Np=vo(function(t,e){var n={};if(null==t)return n;var i=!1;e=y(e,function(e){return e=Er(e,t),i||(i=e.length>1),e}),Nr(t,xo(t),n),i&&(n=ii(n,ht|pt|dt,po));for(var r=e.length;r--;)yr(n,e[r]);return n}),Fp=vo(function(t,e){return null==t?{}:Xi(t,e)}),Up=lo(Ul),jp=lo(jl),Vp=Yr(function(t,e,n){return e=e.toLowerCase(),t+(n?ru(e):e)}),Gp=Yr(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),Hp=Yr(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),Wp=qr("toLowerCase"),qp=Yr(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),Yp=Yr(function(t,e,n){return t+(n?" ":"")+$p(e)}),Xp=Yr(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),$p=qr("toUpperCase"),Zp=nr(function(t,e){try{return s(t,rt,e)}catch(t){return Qs(t)?t:new rc(t)}}),Jp=vo(function(t,e){return u(e,function(e){e=Qo(e),ti(t,e,op(t[e],t))}),t}),Kp=Jr(),Qp=Jr(!0),td=nr(function(t,e){return function(n){return Ti(n,t,e)}}),ed=nr(function(t,e){return function(n){return Ti(t,n,e)}}),nd=eo(y),id=eo(h),rd=eo(x),od=ro(),ad=ro(!0),sd=to(function(t,e){return t+e},0),ld=so("ceil"),ud=to(function(t,e){return t/e},1),cd=so("floor"),hd=to(function(t,e){return t*e},1),pd=so("round"),dd=to(function(t,e){return t-e},0);return n.after=Ms,n.ary=Ts,n.assign=Sp,n.assignIn=Ap,n.assignInWith=Cp,n.assignWith=Lp,n.at=kp,n.before=Ss,n.bind=op,n.bindAll=Jp,n.bindKey=ap,n.castArray=Fs,n.chain=Za,n.chunk=ia,n.compact=ra,n.concat=oa,n.cond=Su,n.conforms=Au,n.constant=Cu,n.countBy=Zh,n.create=Cl,n.curry=As,n.curryRight=Cs,n.debounce=Ls,n.defaults=Pp,n.defaultsDeep=Ip,n.defer=sp,n.delay=lp,n.difference=Ih,n.differenceBy=Rh,n.differenceWith=zh,n.drop=aa,n.dropRight=sa,n.dropRightWhile=la,n.dropWhile=ua,n.fill=ca,n.filter=ss,n.flatMap=ls,n.flatMapDeep=us,n.flatMapDepth=cs,n.flatten=da,n.flattenDeep=fa,n.flattenDepth=ya,n.flip=ks,n.flow=Kp,n.flowRight=Qp,n.fromPairs=ma,n.functions=Ol,n.functionsIn=Dl,n.groupBy=Qh,n.initial=xa,n.intersection=Oh,n.intersectionBy=Dh,n.intersectionWith=Bh,n.invert=Rp,n.invertBy=zp,n.invokeMap=tp,n.iteratee=Pu,n.keyBy=ep,n.keys=Ul,n.keysIn=jl,n.map=fs,n.mapKeys=Vl,n.mapValues=Gl,n.matches=Iu,n.matchesProperty=Ru,n.memoize=Ps,n.merge=Dp,n.mergeWith=Bp,n.method=td,n.methodOf=ed,n.mixin=zu,n.negate=Is,n.nthArg=Bu,n.omit=Np,n.omitBy=Hl,n.once=Rs,n.orderBy=ys,n.over=nd,n.overArgs=up,n.overEvery=id,n.overSome=rd,n.partial=cp,n.partialRight=hp,n.partition=np,n.pick=Fp,n.pickBy=Wl,n.property=Nu,n.propertyOf=Fu,n.pull=Nh,n.pullAll=Ma,n.pullAllBy=Ta,n.pullAllWith=Sa,n.pullAt=Fh,n.range=od,n.rangeRight=ad,n.rearg=pp,n.reject=gs,n.remove=Aa,n.rest=zs,n.reverse=Ca,n.sampleSize=_s,n.set=Yl,n.setWith=Xl,n.shuffle=bs,n.slice=La,n.sortBy=ip,n.sortedUniq=Da,n.sortedUniqBy=Ba,n.split=yu,n.spread=Os,n.tail=Na,n.take=Fa,n.takeRight=Ua,n.takeRightWhile=ja,n.takeWhile=Va,n.tap=Ja,n.throttle=Ds,n.thru=Ka,n.toArray=_l,n.toPairs=Up,n.toPairsIn=jp,n.toPath=qu,n.toPlainObject=Tl,n.transform=$l,n.unary=Bs,n.union=Uh,n.unionBy=jh,n.unionWith=Vh,n.uniq=Ga,n.uniqBy=Ha,n.uniqWith=Wa,n.unset=Zl,n.unzip=qa,n.unzipWith=Ya,n.update=Jl,n.updateWith=Kl,n.values=Ql,n.valuesIn=tu,n.without=Gh,n.words=Tu,n.wrap=Ns,n.xor=Hh,n.xorBy=Wh,n.xorWith=qh,n.zip=Yh,n.zipObject=Xa,n.zipObjectDeep=$a,n.zipWith=Xh,n.entries=Up,n.entriesIn=jp,n.extend=Ap,n.extendWith=Cp,zu(n,n),n.add=sd,n.attempt=Zp,n.camelCase=Vp,n.capitalize=ru,n.ceil=ld,n.clamp=eu,n.clone=Us,n.cloneDeep=Vs,n.cloneDeepWith=Gs,n.cloneWith=js,n.conformsTo=Hs,n.deburr=ou,n.defaultTo=Lu,n.divide=ud,n.endsWith=au,n.eq=Ws,n.escape=su,n.escapeRegExp=lu,n.every=as,n.find=Jh,n.findIndex=ha,n.findKey=Ll,n.findLast=Kh,n.findLastIndex=pa,n.findLastKey=kl,n.floor=cd,n.forEach=hs,n.forEachRight=ps,n.forIn=Pl,n.forInRight=Il,n.forOwn=Rl,n.forOwnRight=zl,n.get=Bl,n.gt=dp,n.gte=fp,n.has=Nl,n.hasIn=Fl,n.head=va,n.identity=ku,n.includes=ds,n.indexOf=ga,n.inRange=nu,n.invoke=Op,n.isArguments=yp,n.isArray=mp,n.isArrayBuffer=vp,n.isArrayLike=qs,n.isArrayLikeObject=Ys,n.isBoolean=Xs,n.isBuffer=gp,n.isDate=xp,n.isElement=$s,n.isEmpty=Zs,n.isEqual=Js,n.isEqualWith=Ks,n.isError=Qs,n.isFinite=tl,n.isFunction=el,n.isInteger=nl,n.isLength=il,n.isMap=_p,n.isMatch=al,n.isMatchWith=sl,n.isNaN=ll,n.isNative=ul,n.isNil=hl,n.isNull=cl,n.isNumber=pl,n.isObject=rl,n.isObjectLike=ol,n.isPlainObject=dl,n.isRegExp=bp,n.isSafeInteger=fl,n.isSet=wp,n.isString=yl,n.isSymbol=ml,n.isTypedArray=Ep,n.isUndefined=vl,n.isWeakMap=gl,n.isWeakSet=xl,n.join=_a,n.kebabCase=Gp,n.last=ba,n.lastIndexOf=wa,n.lowerCase=Hp,n.lowerFirst=Wp,n.lt=Mp,n.lte=Tp,n.max=Xu,n.maxBy=$u,n.mean=Zu,n.meanBy=Ju,n.min=Ku,n.minBy=Qu,n.stubArray=Uu,n.stubFalse=ju,n.stubObject=Vu,n.stubString=Gu,n.stubTrue=Hu,n.multiply=hd,n.nth=Ea,n.noConflict=Ou,n.noop=Du,n.now=rp,n.pad=uu,n.padEnd=cu,n.padStart=hu,n.parseInt=pu,n.random=iu,n.reduce=ms,n.reduceRight=vs,n.repeat=du,n.replace=fu,n.result=ql,n.round=pd,n.runInContext=t,n.sample=xs,n.size=ws,n.snakeCase=qp,n.some=Es,n.sortedIndex=ka,n.sortedIndexBy=Pa,n.sortedIndexOf=Ia,n.sortedLastIndex=Ra,n.sortedLastIndexBy=za,n.sortedLastIndexOf=Oa,n.startCase=Yp,n.startsWith=mu,n.subtract=dd,n.sum=tc,n.sumBy=ec,n.template=vu,n.times=Wu,n.toFinite=bl,n.toInteger=wl,n.toLength=El,n.toLower=gu,n.toNumber=Ml,n.toSafeInteger=Sl,n.toString=Al,n.toUpper=xu,n.trim=_u,n.trimEnd=bu,n.trimStart=wu,n.truncate=Eu,n.unescape=Mu,n.uniqueId=Yu,n.upperCase=Xp,n.upperFirst=$p,n.each=hs,n.eachRight=ps,n.first=va,zu(n,function(){var t={};return di(n,function(e,i){mc.call(n.prototype,i)||(t[i]=e)}),t}(),{chain:!1}),n.VERSION="4.17.4",u(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){n[t].placeholder=n}),u(["drop","take"],function(t,e){_.prototype[t]=function(n){n=n===rt?1:Wc(wl(n),0);var i=this.__filtered__&&!e?new _(this):this.clone();return i.__filtered__?i.__takeCount__=qc(n,i.__takeCount__):i.__views__.push({size:qc(n,Dt),type:t+(i.__dir__<0?"Right":"")}),i},_.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),u(["filter","map","takeWhile"],function(t,e){var n=e+1,i=n==kt||3==n;_.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:wo(t,3),type:n}),e.__filtered__=e.__filtered__||i,e}}),u(["head","last"],function(t,e){var n="take"+(e?"Right":"");_.prototype[t]=function(){return this[n](1).value()[0]}}),u(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");_.prototype[t]=function(){return this.__filtered__?new _(this):this[n](1)}}),_.prototype.compact=function(){return this.filter(ku)},_.prototype.find=function(t){return this.filter(t).head()},_.prototype.findLast=function(t){return this.reverse().find(t)},_.prototype.invokeMap=nr(function(t,e){return"function"==typeof t?new _(this):this.map(function(n){return Ti(n,t,e)})}),_.prototype.reject=function(t){return this.filter(Is(wo(t)))},_.prototype.slice=function(t,e){t=wl(t);var n=this;return n.__filtered__&&(t>0||e<0)?new _(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==rt&&(e=wl(e),n=e<0?n.dropRight(-e):n.take(e-t)),n)},_.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},_.prototype.toArray=function(){return this.take(Dt)},di(_.prototype,function(t,e){var i=/^(?:filter|find|map|reject)|While$/.test(e),o=/^(?:head|last)$/.test(e),a=n[o?"take"+("last"==e?"Right":""):e],s=o||/^find/.test(e);a&&(n.prototype[e]=function(){var e=this.__wrapped__,l=o?[1]:arguments,u=e instanceof _,c=l[0],h=u||mp(e),p=function(t){var e=a.apply(n,m([t],l));return o&&d?e[0]:e};h&&i&&"function"==typeof c&&1!=c.length&&(u=h=!1);var d=this.__chain__,f=!!this.__actions__.length,y=s&&!d,v=u&&!f;if(!s&&h){e=v?e:new _(this);var g=t.apply(e,l);return g.__actions__.push({func:Ka,args:[p],thisArg:rt}),new r(g,d)}return y&&v?t.apply(this,l):(g=this.thru(p),y?o?g.value()[0]:g.value():g)})}),u(["pop","push","shift","sort","splice","unshift"],function(t){var e=hc[t],i=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);n.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var n=this.value();return e.apply(mp(n)?n:[],t)}return this[i](function(n){return e.apply(mp(n)?n:[],t)})}}),di(_.prototype,function(t,e){var i=n[e];if(i){var r=i.name+"";(rh[r]||(rh[r]=[])).push({name:e,func:i})}}),rh[Kr(rt,vt).name]=[{name:"wrapper",func:rt}],_.prototype.clone=L,_.prototype.reverse=J,_.prototype.value=et,n.prototype.at=$h,n.prototype.chain=Qa,n.prototype.commit=ts,n.prototype.next=es,n.prototype.plant=is,n.prototype.reverse=rs,n.prototype.toJSON=n.prototype.valueOf=n.prototype.value=os,n.prototype.first=n.prototype.head,Ic&&(n.prototype[Ic]=ns),n}();Rn._=$n,(r=function(){return $n}.call(e,n,e,i))!==rt&&(i.exports=r)}).call(this)}).call(e,n(2),n(6)(t))},function(t,e){},function(t,e){},function(t,e,n){"use strict";n(68),n(69),n(70),n(71),n(76),n(77),n(78),n(79),n(82)},function(t,e,n){"use strict";var i=n(1);n.n(i);setTimeout(function(){new i(document.querySelector(".widget-cover-slider .swiper-container"),{direction:"vertical",effect:"fade",speed:800,fadeEffect:{crossFade:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},autoplay:{delay:5e3}})},100)},function(t,e,n){"use strict";var i=n(1);n.n(i);setTimeout(function(){document.querySelectorAll(".widget-testimonial-slider").forEach(function(t){new i(t.querySelector(" .swiper-container"),{slidesPerView:"auto",spaceBetween:20,pagination:{el:t.querySelector(".swiper-nav"),clickable:!0},navigation:{nextEl:t.querySelector(".swiper-next"),prevEl:t.querySelector(".swiper-prev")}})})},100)},function(t,e,n){"use strict";var i=n(1);n.n(i);setTimeout(function(){document.querySelectorAll(".widget-twitter-slider").forEach(function(t){new i(t.querySelector(" .swiper-container"),{slidesPerView:3,spaceBetween:40,pagination:{el:t.querySelector(".swiper-nav"),clickable:!0},navigation:{nextEl:t.querySelector(".swiper-next"),prevEl:t.querySelector(".swiper-prev")},breakpoints:{960:{slidesPerView:2},720:{slidesPerView:1}}})})},100)},function(t,e,n){"use strict";var i=n(72),r=document.querySelector(".widget-globe");if(r)if(window.WebGLRenderingContext){Object(i.a)();var o=r.querySelectorAll(".change-country");o.forEach(function(t){t.onclick=function(e,n){e.preventDefault(),Object(i.b)(t.dataset.location)}})}else Object(i.c)()},function(t,e,n){"use strict";function i(){var t=new XMLHttpRequest;t.open("GET","/en/locations.json",!0),t.onload=function(){t.status>=200&&t.status<400?(A=JSON.parse(t.responseText),o()):r()},t.onerror=r,t.send()}function r(){alert("WebGL not supported. Please use a browser that supports WebGL.")}function o(){M=R.getElementsByClassName("js-canvas")[0],T=new P.Scene,S=new P.WebGLRenderer({canvas:M,antialias:!0,alpha:!0,shadowMapEnabled:!1}),S.setSize(M.clientWidth,M.clientHeight),S.setPixelRatio(1),S.setClearColor(0,0),O.main=new P.Group,O.main.name="Main",O.lines=new P.Group,O.lines.name="Lines",O.main.add(O.lines),T.add(O.main),a(),s(),h(),Object.keys(A.countries).length>0&&(d(),f()),l(),c();var t=function(){R.width=M.innerWidth,R.style.width=M.innerWidth+"px",B.object.aspect=R.offsetWidth/R.offsetHeight,B.object.updateProjectionMatrix(),S.setSize(R.offsetWidth,R.offsetHeight)};window.addEventListener("resize",t),window.addEventListener("orientationchange",function(){setTimeout(t,0)}),t()}function a(){B.object=new P.PerspectiveCamera(60,M.clientWidth/M.clientHeight,1,1e4),B.object.position.z=2.2*D.globeRadius}function s(){B.controls=new L.a(B.object,M),B.controls.enableKeys=!1,B.controls.enablePan=!1,B.controls.enableZoom=!1,B.controls.enableDamping=!1,B.controls.enableRotate=!1,B.angles.current.azimuthal=-Math.PI,B.angles.current.polar=0}function l(){S.render(T,B.object)}function u(t){var e={focus:"visible",focusin:"visible",pageshow:"visible",blur:"hidden",focusout:"hidden",pagehide:"hidden"};t=t||window.event,F=t.type in e}function c(){!1===F&&requestAnimationFrame(c),O.globeDots&&m(),!0===N.countries.animating&&g(),y(),B.controls.update(),l()}function h(){(new P.TextureLoader).setCrossOrigin(!0);var t=D.globeRadius-.02*D.globeRadius,e=document.createElement("canvas");e.width=128,e.height=128;var n=e.getContext("2d");n.rect(0,0,128,128);var i=n.createLinearGradient(0,0,0,128);n.fillStyle=i,n.fill();var r=new P.Texture(e);r.needsUpdate=!0;var o=new P.SphereGeometry(t,64,64),a=new P.MeshBasicMaterial({map:r,transparent:!0,opacity:0});C=new P.Mesh(o,a),O.globe=new P.Group,O.globe.name="Globe",O.globe.add(C),O.main.add(O.globe),p()}function p(){var t=new P.Geometry,e=document.createElement("canvas");e.width=16,e.height=16;var n=e.getContext("2d");n.beginPath(),n.arc(8,8,8,0,2*Math.PI),n.fillStyle=D.colours.globeDots,n.fill();var i=new P.Texture(e);i.needsUpdate=!0;for(var r=new P.PointsMaterial({map:i,size:D.globeRadius/120}),o=function(e,n){var i=new P.Vector3(0,0,0);t.vertices.push(i);var r=_(e,n);N.dots.points.push(new P.Vector3(r.x,r.y,r.z))},a=0;a<I.a.length;a++)o(I.a[a].x,I.a[a].y);for(var s in A.countries)o(A.countries[s].x,A.countries[s].y);O.globeDots=new P.Points(t,r),O.globe.add(O.globeDots)}function d(){var t=new P.Geometry;for(var e in A.countries){var n=new P.Group;n.name=e;for(var i in A.countries)if(e!==i){var r=b(A.countries[e].x,A.countries[e].y,A.countries[i].x,A.countries[i].y),o=new P.QuadraticBezierCurve3(new P.Vector3(r.start.x,r.start.y,r.start.z),new P.Vector3(r.mid.x,r.mid.y,r.mid.z),new P.Vector3(r.end.x,r.end.y,r.end.z));t.vertices=o.getPoints(200);var a=new k.MeshLine;a.setGeometry(t);var s=new k.MeshLineMaterial({color:D.colours.lines,transparent:!0,opacity:D.alphas.lines}),l=new P.Mesh(a.geometry,s);l._path=t.vertices,n.add(l)}n.visible=!1,O.lines.add(n)}}function f(){U=document.getElementsByClassName("js-list")[0];var t=0;for(var e in A.countries){var n=O.lines.getObjectByName(e),i=n.children[0]._path[0];if(function(t,e){var n=document.createElement("li"),i=A.countries[e];n.innerHTML='<a href="'+i.url+'"><span class="text">'+i.country+"</span></a>";var r={position:t,element:n};U.appendChild(n),z[e]=r}(i,e),e===D.startingCountry){N.countries.index=t,N.countries.selected=O.lines.getObjectByName(e);var r=N.countries.selected;r.visible=!0;for(var o=0;o<r.children.length;o++)r.children[o].material.uniforms.opacity.value=0;var a=E(A.countries[e].x,A.countries[e].y);B.angles.target.azimuthal=a.azimuthal,B.angles.target.polar=a.polar}else t++}}function y(){var t=M.clientWidth/2,e=M.clientHeight/2;for(var n in z){var i=z[n],r=w(t,e,i.position),o=r.x+"px",a=r.y+"px",s=i.element.style;s.webkitTransform="translate3D("+o+", "+a+", 0)",s.WebkitTransform="translate3D("+o+", "+a+", 0)",s.mozTransform="translate3D("+o+", "+a+", 0)",s.msTransform="translate3D("+o+", "+a+", 0)",s.oTransform="translate3D("+o+", "+a+", 0)",s.transform="translate3D("+o+", "+a+", 0)"}}function m(){if(N.dots.current<=N.dots.total){for(var t=O.globeDots.geometry.vertices,e=t.length,n=0;n<e;n++){var i=j(N.dots.current/N.dots.total);if(i+=i*(n/e),i>1&&(i=1),t[n].x=N.dots.points[n].x*i,t[n].y=N.dots.points[n].y*i,t[n].z=N.dots.points[n].z*i,0===n){var r=(B.angles.current.azimuthal-B.angles.target.azimuthal)*i;r=B.angles.current.azimuthal-r,B.controls.setAzimuthalAngle(r);var o=(B.angles.current.polar-B.angles.target.polar)*i;o=B.angles.current.polar-o,B.controls.setPolarAngle(o)}}N.dots.current++,O.globeDots.geometry.verticesNeedUpdate=!0}if(N.dots.current>=.65*N.dots.total&&N.globe.current<=N.globe.total){var a=V(N.globe.current/N.globe.total);C.material.opacity=D.alphas.globe*a;for(var s=N.countries.selected.children,l=0;l<s.length;l++)s[l].material.uniforms.opacity.value=D.alphas.lines*a;N.globe.current++}if(N.dots.current>=.7*N.dots.total&&!1===N.countries.active){U.classList.add("active");v(Object.keys(A.countries)[N.countries.index],!0),N.countries.active=!0}!0===N.countries.active&&!1===N.finishedIntro&&(N.finishedIntro=!0)}function v(t,e){void 0!==N.countries.selected&&(N.countries.selected.visible=!1);for(var n in z)n===t?z[n].element.classList.add("active"):z[n].element.classList.remove("active");if(N.countries.selected=O.lines.getObjectByName(t),N.countries.selected.visible=!0,!0!==e){B.angles.current.azimuthal=B.controls.getAzimuthalAngle(),B.angles.current.polar=B.controls.getPolarAngle();var i=E(A.countries[t].x,A.countries[t].y);B.angles.target.azimuthal=i.azimuthal,B.angles.target.polar=i.polar,N.countries.animating=!0}}function g(){if(N.countries.current<=N.countries.total){var t=G(N.countries.current/N.countries.total),e=(B.angles.current.azimuthal-B.angles.target.azimuthal)*t;e=B.angles.current.azimuthal-e,B.controls.setAzimuthalAngle(e);var n=(B.angles.current.polar-B.angles.target.polar)*t;n=B.angles.current.polar-n,B.controls.setPolarAngle(n),N.countries.current++}else N.countries.animating=!1,N.countries.current=0}function x(t){var e=Object.keys(A.countries).findIndex(function(e){return e==t});e?N.countries.index=e:console.log("country not found on the map");var t=Object.keys(A.countries)[e];v(t,!1)}function _(t,e){t=(t-D.mapSize.width)/D.mapSize.width*-180,e=(e-D.mapSize.height)/D.mapSize.height*-90;var n=Math.cos(e/180*Math.PI)*D.globeRadius;return{x:Math.cos(t/180*Math.PI)*n,y:Math.sin(e/180*Math.PI)*D.globeRadius,z:Math.sin(t/180*Math.PI)*n}}function b(t,e,n,i){var r=_(t,e),o=_(n,i),a=(r.x+o.x)/2,s=(r.y+o.y)/2,l=(r.z+o.z)/2,u=Math.pow(o.x-r.x,2);u+=Math.pow(o.y-r.y,2),u+=Math.pow(o.z-r.z,2),u=Math.sqrt(u);var c=Math.pow(a,2);c+=Math.pow(s,2),c+=Math.pow(l,2),c=Math.pow(u,2)/c,c*=.7;var h=a+c*a,p=s+c*s,d=l+c*l;return{start:{x:r.x,y:r.y,z:r.z},mid:{x:h,y:p,z:d},end:{x:o.x,y:o.y,z:o.z}}}function w(t,e,n){n=n.clone();var i=n.project(B.object);return{x:i.x*t+t,y:-i.y*e+e}}function E(t,e){var n=(t-D.mapSize.width)/D.mapSize.width*Math.PI;return n+=Math.PI/2,n+=.1,{azimuthal:n,polar:e/(2*D.mapSize.height)*Math.PI}}e.a=i,e.c=r,e.b=x;var M,T,S,A,C,L=n(73),k=n(74),P=(n.n(k),n(7)),I=n(75),R=document.getElementsByClassName("js-globe")[0],z={},O={main:null,globe:null,globeDots:null,lines:null},D={mapSize:{width:1024,height:512},globeRadius:300,dotsAmount:20,startingCountry:"uae",colours:{globeDots:"rgb(61, 137, 164)",lines:new P.Color("#18FFFF")},alphas:{globe:.4,lines:0}},B={object:null,controls:null,angles:{current:{azimuthal:null,polar:null},target:{azimuthal:null,polar:null}}},N={finishedIntro:!1,dots:{current:0,total:170,points:[]},globe:{current:0,total:80},countries:{active:!1,animating:!1,current:0,total:120,selected:null,index:null,timeout:null,initialDuration:5e3,duration:2e3}},F=!1;"hidden"in document?document.addEventListener("visibilitychange",u):"mozHidden"in document?document.addEventListener("mozvisibilitychange",u):"webkitHidden"in document?document.addEventListener("webkitvisibilitychange",u):"msHidden"in document?document.addEventListener("msvisibilitychange",u):"onfocusin"in document?document.onfocusin=document.onfocusout=u:window.onpageshow=window.onpagehide=window.onfocus=window.onblur=u;var U,j=function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},V=function(t){return--t*t*t+1},G=function(t){return t<.5?2*t*t:(4-2*t)*t-1}},function(t,e,n){"use strict";var i=n(7),r=function(t){function e(e){this.object=e,this.target=new t.Vector3,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.25;var n=this,i=0,r=0,o=0,a=0,s=1,l=new t.Vector3,u=!1;this.getPolarAngle=function(){return r},this.getAzimuthalAngle=function(){return i},this.setPolarAngle=function(t){r=t,this.forceUpdate()},this.setAzimuthalAngle=function(t){i=t,this.forceUpdate()},this.rotateLeft=function(t){a-=t},this.rotateUp=function(t){o-=t},this.panLeft=function(){var e=new t.Vector3;return function(t){var n=this.object.matrix.elements;e.set(n[0],n[1],n[2]),e.multiplyScalar(-t),l.add(e)}}(),this.panUp=function(){var e=new t.Vector3;return function(t){var n=this.object.matrix.elements;e.set(n[4],n[5],n[6]),e.multiplyScalar(t),l.add(e)}}(),this.pan=function(e,i,r,o){if(n.object instanceof t.PerspectiveCamera){var a=n.object.position,s=a.clone().sub(n.target),l=s.length();l*=Math.tan(n.object.fov/2*Math.PI/180),n.panLeft(2*e*l/o),n.panUp(2*i*l/o)}else n.object instanceof t.OrthographicCamera?(n.panLeft(e*(n.object.right-n.object.left)/r),n.panUp(i*(n.object.top-n.object.bottom)/o)):console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.")},this.dollyIn=function(e){n.object instanceof t.PerspectiveCamera?s/=e:n.object instanceof t.OrthographicCamera?(n.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom*e)),n.object.updateProjectionMatrix(),u=!0):console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.")},this.dollyOut=function(e){n.object instanceof t.PerspectiveCamera?s*=e:n.object instanceof t.OrthographicCamera?(n.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/e)),n.object.updateProjectionMatrix(),u=!0):console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.")},this.forceUpdate=function(){var n=new t.Vector3,c=(new t.Quaternion).setFromUnitVectors(e.up,new t.Vector3(0,1,0)),h=c.clone().inverse(),p=new t.Vector3,d=new t.Quaternion;return function(){var t=this.object.position;n.copy(t).sub(this.target),n.applyQuaternion(c),i=Math.max(this.minAzimuthAngle,Math.min(this.maxAzimuthAngle,i)),r=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,r)),r=Math.max(1e-6,Math.min(Math.PI-1e-6,r));var e=n.length()*s;return e=Math.max(this.minDistance,Math.min(this.maxDistance,e)),this.target.add(l),n.x=e*Math.sin(r)*Math.sin(i),n.y=e*Math.cos(r),n.z=e*Math.sin(r)*Math.cos(i),n.applyQuaternion(h),t.copy(this.target).add(n),this.object.lookAt(this.target),!0===this.enableDamping?(a*=1-this.dampingFactor,o*=1-this.dampingFactor):(a=0,o=0),s=1,l.set(0,0,0),!!(u||p.distanceToSquared(this.object.position)>1e-6||8*(1-d.dot(this.object.quaternion))>1e-6)&&(p.copy(this.object.position),d.copy(this.object.quaternion),u=!1,!0)}}(),this.update=function(){var n=new t.Vector3,c=(new t.Quaternion).setFromUnitVectors(e.up,new t.Vector3(0,1,0)),h=c.clone().inverse(),p=new t.Vector3,d=new t.Quaternion;return function(){var t=this.object.position;n.copy(t).sub(this.target),n.applyQuaternion(c),i=Math.atan2(n.x,n.z),r=Math.atan2(Math.sqrt(n.x*n.x+n.z*n.z),n.y),i+=a,r+=o,i=Math.max(this.minAzimuthAngle,Math.min(this.maxAzimuthAngle,i)),r=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,r)),r=Math.max(1e-6,Math.min(Math.PI-1e-6,r));var e=n.length()*s;return e=Math.max(this.minDistance,Math.min(this.maxDistance,e)),this.target.add(l),n.x=e*Math.sin(r)*Math.sin(i),n.y=e*Math.cos(r),n.z=e*Math.sin(r)*Math.cos(i),n.applyQuaternion(h),t.copy(this.target).add(n),this.object.lookAt(this.target),!0===this.enableDamping?(a*=1-this.dampingFactor,o*=1-this.dampingFactor):(a=0,o=0),s=1,l.set(0,0,0),!!(u||p.distanceToSquared(this.object.position)>1e-6||8*(1-d.dot(this.object.quaternion))>1e-6)&&(p.copy(this.object.position),d.copy(this.object.quaternion),u=!1,!0)}}()}function n(n,i){function r(t,e){var n=v.domElement===document?v.domElement.body:v.domElement;m.pan(t,e,n.clientWidth,n.clientHeight)}function o(){return 2*Math.PI/60/60*v.autoRotateSpeed}function a(){return Math.pow(.95,v.zoomSpeed)}function s(t){if(!1!==v.enabled){if(t.preventDefault(),t.button===v.mouseButtons.ORBIT){if(!1===v.enableRotate)return;C=A.ROTATE,g.set(t.clientX,t.clientY)}else if(t.button===v.mouseButtons.ZOOM){if(!1===v.enableZoom)return;C=A.DOLLY,M.set(t.clientX,t.clientY)}else if(t.button===v.mouseButtons.PAN){if(!1===v.enablePan)return;C=A.PAN,b.set(t.clientX,t.clientY)}C!==A.NONE&&(document.addEventListener("mousemove",l,!1),document.addEventListener("mouseup",u,!1),v.dispatchEvent(k))}}function l(t){if(!1!==v.enabled){t.preventDefault();var e=v.domElement===document?v.domElement.body:v.domElement;if(C===A.ROTATE){if(!1===v.enableRotate)return;x.set(t.clientX,t.clientY),_.subVectors(x,g),m.rotateLeft(2*Math.PI*_.x/e.clientWidth*v.rotateSpeed),m.rotateUp(2*Math.PI*_.y/e.clientHeight*v.rotateSpeed),g.copy(x)}else if(C===A.DOLLY){if(!1===v.enableZoom)return;T.set(t.clientX,t.clientY),S.subVectors(T,M),S.y>0?m.dollyIn(a()):S.y<0&&m.dollyOut(a()),M.copy(T)}else if(C===A.PAN){if(!1===v.enablePan)return;w.set(t.clientX,t.clientY),E.subVectors(w,b),r(E.x,E.y),b.copy(w)}C!==A.NONE&&v.update()}}function u(){!1!==v.enabled&&(document.removeEventListener("mousemove",l,!1),document.removeEventListener("mouseup",u,!1),v.dispatchEvent(P),C=A.NONE)}function c(t){if(!1!==v.enabled&&!1!==v.enableZoom&&C===A.NONE){t.preventDefault(),t.stopPropagation();var e=0;void 0!==t.wheelDelta?e=t.wheelDelta:void 0!==t.detail&&(e=-t.detail),e>0?m.dollyOut(a()):e<0&&m.dollyIn(a()),v.update(),v.dispatchEvent(k),v.dispatchEvent(P)}}function h(t){if(!1!==v.enabled&&!1!==v.enableKeys&&!1!==v.enablePan)switch(t.keyCode){case v.keys.UP:r(0,v.keyPanSpeed),v.update();break;case v.keys.BOTTOM:r(0,-v.keyPanSpeed),v.update();break;case v.keys.LEFT:r(v.keyPanSpeed,0),v.update();break;case v.keys.RIGHT:r(-v.keyPanSpeed,0),v.update()}}function p(t){if(!1!==v.enabled){switch(t.touches.length){case 1:if(!1===v.enableRotate)return;C=A.TOUCH_ROTATE,g.set(t.touches[0].pageX,t.touches[0].pageY);break;case 2:if(!1===v.enableZoom)return;C=A.TOUCH_DOLLY;var e=t.touches[0].pageX-t.touches[1].pageX,n=t.touches[0].pageY-t.touches[1].pageY,i=Math.sqrt(e*e+n*n);M.set(0,i);break;case 3:if(!1===v.enablePan)return;C=A.TOUCH_PAN,b.set(t.touches[0].pageX,t.touches[0].pageY);break;default:C=A.NONE}C!==A.NONE&&v.dispatchEvent(k)}}function d(t){if(!1!==v.enabled){t.preventDefault(),t.stopPropagation();var e=v.domElement===document?v.domElement.body:v.domElement;switch(t.touches.length){case 1:if(!1===v.enableRotate)return;if(C!==A.TOUCH_ROTATE)return;x.set(t.touches[0].pageX,t.touches[0].pageY),_.subVectors(x,g),m.rotateLeft(2*Math.PI*_.x/e.clientWidth*v.rotateSpeed),m.rotateUp(2*Math.PI*_.y/e.clientHeight*v.rotateSpeed),g.copy(x),v.update();break;case 2:if(!1===v.enableZoom)return;if(C!==A.TOUCH_DOLLY)return;var n=t.touches[0].pageX-t.touches[1].pageX,i=t.touches[0].pageY-t.touches[1].pageY,o=Math.sqrt(n*n+i*i);T.set(0,o),S.subVectors(T,M),S.y>0?m.dollyOut(a()):S.y<0&&m.dollyIn(a()),M.copy(T),v.update();break;case 3:if(!1===v.enablePan)return;if(C!==A.TOUCH_PAN)return;w.set(t.touches[0].pageX,t.touches[0].pageY),E.subVectors(w,b),r(E.x,E.y),b.copy(w),v.update();break;default:C=A.NONE}}}function f(){!1!==v.enabled&&(v.dispatchEvent(P),C=A.NONE)}function y(t){t.preventDefault()}var m=new e(n);this.domElement=void 0!==i?i:document,Object.defineProperty(this,"constraint",{get:function(){return m}}),this.getPolarAngle=function(){return m.getPolarAngle()},this.getAzimuthalAngle=function(){return m.getAzimuthalAngle()},this.setPolarAngle=function(t){return m.setPolarAngle(t)},this.setAzimuthalAngle=function(t){return m.setAzimuthalAngle(t)},this.enabled=!0,this.center=this.target,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={ORBIT:t.MOUSE.LEFT,ZOOM:t.MOUSE.MIDDLE,PAN:t.MOUSE.RIGHT};var v=this,g=new t.Vector2,x=new t.Vector2,_=new t.Vector2,b=new t.Vector2,w=new t.Vector2,E=new t.Vector2,M=new t.Vector2,T=new t.Vector2,S=new t.Vector2,A={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY:4,TOUCH_PAN:5},C=A.NONE;this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom;var L={type:"change"},k={type:"start"},P={type:"end"};this.update=function(){this.autoRotate&&C===A.NONE&&m.rotateLeft(o()),!0===m.update()&&this.dispatchEvent(L)},this.reset=function(){C=A.NONE,this.target.copy(this.target0),this.object.position.copy(this.position0),this.object.zoom=this.zoom0,this.object.updateProjectionMatrix(),this.dispatchEvent(L),this.update()},this.dispose=function(){this.domElement.removeEventListener("contextmenu",y,!1),this.domElement.removeEventListener("mousedown",s,!1),this.domElement.removeEventListener("mousewheel",c,!1),this.domElement.removeEventListener("MozMousePixelScroll",c,!1),this.domElement.removeEventListener("touchstart",p,!1),this.domElement.removeEventListener("touchend",f,!1),this.domElement.removeEventListener("touchmove",d,!1),document.removeEventListener("mousemove",l,!1),document.removeEventListener("mouseup",u,!1),window.removeEventListener("keydown",h,!1)},this.domElement.addEventListener("contextmenu",y,!1),this.domElement.addEventListener("mousedown",s,!1),this.domElement.addEventListener("mousewheel",c,!1),this.domElement.addEventListener("MozMousePixelScroll",c,!1),this.domElement.addEventListener("touchstart",p,!1),this.domElement.addEventListener("touchend",f,!1),this.domElement.addEventListener("touchmove",d,!1),window.addEventListener("keydown",h,!1),this.update()}var i=t.MOUSE;return i||(i={LEFT:0,MIDDLE:1,RIGHT:2}),n.prototype=Object.create(t.EventDispatcher.prototype),n.prototype.constructor=n,Object.defineProperties(n.prototype,{object:{get:function(){return this.constraint.object}},target:{get:function(){return this.constraint.target},set:function(t){console.warn("THREE.OrbitControls: target is now immutable. Use target.set() instead."),this.constraint.target.copy(t)}},minDistance:{get:function(){return this.constraint.minDistance},set:function(t){this.constraint.minDistance=t}},maxDistance:{get:function(){return this.constraint.maxDistance},set:function(t){this.constraint.maxDistance=t}},minZoom:{get:function(){return this.constraint.minZoom},set:function(t){this.constraint.minZoom=t}},maxZoom:{get:function(){return this.constraint.maxZoom},set:function(t){this.constraint.maxZoom=t}},minPolarAngle:{get:function(){return this.constraint.minPolarAngle},set:function(t){this.constraint.minPolarAngle=t}},maxPolarAngle:{get:function(){return this.constraint.maxPolarAngle},set:function(t){this.constraint.maxPolarAngle=t}},minAzimuthAngle:{get:function(){return this.constraint.minAzimuthAngle},set:function(t){this.constraint.minAzimuthAngle=t}},maxAzimuthAngle:{get:function(){return this.constraint.maxAzimuthAngle},set:function(t){this.constraint.maxAzimuthAngle=t}},enableDamping:{get:function(){return this.constraint.enableDamping},set:function(t){this.constraint.enableDamping=t}},dampingFactor:{get:function(){return this.constraint.dampingFactor},set:function(t){this.constraint.dampingFactor=t}},noZoom:{get:function(){return console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),!this.enableZoom},set:function(t){console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),this.enableZoom=!t}},noRotate:{get:function(){return console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),!this.enableRotate},set:function(t){console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),this.enableRotate=!t}},noPan:{get:function(){return console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),!this.enablePan},set:function(t){console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),this.enablePan=!t}},noKeys:{get:function(){return console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),!this.enableKeys},set:function(t){console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),this.enableKeys=!t}},staticMoving:{get:function(){return console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),!this.constraint.enableDamping},set:function(t){console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),this.constraint.enableDamping=!t}},dynamicDampingFactor:{get:function(){return console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.constraint.dampingFactor},set:function(t){console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.constraint.dampingFactor=t}}}),n}(i);e.a=r},function(t,e,n){(function(){"use strict";function i(){this.positions=[],this.previous=[],this.next=[],this.side=[],this.width=[],this.indices_array=[],this.uvs=[],this.counters=[],this.geometry=new s.BufferGeometry,this.widthCallback=null}function r(t,e,n,i,r){var o;if(t=t.subarray||t.slice?t:t.buffer,n=n.subarray||n.slice?n:n.buffer,t=e?t.subarray?t.subarray(e,r&&e+r):t.slice(e,r&&e+r):t,n.set)n.set(t,i);else for(o=0;o<t.length;o++)n[o+i]=t[o];return n}function o(t){function e(t,e){return void 0===t?e:t}var n=["precision highp float;","","attribute vec3 position;","attribute vec3 previous;","attribute vec3 next;","attribute float side;","attribute float width;","attribute vec2 uv;","attribute float counters;","","uniform mat4 projectionMatrix;","uniform mat4 modelViewMatrix;","uniform vec2 resolution;","uniform float lineWidth;","uniform vec3 color;","uniform float opacity;","uniform float near;","uniform float far;","uniform float sizeAttenuation;","","varying vec2 vUV;","varying vec4 vColor;","varying float vCounters;","","vec2 fix( vec4 i, float aspect ) {","","    vec2 res = i.xy / i.w;","    res.x *= aspect;","\t vCounters = counters;","    return res;","","}","","void main() {","","    float aspect = resolution.x / resolution.y;","\t float pixelWidthRatio = 1. / (resolution.x * projectionMatrix[0][0]);","","    vColor = vec4( color, opacity );","    vUV = uv;","","    mat4 m = projectionMatrix * modelViewMatrix;","    vec4 finalPosition = m * vec4( position, 1.0 );","    vec4 prevPos = m * vec4( previous, 1.0 );","    vec4 nextPos = m * vec4( next, 1.0 );","","    vec2 currentP = fix( finalPosition, aspect );","    vec2 prevP = fix( prevPos, aspect );","    vec2 nextP = fix( nextPos, aspect );","","\t float pixelWidth = finalPosition.w * pixelWidthRatio;","    float w = 1.8 * pixelWidth * lineWidth * width;","","    if( sizeAttenuation == 1. ) {","        w = 1.8 * lineWidth * width;","    }","","    vec2 dir;","    if( nextP == currentP ) dir = normalize( currentP - prevP );","    else if( prevP == currentP ) dir = normalize( nextP - currentP );","    else {","        vec2 dir1 = normalize( currentP - prevP );","        vec2 dir2 = normalize( nextP - currentP );","        dir = normalize( dir1 + dir2 );","","        vec2 perp = vec2( -dir1.y, dir1.x );","        vec2 miter = vec2( -dir.y, dir.x );","        //w = clamp( w / dot( miter, perp ), 0., 4. * lineWidth * width );","","    }","","    //vec2 normal = ( cross( vec3( dir, 0. ), vec3( 0., 0., 1. ) ) ).xy;","    vec2 normal = vec2( -dir.y, dir.x );","    normal.x /= aspect;","    normal *= .5 * w;","","    vec4 offset = vec4( normal * side, 0.0, 1.0 );","    finalPosition.xy += offset.xy;","","    gl_Position = finalPosition;","","}"],i=["#extension GL_OES_standard_derivatives : enable","precision mediump float;","","uniform sampler2D map;","uniform sampler2D alphaMap;","uniform float useMap;","uniform float useAlphaMap;","uniform float useDash;","uniform float dashArray;","uniform float dashOffset;","uniform float dashRatio;","uniform float visibility;","uniform float alphaTest;","uniform vec2 repeat;","","varying vec2 vUV;","varying vec4 vColor;","varying float vCounters;","","void main() {","","    vec4 c = vColor;","    if( useMap == 1. ) c *= texture2D( map, vUV * repeat );","    if( useAlphaMap == 1. ) c.a *= texture2D( alphaMap, vUV * repeat ).a;","    if( c.a < alphaTest ) discard;","    if( useDash == 1. ){","        c.a *= ceil(mod(vCounters + dashOffset, dashArray) - (dashArray * dashRatio));","    }","    gl_FragColor = c;","    gl_FragColor.a *= step(vCounters, visibility);","}"];s.Material.call(this),t=t||{},this.lineWidth=e(t.lineWidth,1),this.map=e(t.map,null),this.useMap=e(t.useMap,0),this.alphaMap=e(t.alphaMap,null),this.useAlphaMap=e(t.useAlphaMap,0),this.color=e(t.color,new s.Color(16777215)),this.opacity=e(t.opacity,1),this.resolution=e(t.resolution,new s.Vector2(1,1)),this.sizeAttenuation=e(t.sizeAttenuation,1),this.near=e(t.near,1),this.far=e(t.far,1),this.dashArray=e(t.dashArray,0),this.dashOffset=e(t.dashOffset,0),this.dashRatio=e(t.dashRatio,.5),this.useDash=0!==this.dashArray?1:0,this.visibility=e(t.visibility,1),this.alphaTest=e(t.alphaTest,0),this.repeat=e(t.repeat,new s.Vector2(1,1));var r=new s.RawShaderMaterial({uniforms:{lineWidth:{type:"f",value:this.lineWidth},map:{type:"t",value:this.map},useMap:{type:"f",value:this.useMap},alphaMap:{type:"t",value:this.alphaMap},useAlphaMap:{type:"f",value:this.useAlphaMap},color:{type:"c",value:this.color},opacity:{type:"f",value:this.opacity},resolution:{type:"v2",value:this.resolution},sizeAttenuation:{type:"f",value:this.sizeAttenuation},near:{type:"f",value:this.near},far:{type:"f",value:this.far},dashArray:{type:"f",value:this.dashArray},dashOffset:{type:"f",value:this.dashOffset},dashRatio:{type:"f",value:this.dashRatio},useDash:{type:"f",value:this.useDash},visibility:{type:"f",value:this.visibility},alphaTest:{type:"f",value:this.alphaTest},repeat:{type:"v2",value:this.repeat}},vertexShader:n.join("\r\n"),fragmentShader:i.join("\r\n")});return delete t.lineWidth,delete t.map,delete t.useMap,delete t.alphaMap,delete t.useAlphaMap,delete t.color,delete t.opacity,delete t.resolution,delete t.sizeAttenuation,delete t.near,delete t.far,delete t.dashArray,delete t.dashOffset,delete t.dashRatio,delete t.visibility,delete t.alphaTest,delete t.repeat,r.type="MeshLineMaterial",r.setValues(t),r}var a=this,s=a.THREE||n(7);if(!s)throw new Error("MeshLine requires three.js");i.prototype.setGeometry=function(t,e){if(this.widthCallback=e,this.positions=[],this.counters=[],t instanceof s.Geometry)for(var n=0;n<t.vertices.length;n++){var i=t.vertices[n],e=n/t.vertices.length;this.positions.push(i.x,i.y,i.z),this.positions.push(i.x,i.y,i.z),this.counters.push(e),this.counters.push(e)}if(s.BufferGeometry,t instanceof Float32Array||t instanceof Array)for(var n=0;n<t.length;n+=3){var e=n/t.length;this.positions.push(t[n],t[n+1],t[n+2]),this.positions.push(t[n],t[n+1],t[n+2]),this.counters.push(e),this.counters.push(e)}this.process()},i.prototype.compareV3=function(t,e){var n=6*t,i=6*e;return this.positions[n]===this.positions[i]&&this.positions[n+1]===this.positions[i+1]&&this.positions[n+2]===this.positions[i+2]},i.prototype.copyV3=function(t){var e=6*t;return[this.positions[e],this.positions[e+1],this.positions[e+2]]},i.prototype.process=function(){var t=this.positions.length/6;this.previous=[],this.next=[],this.side=[],this.width=[],this.indices_array=[],this.uvs=[];for(var e=0;e<t;e++)this.side.push(1),this.side.push(-1);for(var n,e=0;e<t;e++)n=this.widthCallback?this.widthCallback(e/(t-1)):1,this.width.push(n),this.width.push(n);for(var e=0;e<t;e++)this.uvs.push(e/(t-1),0),this.uvs.push(e/(t-1),1);var i;i=this.compareV3(0,t-1)?this.copyV3(t-2):this.copyV3(0),this.previous.push(i[0],i[1],i[2]),this.previous.push(i[0],i[1],i[2]);for(var e=0;e<t-1;e++)i=this.copyV3(e),this.previous.push(i[0],i[1],i[2]),this.previous.push(i[0],i[1],i[2]);for(var e=1;e<t;e++)i=this.copyV3(e),this.next.push(i[0],i[1],i[2]),this.next.push(i[0],i[1],i[2]);i=this.compareV3(t-1,0)?this.copyV3(1):this.copyV3(t-1),this.next.push(i[0],i[1],i[2]),this.next.push(i[0],i[1],i[2]);for(var e=0;e<t-1;e++){var r=2*e;this.indices_array.push(r,r+1,r+2),this.indices_array.push(r+2,r+1,r+3)}this.attributes?(this.attributes.position.copyArray(new Float32Array(this.positions)),this.attributes.position.needsUpdate=!0,this.attributes.previous.copyArray(new Float32Array(this.previous)),this.attributes.previous.needsUpdate=!0,this.attributes.next.copyArray(new Float32Array(this.next)),this.attributes.next.needsUpdate=!0,this.attributes.side.copyArray(new Float32Array(this.side)),this.attributes.side.needsUpdate=!0,this.attributes.width.copyArray(new Float32Array(this.width)),this.attributes.width.needsUpdate=!0,this.attributes.uv.copyArray(new Float32Array(this.uvs)),this.attributes.uv.needsUpdate=!0,this.attributes.index.copyArray(new Uint16Array(this.indices_array)),this.attributes.index.needsUpdate=!0):this.attributes={position:new s.BufferAttribute(new Float32Array(this.positions),3),previous:new s.BufferAttribute(new Float32Array(this.previous),3),next:new s.BufferAttribute(new Float32Array(this.next),3),side:new s.BufferAttribute(new Float32Array(this.side),1),width:new s.BufferAttribute(new Float32Array(this.width),1),uv:new s.BufferAttribute(new Float32Array(this.uvs),2),index:new s.BufferAttribute(new Uint16Array(this.indices_array),1),counters:new s.BufferAttribute(new Float32Array(this.counters),1)},this.geometry.addAttribute("position",this.attributes.position),this.geometry.addAttribute("previous",this.attributes.previous),this.geometry.addAttribute("next",this.attributes.next),this.geometry.addAttribute("side",this.attributes.side),this.geometry.addAttribute("width",this.attributes.width),this.geometry.addAttribute("uv",this.attributes.uv),this.geometry.addAttribute("counters",this.attributes.counters),this.geometry.setIndex(this.attributes.index)},i.prototype.advance=function(t){var e=this.attributes.position.array,n=this.attributes.previous.array,i=this.attributes.next.array,o=e.length;r(e,0,n,0,o),r(e,6,e,0,o-6),e[o-6]=t.x,e[o-5]=t.y,e[o-4]=t.z,e[o-3]=t.x,e[o-2]=t.y,e[o-1]=t.z,r(e,6,i,0,o-6),i[o-6]=t.x,i[o-5]=t.y,i[o-4]=t.z,i[o-3]=t.x,i[o-2]=t.y,i[o-1]=t.z,this.attributes.position.needsUpdate=!0,this.attributes.previous.needsUpdate=!0,this.attributes.next.needsUpdate=!0},o.prototype=Object.create(s.Material.prototype),o.prototype.constructor=o,o.prototype.copy=function(t){return s.Material.prototype.copy.call(this,t),this.lineWidth=t.lineWidth,this.map=t.map,this.useMap=t.useMap,this.alphaMap=t.alphaMap,this.useAlphaMap=t.useAlphaMap,this.color.copy(t.color),this.opacity=t.opacity,this.resolution.copy(t.resolution),this.sizeAttenuation=t.sizeAttenuation,this.near=t.near,this.far=t.far,this.dashArray.copy(t.dashArray),this.dashOffset.copy(t.dashOffset),this.dashRatio.copy(t.dashRatio),this.useDash=t.useDash,this.visibility=t.visibility,this.alphaTest=t.alphaTest,this.repeat.copy(t.repeat),this},"undefined"!==typeof t&&t.exports&&(e=t.exports={MeshLine:i,MeshLineMaterial:o}),e.MeshLine=i,e.MeshLineMaterial=o}).call(this)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=[{x:489,y:153},{x:1559,y:489},{x:372,y:342},{x:1316,y:271},{x:372,y:71},{x:1458,y:489},{x:795,y:53},{x:318,y:270},{x:516,y:162},{x:1383,y:246},{x:840,y:666},{x:858,y:630},{x:687,y:44},{x:1467,y:44},{x:147,y:252},{x:183,y:207},{x:1223,y:187},{x:1442,y:573},{x:1039,y:540},{x:1534,y:120},{x:1458,y:414},{x:1257,y:254},{x:192,y:216},{x:913,y:135},{x:183,y:297},{x:1475,y:624},{x:1257,y:330},{x:570,y:26},{x:1181,y:229},{x:1517,y:523},{x:1417,y:103},{x:183,y:396},{x:1610,y:78},{x:300,y:621},{x:426,y:297},{x:795,y:630},{x:345,y:441},{x:561,y:62},{x:471,y:107},{x:723,y:35},{x:264,y:89},{x:822,y:540},{x:354,y:432},{x:120,y:396},{x:1391,y:540},{x:183,y:594},{x:291,y:630},{x:291,y:360},{x:57,y:279},{x:1542,y:590},{x:1299,y:364},{x:678,y:44},{x:363,y:369},{x:1442,y:431},{x:1450,y:489},{x:192,y:89},{x:246,y:540},{x:1232,y:221},{x:606,y:270},{x:1375,y:280},{x:255,y:71},{x:1265,y:263},{x:1500,y:632},{x:1626,y:44},{x:570,y:414},{x:1391,y:338},{x:1391,y:112},{x:561,y:189},{x:21,y:423},{x:444,y:315},{x:597,y:360},{x:958,y:621},{x:1492,y:506},{x:949,y:603},{x:246,y:342},{x:1652,y:11},{x:273,y:144},{x:759,y:180},{x:786,y:153},{x:1358,y:422},{x:102,y:234},{x:462,y:207},{x:1391,y:238},{x:696,y:207},{x:958,y:540},{x:931,y:675},{x:246,y:567},{x:660,y:315},{x:1534,y:565},{x:1341,y:170},{x:1702,y:36},{x:1458,y:431},{x:732,y:414},{x:183,y:107},{x:1450,y:447},{x:399,y:423},{x:282,y:657},{x:66,y:360},{x:282,y:144},{x:30,y:405},{x:1467,y:540},{x:976,y:657},{x:408,y:189},{x:156,y:288},{x:795,y:71},{x:1307,y:246},{x:237,y:171},{x:1223,y:145},{x:903,y:720},{x:165,y:432},{x:1341,y:179},{x:1475,y:657},{x:1198,y:112},{x:498,y:288},{x:1249,y:263},{x:471,y:162},{x:1358,y:288},{x:903,y:657},{x:282,y:62},{x:471,y:279},{x:958,y:630},{x:1173,y:95},{x:345,y:198},{x:345,y:486},{x:1366,y:187},{x:1383,y:313},{x:246,y:666},{x:57,y:351},{x:1433,y:573},{x:967,y:648},{x:1366,y:254},{x:822,y:693},{x:606,y:234},{x:1534,y:187},{x:201,y:71},{x:525,y:162},{x:30,y:378},{x:588,y:189},{x:444,y:279},{x:1534,y:61},{x:534,y:53},{x:1417,y:447},{x:255,y:648},{x:174,y:603},{x:561,y:225},{x:435,y:116},{x:264,y:639},{x:1333,y:212},{x:1509,y:481},{x:516,y:98},{x:1761,y:86},{x:174,y:125},{x:201,y:423},{x:696,y:71},{x:273,y:675},{x:786,y:270},{x:138,y:432},{x:1568,y:523},{x:111,y:144},{x:1635,y:78},{x:705,y:495},{x:192,y:513},{x:363,y:306},{x:534,y:144},{x:1425,y:473},{x:129,y:324},{x:75,y:279},{x:525,y:234},{x:201,y:603},{x:1559,y:531},{x:1492,y:531},{x:345,y:125},{x:1450,y:431},{x:1702,y:70},{x:174,y:459},{x:1534,y:615},{x:741,y:297},{x:408,y:297},{x:1366,y:145},{x:246,y:639},{x:291,y:342},{x:318,y:567},{x:192,y:576},{x:345,y:270},{x:894,y:621},{x:633,y:89},{x:1148,y:86},{x:39,y:432},{x:237,y:387},{x:1349,y:103},{x:57,y:270},{x:507,y:162},{x:291,y:234},{x:732,y:53},{x:1509,y:112},{x:462,y:225},{x:1333,y:380},{x:759,y:98},{x:1066,y:621},{x:291,y:62},{x:354,y:405},{x:714,y:351},{x:174,y:396},{x:1291,y:263},{x:1265,y:187},{x:1257,y:246},{x:579,y:297},{x:1475,y:523},{x:111,y:396},{x:931,y:62},{x:804,y:216},{x:1400,y:557},{x:318,y:144},{x:183,y:116},{x:534,y:342},{x:678,y:171},{x:633,y:315},{x:237,y:62},{x:174,y:495},{x:913,y:144},{x:228,y:441},{x:1333,y:355},{x:1626,y:112},{x:1551,y:498},{x:138,y:342},{x:1333,y:229},{x:1316,y:145},{x:813,y:675},{x:543,y:135},{x:579,y:351},{x:354,y:306},{x:336,y:495},{x:345,y:459},{x:372,y:98},{x:687,y:414},{x:660,y:369},{x:1442,y:691},{x:903,y:585},{x:354,y:261},{x:408,y:116},{x:165,y:288},{x:183,y:531},{x:1417,y:523},{x:687,y:396},{x:1500,y:523},{x:822,y:621},{x:237,y:243},{x:1265,y:212},{x:381,y:279},{x:201,y:675},{x:1744,y:36},{x:696,y:225},{x:1057,y:549},{x:804,y:80},{x:471,y:225},{x:1123,y:128},{x:1433,y:473},{x:1484,y:615},{x:1341,y:112},{x:732,y:315},{x:777,y:89},{x:1391,y:447},{x:138,y:405},{x:435,y:53},{x:84,y:441},{x:624,y:252},{x:219,y:531},{x:1232,y:229},{x:1257,y:338},{x:1408,y:86},{x:165,y:297},{x:831,y:594},{x:309,y:171},{x:759,y:243},{x:183,y:144},{x:156,y:297},{x:300,y:585},{x:1500,y:683},{x:1500,y:531},{x:516,y:107},{x:723,y:360},{x:210,y:603},{x:381,y:603},{x:237,y:116},{x:615,y:225},{x:651,y:342},{x:913,y:675},{x:615,y:98},{x:138,y:288},{x:219,y:621},{x:1509,y:649},{x:561,y:369},{x:940,y:711},{x:435,y:62},{x:1542,y:515},{x:516,y:315},{x:894,y:125},{x:1442,y:540},{x:777,y:306},{x:1223,y:137},{x:732,y:297},{x:300,y:125},{x:255,y:225},{x:597,y:44},{x:1408,y:162},{x:75,y:225},{x:291,y:125},{x:390,y:333},{x:453,y:198},{x:1105,y:120},{x:1299,y:112},{x:597,y:315},{x:264,y:144},{x:624,y:35},{x:255,y:693},{x:723,y:315},{x:1375,y:78},{x:1400,y:154},{x:1509,y:473},{x:1156,y:95},{x:714,y:513},{x:1433,y:641},{x:1433,y:204},{x:183,y:495},{x:264,y:351},{x:678,y:351},{x:1677,y:78},{x:300,y:360},{x:1433,y:422},{x:777,y:657},{x:1458,y:70},{x:687,y:270},{x:1475,y:439},{x:453,y:216},{x:66,y:405},{x:678,y:270},{x:291,y:252},{x:1417,y:44},{x:75,y:450},{x:363,y:116},{x:922,y:630},{x:246,y:198},{x:1349,y:238},{x:66,y:153},{x:1375,y:464},{x:1274,y:70},{x:426,y:225},{x:732,y:116},{x:687,y:261},{x:651,y:80},{x:1542,y:162},{x:507,y:189},{x:732,y:107},{x:354,y:459},{x:1467,y:649},{x:1307,y:170},{x:588,y:270},{x:507,y:89},{x:1349,y:187},{x:1458,y:724},{x:1316,y:170},{x:48,y:369},{x:1450,y:590},{x:1383,y:70},{x:597,y:35},{x:1232,y:246},{x:255,y:288},{x:1467,y:506},{x:498,y:62},{x:1584,y:28},{x:1593,y:540},{x:219,y:360},{x:1349,y:196},{x:1517,y:699},{x:120,y:342},{x:1299,y:212},{x:1400,y:439},{x:129,y:162},{x:696,y:288},{x:192,y:594},{x:408,y:53},{x:570,y:62},{x:1576,y:515},{x:750,y:270},{x:1417,y:498},{x:696,y:171},{x:381,y:252},{x:958,y:657},{x:372,y:423},{x:1198,y:246},{x:426,y:207},{x:1223,y:296},{x:462,y:80},{x:1383,y:154},{x:282,y:531},{x:940,y:603},{x:246,y:585},{x:381,y:594},{x:291,y:414},{x:1425,y:78},{x:381,y:125},{x:264,y:558},{x:1084,y:729},{x:1282,y:355},{x:1307,y:145},{x:138,y:153},{x:1282,y:254},{x:1375,y:162},{x:795,y:144},{x:345,y:405},{x:516,y:270},{x:1450,y:464},{x:1668,y:19},{x:183,y:603},{x:1408,y:78},{x:111,y:324},{x:336,y:279},{x:219,y:44},{x:462,y:53},{x:1475,y:540},{x:1408,y:489},{x:1484,y:78},{x:1408,y:531},{x:282,y:522},{x:1383,y:179},{x:922,y:612},{x:237,y:153},{x:48,y:351},{x:1375,y:204},{x:381,y:342},{x:696,y:333},{x:138,y:324},{x:651,y:135},{x:1593,y:582},{x:237,y:630},{x:444,y:80},{x:462,y:116},{x:949,y:522},{x:1542,y:557},{x:723,y:396},{x:669,y:71},{x:903,y:567},{x:399,y:342},{x:615,y:80},{x:147,y:297},{x:696,y:44},{x:219,y:702},{x:561,y:180},{x:822,y:405},{x:210,y:71},{x:633,y:198},{x:732,y:216},{x:1257,y:288},{x:1660,y:78},{x:120,y:360},{x:237,y:306},{x:1257,y:179},{x:444,y:216},{x:750,y:261},{x:723,y:270},{x:1517,y:540},{x:93,y:378},{x:922,y:720},{x:678,y:98},{x:255,y:450},{x:1467,y:565},{x:696,y:369},{x:687,y:252},{x:201,y:62},{x:102,y:351},{x:1105,y:103},{x:642,y:35},{x:840,y:675},{x:1509,y:683},{x:408,y:378},{x:1442,y:489},{x:255,y:44},{x:678,y:153},{x:1517,y:691},{x:642,y:171},{x:642,y:98},{x:579,y:107},{x:138,y:387},{x:561,y:252},{x:1223,y:238},{x:318,y:387},{x:1198,y:288},{x:390,y:198},{x:219,y:693},{x:1341,y:78},{x:669,y:360},{x:165,y:198},{x:1517,y:800},{x:1375,y:120},{x:1568,y:565},{x:498,y:297},{x:687,y:162},{x:228,y:675},{x:507,y:153},{x:183,y:198},{x:1534,y:128},{x:264,y:468},{x:786,y:162},{x:967,y:71},{x:219,y:116},{x:516,y:53},{x:885,y:252},{x:1719,y:28},{x:471,y:234},{x:831,y:207},{x:291,y:495},{x:1593,y:506},{x:1391,y:145},{x:660,y:297},{x:57,y:324},{x:516,y:35},{x:309,y:162},{x:489,y:171},{x:615,y:324},{x:1727,y:53},{x:1484,y:724},{x:750,y:62},{x:570,y:333},{x:786,y:279},{x:1626,y:53},{x:408,y:270},{x:282,y:648},{x:1383,y:44},{x:579,y:71},{x:1500,y:599},{x:372,y:621},{x:282,y:243},{x:1358,y:187},{x:219,y:107},{x:291,y:189},{x:768,y:657},{x:1442,y:607},{x:885,y:603},{x:192,y:657},{x:1232,y:170},{x:1341,y:212},{x:849,y:585},{x:1408,y:103},{x:48,y:333},{x:318,y:153},{x:786,y:306},{x:777,y:62},{x:327,y:432},{x:1475,y:179},{x:336,y:180},{x:1761,y:11},{x:768,y:540},{x:210,y:540},{x:723,y:189},{x:462,y:162},{x:696,y:486},{x:1249,y:271},{x:1635,y:95},{x:1542,y:641},{x:1349,y:263},{x:633,y:153},{x:462,y:35},{x:714,y:216},{x:1307,y:221},{x:372,y:432},{x:201,y:189},{x:1257,y:162},{x:300,y:378},{x:768,y:216},{x:255,y:116},{x:1643,y:28},{x:201,y:441},{x:624,y:107},{x:48,y:306},{x:1358,y:229},{x:922,y:711},{x:1526,y:137},{x:903,y:666},{x:1383,y:305},{x:931,y:513},{x:1475,y:447},{x:1181,y:86},{x:435,y:180},{x:1066,y:747},{x:949,y:684},{x:498,y:243},{x:417,y:44},{x:174,y:441},{x:480,y:261},{x:489,y:26},{x:714,y:189},{x:1534,y:19},{x:228,y:234},{x:795,y:450},{x:210,y:657},{x:273,y:98},{x:309,y:135},{x:390,y:107},{x:138,y:279},{x:1291,y:288},{x:354,y:243},{x:687,y:288},{x:1333,y:238},{x:93,y:360},{x:156,y:216},{x:1240,y:78},{x:1526,y:447},{x:894,y:684},{x:1442,y:708},{x:849,y:107},{x:633,y:144},{x:624,y:144},{x:903,y:144},{x:264,y:657},{x:1442,y:78},{x:615,y:315},{x:534,y:17},{x:480,y:80},{x:381,y:459},{x:561,y:414},{x:669,y:207},{x:201,y:576},{x:1358,y:179},{x:390,y:594},{x:1517,y:531},{x:1232,y:179},{x:813,y:162},{x:372,y:125},{x:696,y:432},{x:552,y:369},{x:111,y:405},{x:849,y:62},{x:570,y:261},{x:1492,y:464},{x:201,y:107},{x:534,y:261},{x:588,y:171},{x:102,y:414},{x:1660,y:61},{x:543,y:144},{x:669,y:144},{x:1417,y:439},{x:570,y:360},{x:1265,y:204},{x:633,y:234},{x:931,y:648},{x:849,y:639},{x:759,y:324},{x:1012,y:513},{x:1215,y:162},{x:399,y:369},{x:183,y:315},{x:1417,y:137},{x:408,y:243},{x:858,y:53},{x:940,y:513},{x:21,y:369},{x:570,y:342},{x:678,y:324},{x:1030,y:774},{x:282,y:98},{x:849,y:80},{x:1551,y:582},{x:1366,y:86},{x:264,y:71},{x:1542,y:506},{x:291,y:135},{x:795,y:675},{x:1425,y:229},{x:39,y:396},{x:156,y:171},{x:1744,y:11},{x:1291,y:120},{x:165,y:180},{x:552,y:44},{x:534,y:80},{x:1299,y:70},{x:354,y:423},{x:453,y:80},{x:273,y:414},{x:192,y:324},{x:1660,y:36},{x:922,y:666},{x:102,y:288},{x:705,y:207},{x:543,y:234},{x:1433,y:506},{x:1593,y:515},{x:1500,y:103},{x:1626,y:61},{x:822,y:71},{x:1198,y:61},{x:309,y:387},{x:903,y:125},{x:174,y:333},{x:1274,y:103},{x:1442,y:212},{x:723,y:378},{x:1467,y:439},{x:1408,y:431},{x:849,y:441},{x:111,y:414},{x:931,y:603},{x:147,y:351},{x:417,y:360},{x:723,y:297},{x:318,y:62},{x:687,y:468},{x:93,y:396},{x:273,y:639},{x:1500,y:573},{x:264,y:540},{x:129,y:423},{x:1257,y:120},{x:1391,y:170},{x:624,y:53},{x:534,y:315},{x:291,y:666},{x:291,y:585},{x:480,y:125},{x:318,y:306},{x:714,y:387},{x:543,y:351},{x:363,y:270},{x:1265,y:196},{x:651,y:171},{x:264,y:80},{x:1131,y:95},{x:534,y:216},{x:1736,y:44},{x:237,y:423},{x:1181,y:78},{x:264,y:432},{x:552,y:243},{x:1316,y:103},{x:1526,y:481},{x:949,y:576},{x:1299,y:229},{x:1542,y:19},{x:1442,y:683},{x:84,y:297},{x:1484,y:582},{x:687,y:378},{x:903,y:612},{x:363,y:360},{x:678,y:135},{x:1391,y:103},{x:1391,y:128},{x:1358,y:263},{x:354,y:125},{x:1576,y:498},{x:579,y:144},{x:1526,y:162},{x:1442,y:44},{x:579,y:234},{x:561,y:306},{x:777,y:477},{x:1349,y:414},{x:210,y:702},{x:903,y:648},{x:1635,y:44},{x:931,y:621},{x:1719,y:36},{x:525,y:288},{x:1475,y:431},{x:534,y:89},{x:1509,y:456},{x:219,y:585},{x:1450,y:364},{x:192,y:468},{x:1223,y:179},{x:1484,y:548},{x:822,y:80},{x:804,y:477},{x:705,y:125},{x:1694,y:44},{x:741,y:252},{x:282,y:225},{x:1484,y:473},{x:759,y:702},{x:219,y:594},{x:372,y:630},{x:822,y:396},{x:597,y:89},{x:273,y:107},{x:579,y:171},{x:741,y:153},{x:1584,y:515},{x:768,y:198},{x:480,y:144},{x:768,y:207},{x:1400,y:565},{x:102,y:189},{x:669,y:180},{x:894,y:765},{x:714,y:306},{x:687,y:135},{x:291,y:378},{x:1635,y:36},{x:606,y:261},{x:660,y:107},{x:201,y:53},{x:1677,y:11},{x:1492,y:145},{x:201,y:98},{x:327,y:98},{x:201,y:432},{x:228,y:98},{x:678,y:80},{x:831,y:144},{x:435,y:279},{x:1526,y:531},{x:516,y:80},{x:462,y:180},{x:777,y:486},{x:1626,y:28},{x:1668,y:53},{x:444,y:261},{x:327,y:423},{x:516,y:8},{x:1265,y:347},{x:1517,y:456},{x:624,y:135},{x:858,y:71},{x:831,y:612},{x:903,y:729},{x:471,y:62},{x:345,y:62},{x:543,y:53},{x:588,y:261},{x:174,y:423},{x:363,y:135},{x:1333,y:288},{x:228,y:693},{x:93,y:369},{x:768,y:315},{x:201,y:333},{x:165,y:189},{x:444,y:35},{x:669,y:171},{x:336,y:540},{x:1223,y:78},{x:813,y:612},{x:93,y:270},{x:336,y:153},{x:804,y:450},{x:1408,y:565},{x:264,y:612},{x:453,y:243},{x:480,y:116},{x:84,y:396},{x:1517,y:515},{x:147,y:369},{x:201,y:549},{x:1526,y:607},{x:435,y:297},{x:669,y:288},{x:291,y:297},{x:687,y:171},{x:768,y:495},{x:1215,y:154},{x:1526,y:70},{x:1458,y:766},{x:858,y:639},{x:588,y:279},{x:732,y:387},{x:597,y:216},{x:111,y:180},{x:1551,y:607},{x:813,y:639},{x:1643,y:70},{x:1249,y:95},{x:1509,y:657},{x:327,y:270},{x:219,y:144},{x:498,y:189},{x:102,y:216},{x:768,y:324},{x:507,y:116},{x:1618,y:78},{x:93,y:333},{x:588,y:71},{x:300,y:495},{x:102,y:261},{x:867,y:630},{x:1093,y:738},{x:372,y:315},{x:462,y:216},{x:741,y:53},{x:1744,y:86},{x:1442,y:439},{x:931,y:666},{x:75,y:432},{x:723,y:107},{x:858,y:657},{x:840,y:603},{x:1223,y:154},{x:183,y:288},{x:309,y:423},{x:228,y:378},{x:309,y:531},{x:1652,y:53},{x:489,y:162},{x:876,y:630},{x:1559,y:582},{x:84,y:270},{x:804,y:62},{x:1324,y:389},{x:795,y:657},{x:831,y:71},{x:453,y:297},{x:183,y:405},{x:723,y:405},{x:192,y:495},{x:1433,y:414},{x:453,y:279},{x:1417,y:414},{x:1265,y:120},{x:291,y:441},{x:1484,y:154},{x:822,y:207},{x:255,y:53},{x:750,y:44},{x:1727,y:36},{x:1383,y:145},{x:867,y:603},{x:327,y:261},{x:822,y:180},{x:1012,y:783},{x:1383,y:447},{x:255,y:333},{x:922,y:621},{x:534,y:324},{x:255,y:414},{x:1551,y:590},{x:1559,y:481},{x:255,y:297},{x:246,y:441},{x:588,y:324},{x:1249,y:246},{x:372,y:180},{x:417,y:180},{x:606,y:315},{x:1433,y:607},{x:1425,y:196},{x:1383,y:439},{x:741,y:306},{x:426,y:306},{x:714,y:495},{x:1207,y:78},{x:345,y:477},{x:1249,y:204},{x:471,y:26},{x:732,y:234},{x:777,y:252},{x:1383,y:531},{x:327,y:116},{x:1207,y:137},{x:1417,y:61},{x:741,y:89},{x:327,y:225},{x:922,y:702},{x:399,y:144},{x:192,y:369},{x:480,y:98},{x:1744,y:19},{x:372,y:369},{x:219,y:513},{x:1559,y:599},{x:1131,y:103},{x:678,y:315},{x:138,y:180},{x:516,y:189},{x:651,y:315},{x:831,y:495},{x:1450,y:540},{x:183,y:306},{x:417,y:252},{x:1307,y:212},{x:516,y:333},{x:759,y:342},{x:1400,y:162},{x:1291,y:372},{x:1240,y:355},{x:1400,y:95},{x:273,y:89},{x:940,y:504},{x:372,y:306},{x:1433,y:649},{x:1249,y:313},{x:1198,y:103},{x:390,y:71},{x:543,y:17},{x:1492,y:582},{x:300,y:540},{x:1509,y:447},{x:552,y:171},{x:516,y:306},{x:1316,y:137},{x:561,y:89},{x:1442,y:515},{x:1417,y:456},{x:1324,y:221},{x:561,y:324},{x:498,y:315},{x:1240,y:187},{x:1274,y:254},{x:723,y:135},{x:93,y:261},{x:201,y:531},{x:318,y:423},{x:192,y:441},{x:940,y:594},{x:795,y:44},{x:147,y:189},{x:282,y:89},{x:201,y:198},{x:1626,y:70},{x:318,y:441},{x:534,y:252},{x:1727,y:11},{x:543,y:261},{x:201,y:369},{x:633,y:71},{x:291,y:171},{x:345,y:171},{x:255,y:477},{x:1492,y:632},{x:1492,y:599},{x:291,y:594},{x:1509,y:699},{x:534,y:162},{x:120,y:432},{x:444,y:252},{x:111,y:423},{x:129,y:270},{x:516,y:324},{x:1467,y:615},{x:1021,y:531},{x:1223,y:271},{x:1400,y:187},{x:1442,y:531},{x:57,y:396},{x:1467,y:666},{x:372,y:441},{x:1458,y:657},{x:985,y:675},{x:1635,y:61},{x:1274,y:170},{x:1349,y:128},{x:994,y:549},{x:1509,y:599},{x:642,y:351},{x:1526,y:464},{x:435,y:234},{x:201,y:450},{x:453,y:171},{x:597,y:297},{x:147,y:315},{x:931,y:711},{x:1375,y:515},{x:174,y:71},{x:1425,y:540},{x:732,y:98},{x:372,y:270},{x:363,y:62},{x:1257,y:263},{x:93,y:423},{x:264,y:477},{x:579,y:360},{x:354,y:71},{x:390,y:378},{x:48,y:441},{x:480,y:135},{x:354,y:162},{x:1484,y:775},{x:1542,y:28},{x:66,y:216},{x:876,y:71},{x:795,y:477},{x:570,y:71},{x:1223,y:263},{x:1417,y:86},{x:1240,y:103},{x:714,y:450},{x:1249,y:103},{x:327,y:585},{x:480,y:198},{x:1475,y:741},{x:201,y:135},{x:624,y:98},{x:192,y:180},{x:579,y:333},{x:1165,y:86},{x:768,y:144},{x:1316,y:162},{x:732,y:342},{x:543,y:44},{x:651,y:261},{x:588,y:351},{x:1467,y:741},{x:282,y:333},{x:318,y:522},{x:1500,y:515},{x:111,y:261},{x:381,y:378},{x:885,y:693},{x:489,y:17},{x:642,y:53},{x:399,y:288},{x:543,y:342},{x:1274,y:162},{x:273,y:648},{x:1500,y:61},{x:237,y:576},{x:723,y:71},{x:327,y:333},{x:1626,y:19},{x:417,y:71},{x:246,y:107},{x:336,y:576},{x:381,y:243},{x:525,y:315},{x:1517,y:464},{x:345,y:306},{x:1349,y:86},{x:1458,y:61},{x:750,y:144},{x:219,y:225},{x:201,y:594},{x:1442,y:464},{x:399,y:225},{x:1316,y:61},{x:147,y:450},{x:1299,y:179},{x:1568,y:548},{x:1400,y:170},{x:417,y:297},{x:1333,y:347},{x:48,y:432},{x:1307,y:86},{x:786,y:44},{x:1433,y:212},{x:489,y:198},{x:1307,y:137},{x:300,y:234},{x:705,y:504},{x:1417,y:162},{x:849,y:279},{x:651,y:107},{x:93,y:306},{x:1400,y:128},{x:642,y:153},{x:1458,y:154},{x:786,y:486},{x:1500,y:128},{x:795,y:62},{x:1534,y:473},{x:552,y:17},{x:1274,y:212},{x:255,y:684},{x:867,y:585},{x:741,y:135},{x:1366,y:95},{x:651,y:162},{x:741,y:225},{x:1467,y:733},{x:750,y:369},{x:1307,y:196},{x:822,y:252},{x:210,y:495},{x:1475,y:724},{x:309,y:80},{x:1408,y:523},{x:471,y:189},{x:669,y:44},{x:237,y:468},{x:210,y:198},{x:1257,y:103},{x:1282,y:322},{x:129,y:171},{x:156,y:378},{x:588,y:252},{x:498,y:98},{x:660,y:189},{x:1349,y:170},{x:228,y:594},{x:1349,y:212},{x:1458,y:456},{x:300,y:225},{x:795,y:98},{x:282,y:125},{x:949,y:513},{x:1358,y:86},{x:1358,y:128},{x:345,y:89},{x:48,y:297},{x:1526,y:473},{x:1526,y:523},{x:309,y:378},{x:1467,y:179},{x:633,y:80},{x:228,y:486},{x:1475,y:456},{x:1408,y:61},{x:651,y:270},{x:489,y:288},{x:768,y:107},{x:741,y:35},{x:282,y:396},{x:435,y:288},{x:1450,y:187},{x:849,y:594},{x:543,y:297},{x:264,y:225},{x:1333,y:103},{x:759,y:125},{x:1148,y:70},{x:678,y:144},{x:903,y:594},{x:1215,y:238},{x:273,y:486},{x:264,y:125},{x:1349,y:380},{x:1307,y:271},{x:741,y:116},{x:426,y:369},{x:705,y:243},{x:516,y:198},{x:309,y:540},{x:210,y:315},{x:552,y:387},{x:750,y:333},{x:462,y:279},{x:1105,y:112},{x:165,y:396},{x:606,y:171},{x:1492,y:691},{x:75,y:315},{x:1702,y:28},{x:192,y:189},{x:931,y:522},{x:1551,y:515},{x:660,y:89},{x:408,y:62},{x:651,y:144},{x:165,y:414},{x:192,y:288},{x:687,y:369},{x:525,y:125},{x:93,y:243},{x:201,y:288},{x:327,y:576},{x:300,y:432},{x:759,y:198},{x:606,y:243},{x:399,y:360},{x:1207,y:170},{x:876,y:207},{x:264,y:513},{x:1576,y:548},{x:1215,y:288},{x:318,y:288},{x:615,y:252},{x:804,y:702},{x:165,y:360},{x:831,y:162},{x:1458,y:565},{x:246,y:648},{x:507,y:288},{x:1341,y:271},{x:732,y:252},{x:1467,y:775},{x:489,y:306},{x:498,y:162},{x:1400,y:145},{x:1249,y:364},{x:453,y:207},{x:210,y:648},{x:102,y:342},{x:309,y:477},{x:57,y:342},{x:1282,y:103},{x:192,y:360},{x:624,y:324},{x:714,y:35},{x:246,y:351},{x:876,y:603},{x:876,y:684},{x:822,y:89},{x:1291,y:212},{x:273,y:125},{x:759,y:89},{x:291,y:162},{x:1433,y:515},{x:156,y:125},{x:471,y:153},{x:345,y:333},{x:894,y:80},{x:237,y:297},{x:1249,y:86},{x:723,y:53},{x:21,y:387},{x:327,y:450},{x:858,y:594},{x:570,y:17},{x:453,y:125},{x:786,y:495},{x:3,y:351},{x:1375,y:229},{x:651,y:243},{x:1299,y:271},{x:165,y:459},{x:471,y:207},{x:1190,y:238},{x:111,y:288},{x:174,y:189},{x:93,y:297},{x:291,y:576},{x:1333,y:389},{x:642,y:71},{x:687,y:297},{x:498,y:261},{x:813,y:495},{x:399,y:98},{x:696,y:98},{x:931,y:504},{x:633,y:333},{x:174,y:432},{x:1341,y:204},{x:57,y:369},{x:903,y:504},{x:687,y:53},{x:741,y:107},{x:1526,y:128},{x:318,y:369},{x:705,y:450},{x:732,y:207},{x:804,y:207},{x:66,y:144},{x:282,y:423},{x:426,y:116},{x:1425,y:548},{x:931,y:89},{x:390,y:98},{x:273,y:504},{x:444,y:44},{x:336,y:567},{x:1450,y:657},{x:246,y:98},{x:624,y:80},{x:1425,y:405},{x:435,y:549},{x:1534,y:95},{x:642,y:306},{x:381,y:71},{x:480,y:26},{x:1417,y:238},{x:1618,y:53},{x:570,y:297},{x:786,y:630},{x:1358,y:271},{x:318,y:225},{x:669,y:333},{x:922,y:684},{x:120,y:234},{x:759,y:44},{x:940,y:693},{x:498,y:270},{x:1207,y:120},{x:624,y:297},{x:642,y:315},{x:705,y:144},{x:147,y:261},{x:363,y:378},{x:597,y:324},{x:219,y:53},{x:570,y:243},{x:1484,y:498},{x:192,y:423},{x:1576,y:489},{x:1534,y:641},{x:615,y:261},{x:1173,y:70},{x:426,y:189},{x:435,y:243},{x:372,y:144},{x:1626,y:103},{x:822,y:639},{x:1509,y:548},{x:1282,y:238},{x:237,y:666},{x:417,y:189},{x:1484,y:540},{x:1551,y:523},{x:264,y:53},{x:462,y:189},{x:210,y:171},{x:183,y:189},{x:1458,y:187},{x:354,y:234},{x:156,y:315},{x:309,y:468},{x:1375,y:489},{x:1307,y:103},{x:876,y:594},{x:462,y:62},{x:219,y:189},{x:183,y:468},{x:1500,y:162},{x:1425,y:95},{x:219,y:540},{x:1475,y:170},{x:1542,y:649},{x:624,y:279},{x:435,y:171},{x:1475,y:615},{x:264,y:459},{x:48,y:423},{x:615,y:116},{x:381,y:98},{x:1408,y:246},{x:1584,y:599},{x:1391,y:212},{x:1492,y:557},{x:768,y:306},{x:210,y:459},{x:210,y:558},{x:741,y:80},{x:489,y:207},{x:345,y:98},{x:795,y:486},{x:588,y:153},{x:696,y:135},{x:156,y:432},{x:1223,y:288},{x:1509,y:582},{x:958,y:594},{x:903,y:675},{x:192,y:648},{x:795,y:80},{x:678,y:369},{x:246,y:144},{x:570,y:89},{x:390,y:423},{x:453,y:225},{x:525,y:270},{x:777,y:261},{x:1559,y:573},{x:732,y:261},{x:669,y:107},{x:1702,y:11},{x:327,y:441},{x:435,y:225},{x:237,y:450},{x:606,y:62},{x:705,y:270},{x:696,y:468},{x:390,y:288},{x:1291,y:78},{x:255,y:675},{x:462,y:243},{x:327,y:405},{x:264,y:180},{x:228,y:468},{x:408,y:225},{x:633,y:189},{x:1232,y:128},{x:723,y:261},{x:615,y:198},{x:1551,y:599},{x:705,y:261},{x:1366,y:112},{x:768,y:297},{x:84,y:333},{x:1719,y:44},{x:1265,y:221},{x:165,y:405},{x:687,y:62},{x:849,y:89},{x:633,y:324},{x:327,y:171},{x:291,y:225},{x:723,y:342},{x:507,y:144},{x:264,y:324},{x:985,y:666},{x:219,y:198},{x:1408,y:364},{x:714,y:180},{x:1534,y:489},{x:1433,y:531},{x:1265,y:372},{x:300,y:342},{x:723,y:423},{x:885,y:657},{x:399,y:153},{x:813,y:216},{x:192,y:414},{x:705,y:405},{x:273,y:387},{x:696,y:279},{x:1475,y:691},{x:777,y:243},{x:1484,y:683},{x:561,y:80},{x:1433,y:95},{x:903,y:639},{x:967,y:612},{x:1425,y:439},{x:1417,y:254},{x:426,y:98},{x:363,y:180},{x:1551,y:531},{x:363,y:648},{x:831,y:171},{x:552,y:107},{x:228,y:116},{x:336,y:387},{x:1492,y:607},{x:210,y:594},{x:1316,y:112},{x:759,y:477},{x:1358,y:212},{x:777,y:333},{x:732,y:405},{x:1181,y:70},{x:1593,y:28},{x:750,y:89},{x:822,y:171},{x:228,y:360},{x:867,y:657},{x:741,y:333},{x:336,y:216},{x:1375,y:263},{x:1349,y:70},{x:1198,y:271},{x:219,y:405},{x:129,y:315},{x:1215,y:187},{x:1207,y:61},{x:777,y:702},{x:1383,y:120},{x:435,y:252},{x:552,y:207},{x:768,y:477},{x:246,y:477},{x:309,y:585},{x:1458,y:708},{x:696,y:180},{x:615,y:53},{x:246,y:603},{x:399,y:270},{x:552,y:180},{x:1568,y:599},{x:732,y:80},{x:597,y:306},{x:1719,y:53},{x:786,y:540},{x:39,y:324},{x:1131,y:120},{x:1475,y:515},{x:894,y:89},{x:102,y:207},{x:498,y:26},{x:1450,y:86},{x:804,y:666},{x:282,y:495},{x:1568,y:489},{x:75,y:297},{x:1542,y:615},{x:534,y:360},{x:822,y:657},{x:1484,y:489},{x:615,y:207},{x:336,y:477},{x:1240,y:70},{x:417,y:333},{x:192,y:116},{x:1677,y:70},{x:1299,y:162},{x:1467,y:724},{x:1442,y:599},{x:525,y:62},{x:1467,y:758},{x:1265,y:313},{x:156,y:198},{x:570,y:125},{x:390,y:576},{x:1425,y:187},{x:498,y:225},{x:976,y:684},{x:1291,y:162},{x:1442,y:632},{x:1526,y:540},{x:714,y:135},{x:705,y:35},{x:1458,y:95},{x:426,y:324},{x:525,y:297},{x:282,y:486},{x:1274,y:364},{x:1618,y:112},{x:93,y:144},{x:615,y:279},{x:399,y:261},{x:876,y:80},{x:102,y:198},{x:1383,y:86},{x:813,y:198},{x:1358,y:53},{x:345,y:153},{x:651,y:324},{x:300,y:333},{x:1475,y:531},{x:1165,y:70},{x:615,y:107},{x:714,y:198},{x:570,y:189},{x:1349,y:422},{x:417,y:288},{x:210,y:504},{x:471,y:135},{x:606,y:135},{x:1391,y:120},{x:1333,y:204},{x:588,y:333},{x:552,y:297},{x:660,y:360},{x:309,y:576},{x:1249,y:162},{x:534,y:351},{x:903,y:684},{x:660,y:216},{x:480,y:189},{x:30,y:360},{x:1467,y:573},{x:507,y:71},{x:390,y:351},{x:976,y:522},{x:651,y:189},{x:1736,y:11},{x:1223,y:162},{x:1190,y:254},{x:498,y:17},{x:1458,y:515},{x:967,y:657},{x:435,y:162},{x:93,y:162},{x:1542,y:489},{x:1215,y:70},{x:561,y:297},{x:1366,y:170},{x:237,y:558},{x:93,y:288},{x:1526,y:86},{x:1417,y:540},{x:1299,y:263},{x:840,y:549},{x:552,y:198},{x:1408,y:557},{x:1391,y:548},{x:1744,y:28},{x:1324,y:196},{x:453,y:53},{x:318,y:396},{x:444,y:342},{x:723,y:495},{x:705,y:306},{x:507,y:125},{x:201,y:621},{x:345,y:450},{x:1341,y:103},{x:867,y:648},{x:462,y:270},{x:1534,y:70},{x:714,y:116},{x:1274,y:313},{x:381,y:297},{x:1417,y:548},{x:201,y:495},{x:669,y:315},{x:183,y:324},{x:1375,y:473},{x:822,y:648},{x:1442,y:473},{x:246,y:369},{x:597,y:116},{x:219,y:396},{x:507,y:98},{x:1257,y:221},{x:786,y:648},{x:1366,y:506},{x:264,y:504},{x:976,y:648},{x:940,y:648},{x:1484,y:557},{x:1375,y:154},{x:300,y:612},{x:1450,y:212},{x:804,y:89},{x:822,y:144},{x:1534,y:515},{x:489,y:315},{x:345,y:351},{x:507,y:306},{x:156,y:98},{x:228,y:324},{x:84,y:342},{x:1366,y:44},{x:219,y:558},{x:165,y:162},{x:1643,y:11},{x:192,y:387},{x:615,y:306},{x:84,y:360},{x:1366,y:280},{x:237,y:414},{x:669,y:80},{x:111,y:441},{x:201,y:80},{x:1475,y:783},{x:1349,y:221},{x:922,y:513},{x:156,y:252},{x:552,y:153},{x:696,y:351},{x:183,y:333},{x:1417,y:170},{x:129,y:198},{x:1249,y:212},{x:1257,y:364},{x:1265,y:296},{x:1375,y:322},{x:498,y:216},{x:1509,y:53},{x:1542,y:599},{x:1375,y:338},{x:813,y:378},{x:1509,y:632},{x:183,y:71},{x:174,y:207},{x:1450,y:221},{x:57,y:288},{x:192,y:279},{x:1467,y:456},{x:174,y:144},{x:1215,y:128},{x:336,y:225},{x:435,y:125},{x:1240,y:221},{x:516,y:71},{x:1324,y:145},{x:1066,y:612},{x:534,y:135},{x:642,y:62},{x:246,y:468},{x:282,y:306},{x:1736,y:19},{x:102,y:360},{x:777,y:53},{x:570,y:288},{x:976,y:540},{x:1408,y:548},{x:1316,y:364},{x:264,y:675},{x:1282,y:179},{x:219,y:468},{x:822,y:477},{x:543,y:80},{x:642,y:342},{x:858,y:684},{x:444,y:243},{x:147,y:89},{x:903,y:711},{x:165,y:333},{x:597,y:53},{x:273,y:666},{x:1039,y:765},{x:1458,y:641},{x:174,y:216},{x:489,y:297},{x:570,y:279},{x:1559,y:590},{x:336,y:189},{x:705,y:369},{x:759,y:486},{x:489,y:116},{x:1442,y:649},{x:363,y:315},{x:1307,y:70},{x:543,y:189},{x:336,y:468},{x:1291,y:364},{x:678,y:53},{x:723,y:252},{x:1307,y:364},{x:354,y:153},{x:1249,y:238},{x:714,y:504},{x:246,y:621},{x:606,y:297},{x:363,y:261},{x:1677,y:53},{x:1383,y:61},{x:309,y:342},{x:1291,y:280},{x:1744,y:95},{x:309,y:450},{x:147,y:144},{x:1324,y:70},{x:1366,y:473},{x:489,y:98},{x:336,y:125},{x:1467,y:78},{x:804,y:693},{x:940,y:684},{x:1131,y:86},{x:75,y:207},{x:777,y:189},{x:876,y:639},{x:255,y:612},{x:1517,y:11},{x:138,y:396},{x:552,y:216},{x:1190,y:263},{x:1240,y:288},{x:1458,y:540},{x:1274,y:229},{x:399,y:89},{x:1702,y:53},{x:363,y:621},{x:813,y:107},{x:354,y:80},{x:1668,y:44},{x:732,y:171},{x:1542,y:632},{x:894,y:62},{x:174,y:288},{x:228,y:396},{x:363,y:71},{x:1736,y:3},{x:615,y:35},{x:471,y:216},{x:1752,y:28},{x:444,y:288},{x:1400,y:78},{x:1383,y:456},{x:561,y:153},{x:417,y:162},{x:336,y:270},{x:1341,y:405},{x:624,y:62},{x:147,y:162},{x:498,y:107},{x:1467,y:523},{x:723,y:243},{x:183,y:522},{x:1240,y:330},{x:255,y:531},{x:678,y:180},{x:543,y:125},{x:381,y:630},{x:1341,y:70},{x:624,y:125},{x:1509,y:557},{x:651,y:198},{x:417,y:62},{x:264,y:531},{x:543,y:288},{x:93,y:279},{x:642,y:261},{x:210,y:432},{x:913,y:639},{x:102,y:387},{x:417,y:342},{x:741,y:98},{x:1148,y:103},{x:705,y:225},{x:903,y:621},{x:768,y:531},{x:219,y:612},{x:741,y:162},{x:633,y:98},{x:1635,y:103},{x:1417,y:565},{x:471,y:89},{x:1324,y:372},{x:129,y:432},{x:1198,y:78},{x:255,y:630},{x:1341,y:397},{x:804,y:180},{x:1702,y:19},{x:732,y:513},{x:1223,y:112},{x:1207,y:280},{x:552,y:116},{x:1484,y:53},{x:1084,y:738},{x:1274,y:128},{x:399,y:324},{x:1215,y:179},{x:246,y:387},{x:949,y:531},{x:174,y:378},{x:588,y:62},{x:732,y:306},{x:75,y:414},{x:1509,y:162},{x:840,y:594},{x:372,y:234},{x:408,y:44},{x:831,y:189},{x:1517,y:439},{x:1307,y:154},{x:75,y:441},{x:300,y:603},{x:1517,y:573},{x:210,y:162},{x:120,y:162},{x:543,y:62},{x:183,y:351},{x:444,y:135},{x:534,y:35},{x:1274,y:137},{x:291,y:53},{x:786,y:216},{x:435,y:144},{x:1249,y:154},{x:300,y:522},{x:1484,y:674},{x:1349,y:78},{x:1249,y:145},{x:147,y:342},{x:444,y:89},{x:273,y:297},{x:1526,y:565},{x:732,y:531},{x:597,y:98},{x:219,y:603},{x:390,y:207},{x:1190,y:212},{x:390,y:432},{x:903,y:576},{x:1534,y:86},{x:687,y:216},{x:967,y:621},{x:372,y:594},{x:687,y:360},{x:399,y:180},{x:633,y:116},{x:1391,y:53},{x:345,y:342},{x:1391,y:506},{x:1643,y:19},{x:354,y:351},{x:732,y:225},{x:1324,y:95},{x:255,y:180},{x:660,y:198},{x:156,y:153},{x:1358,y:238},{x:552,y:26},{x:1291,y:112},{x:390,y:342},{x:1509,y:28},{x:570,y:171},{x:876,y:261},{x:1198,y:238},{x:525,y:225},{x:552,y:378},{x:1417,y:154},{x:1484,y:649},{x:750,y:171},{x:1375,y:523},{x:111,y:351},{x:714,y:288},{x:102,y:396},{x:687,y:198},{x:858,y:585},{x:1257,y:229},{x:75,y:261},{x:183,y:80},{x:813,y:693},{x:894,y:657},{x:768,y:279},{x:1408,y:95},{x:1584,y:11},{x:705,y:297},{x:264,y:62},{x:273,y:621},{x:264,y:387},{x:885,y:116},{x:30,y:306},{x:804,y:189},{x:525,y:207},{x:1341,y:196},{x:93,y:441},{x:615,y:288},{x:174,y:180},{x:1383,y:473},{x:615,y:44},{x:327,y:243},{x:588,y:89},{x:822,y:189},{x:318,y:477},{x:318,y:98},{x:768,y:125},{x:669,y:306},{x:768,y:648},{x:1576,y:540},{x:21,y:396},{x:525,y:17},{x:255,y:189},{x:894,y:53},{x:462,y:198},{x:336,y:459},{x:561,y:17},{x:624,y:89},{x:579,y:342},{x:1240,y:305},{x:201,y:360},{x:1215,y:229},{x:336,y:351},{x:606,y:198},{x:228,y:459},{x:570,y:306},{x:1442,y:641},{x:849,y:612},{x:174,y:522},{x:1719,y:61},{x:894,y:630},{x:1417,y:422},{x:741,y:396},{x:273,y:684},{x:129,y:414},{x:1517,y:128},{x:507,y:261},{x:480,y:315},{x:1542,y:187},{x:1433,y:657},{x:1559,y:498},{x:687,y:351},{x:1400,y:61},{x:192,y:612},{x:489,y:53},{x:1568,y:607},{x:39,y:387},{x:913,y:738},{x:642,y:324},{x:228,y:648},{x:471,y:44},{x:1526,y:657},{x:372,y:612},{x:93,y:342},{x:1526,y:557},{x:1433,y:523},{x:57,y:405},{x:372,y:297},{x:1391,y:414},{x:237,y:351},{x:84,y:279},{x:1358,y:112},{x:1075,y:747},{x:885,y:639},{x:786,y:666},{x:660,y:378},{x:1500,y:473},{x:480,y:62},{x:363,y:80},{x:1207,y:86},{x:1165,y:78},{x:354,y:171},{x:949,y:693},{x:228,y:162},{x:624,y:116},{x:696,y:89},{x:237,y:342},{x:1576,y:590},{x:1333,y:70},{x:1324,y:271},{x:723,y:306},{x:219,y:414},{x:345,y:423},{x:660,y:261},{x:1710,y:61},{x:300,y:135},{x:1093,y:594},{x:1324,y:204},{x:1282,y:145},{x:417,y:207},{x:138,y:351},{x:903,y:80},{x:1710,y:11},{x:219,y:522},{x:1232,y:263},{x:1391,y:422},{x:759,y:279},{x:831,y:396},{x:1433,y:447},{x:1366,y:481},{x:336,y:423},{x:633,y:62},{x:1198,y:305},{x:958,y:531},{x:462,y:234},{x:1534,y:624},{x:318,y:243},{x:426,y:180},{x:1484,y:162},{x:1240,y:296},{x:1652,y:70},{x:1458,y:750},{x:1391,y:498},{x:1500,y:657},{x:372,y:360},{x:1291,y:254},{x:1333,y:128},{x:1677,y:61},{x:246,y:675},{x:210,y:306},{x:408,y:306},{x:1375,y:313},{x:1500,y:86},{x:1727,y:28},{x:1626,y:95},{x:1694,y:61},{x:273,y:288},{x:102,y:441},{x:1391,y:154},{x:1500,y:666},{x:165,y:207},{x:1450,y:422},{x:1475,y:187},{x:372,y:261},{x:1484,y:699},{x:543,y:35},{x:1417,y:489},{x:318,y:116},{x:588,y:207},{x:3,y:396},{x:174,y:360},{x:219,y:567},{x:1291,y:70},{x:1223,y:280},{x:1207,y:229},{x:1274,y:204},{x:759,y:540},{x:354,y:468},{x:570,y:116},{x:660,y:98},{x:318,y:53},{x:237,y:198},{x:291,y:243},{x:1123,y:86},{x:318,y:531},{x:840,y:630},{x:1500,y:489},{x:129,y:279},{x:732,y:44},{x:606,y:116},{x:894,y:71},{x:291,y:80},{x:606,y:89},{x:705,y:71},{x:525,y:342},{x:516,y:26},{x:255,y:324},{x:39,y:333},{x:1366,y:288},{x:318,y:180},{x:1668,y:11},{x:525,y:26},{x:777,y:98},{x:543,y:315},{x:66,y:369},{x:498,y:89},{x:876,y:675},{x:1232,y:187},{x:300,y:441},{x:1526,y:674},{x:1509,y:128},{x:633,y:279},{x:345,y:495},{x:1249,y:280},{x:102,y:279},{x:291,y:153},{x:561,y:360},{x:1408,y:473},{x:1232,y:305},{x:552,y:80},{x:462,y:261},{x:120,y:261},{x:777,y:666},{x:75,y:342},{x:705,y:44},{x:624,y:207},{x:840,y:62},{x:129,y:297},{x:1282,y:212},{x:246,y:396},{x:183,y:414},{x:255,y:441},{x:1458,y:632},{x:417,y:98},{x:1727,y:19},{x:1484,y:70},{x:687,y:107},{x:1358,y:204},{x:435,y:89},{x:1526,y:61},{x:192,y:540},{x:282,y:567},{x:192,y:666},{x:831,y:98},{x:1442,y:624},{x:237,y:216},{x:345,y:279},{x:588,y:125},{x:1450,y:699},{x:318,y:297},{x:1190,y:103},{x:831,y:648},{x:1274,y:112},{x:192,y:639},{x:588,y:144},{x:102,y:450},{x:1400,y:112},{x:1509,y:515},{x:1282,y:162},{x:579,y:216},{x:1375,y:196},{x:1291,y:229},{x:435,y:360},{x:129,y:252},{x:570,y:315},{x:1584,y:607},{x:282,y:558},{x:1400,y:498},{x:705,y:216},{x:642,y:270},{x:1349,y:179},{x:1240,y:263},{x:1458,y:212},{x:489,y:44},{x:282,y:630},{x:1618,y:86},{x:1618,y:70},{x:300,y:80},{x:615,y:243},{x:1475,y:422},{x:165,y:306},{x:273,y:62},{x:219,y:234},{x:156,y:387},{x:282,y:180},{x:1484,y:170},{x:714,y:153},{x:1517,y:36},{x:1181,y:61},{x:1282,y:271},{x:795,y:495},{x:219,y:423},{x:462,y:144},{x:255,y:558},{x:435,y:333},{x:913,y:62},{x:1307,y:179},{x:291,y:333},{x:282,y:297},{x:327,y:189},{x:885,y:612},{x:201,y:342},{x:849,y:675},{x:417,y:243},{x:1442,y:162},{x:1710,y:19},{x:228,y:477},{x:949,y:62},{x:264,y:648},{x:435,y:71},{x:1467,y:170},{x:228,y:540},{x:408,y:342},{x:1694,y:19},{x:291,y:396},{x:183,y:567},{x:741,y:216},{x:1003,y:522},{x:1408,y:254},{x:228,y:531},{x:1358,y:61},{x:651,y:216},{x:723,y:333},{x:453,y:288},{x:795,y:180},{x:1467,y:557},{x:723,y:225},{x:1417,y:364},{x:444,y:98},{x:1400,y:347},{x:1383,y:162},{x:1265,y:254},{x:1509,y:86},{x:732,y:288},{x:264,y:693},{x:1265,y:355},{x:786,y:693},{x:994,y:522},{x:12,y:414},{x:1232,y:296},{x:237,y:486},{x:660,y:180},{x:1450,y:607},{x:282,y:432},{x:156,y:279},{x:525,y:216},{x:291,y:612},{x:201,y:162},{x:273,y:459},{x:615,y:62},{x:1232,y:196},{x:741,y:270},{x:156,y:135},{x:426,y:107},{x:606,y:162},{x:750,y:225},{x:696,y:80},{x:1190,y:246},{x:219,y:80},{x:336,y:207},{x:354,y:189},{x:1542,y:523},{x:723,y:153},{x:309,y:495},{x:1408,y:456},{x:759,y:135},{x:111,y:153},{x:318,y:594},{x:156,y:107},{x:1652,y:61},{x:426,y:261},{x:408,y:288},{x:714,y:89},{x:336,y:107},{x:66,y:225},{x:246,y:405},{x:309,y:306},{x:237,y:603},{x:219,y:297},{x:1727,y:44},{x:138,y:306},{x:1484,y:741},{x:1694,y:53},{x:1769,y:11},{x:237,y:504},{x:579,y:198},{x:786,y:288},{x:354,y:207},{x:435,y:189},{x:1492,y:573},{x:1736,y:53},{x:831,y:621},{x:922,y:693},{x:777,y:216},{x:894,y:135},{x:381,y:351},{x:174,y:315},{x:1442,y:716},{x:976,y:639},{x:1500,y:19},{x:345,y:432},{x:1240,y:246},{x:426,y:360},{x:858,y:693},{x:129,y:360},{x:1492,y:649},{x:633,y:35},{x:111,y:189},{x:156,y:495},{x:723,y:62},{x:651,y:225},{x:228,y:585},{x:786,y:116},{x:1333,y:254},{x:57,y:333},{x:219,y:324},{x:1475,y:775},{x:192,y:153},{x:696,y:162},{x:255,y:135},{x:192,y:342},{x:1265,y:229},{x:1492,y:792},{x:363,y:477},{x:1475,y:649},{x:219,y:125},{x:408,y:252},{x:1282,y:280},{x:1341,y:254},{x:300,y:405},{x:408,y:234},{x:138,y:450},{x:1257,y:271},{x:390,y:387},{x:1752,y:95},{x:1265,y:288},{x:453,y:189},{x:327,y:252},{x:940,y:729},{x:300,y:639},{x:201,y:378},{x:768,y:62},{x:264,y:414},{x:228,y:333},{x:894,y:603},{x:183,y:378},{x:867,y:504},{x:39,y:369},{x:246,y:423},{x:723,y:522},{x:174,y:387},{x:183,y:504},{x:831,y:252},{x:111,y:297},{x:426,y:234},{x:1601,y:531},{x:1509,y:523},{x:958,y:684},{x:210,y:144},{x:1500,y:615},{x:480,y:207},{x:1425,y:414},{x:876,y:702},{x:1601,y:19},{x:1156,y:103},{x:516,y:144},{x:885,y:225},{x:705,y:360},{x:336,y:252},{x:1534,y:540},{x:417,y:351},{x:723,y:288},{x:1316,y:254},{x:1475,y:641},{x:1215,y:95},{x:129,y:378},{x:940,y:639},{x:867,y:198},{x:885,y:675},{x:1576,y:582},{x:210,y:513},{x:192,y:53},{x:48,y:405},{x:1232,y:288},{x:255,y:423},{x:372,y:216},{x:354,y:252},{x:39,y:423},{x:381,y:162},{x:1450,y:582},{x:768,y:270},{x:579,y:89},{x:381,y:171},{x:885,y:585},{x:399,y:71},{x:156,y:89},{x:822,y:53},{x:1492,y:515},{x:669,y:189},{x:1467,y:674},{x:1458,y:170},{x:363,y:225},{x:1265,y:86},{x:174,y:89},{x:435,y:306},{x:498,y:116},{x:1458,y:548},{x:1282,y:154},{x:705,y:62},{x:210,y:477},{x:1265,y:179},{x:1593,y:548},{x:1232,y:204},{x:399,y:107},{x:237,y:360},{x:696,y:243},{x:1021,y:522},{x:66,y:243},{x:399,y:378},{x:525,y:333},{x:111,y:171},{x:273,y:71},{x:1484,y:456},{x:1526,y:498},{x:1265,y:330},{x:120,y:297},{x:1391,y:229},{x:1366,y:489},{x:1601,y:515},{x:57,y:225},{x:1576,y:28},{x:372,y:162},{x:453,y:261},{x:831,y:666},{x:363,y:171},{x:471,y:297},{x:192,y:261},{x:1492,y:641},{x:705,y:477},{x:624,y:234},{x:147,y:171},{x:1635,y:53},{x:885,y:648},{x:291,y:549},{x:264,y:423},{x:1576,y:506},{x:1257,y:355},{x:588,y:360},{x:678,y:261},{x:1593,y:523},{x:714,y:459},{x:1685,y:36},{x:246,y:504},{x:1551,y:573},{x:1333,y:170},{x:1484,y:464},{x:147,y:405},{x:931,y:729},{x:471,y:243},{x:660,y:153},{x:1450,y:473},{x:426,y:351},{x:660,y:62},{x:976,y:630},{x:183,y:441},{x:922,y:729},{x:1383,y:170},{x:1526,y:120},{x:840,y:693},{x:1307,y:380},{x:1274,y:86},{x:174,y:279},{x:336,y:414},{x:318,y:89},{x:1509,y:19},{x:741,y:279},{x:570,y:107},{x:309,y:360},{x:1341,y:128},{x:309,y:71},{x:696,y:378},{x:660,y:270},{x:777,y:171},{x:1215,y:271},{x:1358,y:162},{x:1400,y:53},{x:705,y:198},{x:147,y:306},{x:1417,y:179},{x:237,y:189},{x:804,y:162},{x:228,y:612},{x:958,y:576},{x:516,y:125},{x:705,y:333},{x:1484,y:590},{x:264,y:243},{x:1458,y:733},{x:57,y:234},{x:570,y:98},{x:462,y:71},{x:57,y:243},{x:876,y:666},{x:93,y:207},{x:705,y:324},{x:219,y:576},{x:516,y:342},{x:1484,y:128},{x:1358,y:254},{x:372,y:116},{x:1291,y:196},{x:363,y:252},{x:1500,y:649},{x:57,y:378},{x:1265,y:238},{x:183,y:576},{x:525,y:53},{x:219,y:459},{x:1333,y:78},{x:1517,y:641},{x:1215,y:196},{x:1257,y:137},{x:1458,y:473},{x:1559,y:19},{x:1282,y:221},{x:129,y:342},{x:1576,y:531},{x:336,y:288},{x:408,y:89},{x:129,y:306},{x:273,y:657},{x:588,y:441},{x:336,y:171},{x:408,y:279},{x:804,y:234},{x:1492,y:565},{x:1274,y:271},{x:534,y:44},{x:1375,y:221},{x:138,y:207},{x:516,y:89},{x:75,y:369},{x:237,y:657},{x:156,y:333},{x:1492,y:540},{x:273,y:396},{x:1207,y:212},{x:1291,y:95},{x:1442,y:422},{x:759,y:216},{x:849,y:684},{x:174,y:324},{x:1316,y:229},{x:624,y:270},{x:1635,y:11},{x:219,y:89},{x:768,y:71},{x:1408,y:498},{x:1542,y:154},{x:1408,y:414},{x:1282,y:347},{x:264,y:549},{x:192,y:107},{x:696,y:342},{x:1584,y:590},{x:858,y:62},{x:633,y:216},{x:958,y:675},{x:750,y:216},{x:1458,y:78},{x:1240,y:86},{x:345,y:297},{x:1265,y:154},{x:1307,y:187},{x:1551,y:641},{x:363,y:441},{x:192,y:522},{x:516,y:252},{x:813,y:522},{x:579,y:378},{x:561,y:396},{x:1517,y:28},{x:408,y:80},{x:165,y:342},{x:183,y:62},{x:741,y:171},{x:1257,y:347},{x:786,y:225},{x:480,y:71},{x:768,y:80},{x:1057,y:558},{x:147,y:270},{x:1349,y:120},{x:1484,y:196},{x:1551,y:481},{x:1240,y:128},{x:1257,y:196},{x:1425,y:154},{x:967,y:693},{x:1265,y:271},{x:246,y:207},{x:1542,y:607},{x:651,y:288},{x:570,y:387},{x:1383,y:238},{x:1282,y:86},{x:255,y:639},{x:615,y:297},{x:1425,y:170},{x:1694,y:36},{x:219,y:216},{x:570,y:270},{x:813,y:62},{x:1710,y:70},{x:1475,y:128},{x:1240,y:271},{x:1341,y:229},{x:462,y:44},{x:642,y:297},{x:552,y:89},{x:453,y:234},{x:345,y:396},{x:147,y:153},{x:768,y:243},{x:1425,y:364},{x:417,y:144},{x:507,y:44},{x:525,y:189},{x:1492,y:498},{x:669,y:153},{x:903,y:71},{x:813,y:207},{x:1383,y:498},{x:57,y:315},{x:336,y:441},{x:1400,y:515},{x:1526,y:582},{x:381,y:107},{x:48,y:396},{x:1492,y:473},{x:1291,y:221},{x:958,y:522},{x:1635,y:28},{x:1391,y:515},{x:210,y:360},{x:309,y:144},{x:1291,y:128},{x:723,y:351},{x:1274,y:221},{x:696,y:125},{x:84,y:261},{x:913,y:684},{x:309,y:369},{x:1383,y:364},{x:327,y:495},{x:1375,y:296},{x:210,y:396},{x:318,y:80},{x:273,y:405},{x:1492,y:447},{x:786,y:71},{x:1492,y:170},{x:192,y:162},{x:1366,y:229},{x:219,y:666},{x:408,y:107},{x:795,y:648},{x:156,y:144},{x:1265,y:280},{x:237,y:107},{x:192,y:405},{x:732,y:378},{x:1475,y:204},{x:561,y:98},{x:795,y:621},{x:84,y:216},{x:1500,y:154},{x:237,y:125},{x:1433,y:548},{x:336,y:135},{x:201,y:297},{x:1643,y:44},{x:273,y:116},{x:759,y:144},{x:228,y:630},{x:219,y:504},{x:1232,y:120},{x:543,y:378},{x:561,y:162},{x:768,y:252},{x:390,y:441},{x:1265,y:103},{x:1517,y:666},{x:246,y:522},{x:147,y:414},{x:1643,y:86},{x:687,y:387},{x:1534,y:137},{x:1467,y:145},{x:57,y:441},{x:354,y:369},{x:75,y:351},{x:156,y:450},{x:507,y:107},{x:858,y:80},{x:372,y:243},{x:579,y:53},{x:219,y:450},{x:1198,y:204},{x:1433,y:599},{x:552,y:306},{x:156,y:414},{x:1316,y:280},{x:1475,y:44},{x:174,y:351},{x:75,y:333},{x:678,y:279},{x:534,y:243},{x:885,y:621},{x:525,y:35},{x:309,y:279},{x:264,y:107},{x:1223,y:120},{x:66,y:387},{x:1341,y:246},{x:597,y:351},{x:48,y:414},{x:1391,y:557},{x:192,y:450},{x:1417,y:506},{x:1105,y:128},{x:543,y:270},{x:75,y:378},{x:660,y:125},{x:552,y:71},{x:1467,y:766},{x:1265,y:338},{x:480,y:243},{x:1500,y:641},{x:913,y:666},{x:579,y:80},{x:967,y:522},{x:642,y:252},{x:183,y:369},{x:255,y:198},{x:1198,y:296},{x:120,y:378},{x:273,y:513},{x:354,y:360},{x:1542,y:657},{x:1207,y:128},{x:1324,y:86},{x:183,y:477},{x:462,y:26},{x:237,y:675},{x:543,y:306},{x:894,y:567},{x:741,y:414},{x:813,y:657},{x:39,y:360},{x:111,y:369},{x:462,y:107},{x:327,y:62},{x:489,y:62},{x:210,y:684},{x:1282,y:70},{x:1113,y:112},{x:48,y:450},{x:30,y:333},{x:336,y:116},{x:228,y:567},{x:471,y:288},{x:354,y:342},{x:1568,y:531},{x:1282,y:305},{x:849,y:414},{x:1113,y:103},{x:1249,y:288},{x:174,y:486},{x:471,y:315},{x:687,y:98},{x:750,y:207},{x:624,y:261},{x:1375,y:70},{x:426,y:270},{x:696,y:315},{x:129,y:333},{x:597,y:189},{x:561,y:234},{x:1249,y:112},{x:903,y:62},{x:1400,y:212},{x:453,y:144},{x:570,y:80},{x:336,y:297},{x:246,y:306},{x:498,y:135},{x:273,y:315},{x:282,y:612},{x:273,y:243},{x:309,y:153},{x:336,y:62},{x:1274,y:187},{x:1333,y:112},{x:867,y:693},{x:1375,y:95},{x:723,y:80},{x:111,y:378},{x:561,y:279},{x:183,y:450},{x:1383,y:523},{x:219,y:657},{x:282,y:603},{x:363,y:594},{x:1366,y:78},{x:1307,y:372},{x:417,y:116},{x:1702,y:61},{x:1349,y:405},{x:849,y:603},{x:1542,y:11},{x:237,y:513},{x:489,y:189},{x:867,y:252},{x:336,y:89},{x:1542,y:540},{x:309,y:351},{x:831,y:693},{x:480,y:252},{x:804,y:630},{x:273,y:612},{x:318,y:162},{x:903,y:756},{x:318,y:585},{x:786,y:657},{x:958,y:71},{x:480,y:270},{x:534,y:71},{x:381,y:315},{x:192,y:306},{x:1383,y:263},{x:498,y:306},{x:264,y:666},{x:1207,y:271},{x:1333,y:179},{x:615,y:216},{x:1500,y:557},{x:543,y:26},{x:967,y:639},{x:1349,y:397},{x:534,y:171},{x:1660,y:19},{x:1433,y:489},{x:660,y:44},{x:255,y:495},{x:1349,y:137},{x:777,y:540},{x:1316,y:380},{x:1534,y:28},{x:165,y:144},{x:885,y:630},{x:543,y:198},{x:498,y:125},{x:669,y:378},{x:354,y:414},{x:1467,y:683},{x:1484,y:481},{x:1358,y:137},{x:444,y:144},{x:1215,y:204},{x:246,y:324},{x:282,y:594},{x:786,y:504},{x:1366,y:53},{x:390,y:414},{x:1467,y:414},{x:408,y:180},{x:741,y:71},{x:1274,y:238},{x:579,y:26},{x:606,y:153},{x:1425,y:431},{x:228,y:225},{x:300,y:450},{x:1517,y:481},{x:741,y:234},{x:940,y:657},{x:931,y:684},{x:1375,y:179},{x:237,y:53},{x:1509,y:624},{x:111,y:315},{x:768,y:333},{x:1341,y:145},{x:624,y:333},{x:786,y:477},{x:1240,y:137},{x:228,y:216},{x:705,y:171},{x:39,y:414},{x:480,y:288},{x:705,y:459},{x:165,y:270},{x:822,y:378},{x:1601,y:11},{x:246,y:693},{x:705,y:441},{x:417,y:216},{x:813,y:414},{x:1383,y:489},{x:246,y:702},{x:1408,y:170},{x:480,y:44},{x:976,y:675},{x:309,y:504},{x:597,y:288},{x:21,y:351},{x:273,y:603},{x:408,y:98},{x:498,y:80},{x:165,y:441},{x:183,y:432},{x:129,y:180},{x:237,y:135},{x:282,y:360},{x:1593,y:565},{x:273,y:153},{x:1207,y:112},{x:1215,y:330},{x:1467,y:599},{x:336,y:315},{x:1400,y:422},{x:1249,y:355},{x:1408,y:229},{x:201,y:630},{x:813,y:98},{x:1442,y:70},{x:1207,y:322},{x:723,y:216},{x:1223,y:196},{x:642,y:89},{x:1576,y:599},{x:489,y:80},{x:867,y:261},{x:1408,y:221},{x:913,y:630},{x:1307,y:254},{x:1307,y:120},{x:318,y:252},{x:1542,y:78},{x:327,y:324},{x:1215,y:280},{x:1425,y:355},{x:75,y:405},{x:102,y:378},{x:894,y:594},{x:1467,y:632},{x:552,y:252},{x:1643,y:78},{x:705,y:53},{x:516,y:225},{x:165,y:89},{x:309,y:612},{x:1610,y:28},{x:1223,y:212},{x:1710,y:28},{x:30,y:351},{x:642,y:207},{x:237,y:567},{x:543,y:89},{x:192,y:432},{x:174,y:116},{x:804,y:44},{x:705,y:486},{x:1324,y:380},{x:651,y:306},{x:327,y:468},{x:237,y:531},{x:1450,y:61},{x:732,y:270},{x:318,y:549},{x:309,y:567},{x:750,y:315},{x:354,y:288},{x:579,y:189},{x:480,y:297},{x:84,y:387},{x:1316,y:389},{x:507,y:62},{x:1467,y:447},{x:1526,y:78},{x:949,y:612},{x:1433,y:162},{x:949,y:657},{x:1366,y:103},{x:345,y:53},{x:435,y:216},{x:219,y:315},{x:777,y:44},{x:246,y:153},{x:1324,y:355},{x:1442,y:582},{x:750,y:288},{x:255,y:89},{x:327,y:180},{x:967,y:531},{x:183,y:423},{x:363,y:333},{x:1257,y:78},{x:849,y:648},{x:858,y:612},{x:1265,y:95},{x:913,y:513},{x:1475,y:557},{x:165,y:504},{x:183,y:387},{x:597,y:270},{x:354,y:315},{x:516,y:279},{x:1391,y:439},{x:525,y:116},{x:1257,y:95},{x:1433,y:179},{x:867,y:80},{x:300,y:567},{x:291,y:324},{x:120,y:306},{x:1333,y:187},{x:949,y:567},{x:120,y:369},{x:30,y:414},{x:588,y:315},{x:237,y:639},{x:813,y:53},{x:1291,y:246},{x:75,y:396},{x:390,y:125},{x:282,y:477},{x:1601,y:523},{x:1400,y:246},{x:624,y:44},{x:1509,y:565},{x:922,y:504},{x:309,y:243},{x:1223,y:61},{x:696,y:297},{x:1442,y:447},{x:1593,y:531},{x:867,y:71},{x:1610,y:523},{x:606,y:144},{x:147,y:378},{x:1265,y:364},{x:1500,y:179},{x:687,y:180},{x:1249,y:296},{x:1526,y:599},{x:192,y:585},{x:1190,y:70},{x:210,y:324},{x:885,y:62},{x:885,y:89},{x:381,y:612},{x:1442,y:196},{x:579,y:35},{x:390,y:567},{x:165,y:171},{x:777,y:107},{x:255,y:378},{x:958,y:513},{x:165,y:486},{x:246,y:684},{x:1249,y:330},{x:462,y:315},{x:300,y:648},{x:291,y:486},{x:1181,y:238},{x:345,y:135},{x:498,y:153},{x:813,y:621},{x:219,y:387},{x:804,y:333},{x:300,y:351},{x:210,y:576},{x:336,y:80},{x:1467,y:498},{x:489,y:180},{x:777,y:225},{x:705,y:234},{x:1710,y:53},{x:813,y:369},{x:750,y:279},{x:192,y:297},{x:291,y:180},{x:534,y:279},{x:642,y:125},{x:759,y:53},{x:1526,y:103},{x:372,y:396},{x:1559,y:506},{x:174,y:513},{x:228,y:288},{x:1450,y:170},{x:381,y:270},{x:363,y:342},{x:255,y:432},{x:300,y:531},{x:660,y:171},{x:219,y:441},{x:255,y:342},{x:561,y:144},{x:1240,y:120},{x:1542,y:179},{x:1425,y:145},{x:336,y:513},{x:1484,y:573},{x:1207,y:95},{x:48,y:378},{x:138,y:414},{x:1408,y:439},{x:345,y:216},{x:1333,y:145},{x:273,y:162},{x:1417,y:431},{x:372,y:80},{x:390,y:180},{x:1450,y:531},{x:489,y:135},{x:1215,y:78},{x:120,y:270},{x:1417,y:212},{x:1240,y:145},{x:940,y:585},{x:255,y:306},{x:615,y:342},{x:543,y:324},{x:1517,y:582},{x:237,y:279},{x:111,y:432},{x:570,y:405},{x:1299,y:196},{x:750,y:189},{x:1467,y:708},{x:57,y:360},{x:1282,y:112},{x:597,y:234},{x:660,y:252},{x:219,y:207},{x:372,y:53},{x:696,y:198},{x:381,y:621},{x:588,y:234},{x:255,y:468},{x:849,y:666},{x:237,y:207},{x:1265,y:322},{x:12,y:387},{x:633,y:107},{x:1349,y:95},{x:660,y:116},{x:273,y:324},{x:588,y:216},{x:1366,y:128},{x:678,y:306},{x:678,y:107},{x:372,y:225},{x:345,y:116},{x:1492,y:196},{x:489,y:243},{x:696,y:62},{x:849,y:657},{x:210,y:369},{x:660,y:35},{x:201,y:522},{x:309,y:261},{x:354,y:198},{x:1215,y:212},{x:525,y:198},{x:426,y:252},{x:507,y:225},{x:1223,y:170},{x:1467,y:531},{x:300,y:180},{x:228,y:387},{x:246,y:297},{x:1349,y:154},{x:525,y:153},{x:678,y:378},{x:543,y:180},{x:768,y:666},{x:1458,y:649},{x:570,y:162},{x:723,y:513},{x:940,y:540},{x:1257,y:305},{x:705,y:279},{x:777,y:675},{x:1509,y:498},{x:1408,y:53},{x:1492,y:204},{x:1240,y:238},{x:543,y:207},{x:471,y:261},{x:453,y:89},{x:237,y:693},{x:741,y:198},{x:237,y:612},{x:255,y:396},{x:1408,y:464},{x:858,y:270},{x:228,y:144},{x:192,y:567},{x:1610,y:103},{x:813,y:324},{x:327,y:378},{x:165,y:135},{x:606,y:351},{x:1375,y:53},{x:1458,y:615},{x:1442,y:565},{x:228,y:62},{x:552,y:225},{x:732,y:35},{x:1584,y:548},{x:1568,y:11},{x:1383,y:95},{x:417,y:225},{x:1408,y:481},{x:624,y:342},{x:471,y:98},{x:327,y:71},{x:1652,y:36},{x:453,y:44},{x:444,y:198},{x:885,y:594},{x:561,y:71},{x:174,y:98},{x:12,y:369},{x:1467,y:481},{x:309,y:630},{x:1316,y:70},{x:120,y:423},{x:183,y:243},{x:1375,y:112},{x:453,y:107},{x:1391,y:473},{x:1232,y:78},{x:687,y:80},{x:462,y:125},{x:913,y:98},{x:1123,y:103},{x:516,y:62},{x:1190,y:95},{x:741,y:144},{x:687,y:234},{x:84,y:378},{x:1610,y:531},{x:318,y:234},{x:1232,y:145},{x:1458,y:691},{x:940,y:522},{x:669,y:243},{x:687,y:189},{x:534,y:198},{x:237,y:459},{x:669,y:261},{x:903,y:603},{x:363,y:351},{x:949,y:540},{x:507,y:135},{x:1526,y:590},{x:894,y:675},{x:210,y:468},{x:165,y:477},{x:1584,y:506},{x:93,y:324},{x:30,y:396},{x:1551,y:548},{x:237,y:594},{x:1584,y:573},{x:363,y:144},{x:1181,y:254},{x:534,y:333},{x:327,y:513},{x:831,y:180},{x:345,y:144},{x:84,y:450},{x:678,y:288},{x:1232,y:95},{x:1668,y:28},{x:300,y:297},{x:777,y:684},{x:111,y:360},{x:885,y:567},{x:804,y:675},{x:102,y:144},{x:615,y:333},{x:1484,y:750},{x:363,y:612},{x:156,y:180},{x:480,y:180},{x:759,y:71},{x:210,y:297},{x:1475,y:599},{x:1249,y:347},{x:165,y:468},{x:93,y:387},{x:345,y:315},{x:399,y:576},{x:66,y:234},{x:246,y:432},{x:759,y:80},{x:543,y:71},{x:795,y:324},{x:678,y:162},{x:219,y:486},{x:228,y:369},{x:1391,y:162},{x:759,y:711},{x:1475,y:573},{x:309,y:107},{x:345,y:360},{x:642,y:135},{x:84,y:288},{x:1542,y:582},{x:1307,y:238},{x:1274,y:305},{x:336,y:405},{x:949,y:639},{x:958,y:666},{x:165,y:324},{x:201,y:585},{x:237,y:540},{x:768,y:116},{x:120,y:216},{x:831,y:423},{x:426,y:71},{x:1618,y:95},{x:219,y:495},{x:1610,y:86},{x:300,y:477},{x:246,y:216},{x:741,y:189},{x:255,y:486},{x:967,y:630},{x:1274,y:246},{x:714,y:98},{x:300,y:171},{x:1433,y:154},{x:579,y:306},{x:147,y:324},{x:57,y:450},{x:1475,y:607},{x:579,y:162},{x:327,y:153},{x:849,y:432},{x:1383,y:103},{x:498,y:279},{x:1307,y:229},{x:1341,y:187},{x:1450,y:733},{x:291,y:531},{x:471,y:198},{x:453,y:180},{x:795,y:504},{x:1223,y:246},{x:958,y:639},{x:1694,y:11},{x:147,y:396},{x:21,y:360},{x:390,y:315},{x:606,y:125},{x:543,y:252},{x:111,y:198},{x:894,y:720},{x:282,y:540},{x:1383,y:254},{x:822,y:261},{x:1484,y:641},{x:165,y:261},{x:1551,y:557},{x:1391,y:464},{x:57,y:414},{x:1500,y:506},{x:1249,y:229},{x:831,y:432},{x:48,y:342},{x:949,y:648},{x:885,y:207},{x:246,y:288},{x:1190,y:221},{x:264,y:135},{x:516,y:135},{x:363,y:603},{x:741,y:207},{x:1383,y:481},{x:300,y:423},{x:552,y:279},{x:1257,y:322},{x:1559,y:607},{x:1467,y:204},{x:1509,y:590},{x:1021,y:783},{x:714,y:324},{x:1517,y:145},{x:246,y:414},{x:318,y:198},{x:1391,y:481},{x:444,y:171},{x:1274,y:145},{x:1358,y:246},{x:1232,y:313},{x:498,y:252},{x:822,y:675},{x:597,y:125},{x:606,y:180},{x:1299,y:145},{x:1467,y:641},{x:381,y:135},{x:183,y:162},{x:183,y:98},{x:570,y:135},{x:1509,y:120},{x:1324,y:120},{x:183,y:180},{x:1240,y:112},{x:822,y:107},{x:768,y:135},{x:822,y:162},{x:786,y:98},{x:237,y:396},{x:1526,y:666},{x:913,y:153},{x:1433,y:481},{x:507,y:252},{x:1383,y:112},{x:129,y:351},{x:894,y:648},{x:1003,y:783},{x:102,y:306},{x:210,y:666},{x:579,y:432},{x:66,y:423},{x:1517,y:162},{x:1257,y:145},{x:183,y:612},{x:192,y:171},{x:1274,y:347},{x:768,y:504},{x:1584,y:489},{x:237,y:288},{x:1559,y:523},{x:471,y:80},{x:949,y:675},{x:174,y:594},{x:1458,y:624},{x:327,y:459},{x:525,y:171},{x:1618,y:44},{x:1324,y:162},{x:588,y:306},{x:1450,y:666},{x:48,y:315},{x:1249,y:196},{x:1408,y:405},{x:1526,y:154},{x:588,y:342},{x:651,y:53},{x:399,y:53},{x:561,y:243},{x:1484,y:447},{x:1274,y:78},{x:678,y:207},{x:1685,y:11},{x:282,y:135},{x:768,y:189},{x:651,y:153},{x:138,y:171},{x:1240,y:170},{x:1307,y:263},{x:1526,y:548},{x:516,y:297},{x:885,y:684},{x:336,y:98},{x:759,y:207},{x:282,y:450},{x:273,y:468},{x:714,y:279},{x:1358,y:196},{x:246,y:162},{x:192,y:621},{x:1215,y:112},{x:1509,y:573},{x:1458,y:582},{x:534,y:116},{x:831,y:414},{x:1282,y:288},{x:1534,y:590},{x:390,y:270},{x:1417,y:78},{x:471,y:144},{x:786,y:675},{x:399,y:62},{x:1492,y:758},{x:210,y:153},{x:291,y:639},{x:570,y:234},{x:471,y:171},{x:210,y:180},{x:291,y:315},{x:480,y:17},{x:525,y:306},{x:795,y:189},{x:913,y:80},{x:1299,y:204},{x:228,y:576},{x:651,y:125},{x:399,y:387},{x:507,y:324},{x:822,y:504},{x:1400,y:489},{x:759,y:531},{x:1610,y:506},{x:336,y:549},{x:102,y:423},{x:318,y:107},{x:1433,y:170},{x:606,y:189},{x:354,y:180},{x:1223,y:229},{x:417,y:306},{x:363,y:125},{x:1282,y:78},{x:1400,y:254},{x:1274,y:355},{x:201,y:351},{x:804,y:657},{x:273,y:540},{x:768,y:171},{x:336,y:333},{x:606,y:71},{x:291,y:459},{x:1500,y:196},{x:579,y:261},{x:1509,y:615},{x:750,y:243},{x:291,y:261},{x:561,y:53},{x:1534,y:103},{x:147,y:423},{x:192,y:630},{x:1215,y:61},{x:390,y:162},{x:1467,y:716},{x:696,y:324},{x:1249,y:179},{x:588,y:369},{x:804,y:639},{x:318,y:459},{x:489,y:71},{x:1249,y:305},{x:1517,y:557},{x:795,y:225},{x:561,y:423},{x:1282,y:229},{x:1450,y:624},{x:408,y:71},{x:534,y:288},{x:210,y:342},{x:1232,y:322},{x:786,y:107},{x:894,y:639},{x:1777,y:11},{x:525,y:180},{x:372,y:107},{x:633,y:44},{x:768,y:225},{x:12,y:405},{x:1425,y:238},{x:1458,y:699},{x:1500,y:607},{x:732,y:504},{x:1450,y:523},{x:372,y:387},{x:381,y:324},{x:408,y:360},{x:300,y:468},{x:246,y:89},{x:228,y:495},{x:381,y:62},{x:1484,y:112},{x:669,y:297},{x:1097,y:120},{x:417,y:261},{x:75,y:234},{x:1232,y:112},{x:1391,y:489},{x:1240,y:212},{x:480,y:279},{x:1433,y:565},{x:876,y:612},{x:237,y:89},{x:201,y:639},{x:1484,y:137},{x:1500,y:456},{x:813,y:252},{x:471,y:35},{x:1517,y:615},{x:408,y:144},{x:93,y:351},{x:777,y:71},{x:777,y:639},{x:273,y:225},{x:1198,y:229},{x:1492,y:674},{x:705,y:107},{x:327,y:531},{x:30,y:387},{x:120,y:387},{x:1240,y:196},{x:633,y:270},{x:1391,y:246},{x:1685,y:70},{x:651,y:207},{x:327,y:89},{x:1526,y:615},{x:75,y:135},{x:192,y:486},{x:949,y:71},{x:1719,y:11},{x:1534,y:506},{x:273,y:234},{x:1215,y:86},{x:714,y:342},{x:1333,y:221},{x:390,y:585},{x:363,y:207},{x:543,y:107},{x:1559,y:515},{x:867,y:53},{x:867,y:216},{x:1139,y:86},{x:1450,y:632},{x:399,y:207},{x:723,y:89},{x:408,y:35},{x:1677,y:36},{x:237,y:315},{x:1509,y:439},{x:363,y:162},{x:408,y:171},{x:1534,y:498},{x:498,y:324},{x:922,y:62},{x:633,y:171},{x:1408,y:145},{x:1626,y:86},{x:336,y:324},{x:678,y:116},{x:768,y:53},{x:498,y:35},{x:597,y:26},{x:1517,y:506},{x:228,y:135},{x:1400,y:263},{x:219,y:675},{x:976,y:531},{x:1450,y:649},{x:1165,y:103},{x:507,y:17},{x:219,y:162},{x:291,y:107},{x:1324,y:112},{x:1475,y:137},{x:1450,y:498},{x:345,y:261},{x:1198,y:280},{x:732,y:62},{x:1584,y:565},{x:354,y:144},{x:534,y:378},{x:570,y:44},{x:282,y:666},{x:390,y:89},{x:264,y:369},{x:579,y:62},{x:390,y:62},{x:1467,y:783},{x:561,y:44},{x:210,y:639},{x:75,y:306},{x:1534,y:162},{x:1366,y:61},{x:1610,y:3},{x:507,y:207},{x:381,y:198},{x:642,y:180},{x:1534,y:582},{x:309,y:639},{x:228,y:432},{x:1207,y:187},{x:516,y:261},{x:714,y:162},{x:1736,y:95},{x:1433,y:439},{x:237,y:369},{x:714,y:107},{x:1366,y:221},{x:417,y:35},{x:903,y:693},{x:1467,y:582},{x:255,y:234},{x:1383,y:515},{x:282,y:216},{x:1333,y:154},{x:1568,y:540},{x:273,y:477},{x:282,y:189},{x:795,y:684},{x:255,y:261},{x:444,y:125},{x:462,y:135},{x:822,y:198},{x:372,y:351},{x:462,y:153},{x:255,y:162},{x:1291,y:103},{x:120,y:315},{x:318,y:558},{x:219,y:333},{x:246,y:333},{x:237,y:162},{x:174,y:369},{x:813,y:333},{x:1425,y:481},{x:876,y:585},{x:354,y:89},{x:1542,y:565},{x:1291,y:271},{x:408,y:216},{x:642,y:198},{x:390,y:603},{x:1500,y:674},{x:1341,y:154},{x:66,y:324},{x:913,y:657},{x:858,y:171},{x:696,y:261},{x:642,y:144},{x:1341,y:137},{x:1400,y:473},{x:138,y:315},{x:210,y:675},{x:1282,y:120},{x:669,y:198},{x:1433,y:666},{x:687,y:225},{x:840,y:486},{x:858,y:666},{x:1375,y:128},{x:1366,y:246},{x:795,y:702},{x:588,y:80},{x:678,y:62},{x:1500,y:481},{x:228,y:684},{x:327,y:144},{x:1500,y:112},{x:237,y:522},{x:273,y:567},{x:1383,y:280},{x:57,y:432},{x:138,y:252},{x:480,y:171},{x:516,y:234},{x:732,y:135},{x:1232,y:254},{x:813,y:234},{x:345,y:207},{x:264,y:378},{x:876,y:621},{x:1391,y:61},{x:210,y:189},{x:1484,y:758},{x:210,y:486},{x:57,y:306},{x:399,y:414},{x:318,y:378},{x:318,y:576},{x:1484,y:657},{x:1299,y:95},{x:534,y:8},{x:660,y:279},{x:201,y:153},{x:696,y:360},{x:1240,y:95},{x:1341,y:280},{x:1458,y:683},{x:1383,y:506},{x:1568,y:590},{x:174,y:306},{x:246,y:657},{x:597,y:252},{x:723,y:180},{x:552,y:261},{x:913,y:720},{x:255,y:567},{x:444,y:153},{x:1375,y:305},{x:1433,y:145},{x:741,y:261},{x:552,y:351},{x:1358,y:44},{x:1215,y:137},{x:75,y:360},{x:1526,y:632},{x:138,y:369},{x:30,y:441},{x:1467,y:70},{x:156,y:405},{x:300,y:324},{x:489,y:261},{x:381,y:333},{x:408,y:351},{x:1291,y:145},{x:669,y:225},{x:138,y:198},{x:579,y:98},{x:1316,y:355},{x:381,y:369},{x:66,y:432},{x:399,y:189},{x:741,y:324},{x:696,y:252},{x:678,y:252},{x:246,y:180},{x:111,y:333},{x:12,y:351},{x:291,y:468},{x:1534,y:649},{x:1450,y:599},{x:1668,y:70},{x:894,y:729},{x:687,y:116},{x:1299,y:296},{x:327,y:594},{x:885,y:53},{x:1475,y:506},{x:453,y:162},{x:552,y:405},{x:786,y:125},{x:858,y:648},{x:129,y:261},{x:1425,y:498},{x:588,y:225},{x:750,y:53},{x:1324,y:212},{x:300,y:369},{x:678,y:225},{x:1509,y:154},{x:561,y:107},{x:1450,y:481},{x:1123,y:112},{x:570,y:216},{x:318,y:540},{x:552,y:53},{x:552,y:288},{x:1366,y:271},{x:1375,y:170},{x:1458,y:422},{x:291,y:558},{x:1198,y:263},{x:39,y:315},{x:309,y:125},{x:147,y:98},{x:840,y:153},{x:1408,y:447},{x:552,y:234},{x:831,y:513},{x:1383,y:464},{x:408,y:207},{x:264,y:621},{x:1240,y:204},{x:732,y:279},{x:282,y:405},{x:210,y:414},{x:570,y:351},{x:228,y:702},{x:1727,y:61},{x:471,y:71},{x:570,y:396},{x:1366,y:212},{x:1198,y:212},{x:1442,y:548},{x:291,y:567},{x:408,y:125},{x:597,y:171},{x:642,y:225},{x:1593,y:573},{x:210,y:378},{x:1509,y:800},{x:273,y:432},{x:300,y:576},{x:426,y:216},{x:165,y:279},{x:1576,y:565},{x:633,y:243},{x:102,y:270},{x:687,y:89},{x:264,y:630},{x:1660,y:11},{x:228,y:558},{x:1475,y:632},{x:958,y:612},{x:435,y:44},{x:327,y:414},{x:1643,y:61},{x:255,y:351},{x:858,y:44},{x:1517,y:154},{x:264,y:306},{x:705,y:351},{x:354,y:630},{x:345,y:243},{x:849,y:540},{x:444,y:62},{x:1400,y:229},{x:111,y:342},{x:399,y:432},{x:255,y:125},{x:1316,y:86},{x:327,y:198},{x:1450,y:414},{x:1492,y:708},{x:1551,y:632},{x:624,y:71},{x:1458,y:464},{x:345,y:288},{x:246,y:459},{x:282,y:162},{x:66,y:414},{x:363,y:450},{x:1442,y:481},{x:84,y:306},{x:1333,y:86},{x:561,y:171},{x:876,y:252},{x:336,y:243},{x:345,y:107},{x:1559,y:78},{x:894,y:576},{x:228,y:53},{x:1408,y:263},{x:651,y:252},{x:1526,y:489},{x:498,y:180},{x:786,y:468},{x:318,y:125},{x:165,y:495},{x:354,y:279},{x:291,y:540},{x:390,y:360},{x:309,y:225},{x:246,y:189},{x:1198,y:221},{x:1433,y:187},{x:381,y:180},{x:1316,y:128},{x:255,y:459},{x:552,y:62},{x:516,y:153},{x:1291,y:137},{x:876,y:62},{x:678,y:459},{x:1274,y:288},{x:1450,y:456},{x:1484,y:624},{x:84,y:423},{x:327,y:306},{x:237,y:684},{x:1425,y:523},{x:1509,y:540},{x:336,y:71},{x:453,y:306},{x:1458,y:498},{x:768,y:684},{x:1509,y:489},{x:777,y:207},{x:1265,y:145},{x:417,y:135},{x:147,y:107},{x:1299,y:128},{x:444,y:107},{x:264,y:585},{x:741,y:62},{x:1492,y:699},{x:228,y:414},{x:1433,y:464},{x:660,y:162},{x:723,y:324},{x:894,y:711},{x:138,y:270},{x:822,y:98},{x:390,y:369},{x:1534,y:53},{x:1375,y:481},{x:300,y:558},{x:354,y:53},{x:1551,y:19},{x:327,y:80},{x:831,y:657},{x:741,y:243},{x:940,y:531},{x:714,y:53},{x:660,y:53},{x:264,y:198},{x:1299,y:288},{x:174,y:198},{x:1265,y:78},{x:102,y:432},{x:1500,y:548},{x:615,y:162},{x:786,y:315},{x:228,y:71},{x:1249,y:338},{x:381,y:450},{x:1048,y:549},{x:777,y:116},{x:102,y:180},{x:867,y:486},{x:525,y:44},{x:1299,y:120},{x:1652,y:28},{x:1223,y:221},{x:1442,y:657},{x:390,y:279},{x:138,y:333},{x:1467,y:431},{x:1500,y:582},{x:1425,y:179},{x:480,y:153},{x:210,y:612},{x:516,y:216},{x:93,y:315},{x:1450,y:162},{x:309,y:441},{x:291,y:89},{x:1391,y:254},{x:1458,y:573},{x:903,y:702},{x:660,y:135},{x:534,y:62},{x:1223,y:103},{x:1408,y:137},{x:426,y:135},{x:1526,y:53},{x:1576,y:557},{x:849,y:71},{x:1517,y:649},{x:831,y:630},{x:949,y:711},{x:381,y:423},{x:624,y:315},{x:291,y:216},{x:750,y:116},{x:165,y:107},{x:1618,y:19},{x:1450,y:196},{x:642,y:333},{x:228,y:207},{x:1383,y:422},{x:327,y:387},{x:777,y:297},{x:1207,y:204},{x:696,y:270},{x:885,y:261},{x:1333,y:196},{x:489,y:89},{x:264,y:441},{x:453,y:153},{x:940,y:621},{x:1316,y:78},{x:1366,y:162},{x:1341,y:414},{x:1559,y:11},{x:1299,y:372},{x:750,y:198},{x:273,y:333},{x:1190,y:112},{x:795,y:666},{x:1568,y:582},{x:102,y:369},{x:102,y:333},{x:102,y:324},{x:1316,y:187},{x:1333,y:162},{x:1492,y:70},{x:1282,y:196},{x:1265,y:112},{x:552,y:35},{x:1534,y:573},{x:813,y:243},{x:417,y:153},{x:381,y:80},{x:831,y:80},{x:93,y:225},{x:1249,y:120},{x:516,y:180},{x:1173,y:86},{x:1450,y:573},{x:660,y:225},{x:1475,y:162},{x:255,y:98},{x:282,y:414},{x:84,y:432},{x:39,y:405},{x:660,y:71},{x:237,y:225},{x:552,y:144},{x:822,y:243},{x:633,y:225},{x:885,y:495},{x:1173,y:103},{x:543,y:333},{x:471,y:116},{x:1517,y:624},{x:246,y:594},{x:462,y:288},{x:381,y:89},{x:156,y:360},{x:210,y:387},{x:849,y:423},{x:1291,y:154},{x:210,y:567},{x:813,y:225},{x:714,y:486},{x:1467,y:691},{x:777,y:198},{x:1492,y:523},{x:624,y:198},{x:894,y:252},{x:1500,y:800},{x:678,y:89},{x:516,y:243},{x:327,y:369},{x:201,y:225},{x:219,y:288},{x:651,y:360},{x:777,y:711},{x:1492,y:103},{x:210,y:585},{x:174,y:477},{x:30,y:369},{x:1467,y:473},{x:210,y:405},{x:1425,y:162},{x:813,y:80},{x:1324,y:347},{x:174,y:504},{x:1207,y:238},{x:426,y:162},{x:201,y:513},{x:1307,y:95},{x:21,y:333},{x:1492,y:53},{x:597,y:62},{x:264,y:603},{x:1500,y:691},{x:1450,y:683},{x:1282,y:137},{x:426,y:144},{x:291,y:522},{x:1012,y:774},{x:1324,y:254},{x:813,y:630},{x:606,y:35},{x:1156,y:86},{x:1710,y:44},{x:1450,y:674},{x:1400,y:447},{x:1475,y:750},{x:750,y:297},{x:651,y:71},{x:768,y:702},{x:1383,y:137},{x:561,y:270},{x:255,y:549},{x:228,y:423},{x:940,y:702},{x:768,y:711},{x:534,y:26},{x:1551,y:565},{x:1232,y:70},{x:624,y:180},{x:543,y:387},{x:327,y:504},{x:949,y:666},{x:12,y:360},{x:669,y:351},{x:327,y:162},{x:804,y:153},{x:363,y:279},{x:786,y:621},{x:913,y:702},{x:660,y:207},{x:732,y:522},{x:804,y:144},{x:579,y:116},{x:336,y:198},{x:534,y:153},{x:1517,y:674},{x:93,y:450},{x:1257,y:313},{x:156,y:342},{x:1366,y:422},{x:102,y:297},{x:1509,y:11},{x:201,y:567},{x:1349,y:112},{x:345,y:189},{x:1417,y:573},{x:264,y:396},{x:768,y:693},{x:813,y:189},{x:588,y:198},{x:831,y:53},{x:516,y:116},{x:1240,y:229},{x:345,y:225},{x:282,y:107},{x:786,y:198},{x:345,y:162},{x:480,y:89},{x:192,y:71},{x:318,y:432},{x:444,y:116},{x:1517,y:95},{x:1190,y:61},{x:669,y:53},{x:552,y:315},{x:219,y:684},{x:66,y:297},{x:1190,y:229},{x:1475,y:78},{x:1450,y:515},{x:444,y:162},{x:174,y:468},{x:255,y:107},{x:561,y:26},{x:1517,y:590},{x:228,y:198},{x:642,y:288},{x:561,y:207},{x:219,y:639},{x:552,y:98},{x:1400,y:456},{x:291,y:369},{x:1341,y:53},{x:111,y:207},{x:1215,y:145},{x:246,y:44},{x:1500,y:439},{x:561,y:288},{x:913,y:648},{x:1467,y:464},{x:1291,y:179},{x:417,y:89},{x:1500,y:590},{x:561,y:405},{x:678,y:297},{x:1458,y:196},{x:669,y:125},{x:624,y:216},{x:534,y:207},{x:1450,y:506},{x:804,y:684},{x:75,y:153},{x:840,y:432},{x:1484,y:145},{x:1509,y:44},{x:156,y:369},{x:327,y:234},{x:1383,y:212},{x:687,y:405},{x:1375,y:61},{x:183,y:89},{x:768,y:162},{x:1433,y:229},{x:1223,y:95},{x:1526,y:624},{x:651,y:333},{x:237,y:71},{x:300,y:387},{x:732,y:423},{x:1702,y:44},{x:1400,y:103},{x:1610,y:515},{x:750,y:324},{x:1425,y:489},{x:822,y:486},{x:264,y:98},{x:327,y:315},{x:633,y:135},{x:84,y:234},{x:1366,y:137},{x:1551,y:11},{x:1442,y:506},{x:210,y:423},{x:291,y:71},{x:192,y:234},{x:669,y:89},{x:804,y:648},{x:840,y:89},{x:777,y:135},{x:687,y:243},{x:1492,y:44},{x:372,y:89},{x:705,y:116},{x:867,y:639},{x:922,y:603},{x:507,y:216},{x:201,y:558},{x:822,y:153},{x:768,y:44},{x:1484,y:691},{x:885,y:125},{x:1660,y:44},{x:219,y:648},{x:1408,y:422},{x:1568,y:557},{x:1568,y:498},{x:138,y:423},{x:1417,y:473},{x:1484,y:733},{x:1584,y:498},{x:1433,y:431},{x:1526,y:573},{x:57,y:423},{x:786,y:324},{x:1500,y:36},{x:255,y:153},{x:1509,y:145},{x:642,y:279},{x:192,y:243},{x:940,y:62},{x:1526,y:506},{x:201,y:459},{x:597,y:135},{x:1139,y:112},{x:588,y:53},{x:1458,y:439},{x:1484,y:187},{x:1249,y:137},{x:228,y:44},{x:345,y:234},{x:714,y:44},{x:273,y:450},{x:381,y:116},{x:507,y:198},{x:282,y:387},{x:876,y:693},{x:84,y:315},{x:444,y:270},{x:786,y:53},{x:1240,y:313},{x:300,y:288},{x:840,y:441},{x:264,y:684},{x:768,y:261},{x:570,y:378},{x:1584,y:540},{x:1282,y:263},{x:1383,y:271},{x:228,y:153},{x:399,y:351},{x:327,y:549},{x:282,y:234},{x:129,y:396},{x:1249,y:254},{x:1458,y:204},{x:1190,y:78},{x:1425,y:506},{x:931,y:612},{x:237,y:477},{x:1450,y:44},{x:327,y:125},{x:291,y:387},{x:480,y:53},{x:183,y:125},{x:1584,y:523},{x:759,y:116},{x:958,y:603},{x:714,y:369},{x:1282,y:364},{x:246,y:171},{x:255,y:621},{x:138,y:189},{x:1173,y:78},{x:1232,y:61},{x:228,y:351},{x:282,y:585},{x:444,y:207},{x:1475,y:473},{x:201,y:657},{x:1643,y:36},{x:931,y:639},{x:669,y:135},{x:922,y:639},{x:48,y:279},{x:1467,y:196},{x:192,y:315},{x:354,y:225},{x:1324,y:280},{x:1677,y:28},{x:1299,y:154},{x:489,y:107},{x:1517,y:632},{x:1425,y:86},{x:309,y:549},{x:1223,y:254},{x:1358,y:154},{x:525,y:135},{x:237,y:324},{x:129,y:441},{x:949,y:630},{x:228,y:125},{x:705,y:315},{x:867,y:207},{x:525,y:107},{x:1500,y:120},{x:471,y:252},{x:786,y:639},{x:705,y:288},{x:1442,y:170},{x:3,y:387},{x:1341,y:389},{x:669,y:234},{x:1467,y:607},{x:840,y:189},{x:426,y:53},{x:318,y:414},{x:1299,y:103},{x:264,y:171},{x:219,y:62},{x:1232,y:154},{x:1442,y:590},{x:345,y:180},{x:21,y:378},{x:795,y:468},{x:1274,y:296},{x:1349,y:280},{x:570,y:180},{x:399,y:171},{x:1265,y:162},{x:291,y:98},{x:633,y:288},{x:1458,y:674},{x:741,y:342},{x:282,y:639},{x:300,y:144},{x:678,y:216},{x:93,y:116},{x:426,y:125},{x:1526,y:145},{x:1526,y:95},{x:759,y:261},{x:327,y:297},{x:129,y:189},{x:579,y:252},{x:156,y:261},{x:1526,y:515},{x:561,y:342},{x:849,y:98},{x:345,y:71},{x:336,y:432},{x:1534,y:599},{x:201,y:207},{x:300,y:396},{x:282,y:675},{x:1475,y:154},{x:597,y:153},{x:741,y:180},{x:1492,y:120},{x:291,y:450},{x:579,y:180},{x:606,y:288},{x:282,y:324},{x:804,y:423},{x:894,y:116},{x:1265,y:128},{x:1257,y:128},{x:1232,y:238},{x:1618,y:28},{x:714,y:414},{x:1417,y:196},{x:1324,y:179},{x:1534,y:632},{x:1752,y:19},{x:1299,y:187},{x:255,y:504},{x:570,y:144},{x:1282,y:296},{x:327,y:567},{x:588,y:98},{x:174,y:414},{x:1366,y:238},{x:1509,y:666},{x:849,y:630},{x:480,y:225},{x:1265,y:170},{x:1383,y:338},{x:759,y:270},{x:1492,y:590},{x:354,y:333},{x:705,y:89},{x:1257,y:170},{x:750,y:153},{x:237,y:585},{x:21,y:405},{x:696,y:234},{x:408,y:162},{x:1450,y:179},{x:1500,y:565},{x:958,y:648},{x:705,y:396},{x:1593,y:498},{x:273,y:576},{x:219,y:98},{x:1215,y:221},{x:372,y:639},{x:840,y:657},{x:642,y:26},{x:831,y:603},{x:282,y:504},{x:1593,y:11},{x:264,y:486},{x:66,y:333},{x:561,y:216},{x:1475,y:489},{x:804,y:621},{x:1207,y:246},{x:1240,y:322},{x:1526,y:28},{x:1316,y:204},{x:1341,y:238},{x:1534,y:145},{x:327,y:540},{x:931,y:531},{x:273,y:306},{x:336,y:234},{x:120,y:414},{x:1509,y:464},{x:399,y:297},{x:1341,y:162},{x:174,y:153},{x:210,y:288},{x:363,y:107},{x:777,y:648},{x:543,y:116},{x:75,y:387},{x:1492,y:187},{x:1391,y:221},{x:840,y:621},{x:1383,y:540},{x:750,y:98},{x:201,y:414},{x:1442,y:674},{x:246,y:378},{x:345,y:468},{x:291,y:657},{x:282,y:315},{x:903,y:89},{x:507,y:180},{x:1442,y:615},{x:309,y:297},{x:525,y:243},{x:1551,y:154},{x:1492,y:36},{x:246,y:53},{x:462,y:98},{x:381,y:585},{x:1467,y:657},{x:723,y:144},{x:1458,y:599},{x:462,y:252},{x:804,y:53},{x:696,y:144},{x:453,y:270},{x:1400,y:523},{x:381,y:53},{x:264,y:450},{x:372,y:648},{x:867,y:612},{x:507,y:80},{x:291,y:603},{x:489,y:270},{x:1349,y:389},{x:1425,y:447},{x:606,y:44},{x:30,y:324},{x:300,y:315},{x:534,y:297},{x:66,y:342},{x:949,y:585},{x:777,y:144},{x:1257,y:154},{x:201,y:180},{x:849,y:270},{x:372,y:279},{x:1475,y:708},{x:840,y:612},{x:246,y:549},{x:588,y:297},{x:237,y:80},{x:192,y:396},{x:831,y:675},{x:435,y:98},{x:1240,y:154},{x:678,y:387},{x:1417,y:246},{x:795,y:89},{x:390,y:324},{x:1492,y:624},{x:723,y:198},{x:435,y:107},{x:1610,y:19},{x:804,y:198},{x:750,y:162},{x:732,y:333},{x:1190,y:86},{x:1500,y:464},{x:219,y:378},{x:471,y:125},{x:390,y:261},{x:723,y:279},{x:1417,y:481},{x:363,y:324},{x:903,y:135},{x:777,y:315},{x:66,y:351},{x:1391,y:204},{x:264,y:405},{x:255,y:62},{x:255,y:315},{x:985,y:657},{x:327,y:288},{x:354,y:116},{x:1299,y:86},{x:840,y:684},{x:633,y:26},{x:1316,y:372},{x:804,y:459},{x:552,y:189},{x:813,y:180},{x:1048,y:756},{x:1282,y:372},{x:1425,y:582},{x:183,y:540},{x:1282,y:187},{x:354,y:639},{x:246,y:135},{x:759,y:234},{x:498,y:71},{x:309,y:252},{x:246,y:576},{x:885,y:107},{x:687,y:71},{x:922,y:657},{x:1223,y:70},{x:219,y:549},{x:534,y:270},{x:192,y:603},{x:1207,y:263},{x:1375,y:506},{x:273,y:171},{x:705,y:378},{x:1249,y:322},{x:903,y:53},{x:435,y:153},{x:678,y:71},{x:255,y:387},{x:363,y:288},{x:201,y:468},{x:453,y:252},{x:120,y:171},{x:606,y:53},{x:615,y:270},{x:1752,y:86},{x:66,y:306},{x:309,y:603},{x:30,y:432},{x:336,y:450},{x:1542,y:70},{x:291,y:621},{x:732,y:144},{x:219,y:630},{x:804,y:225},{x:381,y:144},{x:543,y:216},{x:273,y:585},{x:1450,y:716},{x:273,y:630},{x:372,y:288},{x:1492,y:657},{x:1425,y:557},{x:228,y:89},{x:624,y:189},{x:732,y:189},{x:606,y:207},{x:570,y:423},{x:228,y:180},{x:534,y:98},{x:922,y:80},{x:120,y:351},{x:976,y:666},{x:1366,y:179},{x:588,y:288},{x:1316,y:120},{x:1349,y:145},{x:156,y:441},{x:1517,y:447},{x:264,y:522},{x:1207,y:313},{x:1450,y:78},{x:156,y:234},{x:1534,y:523},{x:120,y:252},{x:174,y:297},{x:768,y:89},{x:435,y:261},{x:84,y:162},{x:1458,y:531},{x:228,y:603},{x:1324,y:364},{x:651,y:351},{x:606,y:324},{x:1383,y:53},{x:345,y:324},{x:1492,y:548},{x:1274,y:338},{x:768,y:288},{x:1324,y:229},{x:399,y:116},{x:1341,y:380},{x:147,y:180},{x:480,y:162},{x:1358,y:170},{x:147,y:432},{x:561,y:135},{x:1207,y:305},{x:1349,y:271},{x:1358,y:70},{x:1307,y:288},{x:1265,y:246},{x:714,y:62},{x:1274,y:179},{x:210,y:441},{x:967,y:684},{x:1375,y:86},{x:750,y:80},{x:201,y:315},{x:786,y:702},{x:624,y:153},{x:723,y:116},{x:777,y:288},{x:1232,y:86},{x:750,y:306},{x:1274,y:280},{x:1593,y:590},{x:786,y:144},{x:1307,y:78},{x:1207,y:70},{x:462,y:306},{x:210,y:621},{x:1366,y:196},{x:1475,y:464},{x:1559,y:565},{x:597,y:225},{x:507,y:234},{x:1484,y:120},{x:1526,y:649},{x:336,y:486},{x:597,y:243},{x:786,y:243},{x:246,y:360},{x:597,y:71},{x:507,y:342},{x:462,y:297},{x:714,y:171},{x:1249,y:221},{x:273,y:549},{x:219,y:153},{x:1349,y:246},{x:903,y:116},{x:219,y:351},{x:210,y:693},{x:913,y:729},{x:561,y:116},{x:219,y:342},{x:1232,y:280},{x:1433,y:196},{x:1484,y:506},{x:1467,y:95},{x:588,y:107},{x:1366,y:204},{x:1282,y:204},{x:210,y:531},{x:642,y:189},{x:786,y:171},{x:1643,y:53},{x:741,y:44},{x:795,y:297},{x:1181,y:103},{x:66,y:135},{x:237,y:495},{x:1484,y:439},{x:192,y:477},{x:498,y:198},{x:579,y:369},{x:1635,y:70},{x:1291,y:187},{x:1509,y:61},{x:39,y:342},{x:714,y:207},{x:93,y:125},{x:1433,y:221},{x:336,y:144},{x:651,y:279},{x:399,y:279},{x:1492,y:439},{x:300,y:504},{x:543,y:225},{x:1207,y:196},{x:1559,y:548},{x:444,y:189},{x:534,y:225},{x:372,y:62},{x:273,y:80},{x:1467,y:154},{x:147,y:441},{x:1442,y:414},{x:903,y:513},{x:1442,y:204},{x:1391,y:523},{x:615,y:234},{x:705,y:189},{x:120,y:189},{x:291,y:423},{x:228,y:306},{x:1475,y:766},{x:237,y:180},{x:759,y:171},{x:723,y:125},{x:1240,y:61},{x:1475,y:758},{x:1282,y:128},{x:318,y:513},{x:750,y:342},{x:39,y:378},{x:1517,y:607},{x:1282,y:95},{x:282,y:441},{x:1484,y:565},{x:660,y:342},{x:985,y:540},{x:246,y:71},{x:1198,y:95},{x:93,y:180},{x:543,y:360},{x:228,y:189},{x:1752,y:11},{x:1207,y:221},{x:642,y:162},{x:390,y:153},{x:795,y:315},{x:570,y:369},{x:1417,y:464},{x:1299,y:78},{x:723,y:171},{x:174,y:80},{x:318,y:468},{x:1576,y:11},{x:903,y:98},{x:1685,y:53},{x:363,y:189},{x:1316,y:196},{x:1442,y:498},{x:723,y:414},{x:651,y:44},{x:183,y:621},{x:1433,y:498},{x:1316,y:179},{x:282,y:621},{x:1030,y:531},{x:642,y:216},{x:1601,y:28},{x:426,y:243},{x:390,y:450},{x:687,y:153},{x:840,y:71},{x:1618,y:515},{x:1324,y:137},{x:273,y:522},{x:561,y:333},{x:597,y:261},{x:93,y:153},{x:1324,y:170},{x:219,y:306},{x:102,y:225},{x:363,y:98},{x:813,y:648},{x:615,y:89},{x:138,y:378},{x:201,y:477},{x:777,y:270},{x:660,y:324},{x:750,y:107},{x:1433,y:632},{x:327,y:396},{x:453,y:135},{x:913,y:756},{x:1710,y:36},{x:201,y:171},{x:795,y:198},{x:399,y:162},{x:426,y:333},{x:1458,y:741},{x:696,y:107},{x:1307,y:128},{x:282,y:342},{x:615,y:153},{x:1080,y:137},{x:435,y:35},{x:165,y:252},{x:750,y:135},{x:210,y:630},{x:813,y:549},{x:1601,y:548},{x:237,y:333},{x:1593,y:19},{x:75,y:270},{x:1450,y:724},{x:183,y:360},{x:1475,y:565},{x:714,y:261},{x:498,y:207},{x:336,y:585},{x:1274,y:95},{x:1551,y:615},{x:363,y:297},{x:840,y:639},{x:417,y:279},{x:291,y:432},{x:273,y:378},{x:399,y:125},{x:1542,y:573},{x:264,y:576},{x:210,y:216},{x:1375,y:254},{x:183,y:171},{x:885,y:243},{x:759,y:504},{x:1458,y:523},{x:192,y:80},{x:21,y:324},{x:192,y:98},{x:840,y:98},{x:309,y:333},{x:246,y:261},{x:669,y:252},{x:714,y:252},{x:300,y:216},{x:354,y:297},{x:1677,y:44},{x:210,y:53},{x:264,y:288},{x:1215,y:263},{x:669,y:116},{x:1425,y:464},{x:111,y:270},{x:174,y:450},{x:453,y:71},{x:309,y:89},{x:381,y:360},{x:804,y:486},{x:183,y:513},{x:1232,y:271},{x:1215,y:246},{x:237,y:648},{x:1458,y:557},{x:435,y:135},{x:354,y:107},{x:867,y:62},{x:1551,y:70},{x:876,y:648},{x:1383,y:221},{x:48,y:387},{x:1324,y:246},{x:1492,y:683},{x:1257,y:70},{x:246,y:630},{x:606,y:98},{x:922,y:98},{x:1475,y:145},{x:264,y:594},{x:1048,y:540},{x:669,y:270},{x:66,y:450},{x:1223,y:305},{x:381,y:441},{x:606,y:107},{x:1458,y:590},{x:633,y:162},{x:624,y:171},{x:858,y:261},{x:192,y:135},{x:309,y:594},{x:1526,y:36},{x:651,y:35},{x:408,y:333},{x:741,y:531},{x:561,y:261},{x:399,y:135},{x:885,y:71},{x:1652,y:78},{x:696,y:53},{x:291,y:504},{x:678,y:333},{x:777,y:468},{x:813,y:513},{x:1517,y:61},{x:858,y:603},{x:768,y:153},{x:120,y:180},{x:723,y:207},{x:1576,y:573},{x:1375,y:103},{x:552,y:396},{x:300,y:243},{x:543,y:171},{x:597,y:180},{x:940,y:576},{x:552,y:270},{x:1408,y:506},{x:1450,y:145},{x:795,y:207},{x:1484,y:783},{x:282,y:80},{x:453,y:62},{x:561,y:315},{x:615,y:125},{x:1249,y:78},{x:192,y:225},{x:1458,y:666},{x:1668,y:61},{x:1358,y:280},{x:705,y:153},{x:931,y:702},{x:246,y:558},{x:255,y:603},{x:1383,y:128},{x:1223,y:86},{x:597,y:198},{x:913,y:89},{x:1433,y:70},{x:552,y:360},{x:624,y:288},{x:867,y:675},{x:219,y:135},{x:291,y:306},{x:192,y:504},{x:714,y:144},{x:219,y:171},{x:1475,y:548},{x:958,y:585},{x:660,y:80},{x:642,y:80},{x:1408,y:238},{x:913,y:603},{x:75,y:288},{x:1492,y:716},{x:579,y:44},{x:165,y:80},{x:1467,y:548},{x:129,y:405},{x:102,y:171},{x:642,y:234},{x:579,y:207},{x:1333,y:280},{x:534,y:234},{x:255,y:207},{x:633,y:53},{x:354,y:135},{x:129,y:387},{x:597,y:342},{x:1500,y:498},{x:1668,y:36},{x:940,y:675},{x:1249,y:61},{x:1282,y:170},{x:1618,y:103},{x:1274,y:196},{x:210,y:207},{x:1534,y:657},{x:309,y:486},{x:1349,y:53},{x:84,y:135},{x:21,y:342},{x:687,y:144},{x:417,y:369},{x:579,y:125},{x:1375,y:498},{x:858,y:180},{x:228,y:504},{x:120,y:288},{x:723,y:98},{x:1425,y:221},{x:1341,y:288},{x:1291,y:296},{x:1257,y:280},{x:1492,y:766},{x:1391,y:86},{x:543,y:243},{x:813,y:89},{x:597,y:144},{x:318,y:360},{x:363,y:630},{x:1333,y:95},{x:336,y:396},{x:813,y:144},{x:660,y:234},{x:1551,y:506},{x:822,y:612},{x:1467,y:515},{x:1333,y:263},{x:1307,y:162},{x:1240,y:338},{x:111,y:306},{x:1349,y:162},{x:1265,y:70},{x:453,y:98},{x:669,y:216},{x:183,y:216},{x:1559,y:615},{x:876,y:657},{x:1358,y:103},{x:1299,y:170},{x:129,y:288},{x:327,y:486},{x:786,y:89},{x:30,y:423},{x:183,y:558},{x:588,y:135},{x:246,y:450},{x:1249,y:128},{x:885,y:666},{x:1324,y:263},{x:417,y:270},{x:1652,y:19},{x:228,y:342},{x:147,y:198},{x:777,y:180},{x:840,y:80},{x:1316,y:95},{x:1400,y:481},{x:525,y:8},{x:372,y:459},{x:255,y:360},{x:390,y:116},{x:813,y:504},{x:1257,y:212},{x:1475,y:666},{x:579,y:243},{x:183,y:585},{x:777,y:495},{x:660,y:144},{x:111,y:387},{x:1391,y:271},{x:273,y:441},{x:922,y:648},{x:858,y:621},{x:967,y:666},{x:390,y:252},{x:1568,y:19},{x:1375,y:246},{x:156,y:423},{x:1400,y:506},{x:714,y:80},{x:1542,y:548},{x:759,y:189},{x:255,y:171},{x:678,y:342},{x:1660,y:70},{x:1458,y:506},{x:1425,y:204},{x:913,y:125},{x:210,y:522},{x:894,y:666},{x:192,y:558},{x:1492,y:112},{x:264,y:116},{x:849,y:621},{x:894,y:98},{x:1349,y:254},{x:1509,y:641},{x:768,y:486},{x:507,y:270},{x:363,y:423},{x:1215,y:254},{x:201,y:486},{x:390,y:171},{x:489,y:252},{x:1559,y:540},{x:1358,y:120},{x:705,y:98},{x:687,y:279},{x:372,y:333},{x:444,y:306},{x:1442,y:187},{x:1223,y:128},{x:1517,y:489},{x:282,y:116},{x:1358,y:221},{x:1375,y:288},{x:282,y:53},{x:768,y:675},{x:1375,y:238},{x:687,y:342},{x:228,y:315},{x:985,y:648},{x:282,y:513},{x:1442,y:699},{x:93,y:414},{x:678,y:198},{x:543,y:279},{x:1181,y:112},{x:1492,y:137},{x:669,y:369},{x:255,y:144},{x:678,y:243},{x:219,y:369},{x:687,y:324},{x:840,y:53},{x:678,y:234},{x:1542,y:481},{x:597,y:333},{x:282,y:369},{x:318,y:71},{x:759,y:252},{x:363,y:243},{x:669,y:324},{x:1467,y:422},{x:1467,y:162},{x:552,y:414},{x:408,y:261},{x:723,y:234},{x:804,y:107},{x:1517,y:53},{x:696,y:477},{x:570,y:198},{x:1458,y:716},{x:282,y:153},{x:1417,y:221},{x:552,y:162},{x:291,y:351},{x:318,y:504},{x:949,y:702},{x:417,y:53},{x:1299,y:246},{x:444,y:351},{x:1719,y:19},{x:534,y:180},{x:1156,y:78},{x:138,y:261},{x:93,y:432},{x:363,y:459},{x:1442,y:557},{x:1475,y:196},{x:579,y:279},{x:354,y:216},{x:228,y:171},{x:237,y:549},{x:606,y:216},{x:1324,y:154},{x:264,y:189},{x:1391,y:347},{x:264,y:342},{x:309,y:513},{x:597,y:107},{x:588,y:180},{x:183,y:549},{x:93,y:405},{x:30,y:342},{x:543,y:369},{x:795,y:162},{x:732,y:198},{x:318,y:495},{x:597,y:80},{x:1542,y:86},{x:1274,y:154},{x:1400,y:540},{x:714,y:378},{x:813,y:153},{x:201,y:396},{x:372,y:171},{x:147,y:288},{x:444,y:53},{x:381,y:306},{x:750,y:405},{x:282,y:351},{x:1084,y:720},{x:1316,y:212},{x:1500,y:204},{x:840,y:180},{x:1408,y:179},{x:507,y:279},{x:147,y:360},{x:210,y:62},{x:831,y:684},{x:336,y:261},{x:1249,y:187},{x:1450,y:204},{x:651,y:116},{x:102,y:153},{x:300,y:549},{x:1433,y:557},{x:1307,y:112},{x:1265,y:305},{x:1534,y:607},{x:1484,y:666},{x:165,y:153},{x:489,y:125},{x:1500,y:145},{x:138,y:441},{x:444,y:234},{x:1458,y:179},{x:156,y:459},{x:1257,y:112},{x:534,y:306},{x:1685,y:61},{x:750,y:71},{x:624,y:243},{x:831,y:639},{x:1417,y:145},{x:408,y:369},{x:66,y:315},{x:660,y:288},{x:1467,y:590},{x:1148,y:95},{x:1492,y:128},{x:75,y:144},{x:876,y:243},{x:822,y:62},{x:795,y:288},{x:84,y:324},{x:831,y:477},{x:858,y:675},{x:732,y:125},{x:165,y:315},{x:237,y:432},{x:228,y:513},{x:120,y:279},{x:372,y:468},{x:264,y:234},{x:894,y:693},{x:1021,y:774},{x:1568,y:573},{x:192,y:549},{x:849,y:53},{x:1517,y:473},{x:958,y:702},{x:1316,y:154},{x:66,y:441},{x:931,y:80},{x:588,y:35},{x:354,y:270},{x:1475,y:582},{x:1660,y:53},{x:363,y:639},{x:931,y:630},{x:381,y:261},{x:903,y:765},{x:282,y:549},{x:543,y:162},{x:723,y:44},{x:525,y:80},{x:1475,y:674},{x:1576,y:607},{x:1215,y:103},{x:1274,y:322},{x:940,y:666},{x:228,y:107},{x:777,y:279},{x:1618,y:36},{x:750,y:125},{x:1450,y:154},{x:354,y:378},{x:1417,y:187},{x:336,y:558},{x:1626,y:36},{x:922,y:71},{x:786,y:333},{x:1500,y:792},{x:480,y:35},{x:1400,y:548},{x:813,y:171},{x:39,y:306},{x:156,y:189},{x:138,y:162},{x:1123,y:120},{x:1324,y:288},{x:1509,y:674},{x:363,y:387},{x:111,y:279},{x:570,y:35},{x:1358,y:338},{x:309,y:414},{x:1442,y:523},{x:1450,y:708},{x:1484,y:599},{x:615,y:180},{x:1391,y:531},{x:931,y:657},{x:633,y:207},{x:1391,y:431},{x:525,y:89},{x:1458,y:162},{x:867,y:621},{x:363,y:396},{x:1450,y:691},{x:66,y:288},{x:1316,y:288},{x:507,y:243},{x:723,y:387},{x:219,y:279},{x:913,y:612},{x:588,y:26},{x:1509,y:137},{x:1425,y:573},{x:1366,y:338},{x:1484,y:632},{x:732,y:180},{x:255,y:594},{x:687,y:333},{x:219,y:432},{x:1400,y:464},{x:291,y:513},{x:516,y:288},{x:354,y:324},{x:1291,y:305},{x:1475,y:716},{x:255,y:657},{x:1316,y:263},{x:624,y:306},{x:615,y:71},{x:1534,y:548},{x:885,y:234},{x:1223,y:204},{x:1274,y:120},{x:156,y:351},{x:795,y:306},{x:156,y:486},{x:633,y:180},{x:759,y:288},{x:714,y:225},{x:894,y:585},{x:741,y:387},{x:1534,y:557},{x:516,y:207},{x:183,y:342},{x:1584,y:557},{x:1165,y:95},{x:264,y:315},{x:309,y:432},{x:192,y:459},{x:1148,y:112},{x:336,y:162},{x:1240,y:162},{x:615,y:144},{x:1635,y:19},{x:1349,y:204},{x:345,y:252},{x:120,y:324},{x:264,y:567},{x:1500,y:447},{x:651,y:62},{x:1265,y:137},{x:786,y:459},{x:1181,y:263},{x:120,y:198},{x:516,y:44},{x:1316,y:221},{x:786,y:80},{x:588,y:243},{x:201,y:504},{x:1400,y:86},{x:498,y:144},{x:1299,y:280},{x:1030,y:765},{x:1257,y:187},{x:1383,y:78},{x:534,y:107},{x:714,y:315},{x:750,y:180},{x:417,y:125},{x:1425,y:212},{x:291,y:405},{x:210,y:351},{x:228,y:405},{x:246,y:486},{x:1299,y:238},{x:1492,y:481},{x:804,y:171},{x:390,y:135},{x:1307,y:280},{x:876,y:53},{x:822,y:603},{x:1113,y:120},{x:633,y:261},{x:651,y:89},{x:1450,y:565},{x:606,y:333},{x:1517,y:565},{x:940,y:630},{x:1484,y:523},{x:345,y:414},{x:588,y:116},{x:705,y:135},{x:1257,y:204},{x:156,y:306},{x:300,y:98},{x:750,y:252},{x:922,y:675},{x:633,y:297},{x:120,y:333},{x:318,y:315},{x:507,y:35},{x:949,y:621},{x:48,y:324},{x:102,y:315},{x:777,y:125},{x:480,y:306},{x:1282,y:246},{x:1433,y:590},{x:768,y:180},{x:660,y:351},{x:210,y:333},{x:309,y:270},{x:1559,y:557},{x:210,y:549},{x:1417,y:531},{x:1484,y:766},{x:489,y:234},{x:246,y:125},{x:570,y:252},{x:12,y:378},{x:822,y:387},{x:48,y:360},{x:1299,y:254},{x:282,y:171},{x:579,y:315},{x:759,y:333},{x:804,y:540},{x:399,y:80},{x:687,y:125},{x:165,y:378},{x:1358,y:95},{x:66,y:270},{x:417,y:234},{x:1408,y:187},{x:1358,y:78},{x:1542,y:624},{x:1425,y:565},{x:363,y:89},{x:408,y:198},{x:1181,y:95},{x:1551,y:78},{x:1668,y:78},{x:777,y:153},{x:228,y:639},{x:1685,y:19},{x:309,y:396},{x:696,y:306},{x:75,y:423},{x:597,y:279},{x:327,y:477},{x:732,y:324},{x:1500,y:137},{x:1400,y:238},{x:417,y:107},{x:732,y:243},{x:768,y:98},{x:813,y:71},{x:1458,y:481},{x:705,y:80},{x:165,y:423},{x:1433,y:624},{x:1198,y:70},{x:795,y:693},{x:831,y:89},{x:291,y:477},{x:1383,y:296},{x:336,y:342},{x:786,y:62},{x:543,y:396},{x:264,y:333},{x:597,y:162},{x:147,y:279},{x:507,y:171},{x:687,y:306},{x:1139,y:95},{x:1341,y:95},{x:1576,y:523},{x:381,y:432},{x:1685,y:28},{x:669,y:62},{x:237,y:405},{x:606,y:80},{x:66,y:378},{x:12,y:342},{x:1341,y:221},{x:381,y:153},{x:1467,y:187},{x:120,y:207},{x:894,y:612},{x:1626,y:78},{x:687,y:432},{x:723,y:504},{x:1458,y:447},{x:1207,y:103},{x:741,y:288},{x:201,y:234},{x:192,y:198},{x:1492,y:162},{x:1299,y:137},{x:1542,y:531},{x:1484,y:708},{x:714,y:405},{x:246,y:80},{x:913,y:594},{x:786,y:189},{x:1341,y:86},{x:300,y:153},{x:246,y:513},{x:1442,y:179},{x:318,y:405},{x:579,y:225},{x:1274,y:263},{x:588,y:44},{x:1694,y:28},{x:507,y:315},{x:570,y:225},{x:426,y:198},{x:1509,y:36},{x:147,y:333},{x:1660,y:28},{x:1534,y:666},{x:1274,y:330},{x:1475,y:683},{x:525,y:252},{x:1450,y:615},{x:606,y:279},{x:507,y:333},{x:435,y:80},{x:732,y:396},{x:1299,y:221},{x:300,y:486},{x:714,y:71},{x:246,y:62},{x:354,y:477},{x:786,y:180},{x:291,y:288},{x:795,y:153},{x:444,y:297},{x:345,y:80},{x:768,y:639},{x:327,y:207},{x:1450,y:641},{x:318,y:135},{x:516,y:351},{x:39,y:441},{x:931,y:720},{x:849,y:477},{x:426,y:153},{x:264,y:162},{x:318,y:261},{x:183,y:459},{x:1618,y:11},{x:985,y:549},{x:318,y:279},{x:922,y:522},{x:255,y:540},{x:309,y:459},{x:228,y:297},{x:840,y:171},{x:318,y:171},{x:57,y:387},{x:1467,y:137},{x:372,y:450},{x:21,y:315},{x:561,y:125},{x:282,y:468},{x:426,y:62},{x:534,y:189},{x:1291,y:86},{x:1349,y:288},{x:795,y:216},{x:1324,y:103},{x:633,y:125},{x:408,y:135},{x:192,y:531},{x:642,y:107},{x:489,y:225},{x:84,y:225},{x:435,y:270},{x:300,y:414},{x:1215,y:120},{x:1761,y:19},{x:561,y:387},{x:1375,y:137},{x:1610,y:36},{x:1492,y:666},{x:210,y:135},{x:1635,y:86},{x:228,y:522},{x:426,y:171},{x:426,y:288},{x:1333,y:271},{x:1500,y:53},{x:885,y:702},{x:543,y:98},{x:885,y:576},{x:174,y:342},{x:1450,y:557},{x:840,y:648},{x:777,y:80},{x:192,y:333},{x:1274,y:372},{x:174,y:585},{x:1408,y:154},{x:777,y:504},{x:426,y:279},{x:696,y:387},{x:129,y:369},{x:714,y:234},{x:759,y:107},{x:1366,y:154},{x:201,y:324},{x:264,y:153},{x:480,y:216},{x:525,y:261},{x:534,y:125},{x:922,y:89},{x:777,y:630},{x:138,y:360},{x:12,y:396},{x:336,y:504},{x:57,y:297},{x:561,y:351},{x:12,y:333},{x:561,y:35},{x:1517,y:498},{x:795,y:639},{x:651,y:98},{x:318,y:189},{x:1542,y:95},{x:489,y:144},{x:246,y:315},{x:1492,y:800},{x:642,y:44},{x:1500,y:699},{x:1223,y:313},{x:1324,y:187},{x:795,y:107},{x:705,y:342},{x:327,y:522},{x:1517,y:86},{x:444,y:180},{x:1181,y:246},{x:1232,y:162},{x:1509,y:506},{x:714,y:297},{x:660,y:306},{x:372,y:252},{x:1408,y:212},{x:1207,y:254},{x:1291,y:170},{x:1366,y:498},{x:876,y:89},{x:480,y:234},{x:714,y:360},{x:876,y:576},{x:1652,y:86},{x:1257,y:296},{x:913,y:621},{x:120,y:441},{x:228,y:243},{x:1484,y:431},{x:552,y:135},{x:1433,y:405},{x:1467,y:624},{x:273,y:495},{x:300,y:116},{x:1542,y:498},{x:129,y:153},{x:1500,y:624},{x:84,y:405},{x:255,y:585},{x:354,y:62},{x:291,y:144},{x:867,y:89},{x:705,y:252},{x:660,y:243},{x:75,y:243},{x:363,y:216},{x:282,y:576},{x:318,y:351},{x:498,y:171},{x:273,y:135},{x:732,y:153},{x:228,y:549},{x:669,y:279},{x:813,y:666},{x:219,y:477},{x:696,y:216},{x:174,y:405},{x:291,y:116},{x:786,y:135},{x:840,y:585},{x:309,y:234},{x:264,y:360},{x:1391,y:179},{x:552,y:125},{x:1526,y:456},{x:300,y:107},{x:1442,y:86},{x:372,y:603},{x:885,y:80},{x:489,y:216},{x:273,y:342},{x:183,y:486},{x:255,y:405},{x:1249,y:170},{x:30,y:315},{x:282,y:459},{x:1400,y:179},{x:615,y:171},{x:111,y:216},{x:111,y:252},{x:201,y:405},{x:795,y:171},{x:1534,y:154},{x:1736,y:36},{x:1551,y:489},{x:183,y:153},{x:1341,y:263},{x:255,y:522},{x:210,y:450},{x:741,y:315},{x:867,y:477},{x:1400,y:414},{x:642,y:243},{x:633,y:306},{x:309,y:522},{x:1509,y:607},{x:1333,y:137},{x:894,y:702},{x:1534,y:531},{x:1736,y:28},{x:678,y:360},{x:336,y:306},{x:1492,y:489},{x:201,y:648},{x:867,y:702},{x:1601,y:506},{x:759,y:225},{x:723,y:162},{x:75,y:324},{x:381,y:396},{x:786,y:207},{x:399,y:333},{x:507,y:53},{x:606,y:252},{x:255,y:666},{x:498,y:44},{x:471,y:270},{x:93,y:135},{x:1475,y:120},{x:435,y:315},{x:1316,y:238},{x:1467,y:489},{x:1475,y:733},{x:913,y:71},{x:309,y:288},{x:201,y:540},{x:1088,y:137},{x:66,y:207},{x:1484,y:607},{x:435,y:207},{x:300,y:62},{x:1542,y:61},{x:759,y:306},{x:931,y:693},{x:885,y:98},{x:678,y:189},{x:1249,y:70},{x:165,y:387},{x:237,y:621},{x:1433,y:78},{x:732,y:162},{x:903,y:630},{x:750,y:351},{x:1139,y:103},{x:967,y:675},{x:1551,y:624},{x:1467,y:750},{x:940,y:612},{x:192,y:62},{x:795,y:459},{x:696,y:116},{x:273,y:369},{x:597,y:207},{x:237,y:98},{x:390,y:53},{x:1324,y:238},{x:579,y:288},{x:309,y:180},{x:1425,y:531},{x:237,y:144},{x:318,y:486},{x:759,y:62},{x:894,y:107},{x:1375,y:422},{x:462,y:171},{x:849,y:261},{x:84,y:243},{x:696,y:189},{x:453,y:35},{x:976,y:693},{x:1584,y:582},{x:696,y:153},{x:201,y:666},{x:1408,y:515},{x:273,y:351},{x:1391,y:137},{x:1601,y:540},{x:714,y:125},{x:615,y:189},{x:444,y:225},{x:210,y:44},{x:1341,y:120},{x:201,y:144},{x:741,y:125},{x:804,y:342},{x:273,y:423},{x:273,y:558},{x:1425,y:515},{x:48,y:288},{x:255,y:513},{x:1097,y:128},{x:156,y:324},{x:687,y:459},{x:714,y:396},{x:651,y:234},{x:822,y:666},{x:363,y:53},{x:714,y:243},{x:1458,y:758},{x:237,y:441},{x:1324,y:78},{x:1333,y:120},{x:552,y:342},{x:949,y:594},{x:813,y:684},{x:426,y:44},{x:291,y:198},{x:138,y:297},{x:1240,y:254},{x:705,y:162},{x:1458,y:53},{x:831,y:504},{x:606,y:26},{x:183,y:279},{x:417,y:198},{x:399,y:198},{x:1417,y:204},{x:1232,y:103},{x:1333,y:397},{x:300,y:630},{x:1131,y:112},{x:1475,y:590},{x:1417,y:229},{x:1003,y:504},{x:174,y:162},{x:913,y:693},{x:453,y:315},{x:777,y:162},{x:624,y:225},{x:1433,y:582},{x:1307,y:204},{x:1291,y:204},{x:1517,y:137},{x:642,y:116},{x:525,y:98},{x:570,y:53},{x:1433,y:456},{x:1366,y:120},{x:831,y:198},{x:1517,y:599},{x:1391,y:456},{x:669,y:162},{x:831,y:62},{x:282,y:378},{x:525,y:144},{x:273,y:180},{x:390,y:80},{x:1517,y:548},{x:913,y:711},{x:300,y:594},{x:363,y:432},{x:1282,y:313},{x:192,y:378},{x:1316,y:246},{x:1442,y:456},{x:958,y:693},{x:309,y:116},{x:579,y:135},{x:732,y:89},{x:408,y:153},{x:1492,y:456},{x:471,y:306},{x:570,y:324},{x:1685,y:44},{x:1593,y:557},{x:300,y:71},{x:705,y:387},{x:246,y:612},{x:354,y:486},{x:1324,y:128},{x:255,y:576},{x:480,y:107},{x:1391,y:95},{x:228,y:450},{x:327,y:107},{x:1509,y:531},{x:471,y:180},{x:372,y:135},{x:174,y:107},{x:165,y:450},{x:1240,y:280},{x:687,y:315},{x:867,y:666},{x:201,y:387},{x:777,y:324},{x:39,y:351},{x:399,y:252},{x:1075,y:630},{x:1458,y:607},{x:552,y:324},{x:255,y:369},{x:192,y:144},{x:678,y:125},{x:444,y:71},{x:822,y:630},{x:507,y:26},{x:588,y:162},{x:426,y:342},{x:1257,y:86},{x:615,y:135},{x:1433,y:86},{x:1358,y:145},{x:1156,y:70},{x:309,y:405},{x:273,y:53},{x:228,y:657},{x:687,y:423},{x:786,y:297},{x:1736,y:86},{x:579,y:324},{x:246,y:495},{x:931,y:71},{x:777,y:693},{x:1408,y:540},{x:1400,y:405},{x:165,y:369},{x:579,y:153},{x:931,y:540},{x:1400,y:431},{x:741,y:405},{x:1492,y:615},{x:804,y:98},{x:219,y:180},{x:1349,y:229},{x:264,y:495},{x:1475,y:498},{x:1509,y:691},{x:1417,y:95},{x:372,y:324},{x:381,y:639},{x:327,y:135},{x:1484,y:515},{x:165,y:351},{x:1610,y:95},{x:822,y:684},{x:381,y:288},{x:264,y:297},{x:1383,y:196},{x:84,y:414},{x:201,y:612},{x:552,y:333},{x:579,y:270},{x:1383,y:431},{x:1417,y:515},{x:273,y:360},{x:1517,y:657},{x:606,y:225},{x:651,y:297},{x:156,y:270},{x:372,y:378},{x:1484,y:716},{x:1291,y:238},{x:435,y:198},{x:1450,y:750},{x:318,y:450},{x:561,y:432},{x:516,y:171},{x:471,y:53},{x:498,y:234},{x:759,y:153},{x:1475,y:481},{x:669,y:98},{x:1500,y:540},{x:1492,y:154},{x:1744,y:3},{x:759,y:495},{x:300,y:459},{x:435,y:342},{x:300,y:89},{x:1232,y:330},{x:84,y:351},{x:849,y:162},{x:894,y:504},{x:327,y:558},{x:489,y:279},{x:1458,y:145},{x:282,y:288},{x:102,y:405},{x:426,y:80},{x:300,y:162},{x:1618,y:523},{x:1075,y:738},{x:1475,y:699},{x:525,y:324},{x:66,y:396},{x:417,y:171},{x:1584,y:531},{x:1450,y:70},{x:1232,y:212},{x:1240,y:347},{x:1433,y:540},{x:1509,y:196},{x:1198,y:86},{x:732,y:71},{x:1484,y:531},{x:714,y:270},{x:372,y:153},{x:507,y:297},{x:1677,y:19},{x:246,y:531},{x:1467,y:699},{x:354,y:441},{x:363,y:468},{x:156,y:396},{x:1450,y:548},{x:354,y:450},{x:759,y:315},{x:1375,y:271},{x:93,y:216},{x:417,y:80},{x:1425,y:422},{x:705,y:180},{x:1425,y:456},{x:381,y:387},{x:390,y:144},{x:534,y:369},{x:228,y:80},{x:1156,y:112},{x:237,y:378},{x:1375,y:44},{x:1383,y:229},{x:822,y:495},{x:300,y:513},{x:426,y:89},{x:273,y:531},{x:255,y:216},{x:228,y:279},{x:363,y:234},{x:804,y:71},{x:1198,y:254},{x:1391,y:78},{x:759,y:162},{x:93,y:234},{x:1652,y:44},{x:1375,y:145},{x:1400,y:137},{x:1433,y:615},{x:516,y:17},{x:228,y:666},{x:1534,y:78},{x:1215,y:296},{x:858,y:89},{x:1475,y:95},{x:246,y:116},{x:309,y:98},{x:940,y:89},{x:885,y:711},{x:525,y:71},{x:399,y:585},{x:309,y:558},{x:1551,y:187},{x:192,y:351},{x:786,y:684},{x:174,y:171},{x:435,y:351},{x:1534,y:674},{x:1417,y:355},{x:570,y:153},{x:84,y:207},{x:894,y:495},{x:75,y:216},{x:1551,y:61},{x:354,y:98},{x:624,y:162},{x:660,y:333},{x:84,y:369},{x:1240,y:179},{x:1568,y:515},{x:1442,y:221},{x:570,y:207},{x:867,y:684},{x:606,y:342},{x:1626,y:11},{x:327,y:279},{x:453,y:116},{x:1694,y:70},{x:543,y:153},{x:1232,y:137},{x:1400,y:531},{x:1366,y:263},{x:867,y:594},{x:21,y:414},{x:940,y:720},{x:759,y:297},{x:1492,y:179},{x:1417,y:557},{x:669,y:342},{x:156,y:162},{x:273,y:594},{x:651,y:180},{x:102,y:135},{x:1643,y:95},{x:1526,y:641},{x:66,y:279},{x:255,y:80},{x:363,y:153},{x:633,y:252},{x:561,y:198},{x:1551,y:540},{x:462,y:89},{x:687,y:207},{x:489,y:35},{x:1442,y:666},{x:291,y:648},{x:1257,y:238},{x:498,y:53},{x:147,y:387},{x:165,y:98},{x:1333,y:246},{x:840,y:107},{x:1391,y:263},{x:1568,y:506},{x:201,y:306},{x:714,y:333},{x:228,y:621},{x:120,y:405},{x:237,y:44},{x:1450,y:439}]},function(t,e,n){"use strict";var i=n(1);n.n(i);setTimeout(function(){document.querySelectorAll(".widget-solutions-slider").forEach(function(t){new i(t.querySelector(" .swiper-container"),{slidesPerView:3,spaceBetween:40,pagination:{el:t.querySelector(".swiper-pagination"),clickable:!0},navigation:{nextEl:t.querySelector(".swiper-next"),prevEl:t.querySelector(".swiper-prev")},breakpoints:{1200:{slidesPerView:2,spaceBetween:30},640:{slidesPerView:1,spaceBetween:20}}})})},100)},function(t,e,n){"use strict";var i=n(3),r=n.n(i);document.querySelectorAll(".widget-leadership").forEach(function(t){var e=t.querySelector("div:first-child"),n=t.querySelectorAll(".card-profile");n.forEach(function(t,i){t.parentElement.setAttribute("index",i);var o=t.querySelector(".card-content");t.onclick=function(i){for(var a=parseInt(t.parentElement.getAttribute("index")),s=0,l=e.querySelectorAll(".uk-first-column[index]"),u=0;u<l.length;u++){if(parseInt(l[u].getAttribute("index"))>a){s=parseInt(l[u].getAttribute("index")-1);break}s=n.length-1}if(e.classList.remove("on"),e.querySelector(".active")&&e.querySelector(".active").classList.remove("active"),e.querySelector(".profile-data")&&e.removeChild(e.querySelector(".profile-data")),o){t.classList.add("active"),e.classList.add("on");var c=o.cloneNode(!0);c.classList.remove("uk-hidden"),c.classList.add("profile-data"),e.querySelector('[index="'+s+'"]').insertAdjacentElement("afterend",c),r.a.grid(e),c.querySelector(".uk-close").onclick=function(){e.removeChild(e.querySelector(".profile-data")),e.classList.remove("on"),t.classList.remove("active"),r.a.grid(e)}}}})})},function(t,e,n){"use strict";var i=n(1);n.n(i);setTimeout(function(){document.querySelectorAll(".widget-timeline").forEach(function(t){new i(t.querySelector(".swiper-container"),{slidesPerView:"auto",spaceBetween:0,pagination:{el:t.querySelector(".swiper-nav"),clickable:!0},navigation:{nextEl:t.querySelector(".swiper-next"),prevEl:t.querySelector(".swiper-prev")}})})},100)},function(t,e,n){"use strict";function i(t){var e=t.dataset.url,n=t.querySelector("[map-container]"),i=t.querySelector("[map-filter]"),r=t.querySelector("[map-matches]");h()({method:"GET",url:e,params:{filter:i?i.value:""}}).then(function(e){n&&a(n,e.data.locators),i&&o(t,i,e.data.filter),r&&(r.innerHTML=e.data.matches)})}function r(t){var e=t.dataset.url,n=t.querySelector("[map-container]"),i=t.querySelector("[map-filter]"),r=t.querySelector("[map-matches]");h()({method:"GET",url:e,params:{filter:i.value}}).then(function(t){n&&a(n,t.data.locators),r&&(r.innerHTML=t.data.matches)})}function o(t,e,n){e.value=n,e.addEventListener("change",function(e){r(t)},!1)}function a(t,e){var n=JSON.parse(t.getAttribute("map-container"));e&&(n.markers=e),n.style=n.style?n.style:n.style=p.style,n.zoom=n.zoom?n.zoom:n.zoom=p.zoom,n.popover=n.popover?n.popover:n.popover=p.popover,n.center=n.center?n.center:n.center=p.center,u.a.accessToken=p.mapKey;var i=new u.a.Map({container:t,center:n.center,zoom:n.zoom,scrollZoom:!1}).on("load",function(){i.resize()});if("streets"===n.style?i.setStyle("mapbox://styles/mapbox/streets-v9"):"light"===n.style?i.setStyle("mapbox://styles/mapbox/light-v9"):"dark"===n.style?i.setStyle("mapbox://styles/mapbox/dark-v9"):i.setStyle("mapbox://styles/aljdevelopment/cjiu9ane85cwh2sob1pqnu3em"),Object.keys(n.markers).length>0){var r=n.markers;r&&[].map.call(r,function(t){var e=document.createElement("div");if(e.className="marker",t.icon)e.style.backgroundImage="URL('"+t.icon+"')";else{var r='<a uk-tooltip="'+t.label+'" class="pulse"></a>';e.innerHTML=r}n.popover?new u.a.Marker(e).setLngLat(t.coordinates).setPopup(new u.a.Popup({offset:25}).setHTML('<div class="header"><img src="'+t.image+'"><h3>'+t.title+"</h3></div>"+t.content)).addTo(i):new u.a.Marker(e).setLngLat(t.coordinates).addTo(i)})}}var s=n(80),l=(n.n(s),n(81)),u=n.n(l),c=n(9),h=n.n(c),p={mapKey:"pk.eyJ1IjoiYWxqZGV2ZWxvcG1lbnQiLCJhIjoiY2owdXY4MDZxMDVoNzMzcng5aGhsdnk1bCJ9.wKplpS83vO0HMISMatCAdw",markers:[],center:[45.0792,23.8859],zoom:13,popover:!1};!function(){var t=document.querySelectorAll("[map-wrapper]");t.length&&[].map.call(t,function(t){t.dataset.url?i(t):a(t.querySelector("[map-container]"))})}()},function(t,e){},function(t,e,n){var i,i;!function(e){t.exports=e()}(function(){var t;return function t(e,n,r){function o(s,l){if(!n[s]){if(!e[s]){var u="function"==typeof i&&i;if(!l&&u)return i(s,!0);if(a)return a(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var h=n[s]={exports:{}};e[s][0].call(h.exports,function(t){var n=e[s][1][t];return o(n||t)},h,h.exports,t,e,n,r)}return n[s].exports}for(var a="function"==typeof i&&i,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(t,e,n){function i(t){var e,n=0;switch(t.type){case"Polygon":return r(t.coordinates);case"MultiPolygon":for(e=0;e<t.coordinates.length;e++)n+=r(t.coordinates[e]);return n;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(e=0;e<t.geometries.length;e++)n+=i(t.geometries[e]);return n}}function r(t){var e=0;if(t&&t.length>0){e+=Math.abs(o(t[0]));for(var n=1;n<t.length;n++)e-=Math.abs(o(t[n]))}return e}function o(t){var e,n,i,r,o,l,u,c=0,h=t.length;if(h>2){for(u=0;u<h;u++)u===h-2?(r=h-2,o=h-1,l=0):u===h-1?(r=h-1,o=0,l=1):(r=u,o=u+1,l=u+2),e=t[r],n=t[o],i=t[l],c+=(a(i[0])-a(e[0]))*Math.sin(a(n[1]));c=c*s.RADIUS*s.RADIUS/2}return c}function a(t){return t*Math.PI/180}var s=t("wgs84");e.exports.geometry=i,e.exports.ring=o},{wgs84:37}],2:[function(e,n,i){!function(e,r){"object"==typeof i&&"undefined"!=typeof n?n.exports=r():"function"==typeof t&&t.amd?t(r):e.glMatrix=r()}(this,function(){"use strict";function t(t,e,n){var i=e[0],r=e[1],o=e[2];return t[0]=i*n[0]+r*n[3]+o*n[6],t[1]=i*n[1]+r*n[4]+o*n[7],t[2]=i*n[2]+r*n[5]+o*n[8],t}function e(t,e,n){var i=e[0],r=e[1],o=e[2],a=e[3];return t[0]=n[0]*i+n[4]*r+n[8]*o+n[12]*a,t[1]=n[1]*i+n[5]*r+n[9]*o+n[13]*a,t[2]=n[2]*i+n[6]*r+n[10]*o+n[14]*a,t[3]=n[3]*i+n[7]*r+n[11]*o+n[15]*a,t}function n(){var t=new Float32Array(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function i(t,e,n){var i=e[0],r=e[1],o=e[2],a=e[3],s=Math.sin(n),l=Math.cos(n);return t[0]=i*l+o*s,t[1]=r*l+a*s,t[2]=i*-s+o*l,t[3]=r*-s+a*l,t}function r(t,e,n){var i=e[0],r=e[1],o=e[2],a=e[3],s=n[0],l=n[1];return t[0]=i*s,t[1]=r*s,t[2]=o*l,t[3]=a*l,t}function o(){var t=new Float32Array(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function a(t,e){var n=Math.sin(e),i=Math.cos(e);return t[0]=i,t[1]=n,t[2]=0,t[3]=-n,t[4]=i,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function s(){var t=new Float32Array(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function l(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function u(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],h=e[9],p=e[10],d=e[11],f=e[12],y=e[13],m=e[14],v=e[15],g=n*s-i*a,x=n*l-r*a,_=n*u-o*a,b=i*l-r*s,w=i*u-o*s,E=r*u-o*l,M=c*y-h*f,T=c*m-p*f,S=c*v-d*f,A=h*m-p*y,C=h*v-d*y,L=p*v-d*m,k=g*L-x*C+_*A+b*S-w*T+E*M;return k?(k=1/k,t[0]=(s*L-l*C+u*A)*k,t[1]=(r*C-i*L-o*A)*k,t[2]=(y*E-m*w+v*b)*k,t[3]=(p*w-h*E-d*b)*k,t[4]=(l*S-a*L-u*T)*k,t[5]=(n*L-r*S+o*T)*k,t[6]=(m*_-f*E-v*x)*k,t[7]=(c*E-p*_+d*x)*k,t[8]=(a*C-s*S+u*M)*k,t[9]=(i*S-n*C-o*M)*k,t[10]=(f*w-y*_+v*g)*k,t[11]=(h*_-c*w-d*g)*k,t[12]=(s*T-a*A-l*M)*k,t[13]=(n*A-i*T+r*M)*k,t[14]=(y*x-f*b-m*g)*k,t[15]=(c*b-h*x+p*g)*k,t):null}function c(t,e,n){var i=e[0],r=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],h=e[8],p=e[9],d=e[10],f=e[11],y=e[12],m=e[13],v=e[14],g=e[15],x=n[0],_=n[1],b=n[2],w=n[3];return t[0]=x*i+_*s+b*h+w*y,t[1]=x*r+_*l+b*p+w*m,t[2]=x*o+_*u+b*d+w*v,t[3]=x*a+_*c+b*f+w*g,x=n[4],_=n[5],b=n[6],w=n[7],t[4]=x*i+_*s+b*h+w*y,t[5]=x*r+_*l+b*p+w*m,t[6]=x*o+_*u+b*d+w*v,t[7]=x*a+_*c+b*f+w*g,x=n[8],_=n[9],b=n[10],w=n[11],t[8]=x*i+_*s+b*h+w*y,t[9]=x*r+_*l+b*p+w*m,t[10]=x*o+_*u+b*d+w*v,t[11]=x*a+_*c+b*f+w*g,x=n[12],_=n[13],b=n[14],w=n[15],t[12]=x*i+_*s+b*h+w*y,t[13]=x*r+_*l+b*p+w*m,t[14]=x*o+_*u+b*d+w*v,t[15]=x*a+_*c+b*f+w*g,t}function h(t,e,n){var i,r,o,a,s,l,u,c,h,p,d,f,y=n[0],m=n[1],v=n[2];return e===t?(t[12]=e[0]*y+e[4]*m+e[8]*v+e[12],t[13]=e[1]*y+e[5]*m+e[9]*v+e[13],t[14]=e[2]*y+e[6]*m+e[10]*v+e[14],t[15]=e[3]*y+e[7]*m+e[11]*v+e[15]):(i=e[0],r=e[1],o=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],h=e[8],p=e[9],d=e[10],f=e[11],t[0]=i,t[1]=r,t[2]=o,t[3]=a,t[4]=s,t[5]=l,t[6]=u,t[7]=c,t[8]=h,t[9]=p,t[10]=d,t[11]=f,t[12]=i*y+s*m+h*v+e[12],t[13]=r*y+l*m+p*v+e[13],t[14]=o*y+u*m+d*v+e[14],t[15]=a*y+c*m+f*v+e[15]),t}function p(t,e,n){var i=n[0],r=n[1],o=n[2];return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function d(t,e,n){var i=Math.sin(n),r=Math.cos(n),o=e[4],a=e[5],s=e[6],l=e[7],u=e[8],c=e[9],h=e[10],p=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*r+u*i,t[5]=a*r+c*i,t[6]=s*r+h*i,t[7]=l*r+p*i,t[8]=u*r-o*i,t[9]=c*r-a*i,t[10]=h*r-s*i,t[11]=p*r-l*i,t}function f(t,e,n){var i=Math.sin(n),r=Math.cos(n),o=e[0],a=e[1],s=e[2],l=e[3],u=e[4],c=e[5],h=e[6],p=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*r+u*i,t[1]=a*r+c*i,t[2]=s*r+h*i,t[3]=l*r+p*i,t[4]=u*r-o*i,t[5]=c*r-a*i,t[6]=h*r-s*i,t[7]=p*r-l*i,t}function y(t,e,n,i,r){var o=1/Math.tan(e/2),a=1/(i-r);return t[0]=o/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(r+i)*a,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*r*i*a,t[15]=0,t}function m(t,e,n,i,r,o,a){var s=1/(e-n),l=1/(i-r),u=1/(o-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*u,t[11]=0,t[12]=(e+n)*s,t[13]=(r+i)*l,t[14]=(a+o)*u,t[15]=1,t}return function(){var t=new Float32Array(3);t[0]=0,t[1]=0,t[2]=0}(),function(){var t=new Float32Array(4);t[0]=0,t[1]=0,t[2]=0,t[3]=0}(),{vec3:{transformMat3:t},vec4:{transformMat4:e},mat2:{create:n,rotate:i,scale:r},mat3:{create:o,fromRotation:a},mat4:{create:s,identity:l,translate:h,scale:p,multiply:c,perspective:y,rotateX:d,rotateZ:f,invert:u,ortho:m}}})},{}],3:[function(t,e,n){"use strict";function i(t){return!!(r()&&o()&&a()&&s()&&l()&&u()&&c()&&h(t&&t.failIfMajorPerformanceCaveat))}function r(){return"undefined"!=typeof window&&"undefined"!=typeof document}function o(){return Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray}function a(){return Function.prototype&&Function.prototype.bind}function s(){return Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions}function l(){return"JSON"in window&&"parse"in JSON&&"stringify"in JSON}function u(){if(!("Worker"in window&&"Blob"in window))return!1;var t,e,n=new Blob([""],{type:"text/javascript"}),i=URL.createObjectURL(n);try{e=new Worker(i),t=!0}catch(e){t=!1}return e&&e.terminate(),URL.revokeObjectURL(i),t}function c(){return"Uint8ClampedArray"in window}function h(t){return void 0===d[t]&&(d[t]=p(t)),d[t]}function p(t){var e=document.createElement("canvas"),n=Object.create(i.webGLContextAttributes);return n.failIfMajorPerformanceCaveat=t,e.probablySupportsContext?e.probablySupportsContext("webgl",n)||e.probablySupportsContext("experimental-webgl",n):e.supportsContext?e.supportsContext("webgl",n)||e.supportsContext("experimental-webgl",n):e.getContext("webgl",n)||e.getContext("experimental-webgl",n)}"undefined"!=typeof e&&e.exports?e.exports=i:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=i);var d={};i.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}},{}],4:[function(t,e,n){"use strict";function i(t,e){this.x=t,this.y=e}e.exports=i,i.prototype={clone:function(){return new i(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},multByPoint:function(t){return this.clone()._multByPoint(t)},divByPoint:function(t){return this.clone()._divByPoint(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},rotateAround:function(t,e){return this.clone()._rotateAround(t,e)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var e=t.x-this.x,n=t.y-this.y;return e*e+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,e){return Math.atan2(this.x*e-this.y*t,this.x*t+this.y*e)},_matMult:function(t){var e=t[0]*this.x+t[1]*this.y,n=t[2]*this.x+t[3]*this.y;return this.x=e,this.y=n,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_multByPoint:function(t){return this.x*=t.x,this.y*=t.y,this},_divByPoint:function(t){return this.x/=t.x,this.y/=t.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var e=Math.cos(t),n=Math.sin(t),i=e*this.x-n*this.y,r=n*this.x+e*this.y;return this.x=i,this.y=r,this},_rotateAround:function(t,e){var n=Math.cos(t),i=Math.sin(t),r=e.x+n*(this.x-e.x)-i*(this.y-e.y),o=e.y+i*(this.x-e.x)+n*(this.y-e.y);return this.x=r,this.y=o,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},i.convert=function(t){return t instanceof i?t:Array.isArray(t)?new i(t[0],t[1]):t}},{}],5:[function(e,n,i){!function(e,r){"object"==typeof i&&"undefined"!=typeof n?n.exports=r():"function"==typeof t&&t.amd?t(r):e.ShelfPack=r()}(this,function(){function t(t,e,n){n=n||{},this.w=t||64,this.h=e||64,this.autoResize=!!n.autoResize,this.shelves=[],this.freebins=[],this.stats={},this.bins={},this.maxId=0}function e(t,e,n){this.x=0,this.y=t,this.w=this.free=e,this.h=n}function n(t,e,n,i,r,o,a){this.id=t,this.x=e,this.y=n,this.w=i,this.h=r,this.maxw=o||i,this.maxh=a||r,this.refcount=0}return t.prototype.pack=function(t,e){t=[].concat(t),e=e||{};for(var n,i,r,o,a=[],s=0;s<t.length;s++)if(n=t[s].w||t[s].width,i=t[s].h||t[s].height,r=t[s].id,n&&i){if(!(o=this.packOne(n,i,r)))continue;e.inPlace&&(t[s].x=o.x,t[s].y=o.y,t[s].id=o.id),a.push(o)}return this.shrink(),a},t.prototype.packOne=function(t,n,i){var r,o,a,s,l={freebin:-1,shelf:-1,waste:1/0},u=0;if("string"==typeof i||"number"==typeof i){if(r=this.getBin(i))return this.ref(r),r;"number"==typeof i&&(this.maxId=Math.max(i,this.maxId))}else i=++this.maxId;for(s=0;s<this.freebins.length;s++){if(r=this.freebins[s],n===r.maxh&&t===r.maxw)return this.allocFreebin(s,t,n,i);n>r.maxh||t>r.maxw||n<=r.maxh&&t<=r.maxw&&(a=r.maxw*r.maxh-t*n)<l.waste&&(l.waste=a,l.freebin=s)}for(s=0;s<this.shelves.length;s++)if(o=this.shelves[s],u+=o.h,!(t>o.free)){if(n===o.h)return this.allocShelf(s,t,n,i);n>o.h||n<o.h&&(a=(o.h-n)*t)<l.waste&&(l.freebin=-1,l.waste=a,l.shelf=s)}if(-1!==l.freebin)return this.allocFreebin(l.freebin,t,n,i);if(-1!==l.shelf)return this.allocShelf(l.shelf,t,n,i);if(n<=this.h-u&&t<=this.w)return o=new e(u,this.w,n),this.allocShelf(this.shelves.push(o)-1,t,n,i);if(this.autoResize){var c,h,p,d;return c=h=this.h,p=d=this.w,(p<=c||t>p)&&(d=2*Math.max(t,p)),(c<p||n>c)&&(h=2*Math.max(n,c)),this.resize(d,h),this.packOne(t,n,i)}return null},t.prototype.allocFreebin=function(t,e,n,i){var r=this.freebins.splice(t,1)[0];return r.id=i,r.w=e,r.h=n,r.refcount=0,this.bins[i]=r,this.ref(r),r},t.prototype.allocShelf=function(t,e,n,i){var r=this.shelves[t],o=r.alloc(e,n,i);return this.bins[i]=o,this.ref(o),o},t.prototype.shrink=function(){if(this.shelves.length>0){for(var t=0,e=0,n=0;n<this.shelves.length;n++){var i=this.shelves[n];e+=i.h,t=Math.max(i.w-i.free,t)}this.resize(t,e)}},t.prototype.getBin=function(t){return this.bins[t]},t.prototype.ref=function(t){if(1==++t.refcount){var e=t.h;this.stats[e]=1+(0|this.stats[e])}return t.refcount},t.prototype.unref=function(t){return 0===t.refcount?0:(0==--t.refcount&&(this.stats[t.h]--,delete this.bins[t.id],this.freebins.push(t)),t.refcount)},t.prototype.clear=function(){this.shelves=[],this.freebins=[],this.stats={},this.bins={},this.maxId=0},t.prototype.resize=function(t,e){this.w=t,this.h=e;for(var n=0;n<this.shelves.length;n++)this.shelves[n].resize(t);return!0},e.prototype.alloc=function(t,e,i){if(t>this.free||e>this.h)return null;var r=this.x;return this.x+=t,this.free-=t,new n(i,r,this.y,t,e,t,this.h)},e.prototype.resize=function(t){return this.free+=t-this.w,this.w=t,!0},t})},{}],6:[function(t,e,n){"use strict";function i(t,e,n,i,r,o){this.fontSize=t||24,this.buffer=void 0===e?3:e,this.cutoff=i||.25,this.fontFamily=r||"sans-serif",this.fontWeight=o||"normal",this.radius=n||8;var a=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=a,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(a*a),this.gridInner=new Float64Array(a*a),this.f=new Float64Array(a),this.d=new Float64Array(a),this.z=new Float64Array(a+1),this.v=new Int16Array(a),this.middle=Math.round(a/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function r(t,e,n,i,r,a,s){for(var l=0;l<e;l++){for(var u=0;u<n;u++)i[u]=t[u*e+l];for(o(i,r,a,s,n),u=0;u<n;u++)t[u*e+l]=r[u]}for(u=0;u<n;u++){for(l=0;l<e;l++)i[l]=t[u*e+l];for(o(i,r,a,s,e),l=0;l<e;l++)t[u*e+l]=Math.sqrt(r[l])}}function o(t,e,n,i,r){n[0]=0,i[0]=-a,i[1]=+a;for(var o=1,s=0;o<r;o++){for(var l=(t[o]+o*o-(t[n[s]]+n[s]*n[s]))/(2*o-2*n[s]);l<=i[s];)s--,l=(t[o]+o*o-(t[n[s]]+n[s]*n[s]))/(2*o-2*n[s]);s++,n[s]=o,i[s]=l,i[s+1]=+a}for(o=0,s=0;o<r;o++){for(;i[s+1]<o;)s++;e[o]=(o-n[s])*(o-n[s])+t[n[s]]}}e.exports=i;var a=1e20;i.prototype.draw=function(t){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(t,this.buffer,this.middle);for(var e=this.ctx.getImageData(0,0,this.size,this.size),n=new Uint8ClampedArray(this.size*this.size),i=0;i<this.size*this.size;i++){var o=e.data[4*i+3]/255;this.gridOuter[i]=1===o?0:0===o?a:Math.pow(Math.max(0,.5-o),2),this.gridInner[i]=1===o?a:0===o?0:Math.pow(Math.max(0,o-.5),2)}for(r(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),r(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),i=0;i<this.size*this.size;i++){var s=this.gridOuter[i]-this.gridInner[i];n[i]=Math.max(0,Math.min(255,Math.round(255-255*(s/this.radius+this.cutoff))))}return n}},{}],7:[function(t,e,n){function i(t,e,n,i){this.cx=3*t,this.bx=3*(n-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*e,this.by=3*(i-e)-this.cy,this.ay=1-this.cy-this.by,this.p1x=t,this.p1y=i,this.p2x=n,this.p2y=i}e.exports=i,i.prototype.sampleCurveX=function(t){return((this.ax*t+this.bx)*t+this.cx)*t},i.prototype.sampleCurveY=function(t){return((this.ay*t+this.by)*t+this.cy)*t},i.prototype.sampleCurveDerivativeX=function(t){return(3*this.ax*t+2*this.bx)*t+this.cx},i.prototype.solveCurveX=function(t,e){void 0===e&&(e=1e-6);var n,i,r,o,a;for(r=t,a=0;a<8;a++){if(o=this.sampleCurveX(r)-t,Math.abs(o)<e)return r;var s=this.sampleCurveDerivativeX(r);if(Math.abs(s)<1e-6)break;r-=o/s}if(n=0,i=1,(r=t)<n)return n;if(r>i)return i;for(;n<i;){if(o=this.sampleCurveX(r),Math.abs(o-t)<e)return r;t>o?n=r:i=r,r=.5*(i-n)+n}return r},i.prototype.solve=function(t,e){return this.sampleCurveY(this.solveCurveX(t,e))}},{}],8:[function(t,e,n){e.exports.VectorTile=t("./lib/vectortile.js"),e.exports.VectorTileFeature=t("./lib/vectortilefeature.js"),e.exports.VectorTileLayer=t("./lib/vectortilelayer.js")},{"./lib/vectortile.js":9,"./lib/vectortilefeature.js":10,"./lib/vectortilelayer.js":11}],9:[function(t,e,n){"use strict";function i(t,e){this.layers=t.readFields(r,{},e)}function r(t,e,n){if(3===t){var i=new o(n,n.readVarint()+n.pos);i.length&&(e[i.name]=i)}}var o=t("./vectortilelayer");e.exports=i},{"./vectortilelayer":11}],10:[function(t,e,n){"use strict";function i(t,e,n,i,o){this.properties={},this.extent=n,this.type=0,this._pbf=t,this._geometry=-1,this._keys=i,this._values=o,t.readFields(r,this,e)}function r(t,e,n){1==t?e.id=n.readVarint():2==t?o(n,e):3==t?e.type=n.readVarint():4==t&&(e._geometry=n.pos)}function o(t,e){for(var n=t.readVarint()+t.pos;t.pos<n;){var i=e._keys[t.readVarint()],r=e._values[t.readVarint()];e.properties[i]=r}}function a(t){var e=t.length;if(e<=1)return[t];for(var n,i,r=[],o=0;o<e;o++){var a=s(t[o]);0!==a&&(void 0===i&&(i=a<0),i===a<0?(n&&r.push(n),n=[t[o]]):n.push(t[o]))}return n&&r.push(n),r}function s(t){for(var e,n,i=0,r=0,o=t.length,a=o-1;r<o;a=r++)e=t[r],n=t[a],i+=(n.x-e.x)*(e.y+n.y);return i}var l=t("@mapbox/point-geometry");e.exports=i,i.types=["Unknown","Point","LineString","Polygon"],i.prototype.loadGeometry=function(){var t=this._pbf;t.pos=this._geometry;for(var e,n=t.readVarint()+t.pos,i=1,r=0,o=0,a=0,s=[];t.pos<n;){if(!r){var u=t.readVarint();i=7&u,r=u>>3}if(r--,1===i||2===i)o+=t.readSVarint(),a+=t.readSVarint(),1===i&&(e&&s.push(e),e=[]),e.push(new l(o,a));else{if(7!==i)throw new Error("unknown command "+i);e&&e.push(e[0].clone())}}return e&&s.push(e),s},i.prototype.bbox=function(){var t=this._pbf;t.pos=this._geometry;for(var e=t.readVarint()+t.pos,n=1,i=0,r=0,o=0,a=1/0,s=-1/0,l=1/0,u=-1/0;t.pos<e;){if(!i){var c=t.readVarint();n=7&c,i=c>>3}if(i--,1===n||2===n)r+=t.readSVarint(),o+=t.readSVarint(),r<a&&(a=r),r>s&&(s=r),o<l&&(l=o),o>u&&(u=o);else if(7!==n)throw new Error("unknown command "+n)}return[a,l,s,u]},i.prototype.toGeoJSON=function(t,e,n){function r(t){for(var e=0;e<t.length;e++){var n=t[e],i=180-360*(n.y+c)/l;t[e]=[360*(n.x+u)/l-180,360/Math.PI*Math.atan(Math.exp(i*Math.PI/180))-90]}}var o,s,l=this.extent*Math.pow(2,n),u=this.extent*t,c=this.extent*e,h=this.loadGeometry(),p=i.types[this.type];switch(this.type){case 1:var d=[];for(o=0;o<h.length;o++)d[o]=h[o][0];h=d,r(h);break;case 2:for(o=0;o<h.length;o++)r(h[o]);break;case 3:for(h=a(h),o=0;o<h.length;o++)for(s=0;s<h[o].length;s++)r(h[o][s])}1===h.length?h=h[0]:p="Multi"+p;var f={type:"Feature",geometry:{type:p,coordinates:h},properties:this.properties};return"id"in this&&(f.id=this.id),f}},{"@mapbox/point-geometry":4}],11:[function(t,e,n){"use strict";function i(t,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=t,this._keys=[],this._values=[],this._features=[],t.readFields(r,this,e),this.length=this._features.length}function r(t,e,n){15===t?e.version=n.readVarint():1===t?e.name=n.readString():5===t?e.extent=n.readVarint():2===t?e._features.push(n.pos):3===t?e._keys.push(n.readString()):4===t&&e._values.push(o(n))}function o(t){for(var e=null,n=t.readVarint()+t.pos;t.pos<n;){var i=t.readVarint()>>3;e=1===i?t.readString():2===i?t.readFloat():3===i?t.readDouble():4===i?t.readVarint64():5===i?t.readVarint():6===i?t.readSVarint():7===i?t.readBoolean():null}return e}var a=t("./vectortilefeature.js");e.exports=i,i.prototype.feature=function(t){if(t<0||t>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[t];var e=this._pbf.readVarint()+this._pbf.pos;return new a(this._pbf,e,this.extent,this._keys,this._values)}},{"./vectortilefeature.js":10}],12:[function(e,n,i){!function(e,r){"object"==typeof i&&"undefined"!=typeof n?r(i):"function"==typeof t&&t.amd?t(["exports"],r):r(e.WhooTS=e.WhooTS||{})}(this,function(t){function e(t,e,i,r,o,a){return a=a||{},t+"?"+["bbox="+n(i,r,o),"format="+(a.format||"image/png"),"service="+(a.service||"WMS"),"version="+(a.version||"1.1.1"),"request="+(a.request||"GetMap"),"srs="+(a.srs||"EPSG:3857"),"width="+(a.width||256),"height="+(a.height||256),"layers="+e].join("&")}function n(t,e,n){e=Math.pow(2,n)-e-1;var r=i(256*t,256*e,n),o=i(256*(t+1),256*(e+1),n);return r[0]+","+r[1]+","+o[0]+","+o[1]}function i(t,e,n){var i=2*Math.PI*6378137/256/Math.pow(2,n);return[t*i-2*Math.PI*6378137/2,e*i-2*Math.PI*6378137/2]}t.getURL=e,t.getTileBBox=n,t.getMercCoords=i,Object.defineProperty(t,"__esModule",{value:!0})})},{}],13:[function(t,e,n){function i(t){return t=Math.round(t),t<0?0:t>255?255:t}function r(t){return t<0?0:t>1?1:t}function o(t){return i("%"===t[t.length-1]?parseFloat(t)/100*255:parseInt(t))}function a(t){return r("%"===t[t.length-1]?parseFloat(t)/100:parseFloat(t))}function s(t,e,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}function l(t){var e=t.replace(/ /g,"").toLowerCase();if(e in u)return u[e].slice();if("#"===e[0]){if(4===e.length){var n=parseInt(e.substr(1),16);return n>=0&&n<=4095?[(3840&n)>>4|(3840&n)>>8,240&n|(240&n)>>4,15&n|(15&n)<<4,1]:null}if(7===e.length){var n=parseInt(e.substr(1),16);return n>=0&&n<=16777215?[(16711680&n)>>16,(65280&n)>>8,255&n,1]:null}return null}var r=e.indexOf("("),l=e.indexOf(")");if(-1!==r&&l+1===e.length){var c=e.substr(0,r),h=e.substr(r+1,l-(r+1)).split(","),p=1;switch(c){case"rgba":if(4!==h.length)return null;p=a(h.pop());case"rgb":return 3!==h.length?null:[o(h[0]),o(h[1]),o(h[2]),p];case"hsla":if(4!==h.length)return null;p=a(h.pop());case"hsl":if(3!==h.length)return null;var d=(parseFloat(h[0])%360+360)%360/360,f=a(h[1]),y=a(h[2]),m=y<=.5?y*(f+1):y+f-y*f,v=2*y-m;return[i(255*s(v,m,d+1/3)),i(255*s(v,m,d)),i(255*s(v,m,d-1/3)),p];default:return null}}return null}var u={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};try{n.parseCSSColor=l}catch(t){}},{}],14:[function(t,e,n){"use strict";function i(t,e,n){n=n||2;var i=e&&e.length,o=i?e[0]*n:t.length,s=r(t,0,o,n,!0),l=[];if(!s)return l;var u,c,p,d,f,y,m;if(i&&(s=h(t,e,s,n)),t.length>80*n){u=p=t[0],c=d=t[1];for(var v=n;v<o;v+=n)f=t[v],y=t[v+1],f<u&&(u=f),y<c&&(c=y),f>p&&(p=f),y>d&&(d=y);m=Math.max(p-u,d-c),m=0!==m?1/m:0}return a(s,l,n,u,c,m),l}function r(t,e,n,i,r){var o,a;if(r===P(t,e,n,i)>0)for(o=e;o<n;o+=i)a=C(o,t[o],t[o+1],a);else for(o=n-i;o>=e;o-=i)a=C(o,t[o],t[o+1],a);return a&&w(a,a.next)&&(L(a),a=a.next),a}function o(t,e){if(!t)return t;e||(e=t);var n,i=t;do{if(n=!1,i.steiner||!w(i,i.next)&&0!==b(i.prev,i,i.next))i=i.next;else{if(L(i),(i=e=i.prev)===i.next)break;n=!0}}while(n||i!==e);return e}function a(t,e,n,i,r,h,p){if(t){!p&&h&&y(t,i,r,h);for(var d,f,m=t;t.prev!==t.next;)if(d=t.prev,f=t.next,h?l(t,i,r,h):s(t))e.push(d.i/n),e.push(t.i/n),e.push(f.i/n),L(t),t=f.next,m=f.next;else if((t=f)===m){p?1===p?(t=u(t,e,n),a(t,e,n,i,r,h,2)):2===p&&c(t,e,n,i,r,h):a(o(t),e,n,i,r,h,1);break}}}function s(t){var e=t.prev,n=t,i=t.next;if(b(e,n,i)>=0)return!1;for(var r=t.next.next;r!==t.prev;){if(x(e.x,e.y,n.x,n.y,i.x,i.y,r.x,r.y)&&b(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function l(t,e,n,i){var r=t.prev,o=t,a=t.next;if(b(r,o,a)>=0)return!1;for(var s=r.x<o.x?r.x<a.x?r.x:a.x:o.x<a.x?o.x:a.x,l=r.y<o.y?r.y<a.y?r.y:a.y:o.y<a.y?o.y:a.y,u=r.x>o.x?r.x>a.x?r.x:a.x:o.x>a.x?o.x:a.x,c=r.y>o.y?r.y>a.y?r.y:a.y:o.y>a.y?o.y:a.y,h=v(s,l,e,n,i),p=v(u,c,e,n,i),d=t.prevZ,f=t.nextZ;d&&d.z>=h&&f&&f.z<=p;){if(d!==t.prev&&d!==t.next&&x(r.x,r.y,o.x,o.y,a.x,a.y,d.x,d.y)&&b(d.prev,d,d.next)>=0)return!1;if(d=d.prevZ,f!==t.prev&&f!==t.next&&x(r.x,r.y,o.x,o.y,a.x,a.y,f.x,f.y)&&b(f.prev,f,f.next)>=0)return!1;f=f.nextZ}for(;d&&d.z>=h;){if(d!==t.prev&&d!==t.next&&x(r.x,r.y,o.x,o.y,a.x,a.y,d.x,d.y)&&b(d.prev,d,d.next)>=0)return!1;d=d.prevZ}for(;f&&f.z<=p;){if(f!==t.prev&&f!==t.next&&x(r.x,r.y,o.x,o.y,a.x,a.y,f.x,f.y)&&b(f.prev,f,f.next)>=0)return!1;f=f.nextZ}return!0}function u(t,e,n){var i=t;do{var r=i.prev,o=i.next.next;!w(r,o)&&E(r,i,i.next,o)&&T(r,o)&&T(o,r)&&(e.push(r.i/n),e.push(i.i/n),e.push(o.i/n),L(i),L(i.next),i=t=o),i=i.next}while(i!==t);return i}function c(t,e,n,i,r,s){var l=t;do{for(var u=l.next.next;u!==l.prev;){if(l.i!==u.i&&_(l,u)){var c=A(l,u);return l=o(l,l.next),c=o(c,c.next),a(l,e,n,i,r,s),void a(c,e,n,i,r,s)}u=u.next}l=l.next}while(l!==t)}function h(t,e,n,i){var a,s,l,u,c,h=[];for(a=0,s=e.length;a<s;a++)l=e[a]*i,u=a<s-1?e[a+1]*i:t.length,c=r(t,l,u,i,!1),c===c.next&&(c.steiner=!0),h.push(g(c));for(h.sort(p),a=0;a<h.length;a++)d(h[a],n),n=o(n,n.next);return n}function p(t,e){return t.x-e.x}function d(t,e){if(e=f(t,e)){var n=A(e,t);o(n,n.next)}}function f(t,e){var n,i=e,r=t.x,o=t.y,a=-1/0;do{if(o<=i.y&&o>=i.next.y&&i.next.y!==i.y){var s=i.x+(o-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(s<=r&&s>a){if(a=s,s===r){if(o===i.y)return i;if(o===i.next.y)return i.next}n=i.x<i.next.x?i:i.next}}i=i.next}while(i!==e);if(!n)return null;if(r===a)return n.prev;var l,u=n,c=n.x,h=n.y,p=1/0;for(i=n.next;i!==u;)r>=i.x&&i.x>=c&&r!==i.x&&x(o<h?r:a,o,c,h,o<h?a:r,o,i.x,i.y)&&((l=Math.abs(o-i.y)/(r-i.x))<p||l===p&&i.x>n.x)&&T(i,t)&&(n=i,p=l),i=i.next;return n}function y(t,e,n,i){var r=t;do{null===r.z&&(r.z=v(r.x,r.y,e,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,m(r)}function m(t){var e,n,i,r,o,a,s,l,u=1;do{for(n=t,t=null,o=null,a=0;n;){for(a++,i=n,s=0,e=0;e<u&&(s++,i=i.nextZ);e++);for(l=u;s>0||l>0&&i;)0!==s&&(0===l||!i||n.z<=i.z)?(r=n,n=n.nextZ,s--):(r=i,i=i.nextZ,l--),o?o.nextZ=r:t=r,r.prevZ=o,o=r;n=i}o.nextZ=null,u*=2}while(a>1);return t}function v(t,e,n,i,r){return t=32767*(t-n)*r,e=32767*(e-i)*r,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t|e<<1}function g(t){var e=t,n=t;do{e.x<n.x&&(n=e),e=e.next}while(e!==t);return n}function x(t,e,n,i,r,o,a,s){return(r-a)*(e-s)-(t-a)*(o-s)>=0&&(t-a)*(i-s)-(n-a)*(e-s)>=0&&(n-a)*(o-s)-(r-a)*(i-s)>=0}function _(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!M(t,e)&&T(t,e)&&T(e,t)&&S(t,e)}function b(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function w(t,e){return t.x===e.x&&t.y===e.y}function E(t,e,n,i){return!!(w(t,e)&&w(n,i)||w(t,i)&&w(n,e))||b(t,e,n)>0!=b(t,e,i)>0&&b(n,i,t)>0!=b(n,i,e)>0}function M(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&E(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function T(t,e){return b(t.prev,t,t.next)<0?b(t,e,t.next)>=0&&b(t,t.prev,e)>=0:b(t,e,t.prev)<0||b(t,t.next,e)<0}function S(t,e){var n=t,i=!1,r=(t.x+e.x)/2,o=(t.y+e.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&r<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next}while(n!==t);return i}function A(t,e){var n=new k(t.i,t.x,t.y),i=new k(e.i,e.x,e.y),r=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=r,r.prev=n,i.next=n,n.prev=i,o.next=i,i.prev=o,i}function C(t,e,n,i){var r=new k(t,e,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function L(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function k(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function P(t,e,n,i){for(var r=0,o=e,a=n-i;o<n;o+=i)r+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return r}e.exports=i,e.exports.default=i,i.deviation=function(t,e,n,i){var r=e&&e.length,o=r?e[0]*n:t.length,a=Math.abs(P(t,0,o,n));if(r)for(var s=0,l=e.length;s<l;s++){var u=e[s]*n,c=s<l-1?e[s+1]*n:t.length;a-=Math.abs(P(t,u,c,n))}var h=0;for(s=0;s<i.length;s+=3){var p=i[s]*n,d=i[s+1]*n,f=i[s+2]*n;h+=Math.abs((t[p]-t[f])*(t[d+1]-t[p+1])-(t[p]-t[d])*(t[f+1]-t[p+1]))}return 0===a&&0===h?0:Math.abs((h-a)/a)},i.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},i=0,r=0;r<t.length;r++){for(var o=0;o<t[r].length;o++)for(var a=0;a<e;a++)n.vertices.push(t[r][o][a]);r>0&&(i+=t[r-1].length,n.holes.push(i))}return n}},{}],15:[function(t,e,n){function i(t,e){switch(t&&t.type||null){case"FeatureCollection":return t.features=t.features.map(r(i,e)),t;case"Feature":return t.geometry=i(t.geometry,e),t;case"Polygon":case"MultiPolygon":return o(t,e);default:return t}}function r(t,e){return function(n){return t(n,e)}}function o(t,e){return"Polygon"===t.type?t.coordinates=a(t.coordinates,e):"MultiPolygon"===t.type&&(t.coordinates=t.coordinates.map(r(a,e))),t}function a(t,e){e=!!e,t[0]=s(t[0],e);for(var n=1;n<t.length;n++)t[n]=s(t[n],!e);return t}function s(t,e){return l(t)===e?t:t.reverse()}function l(t){return u.ring(t)>=0}var u=t("@mapbox/geojson-area");e.exports=i},{"@mapbox/geojson-area":1}],16:[function(t,e,n){"use strict";function i(t,e,n,i,s,l,u){if(n/=e,i/=e,l>=n&&u<=i)return t;if(l>i||u<n)return null;for(var h=[],p=0;p<t.length;p++){var d=t[p],f=d.geometry,y=d.type,m=0===s?d.minX:d.minY,v=0===s?d.maxX:d.maxY;if(m>=n&&v<=i)h.push(d);else if(!(m>i||v<n)){var g=[];if("Point"===y||"MultiPoint"===y)r(f,g,n,i,s);else if("LineString"===y)o(f,g,n,i,s,!1);else if("MultiLineString"===y)a(f,g,n,i,s,!1);else if("Polygon"===y)a(f,g,n,i,s,!0);else if("MultiPolygon"===y)for(var x=0;x<f.length;x++){var _=[];a(f[x],_,n,i,s,!0),_.length&&g.push(_)}g.length&&("LineString"!==y&&"MultiLineString"!==y||(1===g.length?(y="LineString",g=g[0]):y="MultiLineString"),"Point"!==y&&"MultiPoint"!==y||(y=3===g.length?"Point":"MultiPoint"),h.push(c(d.id,y,g,d.tags)))}}return h.length?h:null}function r(t,e,n,i,r){for(var o=0;o<t.length;o+=3){var a=t[o+r];a>=n&&a<=i&&(e.push(t[o]),e.push(t[o+1]),e.push(t[o+2]))}}function o(t,e,n,i,r,o){for(var a=[],c=0===r?l:u,h=0;h<t.length-3;h+=3){var p=t[h],d=t[h+1],f=t[h+2],y=t[h+3],m=t[h+4],v=0===r?p:d,g=0===r?y:m,x=!1;v<n?g>=n&&c(a,p,d,y,m,n):v>i?g<=i&&c(a,p,d,y,m,i):s(a,p,d,f),g<n&&v>=n&&(c(a,p,d,y,m,n),x=!0),g>i&&v<=i&&(c(a,p,d,y,m,i),x=!0),!o&&x&&(a.size=t.size,e.push(a),a=[])}var _=t.length-3;p=t[_],d=t[_+1],f=t[_+2],v=0===r?p:d,v>=n&&v<=i&&s(a,p,d,f),_=a.length-3,o&&_>=3&&(a[_]!==a[0]||a[_+1]!==a[1])&&s(a,a[0],a[1],a[2]),a.length&&(a.size=t.size,e.push(a))}function a(t,e,n,i,r,a){for(var s=0;s<t.length;s++)o(t[s],e,n,i,r,a)}function s(t,e,n,i){t.push(e),t.push(n),t.push(i)}function l(t,e,n,i,r,o){t.push(o),t.push(n+(o-e)*(r-n)/(i-e)),t.push(1)}function u(t,e,n,i,r,o){t.push(e+(o-n)*(i-e)/(r-n)),t.push(o),t.push(1)}e.exports=i;var c=t("./feature")},{"./feature":18}],17:[function(t,e,n){"use strict";function i(t,e){var n=[];if("FeatureCollection"===t.type)for(var i=0;i<t.features.length;i++)r(n,t.features[i],e);else"Feature"===t.type?r(n,t,e):r(n,{geometry:t},e);return n}function r(t,e,n){if(e.geometry){var i=e.geometry.coordinates,l=e.geometry.type,u=n*n,c=[];if("Point"===l)o(i,c);else if("MultiPoint"===l)for(var p=0;p<i.length;p++)o(i[p],c);else if("LineString"===l)a(i,c,u,!1);else if("MultiLineString"===l)s(i,c,u,!1);else if("Polygon"===l)s(i,c,u,!0);else{if("MultiPolygon"!==l){if("GeometryCollection"===l){for(p=0;p<e.geometry.geometries.length;p++)r(t,{geometry:e.geometry.geometries[p],properties:e.properties},n);return}throw new Error("Input data is not a valid GeoJSON object.")}for(p=0;p<i.length;p++){var d=[];s(i[p],d,u,!0),c.push(d)}}t.push(h(e.id,l,c,e.properties))}}function o(t,e){e.push(l(t[0])),e.push(u(t[1])),e.push(0)}function a(t,e,n,i){for(var r,o,a=0,s=0;s<t.length;s++){var h=l(t[s][0]),p=u(t[s][1]);e.push(h),e.push(p),e.push(0),s>0&&(a+=i?(r*p-h*o)/2:Math.sqrt(Math.pow(h-r,2)+Math.pow(p-o,2))),r=h,o=p}var d=e.length-3;e[2]=1,c(e,0,d,n),e[d+2]=1,e.size=Math.abs(a)}function s(t,e,n,i){for(var r=0;r<t.length;r++){var o=[];a(t[r],o,n,i),e.push(o)}}function l(t){return t/360+.5}function u(t){var e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}e.exports=i;var c=t("./simplify"),h=t("./feature")},{"./feature":18,"./simplify":20}],18:[function(t,e,n){"use strict";function i(t,e,n,i){var o={id:t||null,type:e,geometry:n,tags:i,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return r(o),o}function r(t){var e=t.geometry,n=t.type;if("Point"===n||"MultiPoint"===n||"LineString"===n)o(t,e);else if("Polygon"===n||"MultiLineString"===n)for(var i=0;i<e.length;i++)o(t,e[i]);else if("MultiPolygon"===n)for(i=0;i<e.length;i++)for(var r=0;r<e[i].length;r++)o(t,e[i][r])}function o(t,e){for(var n=0;n<e.length;n+=3)t.minX=Math.min(t.minX,e[n]),t.minY=Math.min(t.minY,e[n+1]),t.maxX=Math.max(t.maxX,e[n]),t.maxY=Math.max(t.maxY,e[n+1])}e.exports=i},{}],19:[function(t,e,n){"use strict";function i(t,e){return new r(t,e)}function r(t,e){e=this.options=a(Object.create(this.options),e);var n=e.debug;if(n&&console.time("preprocess data"),e.maxZoom<0||e.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");var i=1<<e.maxZoom,r=s(t,e.tolerance/(i*e.extent));this.tiles={},this.tileCoords=[],n&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",e.indexMaxZoom,e.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),r=c(r,e.buffer/e.extent),r.length&&this.splitTile(r,0,0,0),n&&(r.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function o(t,e,n){return 32*((1<<t)*n+e)+t}function a(t,e){for(var n in e)t[n]=e[n];return t}e.exports=i;var s=t("./convert"),l=t("./transform"),u=t("./clip"),c=t("./wrap"),h=t("./tile");r.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,debug:0},r.prototype.splitTile=function(t,e,n,i,r,a,s){for(var l=[t,e,n,i],c=this.options,p=c.debug;l.length;){i=l.pop(),n=l.pop(),e=l.pop(),t=l.pop();var d=1<<e,f=o(e,n,i),y=this.tiles[f],m=e===c.maxZoom?0:c.tolerance/(d*c.extent);if(!y&&(p>1&&console.time("creation"),y=this.tiles[f]=h(t,d,n,i,m,e===c.maxZoom),this.tileCoords.push({z:e,x:n,y:i}),p)){p>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",e,n,i,y.numFeatures,y.numPoints,y.numSimplified),console.timeEnd("creation"));var v="z"+e;this.stats[v]=(this.stats[v]||0)+1,this.total++}if(y.source=t,r){if(e===c.maxZoom||e===r)continue;var g=1<<r-e;if(n!==Math.floor(a/g)||i!==Math.floor(s/g))continue}else if(e===c.indexMaxZoom||y.numPoints<=c.indexMaxPoints)continue;if(y.source=null,0!==t.length){p>1&&console.time("clipping");var x,_,b,w,E,M,T=.5*c.buffer/c.extent,S=.5-T,A=.5+T,C=1+T;x=_=b=w=null,E=u(t,d,n-T,n+A,0,y.minX,y.maxX),M=u(t,d,n+S,n+C,0,y.minX,y.maxX),t=null,E&&(x=u(E,d,i-T,i+A,1,y.minY,y.maxY),_=u(E,d,i+S,i+C,1,y.minY,y.maxY),E=null),M&&(b=u(M,d,i-T,i+A,1,y.minY,y.maxY),w=u(M,d,i+S,i+C,1,y.minY,y.maxY),M=null),p>1&&console.timeEnd("clipping"),l.push(x||[],e+1,2*n,2*i),l.push(_||[],e+1,2*n,2*i+1),l.push(b||[],e+1,2*n+1,2*i),l.push(w||[],e+1,2*n+1,2*i+1)}}},r.prototype.getTile=function(t,e,n){var i=this.options,r=i.extent,a=i.debug;if(t<0||t>24)return null;var s=1<<t;e=(e%s+s)%s;var u=o(t,e,n);if(this.tiles[u])return l.tile(this.tiles[u],r);a>1&&console.log("drilling down to z%d-%d-%d",t,e,n);for(var c,h=t,p=e,d=n;!c&&h>0;)h--,p=Math.floor(p/2),d=Math.floor(d/2),c=this.tiles[o(h,p,d)];return c&&c.source?(a>1&&console.log("found parent tile z%d-%d-%d",h,p,d),a>1&&console.time("drilling down"),this.splitTile(c.source,h,p,d,t,e,n),a>1&&console.timeEnd("drilling down"),this.tiles[u]?l.tile(this.tiles[u],r):null):null}},{"./clip":16,"./convert":17,"./tile":21,"./transform":22,"./wrap":23}],20:[function(t,e,n){"use strict";function i(t,e,n,o){for(var a,s=o,l=t[e],u=t[e+1],c=t[n],h=t[n+1],p=e+3;p<n;p+=3){var d=r(t[p],t[p+1],l,u,c,h);d>s&&(a=p,s=d)}s>o&&(a-e>3&&i(t,e,a,o),t[a+2]=s,n-a>3&&i(t,a,n,o))}function r(t,e,n,i,r,o){var a=r-n,s=o-i;if(0!==a||0!==s){var l=((t-n)*a+(e-i)*s)/(a*a+s*s);l>1?(n=r,i=o):l>0&&(n+=a*l,i+=s*l)}return a=t-n,s=e-i,a*a+s*s}e.exports=i},{}],21:[function(t,e,n){"use strict";function i(t,e,n,i,o,a){for(var s={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:n,y:i,z2:e,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},l=0;l<t.length;l++){s.numFeatures++,r(s,t[l],o,a);var u=t[l].minX,c=t[l].minY,h=t[l].maxX,p=t[l].maxY;u<s.minX&&(s.minX=u),c<s.minY&&(s.minY=c),h>s.maxX&&(s.maxX=h),p>s.maxY&&(s.maxY=p)}return s}function r(t,e,n,i){var r=e.geometry,a=e.type,s=[];if("Point"===a||"MultiPoint"===a)for(var l=0;l<r.length;l+=3)s.push(r[l]),s.push(r[l+1]),t.numPoints++,t.numSimplified++;else if("LineString"===a)o(s,r,t,n,i,!1,!1);else if("MultiLineString"===a||"Polygon"===a)for(l=0;l<r.length;l++)o(s,r[l],t,n,i,"Polygon"===a,0===l);else if("MultiPolygon"===a)for(var u=0;u<r.length;u++){var c=r[u];for(l=0;l<c.length;l++)o(s,c[l],t,n,i,!0,0===l)}if(s.length){var h={geometry:s,type:"Polygon"===a||"MultiPolygon"===a?3:"LineString"===a||"MultiLineString"===a?2:1,tags:e.tags||null};null!==e.id&&(h.id=e.id),t.features.push(h)}}function o(t,e,n,i,r,o,s){var l=i*i;if(!r&&e.size<(o?l:i))return void(n.numPoints+=e.length/3);for(var u=[],c=0;c<e.length;c+=3)(r||e[c+2]>l)&&(n.numSimplified++,u.push(e[c]),u.push(e[c+1])),n.numPoints++;o&&a(u,s),t.push(u)}function a(t,e){for(var n=0,i=0,r=t.length,o=r-2;i<r;o=i,i+=2)n+=(t[i]-t[o])*(t[i+1]+t[o+1]);if(n>0===e)for(i=0,r=t.length;i<r/2;i+=2){var a=t[i],s=t[i+1];t[i]=t[r-2-i],t[i+1]=t[r-1-i],t[r-2-i]=a,t[r-1-i]=s}}e.exports=i},{}],22:[function(t,e,n){"use strict";function i(t,e){if(t.transformed)return t;var n,i,o,a=t.z2,s=t.x,l=t.y;for(n=0;n<t.features.length;n++){var u=t.features[n],c=u.geometry,h=u.type;if(u.geometry=[],1===h)for(i=0;i<c.length;i+=2)u.geometry.push(r(c[i],c[i+1],e,a,s,l));else for(i=0;i<c.length;i++){var p=[];for(o=0;o<c[i].length;o+=2)p.push(r(c[i][o],c[i][o+1],e,a,s,l));u.geometry.push(p)}}return t.transformed=!0,t}function r(t,e,n,i,r,o){return[Math.round(n*(t*i-r)),Math.round(n*(e*i-o))]}n.tile=i,n.point=r},{}],23:[function(t,e,n){"use strict";function i(t,e){var n=t,i=a(t,1,-1-e,e,0,-1,2),o=a(t,1,1-e,2+e,0,-1,2);return(i||o)&&(n=a(t,1,-e,1+e,0,-1,2)||[],i&&(n=r(i,1).concat(n)),o&&(n=n.concat(r(o,-1)))),n}function r(t,e){for(var n=[],i=0;i<t.length;i++){var r,a=t[i],l=a.type;if("Point"===l||"MultiPoint"===l||"LineString"===l)r=o(a.geometry,e);else if("MultiLineString"===l||"Polygon"===l){r=[];for(var u=0;u<a.geometry.length;u++)r.push(o(a.geometry[u],e))}else if("MultiPolygon"===l)for(r=[],u=0;u<a.geometry.length;u++){for(var c=[],h=0;h<a.geometry[u].length;h++)c.push(o(a.geometry[u][h],e));r.push(c)}n.push(s(a.id,l,r,a.tags))}return n}function o(t,e){var n=[];n.size=t.size;for(var i=0;i<t.length;i+=3)n.push(t[i]+e,t[i+1],t[i+2]);return n}var a=t("./clip"),s=t("./feature");e.exports=i},{"./clip":16,"./feature":18}],24:[function(t,e,n){"use strict";function i(t,e,n){var i=this.cells=[];if(t instanceof ArrayBuffer){this.arrayBuffer=t;var o=new Int32Array(this.arrayBuffer);t=o[0],e=o[1],n=o[2],this.d=e+2*n;for(var a=0;a<this.d*this.d;a++){var s=o[r+a],l=o[r+a+1];i.push(s===l?null:o.subarray(s,l))}var u=o[r+i.length],c=o[r+i.length+1];this.keys=o.subarray(u,c),this.bboxes=o.subarray(c),this.insert=this._insertReadonly}else{this.d=e+2*n;for(var h=0;h<this.d*this.d;h++)i.push([]);this.keys=[],this.bboxes=[]}this.n=e,this.extent=t,this.padding=n,this.scale=e/t,this.uid=0;var p=n/e*t;this.min=-p,this.max=t+p}e.exports=i;var r=3;i.prototype.insert=function(t,e,n,i,r){this._forEachCell(e,n,i,r,this._insertCell,this.uid++),this.keys.push(t),this.bboxes.push(e),this.bboxes.push(n),this.bboxes.push(i),this.bboxes.push(r)},i.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},i.prototype._insertCell=function(t,e,n,i,r,o){this.cells[r].push(o)},i.prototype.query=function(t,e,n,i){var r=this.min,o=this.max;if(t<=r&&e<=r&&o<=n&&o<=i)return Array.prototype.slice.call(this.keys);var a=[],s={};return this._forEachCell(t,e,n,i,this._queryCell,a,s),a},i.prototype._queryCell=function(t,e,n,i,r,o,a){var s=this.cells[r];if(null!==s)for(var l=this.keys,u=this.bboxes,c=0;c<s.length;c++){var h=s[c];if(void 0===a[h]){var p=4*h;t<=u[p+2]&&e<=u[p+3]&&n>=u[p+0]&&i>=u[p+1]?(a[h]=!0,o.push(l[h])):a[h]=!1}}},i.prototype._forEachCell=function(t,e,n,i,r,o,a){for(var s=this._convertToCellCoord(t),l=this._convertToCellCoord(e),u=this._convertToCellCoord(n),c=this._convertToCellCoord(i),h=s;h<=u;h++)for(var p=l;p<=c;p++){var d=this.d*p+h;if(r.call(this,t,e,n,i,d,o,a))return}},i.prototype._convertToCellCoord=function(t){return Math.max(0,Math.min(this.d-1,Math.floor(t*this.scale)+this.padding))},i.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var t=this.cells,e=r+this.cells.length+1+1,n=0,i=0;i<this.cells.length;i++)n+=this.cells[i].length;var o=new Int32Array(e+n+this.keys.length+this.bboxes.length);o[0]=this.extent,o[1]=this.n,o[2]=this.padding;for(var a=e,s=0;s<t.length;s++){var l=t[s];o[r+s]=a,o.set(l,a),a+=l.length}return o[r+t.length]=a,o.set(this.keys,a),a+=this.keys.length,o[r+t.length+1]=a,o.set(this.bboxes,a),a+=this.bboxes.length,o.buffer}},{}],25:[function(t,e,n){n.read=function(t,e,n,i,r){var o,a,s=8*r-i-1,l=(1<<s)-1,u=l>>1,c=-7,h=n?r-1:0,p=n?-1:1,d=t[e+h];for(h+=p,o=d&(1<<-c)-1,d>>=-c,c+=s;c>0;o=256*o+t[e+h],h+=p,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=i;c>0;a=256*a+t[e+h],h+=p,c-=8);if(0===o)o=1-u;else{if(o===l)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,i),o-=u}return(d?-1:1)*a*Math.pow(2,o-i)},n.write=function(t,e,n,i,r,o){var a,s,l,u=8*o-r-1,c=(1<<u)-1,h=c>>1,p=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,d=i?0:o-1,f=i?1:-1,y=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),e+=a+h>=1?p/l:p*Math.pow(2,1-h),e*l>=2&&(a++,l/=2),a+h>=c?(s=0,a=c):a+h>=1?(s=(e*l-1)*Math.pow(2,r),a+=h):(s=e*Math.pow(2,h-1)*Math.pow(2,r),a=0));r>=8;t[n+d]=255&s,d+=f,s/=256,r-=8);for(a=a<<r|s,u+=r;u>0;t[n+d]=255&a,d+=f,a/=256,u-=8);t[n+d-f]|=128*y}},{}],26:[function(t,e,n){"use strict";function i(t,e,n,i,o){return new r(t,e,n,i,o)}function r(t,e,n,i,r){e=e||o,n=n||a,r=r||Array,this.nodeSize=i||64,this.points=t,this.ids=new r(t.length),this.coords=new r(2*t.length);for(var l=0;l<t.length;l++)this.ids[l]=l,this.coords[2*l]=e(t[l]),this.coords[2*l+1]=n(t[l]);s(this.ids,this.coords,this.nodeSize,0,this.ids.length-1,0)}function o(t){return t[0]}function a(t){return t[1]}var s=t("./sort"),l=t("./range"),u=t("./within");e.exports=i,r.prototype={range:function(t,e,n,i){return l(this.ids,this.coords,t,e,n,i,this.nodeSize)},within:function(t,e,n){return u(this.ids,this.coords,t,e,n,this.nodeSize)}}},{"./range":27,"./sort":28,"./within":29}],27:[function(t,e,n){"use strict";function i(t,e,n,i,r,o,a){for(var s,l,u=[0,t.length-1,0],c=[];u.length;){var h=u.pop(),p=u.pop(),d=u.pop();if(p-d<=a)for(var f=d;f<=p;f++)s=e[2*f],l=e[2*f+1],s>=n&&s<=r&&l>=i&&l<=o&&c.push(t[f]);else{var y=Math.floor((d+p)/2);s=e[2*y],l=e[2*y+1],s>=n&&s<=r&&l>=i&&l<=o&&c.push(t[y]);var m=(h+1)%2;(0===h?n<=s:i<=l)&&(u.push(d),u.push(y-1),u.push(m)),(0===h?r>=s:o>=l)&&(u.push(y+1),u.push(p),u.push(m))}}return c}e.exports=i},{}],28:[function(t,e,n){"use strict";function i(t,e,n,o,a,s){if(!(a-o<=n)){var l=Math.floor((o+a)/2);r(t,e,l,o,a,s%2),i(t,e,n,o,l-1,s+1),i(t,e,n,l+1,a,s+1)}}function r(t,e,n,i,a,s){for(;a>i;){if(a-i>600){var l=a-i+1,u=n-i+1,c=Math.log(l),h=.5*Math.exp(2*c/3),p=.5*Math.sqrt(c*h*(l-h)/l)*(u-l/2<0?-1:1);r(t,e,n,Math.max(i,Math.floor(n-u*h/l+p)),Math.min(a,Math.floor(n+(l-u)*h/l+p)),s)}var d=e[2*n+s],f=i,y=a;for(o(t,e,i,n),e[2*a+s]>d&&o(t,e,i,a);f<y;){for(o(t,e,f,y),f++,y--;e[2*f+s]<d;)f++;for(;e[2*y+s]>d;)y--}e[2*i+s]===d?o(t,e,i,y):(y++,o(t,e,y,a)),y<=n&&(i=y+1),n<=y&&(a=y-1)}}function o(t,e,n,i){a(t,n,i),a(e,2*n,2*i),a(e,2*n+1,2*i+1)}function a(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}e.exports=i},{}],29:[function(t,e,n){"use strict";function i(t,e,n,i,o,a){for(var s=[0,t.length-1,0],l=[],u=o*o;s.length;){var c=s.pop(),h=s.pop(),p=s.pop();if(h-p<=a)for(var d=p;d<=h;d++)r(e[2*d],e[2*d+1],n,i)<=u&&l.push(t[d]);else{var f=Math.floor((p+h)/2),y=e[2*f],m=e[2*f+1];r(y,m,n,i)<=u&&l.push(t[f]);var v=(c+1)%2;(0===c?n-o<=y:i-o<=m)&&(s.push(p),s.push(f-1),s.push(v)),(0===c?n+o>=y:i+o>=m)&&(s.push(f+1),s.push(h),s.push(v))}}return l}function r(t,e,n,i){var r=t-n,o=e-i;return r*r+o*o}e.exports=i},{}],30:[function(t,e,n){"use strict";function i(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length}function r(t,e,n){var i,r,o=n.buf;if(r=o[n.pos++],i=(112&r)>>4,r<128)return a(t,i,e);if(r=o[n.pos++],i|=(127&r)<<3,r<128)return a(t,i,e);if(r=o[n.pos++],i|=(127&r)<<10,r<128)return a(t,i,e);if(r=o[n.pos++],i|=(127&r)<<17,r<128)return a(t,i,e);if(r=o[n.pos++],i|=(127&r)<<24,r<128)return a(t,i,e);if(r=o[n.pos++],i|=(1&r)<<31,r<128)return a(t,i,e);throw new Error("Expected varint not more than 10 bytes")}function o(t){return t.type===i.Bytes?t.readVarint()+t.pos:t.pos+1}function a(t,e,n){return n?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}function s(t,e){var n,i;if(t>=0?(n=t%4294967296|0,i=t/4294967296|0):(n=~(-t%4294967296),i=~(-t/4294967296),4294967295^n?n=n+1|0:(n=0,i=i+1|0)),t>=0x10000000000000000||t<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),l(n,i,e),u(i,e)}function l(t,e,n){n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos]=127&t}function u(t,e){var n=(7&t)<<4;e.buf[e.pos++]|=n|((t>>>=3)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t)))))}function c(t,e,n){var i=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.ceil(Math.log(e)/(7*Math.LN2));n.realloc(i);for(var r=n.pos-1;r>=t;r--)n.buf[r+i]=n.buf[r]}function h(t,e){for(var n=0;n<t.length;n++)e.writeVarint(t[n])}function p(t,e){for(var n=0;n<t.length;n++)e.writeSVarint(t[n])}function d(t,e){for(var n=0;n<t.length;n++)e.writeFloat(t[n])}function f(t,e){for(var n=0;n<t.length;n++)e.writeDouble(t[n])}function y(t,e){for(var n=0;n<t.length;n++)e.writeBoolean(t[n])}function m(t,e){for(var n=0;n<t.length;n++)e.writeFixed32(t[n])}function v(t,e){for(var n=0;n<t.length;n++)e.writeSFixed32(t[n])}function g(t,e){for(var n=0;n<t.length;n++)e.writeFixed64(t[n])}function x(t,e){for(var n=0;n<t.length;n++)e.writeSFixed64(t[n])}function _(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+16777216*t[e+3]}function b(t,e,n){t[n]=e,t[n+1]=e>>>8,t[n+2]=e>>>16,t[n+3]=e>>>24}function w(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+(t[e+3]<<24)}function E(t,e,n){for(var i="",r=e;r<n;){var o=t[r],a=null,s=o>239?4:o>223?3:o>191?2:1;if(r+s>n)break;var l,u,c;1===s?o<128&&(a=o):2===s?128==(192&(l=t[r+1]))&&(a=(31&o)<<6|63&l)<=127&&(a=null):3===s?(l=t[r+1],u=t[r+2],128==(192&l)&&128==(192&u)&&((a=(15&o)<<12|(63&l)<<6|63&u)<=2047||a>=55296&&a<=57343)&&(a=null)):4===s&&(l=t[r+1],u=t[r+2],c=t[r+3],128==(192&l)&&128==(192&u)&&128==(192&c)&&((a=(15&o)<<18|(63&l)<<12|(63&u)<<6|63&c)<=65535||a>=1114112)&&(a=null)),null===a?(a=65533,s=1):a>65535&&(a-=65536,i+=String.fromCharCode(a>>>10&1023|55296),a=56320|1023&a),i+=String.fromCharCode(a),r+=s}return i}function M(t,e,n){for(var i,r,o=0;o<e.length;o++){if((i=e.charCodeAt(o))>55295&&i<57344){if(!r){i>56319||o+1===e.length?(t[n++]=239,t[n++]=191,t[n++]=189):r=i;continue}if(i<56320){t[n++]=239,t[n++]=191,t[n++]=189,r=i;continue}i=r-55296<<10|i-56320|65536,r=null}else r&&(t[n++]=239,t[n++]=191,t[n++]=189,r=null);i<128?t[n++]=i:(i<2048?t[n++]=i>>6|192:(i<65536?t[n++]=i>>12|224:(t[n++]=i>>18|240,t[n++]=i>>12&63|128),t[n++]=i>>6&63|128),t[n++]=63&i|128)}return n}e.exports=i;var T=t("ieee754");i.Varint=0,i.Fixed64=1,i.Bytes=2,i.Fixed32=5;i.prototype={destroy:function(){this.buf=null},readFields:function(t,e,n){for(n=n||this.length;this.pos<n;){var i=this.readVarint(),r=i>>3,o=this.pos;this.type=7&i,t(r,e,this),this.pos===o&&this.skip(i)}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=_(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=w(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=_(this.buf,this.pos)+4294967296*_(this.buf,this.pos+4);return this.pos+=8,t},readSFixed64:function(){var t=_(this.buf,this.pos)+4294967296*w(this.buf,this.pos+4);return this.pos+=8,t},readFloat:function(){var t=T.read(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function(){var t=T.read(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function(t){var e,n,i=this.buf;return n=i[this.pos++],e=127&n,n<128?e:(n=i[this.pos++],e|=(127&n)<<7,n<128?e:(n=i[this.pos++],e|=(127&n)<<14,n<128?e:(n=i[this.pos++],e|=(127&n)<<21,n<128?e:(n=i[this.pos],e|=(15&n)<<28,r(e,t,this)))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2==1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,e=E(this.buf,this.pos,t);return this.pos=t,e},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,t);return this.pos=t,e},readPackedVarint:function(t,e){var n=o(this);for(t=t||[];this.pos<n;)t.push(this.readVarint(e));return t},readPackedSVarint:function(t){var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readSVarint());return t},readPackedBoolean:function(t){var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readBoolean());return t},readPackedFloat:function(t){var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readFloat());return t},readPackedDouble:function(t){var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readDouble());return t},readPackedFixed32:function(t){var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){var e=o(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed64());return t},skip:function(t){var e=7&t;if(e===i.Varint)for(;this.buf[this.pos++]>127;);else if(e===i.Bytes)this.pos=this.readVarint()+this.pos;else if(e===i.Fixed32)this.pos+=4;else{if(e!==i.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(t,e){this.writeVarint(t<<3|e)},realloc:function(t){for(var e=this.length||16;e<this.pos+t;)e*=2;if(e!==this.length){var n=new Uint8Array(e);n.set(this.buf),this.buf=n,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),b(this.buf,t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),b(this.buf,t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),b(this.buf,-1&t,this.pos),b(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),b(this.buf,-1&t,this.pos),b(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(t){if((t=+t||0)>268435455||t<0)return void s(t,this);this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127)))},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t),this.realloc(4*t.length),this.pos++;var e=this.pos;this.pos=M(this.buf,t,this.pos);var n=this.pos-e;n>=128&&c(e,n,this),this.pos=e-1,this.writeVarint(n),this.pos+=n},writeFloat:function(t){this.realloc(4),T.write(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:function(t){this.realloc(8),T.write(this.buf,t,this.pos,!0,52,8),this.pos+=8},writeBytes:function(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var n=0;n<e;n++)this.buf[this.pos++]=t[n]},writeRawMessage:function(t,e){this.pos++;var n=this.pos;t(e,this);var i=this.pos-n;i>=128&&c(n,i,this),this.pos=n-1,this.writeVarint(i),this.pos+=i},writeMessage:function(t,e,n){this.writeTag(t,i.Bytes),this.writeRawMessage(e,n)},writePackedVarint:function(t,e){this.writeMessage(t,h,e)},writePackedSVarint:function(t,e){this.writeMessage(t,p,e)},writePackedBoolean:function(t,e){this.writeMessage(t,y,e)},writePackedFloat:function(t,e){this.writeMessage(t,d,e)},writePackedDouble:function(t,e){this.writeMessage(t,f,e)},writePackedFixed32:function(t,e){this.writeMessage(t,m,e)},writePackedSFixed32:function(t,e){this.writeMessage(t,v,e)},writePackedFixed64:function(t,e){this.writeMessage(t,g,e)},writePackedSFixed64:function(t,e){this.writeMessage(t,x,e)},writeBytesField:function(t,e){this.writeTag(t,i.Bytes),this.writeBytes(e)},writeFixed32Field:function(t,e){this.writeTag(t,i.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(t,e){this.writeTag(t,i.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(t,e){this.writeTag(t,i.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(t,e){this.writeTag(t,i.Fixed64),this.writeSFixed64(e)},writeVarintField:function(t,e){this.writeTag(t,i.Varint),this.writeVarint(e)},writeSVarintField:function(t,e){this.writeTag(t,i.Varint),this.writeSVarint(e)},writeStringField:function(t,e){this.writeTag(t,i.Bytes),this.writeString(e)},writeFloatField:function(t,e){this.writeTag(t,i.Fixed32),this.writeFloat(e)},writeDoubleField:function(t,e){this.writeTag(t,i.Fixed64),this.writeDouble(e)},writeBooleanField:function(t,e){this.writeVarintField(t,Boolean(e))}}},{ieee754:25}],31:[function(t,e,n){"use strict";function i(t,e,n,a,s){for(n=n||0,a=a||t.length-1,s=s||o;a>n;){if(a-n>600){var l=a-n+1,u=e-n+1,c=Math.log(l),h=.5*Math.exp(2*c/3),p=.5*Math.sqrt(c*h*(l-h)/l)*(u-l/2<0?-1:1);i(t,e,Math.max(n,Math.floor(e-u*h/l+p)),Math.min(a,Math.floor(e+(l-u)*h/l+p)),s)}var d=t[e],f=n,y=a;for(r(t,n,e),s(t[a],d)>0&&r(t,n,a);f<y;){for(r(t,f,y),f++,y--;s(t[f],d)<0;)f++;for(;s(t[y],d)>0;)y--}0===s(t[n],d)?r(t,n,y):(y++,r(t,y,a)),y<=e&&(n=y+1),e<=y&&(a=y-1)}}function r(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function o(t,e){return t<e?-1:t>e?1:0}e.exports=i},{}],32:[function(t,e,n){"use strict";function i(t){return new r(t)}function r(t){this.options=d(Object.create(this.options),t),this.trees=new Array(this.options.maxZoom+1)}function o(t,e,n,i,r){return{x:t,y:e,zoom:1/0,id:i,properties:r,parentId:-1,numPoints:n}}function a(t,e){var n=t.geometry.coordinates;return{x:u(n[0]),y:c(n[1]),zoom:1/0,id:e,parentId:-1}}function s(t){return{type:"Feature",properties:l(t),geometry:{type:"Point",coordinates:[h(t.x),p(t.y)]}}}function l(t){var e=t.numPoints,n=e>=1e4?Math.round(e/1e3)+"k":e>=1e3?Math.round(e/100)/10+"k":e;return d(d({},t.properties),{cluster:!0,cluster_id:t.id,point_count:e,point_count_abbreviated:n})}function u(t){return t/360+.5}function c(t){var e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function h(t){return 360*(t-.5)}function p(t){var e=(180-360*t)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}function d(t,e){for(var n in e)t[n]=e[n];return t}function f(t){return t.x}function y(t){return t.y}var m=t("kdbush");e.exports=i,r.prototype={options:{minZoom:0,maxZoom:16,radius:40,extent:512,nodeSize:64,log:!1,reduce:null,initial:function(){return{}},map:function(t){return t}},load:function(t){var e=this.options.log;e&&console.time("total time");var n="prepare "+t.length+" points";e&&console.time(n),this.points=t;var i=t.map(a);e&&console.timeEnd(n);for(var r=this.options.maxZoom;r>=this.options.minZoom;r--){var o=+Date.now();this.trees[r+1]=m(i,f,y,this.options.nodeSize,Float32Array),i=this._cluster(i,r),e&&console.log("z%d: %d clusters in %dms",r,i.length,+Date.now()-o)}return this.trees[this.options.minZoom]=m(i,f,y,this.options.nodeSize,Float32Array),e&&console.timeEnd("total time"),this},getClusters:function(t,e){for(var n=this.trees[this._limitZoom(e)],i=n.range(u(t[0]),c(t[3]),u(t[2]),c(t[1])),r=[],o=0;o<i.length;o++){var a=n.points[i[o]];r.push(a.numPoints?s(a):this.points[a.id])}return r},getChildren:function(t,e){for(var n=this.trees[e+1].points[t],i=this.options.radius/(this.options.extent*Math.pow(2,e)),r=this.trees[e+1].within(n.x,n.y,i),o=[],a=0;a<r.length;a++){var l=this.trees[e+1].points[r[a]];l.parentId===t&&o.push(l.numPoints?s(l):this.points[l.id])}return o},getLeaves:function(t,e,n,i){n=n||10,i=i||0;var r=[];return this._appendLeaves(r,t,e,n,i,0),r},getTile:function(t,e,n){var i=this.trees[this._limitZoom(t)],r=Math.pow(2,t),o=this.options.extent,a=this.options.radius,s=a/o,l=(n-s)/r,u=(n+1+s)/r,c={features:[]};return this._addTileFeatures(i.range((e-s)/r,l,(e+1+s)/r,u),i.points,e,n,r,c),0===e&&this._addTileFeatures(i.range(1-s/r,l,1,u),i.points,r,n,r,c),e===r-1&&this._addTileFeatures(i.range(0,l,s/r,u),i.points,-1,n,r,c),c.features.length?c:null},getClusterExpansionZoom:function(t,e){for(;e<this.options.maxZoom;){var n=this.getChildren(t,e);if(e++,1!==n.length)break;t=n[0].properties.cluster_id}return e},_appendLeaves:function(t,e,n,i,r,o){for(var a=this.getChildren(e,n),s=0;s<a.length;s++){var l=a[s].properties;if(l.cluster?o+l.point_count<=r?o+=l.point_count:o=this._appendLeaves(t,l.cluster_id,n+1,i,r,o):o<r?o++:t.push(a[s]),t.length===i)break}return o},_addTileFeatures:function(t,e,n,i,r,o){for(var a=0;a<t.length;a++){var s=e[t[a]];o.features.push({type:1,geometry:[[Math.round(this.options.extent*(s.x*r-n)),Math.round(this.options.extent*(s.y*r-i))]],tags:s.numPoints?l(s):this.points[s.id].properties})}},_limitZoom:function(t){return Math.max(this.options.minZoom,Math.min(t,this.options.maxZoom+1))},_cluster:function(t,e){for(var n=[],i=this.options.radius/(this.options.extent*Math.pow(2,e)),r=0;r<t.length;r++){var a=t[r];if(!(a.zoom<=e)){a.zoom=e;var s=this.trees[e+1],l=s.within(a.x,a.y,i),u=a.numPoints||1,c=a.x*u,h=a.y*u,p=null;this.options.reduce&&(p=this.options.initial(),this._accumulate(p,a));for(var d=0;d<l.length;d++){var f=s.points[l[d]];if(e<f.zoom){var y=f.numPoints||1;f.zoom=e,c+=f.x*y,h+=f.y*y,u+=y,f.parentId=r,this.options.reduce&&this._accumulate(p,f)}}1===u?n.push(a):(a.parentId=r,n.push(o(c/u,h/u,u,r,p)))}}return n},_accumulate:function(t,e){var n=e.numPoints?e.properties:this.options.map(this.points[e.id].properties);this.options.reduce(t,n)}}},{kdbush:26}],33:[function(t,e,n){"use strict";function i(t,e){if(!(this instanceof i))return new i(t,e);if(this.data=t||[],this.length=this.data.length,this.compare=e||r,this.length>0)for(var n=this.length>>1;n>=0;n--)this._down(n)}function r(t,e){return t<e?-1:t>e?1:0}e.exports=i,i.prototype={push:function(t){this.data.push(t),this.length++,this._up(this.length-1)},pop:function(){if(0!==this.length){var t=this.data[0];return this.length--,this.length>0&&(this.data[0]=this.data[this.length],this._down(0)),this.data.pop(),t}},peek:function(){return this.data[0]},_up:function(t){for(var e=this.data,n=this.compare,i=e[t];t>0;){var r=t-1>>1,o=e[r];if(n(i,o)>=0)break;e[t]=o,t=r}e[t]=i},_down:function(t){for(var e=this.data,n=this.compare,i=this.length,r=i>>1,o=e[t];t<r;){var a=1+(t<<1),s=a+1,l=e[a];if(s<i&&n(e[s],l)<0&&(a=s,l=e[s]),n(l,o)>=0)break;e[t]=l,t=a}e[t]=o}}},{}],34:[function(t,e,n){function i(t){var e=new d;return o(t,e),e.finish()}function r(t){var e={};for(var n in t)e[n]=new f(t[n].features),e[n].name=n;return i({layers:e})}function o(t,e){for(var n in t.layers)e.writeMessage(3,a,t.layers[n])}function a(t,e){e.writeVarintField(15,t.version||1),e.writeStringField(1,t.name||""),e.writeVarintField(5,t.extent||4096);var n,i={keys:[],values:[],keycache:{},valuecache:{}};for(n=0;n<t.length;n++)i.feature=t.feature(n),e.writeMessage(2,s,i);var r=i.keys;for(n=0;n<r.length;n++)e.writeStringField(3,r[n]);var o=i.values;for(n=0;n<o.length;n++)e.writeMessage(4,p,o[n])}function s(t,e){var n=t.feature;void 0!==n.id&&e.writeVarintField(1,n.id),e.writeMessage(2,l,t),e.writeVarintField(3,n.type),e.writeMessage(4,h,n)}function l(t,e){var n=t.feature,i=t.keys,r=t.values,o=t.keycache,a=t.valuecache;for(var s in n.properties){var l=o[s];void 0===l&&(i.push(s),l=i.length-1,o[s]=l),e.writeVarint(l);var u=n.properties[s],c=typeof u;"string"!==c&&"boolean"!==c&&"number"!==c&&(u=JSON.stringify(u));var h=c+":"+u,p=a[h];void 0===p&&(r.push(u),p=r.length-1,a[h]=p),e.writeVarint(p)}}function u(t,e){return(e<<3)+(7&t)}function c(t){return t<<1^t>>31}function h(t,e){for(var n=t.loadGeometry(),i=t.type,r=0,o=0,a=n.length,s=0;s<a;s++){var l=n[s],h=1;1===i&&(h=l.length),e.writeVarint(u(1,h));for(var p=0;p<l.length;p++){1===p&&1!==i&&e.writeVarint(u(2,l.length-1));var d=l[p].x-r,f=l[p].y-o;e.writeVarint(c(d)),e.writeVarint(c(f)),r+=d,o+=f}}}function p(t,e){var n=typeof t;"string"===n?e.writeStringField(1,t):"boolean"===n?e.writeBooleanField(7,t):"number"===n&&(t%1!=0?e.writeDoubleField(3,t):t<0?e.writeSVarintField(6,t):e.writeVarintField(5,t))}var d=t("pbf"),f=t("./lib/geojson_wrapper");e.exports=i,e.exports.fromVectorTileJs=i,e.exports.fromGeojsonVt=r,e.exports.GeoJSONWrapper=f},{"./lib/geojson_wrapper":35,pbf:30}],35:[function(t,e,n){"use strict";function i(t){this.features=t,this.length=t.length}function r(t){this.id="number"==typeof t.id?t.id:void 0,this.type=t.type,this.rawGeometry=1===t.type?[t.geometry]:t.geometry,this.properties=t.tags,this.extent=4096}var o=t("@mapbox/point-geometry"),a=t("@mapbox/vector-tile").VectorTileFeature;e.exports=i,i.prototype.feature=function(t){return new r(this.features[t])},r.prototype.loadGeometry=function(){var t=this.rawGeometry;this.geometry=[];for(var e=0;e<t.length;e++){for(var n=t[e],i=[],r=0;r<n.length;r++)i.push(new o(n[r][0],n[r][1]));this.geometry.push(i)}return this.geometry},r.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var t=this.geometry,e=1/0,n=-1/0,i=1/0,r=-1/0,o=0;o<t.length;o++)for(var a=t[o],s=0;s<a.length;s++){var l=a[s];e=Math.min(e,l.x),n=Math.max(n,l.x),i=Math.min(i,l.y),r=Math.max(r,l.y)}return[e,i,n,r]},r.prototype.toGeoJSON=a.prototype.toGeoJSON},{"@mapbox/point-geometry":4,"@mapbox/vector-tile":8}],36:[function(t,e,n){var i=arguments[3],r=arguments[4],o=arguments[5],a=JSON.stringify;e.exports=function(t,e){function n(t){m[t]=!0;for(var e in r[t][1]){var i=r[t][1][e];m[i]||n(i)}}for(var s,l=Object.keys(o),u=0,c=l.length;u<c;u++){var h=l[u],p=o[h].exports;if(p===t||p&&p.default===t){s=h;break}}if(!s){s=Math.floor(Math.pow(16,8)*Math.random()).toString(16);for(var d={},u=0,c=l.length;u<c;u++){var h=l[u];d[h]=h}r[s]=["function(require,module,exports){"+t+"(self); }",d]}var f=Math.floor(Math.pow(16,8)*Math.random()).toString(16),y={};y[s]=s,r[f]=["function(require,module,exports){var f = require("+a(s)+");(f.default ? f.default : f)(self);}",y];var m={};n(f);var v="("+i+")({"+Object.keys(m).map(function(t){return a(t)+":["+r[t][0]+","+a(r[t][1])+"]"}).join(",")+"},{},["+a(f)+"])",g=window.URL||window.webkitURL||window.mozURL||window.msURL,x=new Blob([v],{type:"text/javascript"});if(e&&e.bare)return x;var _=g.createObjectURL(x),b=new Worker(_);return b.objectURL=_,b}},{}],37:[function(t,e,n){e.exports.RADIUS=6378137,e.exports.FLATTENING=1/298.257223563,e.exports.POLAR_RADIUS=6356752.3142},{}],38:[function(t,e,n){e.exports={version:"0.44.2"}},{}],39:[function(t,e,n){"use strict";var i=t("../util/struct_array"),r=i.StructArray,o=t("../util/struct_array"),a=o.Struct,s=t("../util/web_worker_transfer"),l=s.register,u=t("@mapbox/point-geometry"),c=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e){var n=this.length;this.resize(n+1);var i=2*n;return this.int16[i+0]=t,this.int16[i+1]=e,n},e}(r);c.prototype.bytesPerElement=4,l("StructArrayLayout2i4",c);var h=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,i){var r=this.length;this.resize(r+1);var o=4*r;return this.int16[o+0]=t,this.int16[o+1]=e,this.int16[o+2]=n,this.int16[o+3]=i,r},e}(r);h.prototype.bytesPerElement=8,l("StructArrayLayout4i8",h);var p=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,i,r,o){var a=this.length;this.resize(a+1);var s=6*a;return this.int16[s+0]=t,this.int16[s+1]=e,this.int16[s+2]=n,this.int16[s+3]=i,this.int16[s+4]=r,this.int16[s+5]=o,a},e}(r);p.prototype.bytesPerElement=12,l("StructArrayLayout2i4i12",p);var d=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,i,r,o,a,s){var l=this.length;this.resize(l+1);var u=6*l,c=12*l;return this.int16[u+0]=t,this.int16[u+1]=e,this.int16[u+2]=n,this.int16[u+3]=i,this.uint8[c+8]=r,this.uint8[c+9]=o,this.uint8[c+10]=a,this.uint8[c+11]=s,l},e}(r);d.prototype.bytesPerElement=12,l("StructArrayLayout4i4ub12",d);var f=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,i,r,o,a,s){var l=this.length;this.resize(l+1);var u=8*l;return this.int16[u+0]=t,this.int16[u+1]=e,this.int16[u+2]=n,this.int16[u+3]=i,this.uint16[u+4]=r,this.uint16[u+5]=o,this.uint16[u+6]=a,this.uint16[u+7]=s,l},e}(r);f.prototype.bytesPerElement=16,l("StructArrayLayout4i4ui16",f);var y=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n){var i=this.length;this.resize(i+1);var r=3*i;return this.float32[r+0]=t,this.float32[r+1]=e,this.float32[r+2]=n,i},e}(r);y.prototype.bytesPerElement=12,l("StructArrayLayout3f12",y);var m=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t){var e=this.length;this.resize(e+1);var n=1*e;return this.uint32[n+0]=t,e},e}(r);m.prototype.bytesPerElement=4,l("StructArrayLayout1ul4",m);var v=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,i,r,o,a,s,l,u,c){var h=this.length;this.resize(h+1);var p=12*h,d=6*h;return this.int16[p+0]=t,this.int16[p+1]=e,this.int16[p+2]=n,this.int16[p+3]=i,this.int16[p+4]=r,this.int16[p+5]=o,this.uint32[d+3]=a,this.uint16[p+8]=s,this.uint16[p+9]=l,this.int16[p+10]=u,this.int16[p+11]=c,h},e}(r);v.prototype.bytesPerElement=24,l("StructArrayLayout6i1ul2ui2i24",v);var g=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,i,r,o){var a=this.length;this.resize(a+1);var s=6*a;return this.int16[s+0]=t,this.int16[s+1]=e,this.int16[s+2]=n,this.int16[s+3]=i,this.int16[s+4]=r,this.int16[s+5]=o,a},e}(r);g.prototype.bytesPerElement=12,l("StructArrayLayout2i2i2i12",g);var x=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e){var n=this.length;this.resize(n+1);var i=4*n;return this.uint8[i+0]=t,this.uint8[i+1]=e,n},e}(r);x.prototype.bytesPerElement=4,l("StructArrayLayout2ub4",x);var _=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,i,r,o,a,s,l,u,c,h,p,d){var f=this.length;this.resize(f+1);var y=20*f,m=10*f,v=40*f;return this.int16[y+0]=t,this.int16[y+1]=e,this.uint16[y+2]=n,this.uint16[y+3]=i,this.uint32[m+2]=r,this.uint32[m+3]=o,this.uint32[m+4]=a,this.uint16[y+10]=s,this.uint16[y+11]=l,this.uint16[y+12]=u,this.float32[m+7]=c,this.float32[m+8]=h,this.uint8[v+36]=p,this.uint8[v+37]=d,f},e}(r);_.prototype.bytesPerElement=40,l("StructArrayLayout2i2ui3ul3ui2f2ub40",_);var b=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t){var e=this.length;this.resize(e+1);var n=1*e;return this.float32[n+0]=t,e},e}(r);b.prototype.bytesPerElement=4,l("StructArrayLayout1f4",b);var w=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n){var i=this.length;this.resize(i+1);var r=3*i;return this.int16[r+0]=t,this.int16[r+1]=e,this.int16[r+2]=n,i},e}(r);w.prototype.bytesPerElement=6,l("StructArrayLayout3i6",w);var E=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n){var i=this.length;this.resize(i+1);var r=2*i,o=4*i;return this.uint32[r+0]=t,this.uint16[o+2]=e,this.uint16[o+3]=n,i},e}(r);E.prototype.bytesPerElement=8,l("StructArrayLayout1ul2ui8",E);var M=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n){var i=this.length;this.resize(i+1);var r=3*i;return this.uint16[r+0]=t,this.uint16[r+1]=e,this.uint16[r+2]=n,i},e}(r);M.prototype.bytesPerElement=6,l("StructArrayLayout3ui6",M);var T=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e){var n=this.length;this.resize(n+1);var i=2*n;return this.uint16[i+0]=t,this.uint16[i+1]=e,n},e}(r);T.prototype.bytesPerElement=4,l("StructArrayLayout2ui4",T);var S=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e){var n=this.length;this.resize(n+1);var i=2*n;return this.float32[i+0]=t,this.float32[i+1]=e,n},e}(r);S.prototype.bytesPerElement=8,l("StructArrayLayout2f8",S);var A=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,n,i){var r=this.length;this.resize(r+1);var o=4*r;return this.float32[o+0]=t,this.float32[o+1]=e,this.float32[o+2]=n,this.float32[o+3]=i,r},e}(r);A.prototype.bytesPerElement=16,l("StructArrayLayout4f16",A);var C=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={anchorPointX:{},anchorPointY:{},x1:{},y1:{},x2:{},y2:{},featureIndex:{},sourceLayerIndex:{},bucketIndex:{},radius:{},signedDistanceFromAnchor:{},anchorPoint:{}};return n.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},n.anchorPointX.set=function(t){this._structArray.int16[this._pos2+0]=t},n.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},n.anchorPointY.set=function(t){this._structArray.int16[this._pos2+1]=t},n.x1.get=function(){return this._structArray.int16[this._pos2+2]},n.x1.set=function(t){this._structArray.int16[this._pos2+2]=t},n.y1.get=function(){return this._structArray.int16[this._pos2+3]},n.y1.set=function(t){this._structArray.int16[this._pos2+3]=t},n.x2.get=function(){return this._structArray.int16[this._pos2+4]},n.x2.set=function(t){this._structArray.int16[this._pos2+4]=t},n.y2.get=function(){return this._structArray.int16[this._pos2+5]},n.y2.set=function(t){this._structArray.int16[this._pos2+5]=t},n.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},n.featureIndex.set=function(t){this._structArray.uint32[this._pos4+3]=t},n.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},n.sourceLayerIndex.set=function(t){this._structArray.uint16[this._pos2+8]=t},n.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},n.bucketIndex.set=function(t){this._structArray.uint16[this._pos2+9]=t},n.radius.get=function(){return this._structArray.int16[this._pos2+10]},n.radius.set=function(t){this._structArray.int16[this._pos2+10]=t},n.signedDistanceFromAnchor.get=function(){return this._structArray.int16[this._pos2+11]},n.signedDistanceFromAnchor.set=function(t){this._structArray.int16[this._pos2+11]=t},n.anchorPoint.get=function(){return new u(this.anchorPointX,this.anchorPointY)},Object.defineProperties(e.prototype,n),e}(a);C.prototype.size=24;var L=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t){return new C(this,t)},e}(v);l("CollisionBoxArray",L);var k=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={anchorX:{},anchorY:{},glyphStartIndex:{},numGlyphs:{},vertexStartIndex:{},lineStartIndex:{},lineLength:{},segment:{},lowerSize:{},upperSize:{},lineOffsetX:{},lineOffsetY:{},writingMode:{},hidden:{}};return n.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},n.anchorX.set=function(t){this._structArray.int16[this._pos2+0]=t},n.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},n.anchorY.set=function(t){this._structArray.int16[this._pos2+1]=t},n.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},n.glyphStartIndex.set=function(t){this._structArray.uint16[this._pos2+2]=t},n.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},n.numGlyphs.set=function(t){this._structArray.uint16[this._pos2+3]=t},n.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},n.vertexStartIndex.set=function(t){this._structArray.uint32[this._pos4+2]=t},n.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},n.lineStartIndex.set=function(t){this._structArray.uint32[this._pos4+3]=t},n.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},n.lineLength.set=function(t){this._structArray.uint32[this._pos4+4]=t},n.segment.get=function(){return this._structArray.uint16[this._pos2+10]},n.segment.set=function(t){this._structArray.uint16[this._pos2+10]=t},n.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},n.lowerSize.set=function(t){this._structArray.uint16[this._pos2+11]=t},n.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},n.upperSize.set=function(t){this._structArray.uint16[this._pos2+12]=t},n.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},n.lineOffsetX.set=function(t){this._structArray.float32[this._pos4+7]=t},n.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},n.lineOffsetY.set=function(t){this._structArray.float32[this._pos4+8]=t},n.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},n.writingMode.set=function(t){this._structArray.uint8[this._pos1+36]=t},n.hidden.get=function(){return this._structArray.uint8[this._pos1+37]},n.hidden.set=function(t){this._structArray.uint8[this._pos1+37]=t},Object.defineProperties(e.prototype,n),e}(a);k.prototype.size=40;var P=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t){return new k(this,t)},e}(_);l("PlacedSymbolArray",P);var I=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={offsetX:{}};return n.offsetX.get=function(){return this._structArray.float32[this._pos4+0]},n.offsetX.set=function(t){this._structArray.float32[this._pos4+0]=t},Object.defineProperties(e.prototype,n),e}(a);I.prototype.size=4;var R=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getoffsetX=function(t){return this.float32[1*t+0]},e.prototype.get=function(t){return new I(this,t)},e}(b);l("GlyphOffsetArray",R);var z=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={x:{},y:{},tileUnitDistanceFromAnchor:{}};return n.x.get=function(){return this._structArray.int16[this._pos2+0]},n.x.set=function(t){this._structArray.int16[this._pos2+0]=t},n.y.get=function(){return this._structArray.int16[this._pos2+1]},n.y.set=function(t){this._structArray.int16[this._pos2+1]=t},n.tileUnitDistanceFromAnchor.get=function(){return this._structArray.int16[this._pos2+2]},n.tileUnitDistanceFromAnchor.set=function(t){this._structArray.int16[this._pos2+2]=t},Object.defineProperties(e.prototype,n),e}(a);z.prototype.size=6;var O=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getx=function(t){return this.int16[3*t+0]},e.prototype.gety=function(t){return this.int16[3*t+1]},e.prototype.gettileUnitDistanceFromAnchor=function(t){return this.int16[3*t+2]},e.prototype.get=function(t){return new z(this,t)},e}(w);l("SymbolLineVertexArray",O);var D=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={featureIndex:{},sourceLayerIndex:{},bucketIndex:{}};return n.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},n.featureIndex.set=function(t){this._structArray.uint32[this._pos4+0]=t},n.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},n.sourceLayerIndex.set=function(t){this._structArray.uint16[this._pos2+2]=t},n.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},n.bucketIndex.set=function(t){this._structArray.uint16[this._pos2+3]=t},Object.defineProperties(e.prototype,n),e}(a);D.prototype.size=8;var B=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t){return new D(this,t)},e}(E);l("FeatureIndexArray",B),e.exports={StructArrayLayout2i4:c,StructArrayLayout4i8:h,StructArrayLayout2i4i12:p,StructArrayLayout4i4ub12:d,StructArrayLayout4i4ui16:f,StructArrayLayout3f12:y,StructArrayLayout1ul4:m,StructArrayLayout6i1ul2ui2i24:v,StructArrayLayout2i2i2i12:g,StructArrayLayout2ub4:x,StructArrayLayout2i2ui3ul3ui2f2ub40:_,StructArrayLayout1f4:b,StructArrayLayout3i6:w,StructArrayLayout1ul2ui8:E,StructArrayLayout3ui6:M,StructArrayLayout2ui4:T,StructArrayLayout2f8:S,StructArrayLayout4f16:A,PosArray:c,RasterBoundsArray:h,CircleLayoutArray:c,FillLayoutArray:c,FillExtrusionLayoutArray:p,HeatmapLayoutArray:c,LineLayoutArray:d,SymbolLayoutArray:f,SymbolDynamicLayoutArray:y,SymbolOpacityArray:m,CollisionBoxLayoutArray:g,CollisionCircleLayoutArray:g,CollisionVertexArray:x,TriangleIndexArray:M,LineIndexArray:T,CollisionBoxArray:L,PlacedSymbolArray:P,GlyphOffsetArray:R,SymbolLineVertexArray:O,FeatureIndexArray:B}},{"../util/struct_array":271,"../util/web_worker_transfer":278,"@mapbox/point-geometry":4}],40:[function(t,e,n){"use strict";e.exports={deserialize:function(t,e){var n={};if(!e)return n;for(var i=0,r=t;i<r.length;i+=1){var o=r[i],a=o.layerIds.map(function(t){return e.getLayer(t)}).filter(Boolean);if(0!==a.length){o.layers=a;for(var s=0,l=a;s<l.length;s+=1)n[l[s].id]=o}}return n}}},{}],41:[function(t,e,n){"use strict";var i=t("../../util/struct_array"),r=i.createLayout;e.exports=r([{name:"a_pos",components:2,type:"Int16"}],4)},{"../../util/struct_array":271}],42:[function(t,e,n){"use strict";function i(t,e,n,i,r){t.emplaceBack(2*e+(i+1)/2,2*n+(r+1)/2)}var r=t("../array_types"),o=r.CircleLayoutArray,a=t("./circle_attributes").members,s=t("../segment"),l=s.SegmentVector,u=t("../program_configuration"),c=u.ProgramConfigurationSet,h=t("../index_array_type"),p=h.TriangleIndexArray,d=t("../load_geometry"),f=t("../extent"),y=t("../../util/web_worker_transfer"),m=y.register,v=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(t){return t.id}),this.index=t.index,this.layoutVertexArray=new o,this.indexArray=new p,this.segments=new l,this.programConfigurations=new c(a,t.layers,t.zoom)};v.prototype.populate=function(t,e){for(var n=this,i=0,r=t;i<r.length;i+=1){var o=r[i],a=o.feature,s=o.index,l=o.sourceLayerIndex;if(n.layers[0]._featureFilter({zoom:n.zoom},a)){var u=d(a);n.addFeature(a,u),e.featureIndex.insert(a,u,s,l,n.index)}}},v.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},v.prototype.upload=function(t){this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,a),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.programConfigurations.upload(t)},v.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},v.prototype.addFeature=function(t,e){for(var n=this,r=0,o=e;r<o.length;r+=1)for(var a=o[r],s=0,l=a;s<l.length;s+=1){var u=l[s],c=u.x,h=u.y;if(!(c<0||c>=f||h<0||h>=f)){var p=n.segments.prepareSegment(4,n.layoutVertexArray,n.indexArray),d=p.vertexLength;i(n.layoutVertexArray,c,h,-1,-1),i(n.layoutVertexArray,c,h,1,-1),i(n.layoutVertexArray,c,h,1,1),i(n.layoutVertexArray,c,h,-1,1),n.indexArray.emplaceBack(d,d+1,d+2),n.indexArray.emplaceBack(d,d+3,d+2),p.vertexLength+=4,p.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t)},m("CircleBucket",v,{omit:["layers"]}),e.exports=v},{"../../util/web_worker_transfer":278,"../array_types":39,"../extent":53,"../index_array_type":55,"../load_geometry":56,"../program_configuration":58,"../segment":60,"./circle_attributes":41}],43:[function(t,e,n){arguments[4][41][0].apply(n,arguments)},{"../../util/struct_array":271,dup:41}],44:[function(t,e,n){"use strict";var i=t("../array_types"),r=i.FillLayoutArray,o=t("./fill_attributes").members,a=t("../segment"),s=a.SegmentVector,l=t("../program_configuration"),u=l.ProgramConfigurationSet,c=t("../index_array_type"),h=c.LineIndexArray,p=c.TriangleIndexArray,d=t("../load_geometry"),f=t("earcut"),y=t("../../util/classify_rings"),m=t("../../util/web_worker_transfer"),v=m.register,g=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(t){return t.id}),this.index=t.index,this.layoutVertexArray=new r,this.indexArray=new p,this.indexArray2=new h,this.programConfigurations=new u(o,t.layers,t.zoom),this.segments=new s,this.segments2=new s};g.prototype.populate=function(t,e){for(var n=this,i=0,r=t;i<r.length;i+=1){var o=r[i],a=o.feature,s=o.index,l=o.sourceLayerIndex;if(n.layers[0]._featureFilter({zoom:n.zoom},a)){var u=d(a);n.addFeature(a,u),e.featureIndex.insert(a,u,s,l,n.index)}}},g.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},g.prototype.upload=function(t){this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,o),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.indexBuffer2=t.createIndexBuffer(this.indexArray2),this.programConfigurations.upload(t)},g.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},g.prototype.addFeature=function(t,e){for(var n=this,i=0,r=y(e,500);i<r.length;i+=1){for(var o=r[i],a=0,s=0,l=o;s<l.length;s+=1)a+=l[s].length;for(var u=n.segments.prepareSegment(a,n.layoutVertexArray,n.indexArray),c=u.vertexLength,h=[],p=[],d=0,m=o;d<m.length;d+=1){var v=m[d];if(0!==v.length){v!==o[0]&&p.push(h.length/2);var g=n.segments2.prepareSegment(v.length,n.layoutVertexArray,n.indexArray2),x=g.vertexLength;n.layoutVertexArray.emplaceBack(v[0].x,v[0].y),n.indexArray2.emplaceBack(x+v.length-1,x),h.push(v[0].x),h.push(v[0].y);for(var _=1;_<v.length;_++)n.layoutVertexArray.emplaceBack(v[_].x,v[_].y),n.indexArray2.emplaceBack(x+_-1,x+_),h.push(v[_].x),h.push(v[_].y);g.vertexLength+=v.length,g.primitiveLength+=v.length}}for(var b=f(h,p),w=0;w<b.length;w+=3)n.indexArray.emplaceBack(c+b[w],c+b[w+1],c+b[w+2]);u.vertexLength+=a,u.primitiveLength+=b.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t)},v("FillBucket",g,{omit:["layers"]}),e.exports=g},{"../../util/classify_rings":255,"../../util/web_worker_transfer":278,"../array_types":39,"../index_array_type":55,"../load_geometry":56,"../program_configuration":58,"../segment":60,"./fill_attributes":43,earcut:14}],45:[function(t,e,n){"use strict";var i=t("../../util/struct_array"),r=i.createLayout;e.exports=r([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4)},{"../../util/struct_array":271}],46:[function(t,e,n){"use strict";function i(t,e,n,i,r,o,a,s){t.emplaceBack(e,n,2*Math.floor(i*w)+a,r*w*2,o*w*2,Math.round(s))}function r(t,e){return t.x===e.x&&(t.x<0||t.x>v)||t.y===e.y&&(t.y<0||t.y>v)}function o(t){return t.every(function(t){return t.x<0})||t.every(function(t){return t.x>v})||t.every(function(t){return t.y<0})||t.every(function(t){return t.y>v})}var a=t("../array_types"),s=a.FillExtrusionLayoutArray,l=t("./fill_extrusion_attributes").members,u=t("../segment"),c=u.SegmentVector,h=u.MAX_VERTEX_ARRAY_LENGTH,p=t("../program_configuration"),d=p.ProgramConfigurationSet,f=t("../index_array_type"),y=f.TriangleIndexArray,m=t("../load_geometry"),v=t("../extent"),g=t("earcut"),x=t("../../util/classify_rings"),_=t("../../util/web_worker_transfer"),b=_.register,w=Math.pow(2,13),E=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(t){return t.id}),this.index=t.index,this.layoutVertexArray=new s,this.indexArray=new y,this.programConfigurations=new d(l,t.layers,t.zoom),this.segments=new c};E.prototype.populate=function(t,e){for(var n=this,i=0,r=t;i<r.length;i+=1){var o=r[i],a=o.feature,s=o.index,l=o.sourceLayerIndex;if(n.layers[0]._featureFilter({zoom:n.zoom},a)){var u=m(a);n.addFeature(a,u),e.featureIndex.insert(a,u,s,l,n.index)}}},E.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},E.prototype.upload=function(t){this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,l),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.programConfigurations.upload(t)},E.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},E.prototype.addFeature=function(t,e){for(var n=this,a=0,s=x(e,500);a<s.length;a+=1){for(var l=s[a],u=0,c=0,p=l;c<p.length;c+=1)u+=p[c].length;for(var d=n.segments.prepareSegment(4,n.layoutVertexArray,n.indexArray),f=0,y=l;f<y.length;f+=1){var m=y[f];if(0!==m.length&&!o(m))for(var v=0,_=0;_<m.length;_++){var b=m[_];if(_>=1){var w=m[_-1];if(!r(b,w)){d.vertexLength+4>h&&(d=n.segments.prepareSegment(4,n.layoutVertexArray,n.indexArray));var E=b.sub(w)._perp()._unit(),M=w.dist(b);v+M>32768&&(v=0),i(n.layoutVertexArray,b.x,b.y,E.x,E.y,0,0,v),i(n.layoutVertexArray,b.x,b.y,E.x,E.y,0,1,v),v+=M,i(n.layoutVertexArray,w.x,w.y,E.x,E.y,0,0,v),i(n.layoutVertexArray,w.x,w.y,E.x,E.y,0,1,v);var T=d.vertexLength;n.indexArray.emplaceBack(T,T+1,T+2),n.indexArray.emplaceBack(T+1,T+2,T+3),d.vertexLength+=4,d.primitiveLength+=2}}}}d.vertexLength+u>h&&(d=n.segments.prepareSegment(u,n.layoutVertexArray,n.indexArray));for(var S=[],A=[],C=d.vertexLength,L=0,k=l;L<k.length;L+=1){var P=k[L];if(0!==P.length){P!==l[0]&&A.push(S.length/2);for(var I=0;I<P.length;I++){var R=P[I];i(n.layoutVertexArray,R.x,R.y,0,0,1,1,0),S.push(R.x),S.push(R.y)}}}for(var z=g(S,A),O=0;O<z.length;O+=3)n.indexArray.emplaceBack(C+z[O],C+z[O+1],C+z[O+2]);d.primitiveLength+=z.length/3,d.vertexLength+=u}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t)},b("FillExtrusionBucket",E,{omit:["layers"]}),e.exports=E},{"../../util/classify_rings":255,"../../util/web_worker_transfer":278,"../array_types":39,"../extent":53,"../index_array_type":55,"../load_geometry":56,"../program_configuration":58,"../segment":60,"./fill_extrusion_attributes":45,earcut:14}],47:[function(t,e,n){"use strict";var i=t("./circle_bucket"),r=t("../../util/web_worker_transfer"),o=r.register,a=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(i);o("HeatmapBucket",a,{omit:["layers"]}),e.exports=a},{"../../util/web_worker_transfer":278,"./circle_bucket":42}],48:[function(t,e,n){"use strict";var i=t("../../util/struct_array"),r=i.createLayout;e.exports=r([{name:"a_pos_normal",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4)},{"../../util/struct_array":271}],49:[function(t,e,n){"use strict";function i(t,e,n,i,r,o,a){t.emplaceBack(e.x,e.y,i?1:0,r?1:-1,Math.round(g*n.x)+128,Math.round(g*n.y)+128,1+(0===o?0:o<0?-1:1)|(a*_&63)<<2,a*_>>6)}var r=t("../array_types"),o=r.LineLayoutArray,a=t("./line_attributes").members,s=t("../segment"),l=s.SegmentVector,u=t("../program_configuration"),c=u.ProgramConfigurationSet,h=t("../index_array_type"),p=h.TriangleIndexArray,d=t("../load_geometry"),f=t("../extent"),y=t("@mapbox/vector-tile").VectorTileFeature.types,m=t("../../util/web_worker_transfer"),v=m.register,g=63,x=Math.cos(Math.PI/180*37.5),_=.5,b=Math.pow(2,14)/_,w=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(t){return t.id}),this.index=t.index,this.layoutVertexArray=new o,this.indexArray=new p,this.programConfigurations=new c(a,t.layers,t.zoom),this.segments=new l};w.prototype.populate=function(t,e){for(var n=this,i=0,r=t;i<r.length;i+=1){var o=r[i],a=o.feature,s=o.index,l=o.sourceLayerIndex;if(n.layers[0]._featureFilter({zoom:n.zoom},a)){var u=d(a);n.addFeature(a,u),e.featureIndex.insert(a,u,s,l,n.index)}}},w.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},w.prototype.upload=function(t){this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,a),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.programConfigurations.upload(t)},w.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},w.prototype.addFeature=function(t,e){for(var n=this,i=this.layers[0].layout,r=i.get("line-join").evaluate(t),o=i.get("line-cap"),a=i.get("line-miter-limit"),s=i.get("line-round-limit"),l=0,u=e;l<u.length;l+=1){var c=u[l];n.addLine(c,t,r,o,a,s)}},w.prototype.addLine=function(t,e,n,i,r,o){for(var a=this,s="Polygon"===y[e.type],l=t.length;l>=2&&t[l-1].equals(t[l-2]);)l--;for(var u=0;u<l-1&&t[u].equals(t[u+1]);)u++;if(!(l<(s?3:2))){"bevel"===n&&(r=1.05);var c=f/(512*this.overscaling)*15,h=t[u],p=this.segments.prepareSegment(10*l,this.layoutVertexArray,this.indexArray);this.distance=0;var d,m,v,g=i,_=s?"butt":i,b=!0,w=void 0,E=void 0,M=void 0,T=void 0;this.e1=this.e2=this.e3=-1,s&&(d=t[l-2],T=h.sub(d)._unit()._perp());for(var S=u;S<l;S++)if(!(E=s&&S===l-1?t[u+1]:t[S+1])||!t[S].equals(E)){T&&(M=T),d&&(w=d),d=t[S],T=E?E.sub(d)._unit()._perp():M,M=M||T;var A=M.add(T);0===A.x&&0===A.y||A._unit();var C=A.x*T.x+A.y*T.y,L=0!==C?1/C:1/0,k=C<x&&w&&E;if(k&&S>u){var P=d.dist(w);if(P>2*c){var I=d.sub(d.sub(w)._mult(c/P)._round());a.distance+=I.dist(w),a.addCurrentVertex(I,a.distance,M.mult(1),0,0,!1,p),w=I}}var R=w&&E,z=R?n:E?g:_;if(R&&"round"===z&&(L<o?z="miter":L<=2&&(z="fakeround")),"miter"===z&&L>r&&(z="bevel"),"bevel"===z&&(L>2&&(z="flipbevel"),L<r&&(z="miter")),w&&(a.distance+=d.dist(w)),"miter"===z)A._mult(L),a.addCurrentVertex(d,a.distance,A,0,0,!1,p);else if("flipbevel"===z){if(L>100)A=T.clone().mult(-1);else{var O=M.x*T.y-M.y*T.x>0?-1:1,D=L*M.add(T).mag()/M.sub(T).mag();A._perp()._mult(D*O)}a.addCurrentVertex(d,a.distance,A,0,0,!1,p),a.addCurrentVertex(d,a.distance,A.mult(-1),0,0,!1,p)}else if("bevel"===z||"fakeround"===z){var B=M.x*T.y-M.y*T.x>0,N=-Math.sqrt(L*L-1);if(B?(v=0,m=N):(m=0,v=N),b||a.addCurrentVertex(d,a.distance,M,m,v,!1,p),"fakeround"===z){for(var F=Math.floor(8*(.5-(C-.5))),U=void 0,j=0;j<F;j++)U=T.mult((j+1)/(F+1))._add(M)._unit(),a.addPieSliceVertex(d,a.distance,U,B,p);a.addPieSliceVertex(d,a.distance,A,B,p);for(var V=F-1;V>=0;V--)U=M.mult((V+1)/(F+1))._add(T)._unit(),a.addPieSliceVertex(d,a.distance,U,B,p)}E&&a.addCurrentVertex(d,a.distance,T,-m,-v,!1,p)}else"butt"===z?(b||a.addCurrentVertex(d,a.distance,M,0,0,!1,p),E&&a.addCurrentVertex(d,a.distance,T,0,0,!1,p)):"square"===z?(b||(a.addCurrentVertex(d,a.distance,M,1,1,!1,p),a.e1=a.e2=-1),E&&a.addCurrentVertex(d,a.distance,T,-1,-1,!1,p)):"round"===z&&(b||(a.addCurrentVertex(d,a.distance,M,0,0,!1,p),a.addCurrentVertex(d,a.distance,M,1,1,!0,p),a.e1=a.e2=-1),E&&(a.addCurrentVertex(d,a.distance,T,-1,-1,!0,p),a.addCurrentVertex(d,a.distance,T,0,0,!1,p)));if(k&&S<l-1){var G=d.dist(E);if(G>2*c){var H=d.add(E.sub(d)._mult(c/G)._round());a.distance+=H.dist(d),a.addCurrentVertex(H,a.distance,T.mult(1),0,0,!1,p),d=H}}b=!1}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e)}},w.prototype.addCurrentVertex=function(t,e,n,r,o,a,s){var l,u=this.layoutVertexArray,c=this.indexArray;l=n.clone(),r&&l._sub(n.perp()._mult(r)),i(u,t,l,a,!1,r,e),this.e3=s.vertexLength++,this.e1>=0&&this.e2>=0&&(c.emplaceBack(this.e1,this.e2,this.e3),s.primitiveLength++),this.e1=this.e2,this.e2=this.e3,l=n.mult(-1),o&&l._sub(n.perp()._mult(o)),i(u,t,l,a,!0,-o,e),this.e3=s.vertexLength++,this.e1>=0&&this.e2>=0&&(c.emplaceBack(this.e1,this.e2,this.e3),s.primitiveLength++),this.e1=this.e2,this.e2=this.e3,e>b/2&&(this.distance=0,this.addCurrentVertex(t,this.distance,n,r,o,a,s))},w.prototype.addPieSliceVertex=function(t,e,n,r,o){n=n.mult(r?-1:1);var a=this.layoutVertexArray,s=this.indexArray;i(a,t,n,!1,r,0,e),this.e3=o.vertexLength++,this.e1>=0&&this.e2>=0&&(s.emplaceBack(this.e1,this.e2,this.e3),o.primitiveLength++),r?this.e2=this.e3:this.e1=this.e3},v("LineBucket",w,{omit:["layers"]}),e.exports=w},{"../../util/web_worker_transfer":278,"../array_types":39,"../extent":53,"../index_array_type":55,"../load_geometry":56,"../program_configuration":58,"../segment":60,"./line_attributes":48,"@mapbox/vector-tile":8}],50:[function(t,e,n){"use strict";var i=t("../../util/struct_array"),r=i.createLayout,o=r([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"}]),a=r([{name:"a_projected_pos",components:3,type:"Float32"}],4),s=r([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),l=r([{name:"a_placed",components:2,type:"Uint8"}],4),u={symbolLayoutAttributes:o,dynamicLayoutAttributes:a,placementOpacityAttributes:s,collisionVertexAttributes:l,collisionBox:r([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"},{type:"Int16",name:"radius"},{type:"Int16",name:"signedDistanceFromAnchor"}]),collisionBoxLayout:r([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),collisionCircleLayout:r([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),placement:r([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"hidden"}]),glyphOffset:r([{type:"Float32",name:"offsetX"}]),lineVertex:r([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}])};e.exports=u},{"../../util/struct_array":271}],51:[function(t,e,n){"use strict";function i(t,e,n,i,r,o,a,s){t.emplaceBack(e,n,Math.round(64*i),Math.round(64*r),o,a,s?s[0]:0,s?s[1]:0)}function r(t,e,n){t.emplaceBack(e.x,e.y,n),t.emplaceBack(e.x,e.y,n),t.emplaceBack(e.x,e.y,n),t.emplaceBack(e.x,e.y,n)}var o=t("./symbol_attributes"),a=o.symbolLayoutAttributes,s=o.collisionVertexAttributes,l=o.collisionBoxLayout,u=o.collisionCircleLayout,c=o.dynamicLayoutAttributes,h=t("../array_types"),p=h.SymbolLayoutArray,d=h.SymbolDynamicLayoutArray,f=h.SymbolOpacityArray,y=h.CollisionBoxLayoutArray,m=h.CollisionCircleLayoutArray,v=h.CollisionVertexArray,g=h.PlacedSymbolArray,x=h.GlyphOffsetArray,_=h.SymbolLineVertexArray,b=t("@mapbox/point-geometry"),w=t("../segment"),E=w.SegmentVector,M=t("../program_configuration"),T=M.ProgramConfigurationSet,S=t("../index_array_type"),A=S.TriangleIndexArray,C=S.LineIndexArray,L=t("../../symbol/transform_text"),k=t("../../symbol/mergelines"),P=t("../../util/script_detection"),I=t("../load_geometry"),R=t("@mapbox/vector-tile").VectorTileFeature.types,z=t("../../util/verticalize_punctuation"),O=(t("../../symbol/anchor"),t("../../symbol/symbol_size")),D=O.getSizeData,B=t("../../util/web_worker_transfer"),N=B.register,F=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}],U=function(t){this.layoutVertexArray=new p,this.indexArray=new A,this.programConfigurations=t,this.segments=new E,this.dynamicLayoutVertexArray=new d,this.opacityVertexArray=new f,this.placedSymbolArray=new g};U.prototype.upload=function(t,e){this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,a.members),this.indexBuffer=t.createIndexBuffer(this.indexArray,e),this.programConfigurations.upload(t),this.dynamicLayoutVertexBuffer=t.createVertexBuffer(this.dynamicLayoutVertexArray,c.members,!0),this.opacityVertexBuffer=t.createVertexBuffer(this.opacityVertexArray,F,!0),this.opacityVertexBuffer.itemSize=1},U.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},N("SymbolBuffers",U);var j=function(t,e,n){this.layoutVertexArray=new t,this.layoutAttributes=e,this.indexArray=new n,this.segments=new E,this.collisionVertexArray=new v};j.prototype.upload=function(t){this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=t.createVertexBuffer(this.collisionVertexArray,s.members,!0)},j.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},N("CollisionBuffers",j);var V=function(t){this.collisionBoxArray=t.collisionBoxArray,this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(function(t){return t.id}),this.index=t.index,this.pixelRatio=t.pixelRatio;var e=this.layers[0],n=e._unevaluatedLayout._values;this.textSizeData=D(this.zoom,n["text-size"]),this.iconSizeData=D(this.zoom,n["icon-size"]);var i=this.layers[0].layout;this.sortFeaturesByY=i.get("text-allow-overlap")||i.get("icon-allow-overlap")||i.get("text-ignore-placement")||i.get("icon-ignore-placement")};V.prototype.createArrays=function(){this.text=new U(new T(a.members,this.layers,this.zoom,function(t){return/^text/.test(t)})),this.icon=new U(new T(a.members,this.layers,this.zoom,function(t){return/^icon/.test(t)})),this.collisionBox=new j(y,l.members,C),this.collisionCircle=new j(m,u.members,A),this.glyphOffsetArray=new x,this.lineVertexArray=new _},V.prototype.populate=function(t,e){var n=this,i=this.layers[0],r=i.layout,o=r.get("text-font"),a=r.get("text-field"),s=r.get("icon-image"),l=("constant"!==a.value.kind||a.value.value.length>0)&&("constant"!==o.value.kind||o.value.value.length>0),u="constant"!==s.value.kind||s.value.value&&s.value.value.length>0;if(this.features=[],l||u){for(var c=e.iconDependencies,h=e.glyphDependencies,p={zoom:this.zoom},d=0,f=t;d<f.length;d+=1){var y=f[d],m=y.feature,v=y.index,g=y.sourceLayerIndex;if(i._featureFilter(p,m)){var x=void 0;l&&(x=i.getValueAndResolveTokens("text-field",m),x=L(x,i,m));var _=void 0;if(u&&(_=i.getValueAndResolveTokens("icon-image",m)),x||_){var b={text:x,icon:_,index:v,sourceLayerIndex:g,geometry:I(m),properties:m.properties,type:R[m.type]};if(void 0!==m.id&&(b.id=m.id),n.features.push(b),_&&(c[_]=!0),x)for(var w=o.evaluate(m).join(","),E=h[w]=h[w]||{},M="map"===r.get("text-rotation-alignment")&&"line"===r.get("symbol-placement"),T=P.allowsVerticalWritingMode(x),S=0;S<x.length;S++)if(E[x.charCodeAt(S)]=!0,M&&T){var A=z.lookup[x.charAt(S)];A&&(E[A.charCodeAt(0)]=!0)}}}}"line"===r.get("symbol-placement")&&(this.features=k(this.features))}},V.prototype.isEmpty=function(){return 0===this.symbolInstances.length},V.prototype.upload=function(t){this.text.upload(t,this.sortFeaturesByY),this.icon.upload(t,this.sortFeaturesByY),this.collisionBox.upload(t),this.collisionCircle.upload(t)},V.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.collisionBox.destroy(),this.collisionCircle.destroy()},V.prototype.addToLineVertexArray=function(t,e){var n=this,i=this.lineVertexArray.length;if(void 0!==t.segment){for(var r=t.dist(e[t.segment+1]),o=t.dist(e[t.segment]),a={},s=t.segment+1;s<e.length;s++)a[s]={x:e[s].x,y:e[s].y,tileUnitDistanceFromAnchor:r},s<e.length-1&&(r+=e[s+1].dist(e[s]));for(var l=t.segment||0;l>=0;l--)a[l]={x:e[l].x,y:e[l].y,tileUnitDistanceFromAnchor:o},l>0&&(o+=e[l-1].dist(e[l]));for(var u=0;u<e.length;u++){var c=a[u];n.lineVertexArray.emplaceBack(c.x,c.y,c.tileUnitDistanceFromAnchor)}}return{lineStartIndex:i,lineLength:this.lineVertexArray.length-i}},V.prototype.addSymbols=function(t,e,n,o,a,s,l,u,c,h){for(var p=this,d=t.indexArray,f=t.layoutVertexArray,y=t.dynamicLayoutVertexArray,m=t.segments.prepareSegment(4*e.length,t.layoutVertexArray,t.indexArray),v=this.glyphOffsetArray.length,g=m.vertexLength,x=0,_=e;x<_.length;x+=1){var b=_[x],w=b.tl,E=b.tr,M=b.bl,T=b.br,S=b.tex,A=m.vertexLength,C=b.glyphOffset[1];i(f,u.x,u.y,w.x,C+w.y,S.x,S.y,n),i(f,u.x,u.y,E.x,C+E.y,S.x+S.w,S.y,n),i(f,u.x,u.y,M.x,C+M.y,S.x,S.y+S.h,n),i(f,u.x,u.y,T.x,C+T.y,S.x+S.w,S.y+S.h,n),r(y,u,0),d.emplaceBack(A,A+1,A+2),d.emplaceBack(A+1,A+2,A+3),m.vertexLength+=4,m.primitiveLength+=2,p.glyphOffsetArray.emplaceBack(b.glyphOffset[0])}t.placedSymbolArray.emplaceBack(u.x,u.y,v,this.glyphOffsetArray.length-v,g,c,h,u.segment,n?n[0]:0,n?n[1]:0,o[0],o[1],l,!1),t.programConfigurations.populatePaintArrays(t.layoutVertexArray.length,s)},V.prototype._addCollisionDebugVertex=function(t,e,n,i,r){return e.emplaceBack(0,0),t.emplaceBack(n.x,n.y,i.x,i.y,Math.round(r.x),Math.round(r.y))},V.prototype.addCollisionDebugVertices=function(t,e,n,i,r,o,a,s){var l=r.segments.prepareSegment(4,r.layoutVertexArray,r.indexArray),u=l.vertexLength,c=r.layoutVertexArray,h=r.collisionVertexArray;if(this._addCollisionDebugVertex(c,h,o,a.anchor,new b(t,e)),this._addCollisionDebugVertex(c,h,o,a.anchor,new b(n,e)),this._addCollisionDebugVertex(c,h,o,a.anchor,new b(n,i)),this._addCollisionDebugVertex(c,h,o,a.anchor,new b(t,i)),l.vertexLength+=4,s){var p=r.indexArray;p.emplaceBack(u,u+1,u+2),p.emplaceBack(u,u+2,u+3),l.primitiveLength+=2}else{var d=r.indexArray;d.emplaceBack(u,u+1),d.emplaceBack(u+1,u+2),d.emplaceBack(u+2,u+3),d.emplaceBack(u+3,u),l.primitiveLength+=4}},V.prototype.generateCollisionDebugBuffers=function(){for(var t=this,e=0,n=t.symbolInstances;e<n.length;e+=1){var i=n[e];i.textCollisionFeature={boxStartIndex:i.textBoxStartIndex,boxEndIndex:i.textBoxEndIndex},i.iconCollisionFeature={boxStartIndex:i.iconBoxStartIndex,boxEndIndex:i.iconBoxEndIndex};for(var r=0;r<2;r++){var o=i[0===r?"textCollisionFeature":"iconCollisionFeature"];if(o)for(var a=o.boxStartIndex;a<o.boxEndIndex;a++){var s=t.collisionBoxArray.get(a),l=s.x1,u=s.y1,c=s.x2,h=s.y2,p=s.radius>0;t.addCollisionDebugVertices(l,u,c,h,p?t.collisionCircle:t.collisionBox,s.anchorPoint,i,p)}}}},V.prototype.deserializeCollisionBoxes=function(t,e,n,i,r){for(var o={},a=e;a<n;a++){var s=t.get(a);if(0===s.radius){o.textBox={x1:s.x1,y1:s.y1,x2:s.x2,y2:s.y2,anchorPointX:s.anchorPointX,anchorPointY:s.anchorPointY};break}o.textCircles||(o.textCircles=[]),o.textCircles.push(s.anchorPointX,s.anchorPointY,s.radius,s.signedDistanceFromAnchor,1)}for(var l=i;l<r;l++){var u=t.get(l);if(0===u.radius){o.iconBox={x1:u.x1,y1:u.y1,x2:u.x2,y2:u.y2,anchorPointX:u.anchorPointX,anchorPointY:u.anchorPointY};break}}return o},V.prototype.hasTextData=function(){return this.text.segments.get().length>0},V.prototype.hasIconData=function(){return this.icon.segments.get().length>0},V.prototype.hasCollisionBoxData=function(){return this.collisionBox.segments.get().length>0},V.prototype.hasCollisionCircleData=function(){return this.collisionCircle.segments.get().length>0},V.prototype.sortFeatures=function(t){var e=this;if(this.sortFeaturesByY&&this.sortedAngle!==t&&(this.sortedAngle=t,!(this.text.segments.get().length>1||this.icon.segments.get().length>1))){for(var n=[],i=0;i<this.symbolInstances.length;i++)n.push(i);var r=Math.sin(t),o=Math.cos(t);n.sort(function(t,n){var i=e.symbolInstances[t],a=e.symbolInstances[n];return(r*i.anchor.x+o*i.anchor.y|0)-(r*a.anchor.x+o*a.anchor.y|0)||a.featureIndex-i.featureIndex}),this.text.indexArray.clear(),this.icon.indexArray.clear();for(var a=0,s=n;a<s.length;a+=1){for(var l=s[a],u=e.symbolInstances[l],c=0,h=u.placedTextSymbolIndices;c<h.length;c+=1)for(var p=h[c],d=e.text.placedSymbolArray.get(p),f=d.vertexStartIndex+4*d.numGlyphs,y=d.vertexStartIndex;y<f;y+=4)e.text.indexArray.emplaceBack(y,y+1,y+2),e.text.indexArray.emplaceBack(y+1,y+2,y+3);var m=e.icon.placedSymbolArray.get(l);if(m.numGlyphs){var v=m.vertexStartIndex;e.icon.indexArray.emplaceBack(v,v+1,v+2),e.icon.indexArray.emplaceBack(v+1,v+2,v+3)}}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},N("SymbolBucket",V,{omit:["layers","collisionBoxArray","features","compareText"],shallow:["symbolInstances"]}),V.MAX_GLYPHS=65535,V.addDynamicAttributes=r,e.exports=V},{"../../symbol/anchor":213,"../../symbol/mergelines":221,"../../symbol/symbol_size":228,"../../symbol/transform_text":229,"../../util/script_detection":269,"../../util/verticalize_punctuation":277,"../../util/web_worker_transfer":278,"../array_types":39,"../index_array_type":55,"../load_geometry":56,"../program_configuration":58,"../segment":60,"./symbol_attributes":50,"@mapbox/point-geometry":4,"@mapbox/vector-tile":8}],52:[function(t,e,n){"use strict";var i=t("../util/image"),r=i.RGBAImage,o=t("../util/util"),a=t("../util/web_worker_transfer"),s=a.register,l=function(t,e,n){if(t<=0)throw new RangeError("Level must have positive dimension");this.dim=t,this.border=e,this.stride=this.dim+2*this.border,this.data=n||new Int32Array((this.dim+2*this.border)*(this.dim+2*this.border))};l.prototype.set=function(t,e,n){this.data[this._idx(t,e)]=n+65536},l.prototype.get=function(t,e){return this.data[this._idx(t,e)]-65536},l.prototype._idx=function(t,e){if(t<-this.border||t>=this.dim+this.border||e<-this.border||e>=this.dim+this.border)throw new RangeError("out of range source coordinates for DEM data");return(e+this.border)*this.stride+(t+this.border)},s("Level",l);var u=function(t,e,n){this.uid=t,this.scale=e||1,this.level=n||new l(256,512),this.loaded=!!n};u.prototype.loadFromImage=function(t){var e=this;if(t.height!==t.width)throw new RangeError("DEM tiles must be square");for(var n=this.level=new l(t.width,t.width/2),i=t.data,r=0;r<n.dim;r++)for(var o=0;o<n.dim;o++){var a=r*n.dim+o,s=4*a;n.set(o,r,e.scale*((256*i[s]*256+256*i[s+1]+i[s+2])/10-1e4))}for(var u=0;u<n.dim;u++)n.set(-1,u,n.get(0,u)),n.set(n.dim,u,n.get(n.dim-1,u)),n.set(u,-1,n.get(u,0)),n.set(u,n.dim,n.get(u,n.dim-1));n.set(-1,-1,n.get(0,0)),n.set(n.dim,-1,n.get(n.dim-1,0)),n.set(-1,n.dim,n.get(0,n.dim-1)),n.set(n.dim,n.dim,n.get(n.dim-1,n.dim-1)),this.loaded=!0},u.prototype.getPixels=function(){return new r({width:this.level.dim+2*this.level.border,height:this.level.dim+2*this.level.border},new Uint8Array(this.level.data.buffer))},u.prototype.backfillBorder=function(t,e,n){var i=this.level,r=t.level;if(i.dim!==r.dim)throw new Error("level mismatch (dem dimension)");var a=e*i.dim,s=e*i.dim+i.dim,l=n*i.dim,u=n*i.dim+i.dim;switch(e){case-1:a=s-1;break;case 1:s=a+1}switch(n){case-1:l=u-1;break;case 1:u=l+1}for(var c=o.clamp(a,-i.border,i.dim+i.border),h=o.clamp(s,-i.border,i.dim+i.border),p=o.clamp(l,-i.border,i.dim+i.border),d=o.clamp(u,-i.border,i.dim+i.border),f=-e*i.dim,y=-n*i.dim,m=p;m<d;m++)for(var v=c;v<h;v++)i.set(v,m,r.get(v+f,m+y))},s("DEMData",u),e.exports={DEMData:u,Level:l}},{"../util/image":263,"../util/util":275,"../util/web_worker_transfer":278}],53:[function(t,e,n){"use strict";e.exports=8192},{}],54:[function(t,e,n){"use strict";function i(t,e){return e-t}var r=(t("@mapbox/point-geometry"),t("./load_geometry")),o=t("./extent"),a=t("../style-spec/feature_filter"),s=t("grid-index"),l=t("../util/dictionary_coder"),u=t("@mapbox/vector-tile"),c=t("pbf"),h=t("../util/vectortile_to_geojson"),p=t("../util/util").arraysIntersect,d=t("../source/tile_id"),f=(d.OverscaledTileID,t("../util/web_worker_transfer")),y=f.register,m=t("./array_types"),v=m.FeatureIndexArray,g=function(t,e,n,i){this.tileID=t,this.overscaling=e,this.x=t.canonical.x,this.y=t.canonical.y,this.z=t.canonical.z,this.grid=n||new s(o,16,0),this.featureIndexArray=i||new v};g.prototype.insert=function(t,e,n,i,r){var o=this,a=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(n,i,r);for(var s=0;s<e.length;s++){for(var l=e[s],u=[1/0,1/0,-1/0,-1/0],c=0;c<l.length;c++){var h=l[c];u[0]=Math.min(u[0],h.x),u[1]=Math.min(u[1],h.y),u[2]=Math.max(u[2],h.x),u[3]=Math.max(u[3],h.y)}o.grid.insert(a,u[0],u[1],u[2],u[3])}},g.prototype.query=function(t,e){this.vtLayers||(this.vtLayers=new u.VectorTile(new c(this.rawTileData)).layers,this.sourceLayerCoder=new l(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"]));for(var n={},r=t.params||{},s=o/t.tileSize/t.scale,h=a(r.filter),p=t.queryGeometry,d=t.additionalRadius*s,f=1/0,y=1/0,m=-1/0,v=-1/0,g=0;g<p.length;g++)for(var x=p[g],_=0;_<x.length;_++){var b=x[_];f=Math.min(f,b.x),y=Math.min(y,b.y),m=Math.max(m,b.x),v=Math.max(v,b.y)}var w=this.grid.query(f-d,y-d,m+d,v+d);w.sort(i),this.filterMatching(n,w,this.featureIndexArray,p,h,r.layers,e,t.bearing,s);var E=t.collisionIndex?t.collisionIndex.queryRenderedSymbols(p,this.tileID,o/t.tileSize,t.collisionBoxArray,t.sourceID,t.bucketInstanceIds):[];return E.sort(),this.filterMatching(n,E,t.collisionBoxArray,p,h,r.layers,e,t.bearing,s),n},g.prototype.filterMatching=function(t,e,n,i,o,a,s,l,u){for(var c,d=this,f=0;f<e.length;f++){var y=e[f];if(y!==c){c=y;var m=n.get(y),v=d.bucketLayerIDs[m.bucketIndex];if(!a||p(a,v)){var g=d.sourceLayerCoder.decode(m.sourceLayerIndex),x=d.vtLayers[g],_=x.feature(m.featureIndex);if(o({zoom:d.tileID.overscaledZ},_))for(var b=null,w=0;w<v.length;w++){var E=v[w];if(!(a&&a.indexOf(E)<0)){var M=s[E];if(M&&("symbol"===M.type||(b||(b=r(_)),M.queryIntersectsFeature(i,_,b,d.z,l,u)))){var T=new h(_,d.z,d.x,d.y);T.layer=M.serialize();var S=t[E];void 0===S&&(S=t[E]=[]),S.push({featureIndex:y,feature:T})}}}}}}},g.prototype.hasLayer=function(t){for(var e=this,n=0,i=e.bucketLayerIDs;n<i.length;n+=1)for(var r=i[n],o=0,a=r;o<a.length;o+=1){var s=a[o];if(t===s)return!0}return!1},y("FeatureIndex",g,{omit:["rawTileData","sourceLayerCoder"]}),e.exports=g},{"../source/tile_id":114,"../style-spec/feature_filter":148,"../util/dictionary_coder":257,"../util/util":275,"../util/vectortile_to_geojson":276,"../util/web_worker_transfer":278,"./array_types":39,"./extent":53,"./load_geometry":56,"@mapbox/point-geometry":4,"@mapbox/vector-tile":8,"grid-index":24,pbf:30}],55:[function(t,e,n){"use strict";e.exports={LineIndexArray:t("./array_types").LineIndexArray,TriangleIndexArray:t("./array_types").TriangleIndexArray}},{"./array_types":39}],56:[function(t,e,n){"use strict";var i=t("../util/util"),r=t("./extent"),o=function(t){return{min:-1*Math.pow(2,t-1),max:Math.pow(2,t-1)-1}}(16);e.exports=function(t){for(var e=r/t.extent,n=t.loadGeometry(),a=0;a<n.length;a++)for(var s=n[a],l=0;l<s.length;l++){var u=s[l];u.x=Math.round(u.x*e),u.y=Math.round(u.y*e),(u.x<o.min||u.x>o.max||u.y<o.min||u.y>o.max)&&i.warnOnce("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return n}},{"../util/util":275,"./extent":53}],57:[function(t,e,n){"use strict";var i=t("../util/struct_array"),r=i.createLayout;e.exports=r([{name:"a_pos",type:"Int16",components:2}])},{"../util/struct_array":271}],58:[function(t,e,n){"use strict";function i(t){return[o(255*t.r,255*t.g),o(255*t.b,255*t.a)]}function r(t,e){return{"text-opacity":"opacity","icon-opacity":"opacity","text-color":"fill_color","icon-color":"fill_color","text-halo-color":"halo_color","icon-halo-color":"halo_color","text-halo-blur":"halo_blur","icon-halo-blur":"halo_blur","text-halo-width":"halo_width","icon-halo-width":"halo_width","line-gap-width":"gapwidth"}[t]||t.replace(e+"-","").replace(/-/g,"_")}var o=t("../shaders/encode_attribute").packUint8ToFloat,a=(t("../style-spec/util/color"),t("../util/web_worker_transfer")),s=a.register,l=t("../style/properties"),u=l.PossiblyEvaluatedPropertyValue,c=t("./array_types"),h=c.StructArrayLayout1f4,p=c.StructArrayLayout2f8,d=c.StructArrayLayout4f16,f=function(t,e,n){this.value=t,this.name=e,this.type=n,this.statistics={max:-1/0}};f.prototype.defines=function(){return["#define HAS_UNIFORM_u_"+this.name]},f.prototype.populatePaintArray=function(){},f.prototype.upload=function(){},f.prototype.destroy=function(){},f.prototype.setUniforms=function(t,e,n,i){var r=i.constantOr(this.value),o=t.gl;"color"===this.type?o.uniform4f(e.uniforms["u_"+this.name],r.r,r.g,r.b,r.a):o.uniform1f(e.uniforms["u_"+this.name],r)};var y=function(t,e,n){this.expression=t,this.name=e,this.type=n,this.statistics={max:-1/0};var i="color"===n?p:h;this.paintVertexAttributes=[{name:"a_"+e,type:"Float32",components:"color"===n?2:1,offset:0}],this.paintVertexArray=new i};y.prototype.defines=function(){return[]},y.prototype.populatePaintArray=function(t,e){var n=this.paintVertexArray,r=n.length;n.reserve(t);var o=this.expression.evaluate({zoom:0},e);if("color"===this.type)for(var a=i(o),s=r;s<t;s++)n.emplaceBack(a[0],a[1]);else{for(var l=r;l<t;l++)n.emplaceBack(o);this.statistics.max=Math.max(this.statistics.max,o)}},y.prototype.upload=function(t){this.paintVertexArray&&(this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes))},y.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},y.prototype.setUniforms=function(t,e){t.gl.uniform1f(e.uniforms["a_"+this.name+"_t"],0)};var m=function(t,e,n,i,r){this.expression=t,this.name=e,this.type=n,this.useIntegerZoom=i,this.zoom=r,this.statistics={max:-1/0};var o="color"===n?d:p;this.paintVertexAttributes=[{name:"a_"+e,type:"Float32",components:"color"===n?4:2,offset:0}],this.paintVertexArray=new o};m.prototype.defines=function(){return[]},m.prototype.populatePaintArray=function(t,e){var n=this.paintVertexArray,r=n.length;n.reserve(t);var o=this.expression.evaluate({zoom:this.zoom},e),a=this.expression.evaluate({zoom:this.zoom+1},e);if("color"===this.type)for(var s=i(o),l=i(a),u=r;u<t;u++)n.emplaceBack(s[0],s[1],l[0],l[1]);else{for(var c=r;c<t;c++)n.emplaceBack(o,a);this.statistics.max=Math.max(this.statistics.max,o,a)}},m.prototype.upload=function(t){this.paintVertexArray&&(this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes))},m.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},m.prototype.interpolationFactor=function(t){return this.useIntegerZoom?this.expression.interpolationFactor(Math.floor(t),this.zoom,this.zoom+1):this.expression.interpolationFactor(t,this.zoom,this.zoom+1)},m.prototype.setUniforms=function(t,e,n){t.gl.uniform1f(e.uniforms["a_"+this.name+"_t"],this.interpolationFactor(n.zoom))};var v=function(){this.binders={},this.cacheKey="",this._buffers=[]};v.createDynamic=function(t,e,n){var i=new v,o=[];for(var a in t.paint._values)if(n(a)){var s=t.paint.get(a);if(s instanceof u&&s.property.specification["property-function"]){var l=r(a,t.type),c=s.property.specification.type,h=s.property.useIntegerZoom;"constant"===s.value.kind?(i.binders[a]=new f(s.value,l,c),o.push("/u_"+l)):"source"===s.value.kind?(i.binders[a]=new y(s.value,l,c),o.push("/a_"+l)):(i.binders[a]=new m(s.value,l,c,h,e),o.push("/z_"+l))}}return i.cacheKey=o.sort().join(""),i},v.prototype.populatePaintArrays=function(t,e){var n=this;for(var i in n.binders)n.binders[i].populatePaintArray(t,e)},v.prototype.defines=function(){var t=this,e=[];for(var n in t.binders)e.push.apply(e,t.binders[n].defines());return e},v.prototype.setUniforms=function(t,e,n,i){var r=this;for(var o in r.binders)r.binders[o].setUniforms(t,e,i,n.get(o))},v.prototype.getPaintVertexBuffers=function(){return this._buffers},v.prototype.upload=function(t){var e=this;for(var n in e.binders)e.binders[n].upload(t);var i=[];for(var r in e.binders){var o=e.binders[r];(o instanceof y||o instanceof m)&&o.paintVertexBuffer&&i.push(o.paintVertexBuffer)}this._buffers=i},v.prototype.destroy=function(){var t=this;for(var e in t.binders)t.binders[e].destroy()};var g=function(t,e,n,i){var r=this;void 0===i&&(i=function(){return!0}),this.programConfigurations={};for(var o=0,a=e;o<a.length;o+=1){var s=a[o];r.programConfigurations[s.id]=v.createDynamic(s,n,i),r.programConfigurations[s.id].layoutAttributes=t}};g.prototype.populatePaintArrays=function(t,e){var n=this;for(var i in n.programConfigurations)n.programConfigurations[i].populatePaintArrays(t,e)},g.prototype.get=function(t){return this.programConfigurations[t]},g.prototype.upload=function(t){var e=this;for(var n in e.programConfigurations)e.programConfigurations[n].upload(t)},g.prototype.destroy=function(){var t=this;for(var e in t.programConfigurations)t.programConfigurations[e].destroy()},s("ConstantBinder",f),s("SourceExpressionBinder",y),s("CompositeExpressionBinder",m),s("ProgramConfiguration",v,{omit:["_buffers"]}),s("ProgramConfigurationSet",g),e.exports={ProgramConfiguration:v,ProgramConfigurationSet:g}},{"../shaders/encode_attribute":96,"../style-spec/util/color":153,"../style/properties":188,"../util/web_worker_transfer":278,"./array_types":39}],59:[function(t,e,n){"use strict";var i=t("../util/struct_array"),r=i.createLayout;e.exports=r([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}])},{"../util/struct_array":271}],60:[function(t,e,n){"use strict";var i=t("../util/util"),r=i.warnOnce,o=t("../util/web_worker_transfer"),a=o.register,s=Math.pow(2,16)-1,l=function(t){void 0===t&&(t=[]),this.segments=t};l.prototype.prepareSegment=function(t,n,i){var o=this.segments[this.segments.length-1];return t>s&&r("Max vertices per segment is "+s+": bucket requested "+t),(!o||o.vertexLength+t>e.exports.MAX_VERTEX_ARRAY_LENGTH)&&(o={vertexOffset:n.length,primitiveOffset:i.length,vertexLength:0,primitiveLength:0},this.segments.push(o)),o},l.prototype.get=function(){return this.segments},l.prototype.destroy=function(){for(var t=this,e=0,n=t.segments;e<n.length;e+=1){var i=n[e];for(var r in i.vaos)i.vaos[r].destroy()}},a("SegmentVector",l),e.exports={SegmentVector:l,MAX_VERTEX_ARRAY_LENGTH:s}},{"../util/util":275,"../util/web_worker_transfer":278}],61:[function(t,e,n){"use strict";var i=function(t,e,n){this.column=t,this.row=e,this.zoom=n};i.prototype.clone=function(){return new i(this.column,this.row,this.zoom)},i.prototype.zoomTo=function(t){return this.clone()._zoomTo(t)},i.prototype.sub=function(t){return this.clone()._sub(t)},i.prototype._zoomTo=function(t){var e=Math.pow(2,t-this.zoom);return this.column*=e,this.row*=e,this.zoom=t,this},i.prototype._sub=function(t){return t=t.zoomTo(this.zoom),this.column-=t.column,this.row-=t.row,this},e.exports=i},{}],62:[function(t,e,n){"use strict";var i=t("../util/util").wrap,r=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid LngLat object: ("+t+", "+e+")");if(this.lng=+t,this.lat=+e,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};r.prototype.wrap=function(){return new r(i(this.lng,-180,180),this.lat)},r.prototype.toArray=function(){return[this.lng,this.lat]},r.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},r.prototype.toBounds=function(e){var n=360*e/40075017,i=n/Math.cos(Math.PI/180*this.lat);return new(t("./lng_lat_bounds"))(new r(this.lng-i,this.lat-n),new r(this.lng+i,this.lat+n))},r.convert=function(t){if(t instanceof r)return t;if(Array.isArray(t)&&(2===t.length||3===t.length))return new r(Number(t[0]),Number(t[1]));if(!Array.isArray(t)&&"object"==typeof t&&null!==t)return new r(Number(t.lng),Number(t.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")},e.exports=r},{"../util/util":275,"./lng_lat_bounds":63}],63:[function(t,e,n){"use strict";var i=t("./lng_lat"),r=function(t,e){t&&(e?this.setSouthWest(t).setNorthEast(e):4===t.length?this.setSouthWest([t[0],t[1]]).setNorthEast([t[2],t[3]]):this.setSouthWest(t[0]).setNorthEast(t[1]))};r.prototype.setNorthEast=function(t){return this._ne=t instanceof i?new i(t.lng,t.lat):i.convert(t),this},r.prototype.setSouthWest=function(t){return this._sw=t instanceof i?new i(t.lng,t.lat):i.convert(t),this},r.prototype.extend=function(t){var e,n,o=this._sw,a=this._ne;if(t instanceof i)e=t,n=t;else{if(!(t instanceof r))return Array.isArray(t)?t.every(Array.isArray)?this.extend(r.convert(t)):this.extend(i.convert(t)):this;if(e=t._sw,n=t._ne,!e||!n)return this}return o||a?(o.lng=Math.min(e.lng,o.lng),o.lat=Math.min(e.lat,o.lat),a.lng=Math.max(n.lng,a.lng),a.lat=Math.max(n.lat,a.lat)):(this._sw=new i(e.lng,e.lat),this._ne=new i(n.lng,n.lat)),this},r.prototype.getCenter=function(){return new i((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},r.prototype.getSouthWest=function(){return this._sw},r.prototype.getNorthEast=function(){return this._ne},r.prototype.getNorthWest=function(){return new i(this.getWest(),this.getNorth())},r.prototype.getSouthEast=function(){return new i(this.getEast(),this.getSouth())},r.prototype.getWest=function(){return this._sw.lng},r.prototype.getSouth=function(){return this._sw.lat},r.prototype.getEast=function(){return this._ne.lng},r.prototype.getNorth=function(){return this._ne.lat},r.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},r.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},r.prototype.isEmpty=function(){return!(this._sw&&this._ne)},r.convert=function(t){return!t||t instanceof r?t:new r(t)},e.exports=r},{"./lng_lat":62}],64:[function(t,e,n){"use strict";var i=t("./lng_lat"),r=t("@mapbox/point-geometry"),o=t("./coordinate"),a=t("../util/util"),s=t("../style-spec/util/interpolate").number,l=t("../util/tile_cover"),u=t("../source/tile_id"),c=(u.CanonicalTileID,u.UnwrappedTileID),h=t("../data/extent"),p=t("@mapbox/gl-matrix"),d=p.vec4,f=p.mat4,y=p.mat2,m=function(t,e,n){this.tileSize=512,this._renderWorldCopies=void 0===n||n,this._minZoom=t||0,this._maxZoom=e||22,this.latRange=[-85.05113,85.05113],this.width=0,this.height=0,this._center=new i(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._posMatrixCache={},this._alignedPosMatrixCache={}},v={minZoom:{},maxZoom:{},renderWorldCopies:{},worldSize:{},centerPoint:{},size:{},bearing:{},pitch:{},fov:{},zoom:{},center:{},unmodified:{},x:{},y:{},point:{}};m.prototype.clone=function(){var t=new m(this._minZoom,this._maxZoom,this._renderWorldCopies);return t.tileSize=this.tileSize,t.latRange=this.latRange,t.width=this.width,t.height=this.height,t._center=this._center,t.zoom=this.zoom,t.angle=this.angle,t._fov=this._fov,t._pitch=this._pitch,t._unmodified=this._unmodified,t._calcMatrices(),t},v.minZoom.get=function(){return this._minZoom},v.minZoom.set=function(t){this._minZoom!==t&&(this._minZoom=t,this.zoom=Math.max(this.zoom,t))},v.maxZoom.get=function(){return this._maxZoom},v.maxZoom.set=function(t){this._maxZoom!==t&&(this._maxZoom=t,this.zoom=Math.min(this.zoom,t))},v.renderWorldCopies.get=function(){return this._renderWorldCopies},v.worldSize.get=function(){return this.tileSize*this.scale},v.centerPoint.get=function(){return this.size._div(2)},v.size.get=function(){return new r(this.width,this.height)},v.bearing.get=function(){return-this.angle/Math.PI*180},v.bearing.set=function(t){var e=-a.wrap(t,-180,180)*Math.PI/180;this.angle!==e&&(this._unmodified=!1,this.angle=e,this._calcMatrices(),this.rotationMatrix=y.create(),y.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},v.pitch.get=function(){return this._pitch/Math.PI*180},v.pitch.set=function(t){var e=a.clamp(t,0,60)/180*Math.PI;this._pitch!==e&&(this._unmodified=!1,this._pitch=e,this._calcMatrices())},v.fov.get=function(){return this._fov/Math.PI*180},v.fov.set=function(t){t=Math.max(.01,Math.min(60,t)),this._fov!==t&&(this._unmodified=!1,this._fov=t/180*Math.PI,this._calcMatrices())},v.zoom.get=function(){return this._zoom},v.zoom.set=function(t){var e=Math.min(Math.max(t,this.minZoom),this.maxZoom);this._zoom!==e&&(this._unmodified=!1,this._zoom=e,this.scale=this.zoomScale(e),this.tileZoom=Math.floor(e),this.zoomFraction=e-this.tileZoom,this._constrain(),this._calcMatrices())},v.center.get=function(){return this._center},v.center.set=function(t){t.lat===this._center.lat&&t.lng===this._center.lng||(this._unmodified=!1,this._center=t,this._constrain(),this._calcMatrices())},m.prototype.coveringZoomLevel=function(t){return(t.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/t.tileSize))},m.prototype.getVisibleUnwrappedCoordinates=function(t){var e=this.pointCoordinate(new r(0,0),0),n=this.pointCoordinate(new r(this.width,0),0),i=Math.floor(e.column),o=Math.floor(n.column),a=[new c(0,t)];if(this._renderWorldCopies)for(var s=i;s<=o;s++)0!==s&&a.push(new c(s,t));return a},m.prototype.coveringTiles=function(t){var e=this.coveringZoomLevel(t),n=e;if(void 0!==t.minzoom&&e<t.minzoom)return[];void 0!==t.maxzoom&&e>t.maxzoom&&(e=t.maxzoom);var i=this.pointCoordinate(this.centerPoint,e),o=new r(i.column-.5,i.row-.5),a=[this.pointCoordinate(new r(0,0),e),this.pointCoordinate(new r(this.width,0),e),this.pointCoordinate(new r(this.width,this.height),e),this.pointCoordinate(new r(0,this.height),e)];return l(e,a,t.reparseOverscaled?n:e,this._renderWorldCopies).sort(function(t,e){return o.dist(t.canonical)-o.dist(e.canonical)})},m.prototype.resize=function(t,e){this.width=t,this.height=e,this.pixelsToGLUnits=[2/t,-2/e],this._constrain(),this._calcMatrices()},v.unmodified.get=function(){return this._unmodified},m.prototype.zoomScale=function(t){return Math.pow(2,t)},m.prototype.scaleZoom=function(t){return Math.log(t)/Math.LN2},m.prototype.project=function(t){return new r(this.lngX(t.lng),this.latY(t.lat))},m.prototype.unproject=function(t){return new i(this.xLng(t.x),this.yLat(t.y))},v.x.get=function(){return this.lngX(this.center.lng)},v.y.get=function(){return this.latY(this.center.lat)},v.point.get=function(){return new r(this.x,this.y)},m.prototype.lngX=function(t){return(180+t)*this.worldSize/360},m.prototype.latY=function(t){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t*Math.PI/360)))*this.worldSize/360},m.prototype.xLng=function(t){return 360*t/this.worldSize-180},m.prototype.yLat=function(t){var e=180-360*t/this.worldSize;return 360/Math.PI*Math.atan(Math.exp(e*Math.PI/180))-90},m.prototype.setLocationAtPoint=function(t,e){var n=this.pointCoordinate(e)._sub(this.pointCoordinate(this.centerPoint));this.center=this.coordinateLocation(this.locationCoordinate(t)._sub(n)),this._renderWorldCopies&&(this.center=this.center.wrap())},m.prototype.locationPoint=function(t){return this.coordinatePoint(this.locationCoordinate(t))},m.prototype.pointLocation=function(t){return this.coordinateLocation(this.pointCoordinate(t))},m.prototype.locationCoordinate=function(t){return new o(this.lngX(t.lng)/this.tileSize,this.latY(t.lat)/this.tileSize,this.zoom).zoomTo(this.tileZoom)},m.prototype.coordinateLocation=function(t){var e=t.zoomTo(this.zoom);return new i(this.xLng(e.column*this.tileSize),this.yLat(e.row*this.tileSize))},m.prototype.pointCoordinate=function(t,e){void 0===e&&(e=this.tileZoom);var n=[t.x,t.y,0,1],i=[t.x,t.y,1,1];d.transformMat4(n,n,this.pixelMatrixInverse),d.transformMat4(i,i,this.pixelMatrixInverse);var r=n[3],a=i[3],l=n[0]/r,u=i[0]/a,c=n[1]/r,h=i[1]/a,p=n[2]/r,f=i[2]/a,y=p===f?0:(0-p)/(f-p);return new o(s(l,u,y)/this.tileSize,s(c,h,y)/this.tileSize,this.zoom)._zoomTo(e)},m.prototype.coordinatePoint=function(t){var e=t.zoomTo(this.zoom),n=[e.column*this.tileSize,e.row*this.tileSize,0,1];return d.transformMat4(n,n,this.pixelMatrix),new r(n[0]/n[3],n[1]/n[3])},m.prototype.calculatePosMatrix=function(t,e){void 0===e&&(e=!1);var n=t.key,i=e?this._alignedPosMatrixCache:this._posMatrixCache;if(i[n])return i[n];var r=t.canonical,o=this.worldSize/this.zoomScale(r.z),a=r.x+Math.pow(2,r.z)*t.wrap,s=f.identity(new Float64Array(16));return f.translate(s,s,[a*o,r.y*o,0]),f.scale(s,s,[o/h,o/h,1]),f.multiply(s,e?this.alignedProjMatrix:this.projMatrix,s),i[n]=new Float32Array(s),i[n]},m.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var t,e,n,i,o=-90,a=90,s=-180,l=180,u=this.size,c=this._unmodified;if(this.latRange){var h=this.latRange;o=this.latY(h[1]),a=this.latY(h[0]),t=a-o<u.y?u.y/(a-o):0}if(this.lngRange){var p=this.lngRange;s=this.lngX(p[0]),l=this.lngX(p[1]),e=l-s<u.x?u.x/(l-s):0}var d=Math.max(e||0,t||0);if(d)return this.center=this.unproject(new r(e?(l+s)/2:this.x,t?(a+o)/2:this.y)),this.zoom+=this.scaleZoom(d),this._unmodified=c,void(this._constraining=!1);if(this.latRange){var f=this.y,y=u.y/2;f-y<o&&(i=o+y),f+y>a&&(i=a-y)}if(this.lngRange){var m=this.x,v=u.x/2;m-v<s&&(n=s+v),m+v>l&&(n=l-v)}void 0===n&&void 0===i||(this.center=this.unproject(new r(void 0!==n?n:this.x,void 0!==i?i:this.y))),this._unmodified=c,this._constraining=!1}},m.prototype._calcMatrices=function(){if(this.height){this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var t=this._fov/2,e=Math.PI/2+this._pitch,n=Math.sin(t)*this.cameraToCenterDistance/Math.sin(Math.PI-e-t),i=this.x,r=this.y,o=Math.cos(Math.PI/2-this._pitch)*n+this.cameraToCenterDistance,a=1.01*o,s=new Float64Array(16);f.perspective(s,this._fov,this.width/this.height,1,a),f.scale(s,s,[1,-1,1]),f.translate(s,s,[0,0,-this.cameraToCenterDistance]),f.rotateX(s,s,this._pitch),f.rotateZ(s,s,this.angle),f.translate(s,s,[-i,-r,0]);var l=this.worldSize/(2*Math.PI*6378137*Math.abs(Math.cos(this.center.lat*(Math.PI/180))));f.scale(s,s,[1,1,l,1]),this.projMatrix=s;var u=this.width%2/2,c=this.height%2/2,h=Math.cos(this.angle),p=Math.sin(this.angle),d=i-Math.round(i)+h*u+p*c,y=r-Math.round(r)+h*c+p*u,m=new Float64Array(s);if(f.translate(m,m,[d>.5?d-1:d,y>.5?y-1:y,0]),this.alignedProjMatrix=m,s=f.create(),f.scale(s,s,[this.width/2,-this.height/2,1]),f.translate(s,s,[1,-1,0]),this.pixelMatrix=f.multiply(new Float64Array(16),s,this.projMatrix),!(s=f.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=s,this._posMatrixCache={},this._alignedPosMatrixCache={}}},Object.defineProperties(m.prototype,v),e.exports=m},{"../data/extent":53,"../source/tile_id":114,"../style-spec/util/interpolate":158,"../util/tile_cover":273,"../util/util":275,"./coordinate":61,"./lng_lat":62,"@mapbox/gl-matrix":2,"@mapbox/point-geometry":4}],65:[function(t,e,n){"use strict";var i=t("../style-spec/util/color"),r=function(t,e,n){this.blendFunction=t,this.blendColor=e,this.mask=n};r.Replace=[1,0],r.disabled=new r(r.Replace,i.transparent,[!1,!1,!1,!1]),r.unblended=new r(r.Replace,i.transparent,[!0,!0,!0,!0]),r.alphaBlended=new r([1,771],i.transparent,[!0,!0,!0,!0]),e.exports=r},{"../style-spec/util/color":153}],66:[function(t,e,n){"use strict";var i=t("./index_buffer"),r=t("./vertex_buffer"),o=t("./framebuffer"),a=(t("./depth_mode"),t("./stencil_mode"),t("./color_mode")),s=t("../util/util"),l=t("./value"),u=l.ClearColor,c=l.ClearDepth,h=l.ClearStencil,p=l.ColorMask,d=l.DepthMask,f=l.StencilMask,y=l.StencilFunc,m=l.StencilOp,v=l.StencilTest,g=l.DepthRange,x=l.DepthTest,_=l.DepthFunc,b=l.Blend,w=l.BlendFunc,E=l.BlendColor,M=l.Program,T=l.LineWidth,S=l.ActiveTextureUnit,A=l.Viewport,C=l.BindFramebuffer,L=l.BindRenderbuffer,k=l.BindTexture,P=l.BindVertexBuffer,I=l.BindElementBuffer,R=l.BindVertexArrayOES,z=l.PixelStoreUnpack,O=l.PixelStoreUnpackPremultiplyAlpha,D=function(t){this.gl=t,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.lineWidthRange=t.getParameter(t.ALIASED_LINE_WIDTH_RANGE),this.clearColor=new u(this),this.clearDepth=new c(this),this.clearStencil=new h(this),this.colorMask=new p(this),this.depthMask=new d(this),this.stencilMask=new f(this),this.stencilFunc=new y(this),this.stencilOp=new m(this),this.stencilTest=new v(this),this.depthRange=new g(this),this.depthTest=new x(this),this.depthFunc=new _(this),this.blend=new b(this),this.blendFunc=new w(this),this.blendColor=new E(this),this.program=new M(this),this.lineWidth=new T(this),this.activeTexture=new S(this),this.viewport=new A(this),this.bindFramebuffer=new C(this),this.bindRenderbuffer=new L(this),this.bindTexture=new k(this),this.bindVertexBuffer=new P(this),this.bindElementBuffer=new I(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new R(this),this.pixelStoreUnpack=new z(this),this.pixelStoreUnpackPremultiplyAlpha=new O(this),this.extTextureFilterAnisotropic=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=t.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=t.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&t.getExtension("OES_texture_half_float_linear")};D.prototype.createIndexBuffer=function(t,e){return new i(this,t,e)},D.prototype.createVertexBuffer=function(t,e,n){return new r(this,t,e,n)},D.prototype.createRenderbuffer=function(t,e,n){var i=this.gl,r=i.createRenderbuffer();return this.bindRenderbuffer.set(r),i.renderbufferStorage(i.RENDERBUFFER,t,e,n),this.bindRenderbuffer.set(null),r},D.prototype.createFramebuffer=function(t,e){return new o(this,t,e)},D.prototype.clear=function(t){var e=t.color,n=t.depth,i=this.gl,r=0;e&&(r|=i.COLOR_BUFFER_BIT,this.clearColor.set(e),this.colorMask.set([!0,!0,!0,!0])),void 0!==n&&(r|=i.DEPTH_BUFFER_BIT,this.clearDepth.set(n),this.depthMask.set(!0)),i.clear(r)},D.prototype.setDepthMode=function(t){t.func!==this.gl.ALWAYS||t.mask?(this.depthTest.set(!0),this.depthFunc.set(t.func),this.depthMask.set(t.mask),this.depthRange.set(t.range)):this.depthTest.set(!1)},D.prototype.setStencilMode=function(t){t.func!==this.gl.ALWAYS||t.mask?(this.stencilTest.set(!0),this.stencilMask.set(t.mask),this.stencilOp.set([t.fail,t.depthFail,t.pass]),this.stencilFunc.set({func:t.test.func,ref:t.ref,mask:t.test.mask})):this.stencilTest.set(!1)},D.prototype.setColorMode=function(t){s.deepEqual(t.blendFunction,a.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(t.blendFunction),this.blendColor.set(t.blendColor)),this.colorMask.set(t.mask)},e.exports=D},{"../util/util":275,"./color_mode":65,"./depth_mode":67,"./framebuffer":68,"./index_buffer":69,"./stencil_mode":70,"./value":71,"./vertex_buffer":72}],67:[function(t,e,n){"use strict";var i=function(t,e,n){this.func=t,this.mask=e,this.range=n};i.ReadOnly=!1,i.ReadWrite=!0,i.disabled=new i(519,i.ReadOnly,[0,1]),e.exports=i},{}],68:[function(t,e,n){"use strict";var i=t("./value"),r=i.ColorAttachment,o=i.DepthAttachment,a=function(t,e,n){this.context=t,this.width=e,this.height=n;var i=t.gl,a=this.framebuffer=i.createFramebuffer();this.colorAttachment=new r(t,a),this.depthAttachment=new o(t,a)};a.prototype.destroy=function(){var t=this.context.gl,e=this.colorAttachment.get();e&&t.deleteTexture(e);var n=this.depthAttachment.get();n&&t.deleteRenderbuffer(n),t.deleteFramebuffer(this.framebuffer)},e.exports=a},{"./value":71}],69:[function(t,e,n){"use strict";var i=function(t,e,n){this.context=t;var i=t.gl;this.buffer=i.createBuffer(),this.dynamicDraw=Boolean(n),this.unbindVAO(),t.bindElementBuffer.set(this.buffer),i.bufferData(i.ELEMENT_ARRAY_BUFFER,e.arrayBuffer,this.dynamicDraw?i.DYNAMIC_DRAW:i.STATIC_DRAW),this.dynamicDraw||delete e.arrayBuffer};i.prototype.unbindVAO=function(){this.context.extVertexArrayObject&&this.context.bindVertexArrayOES.set(null)},i.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},i.prototype.updateData=function(t){var e=this.context.gl;this.unbindVAO(),this.bind(),e.bufferSubData(e.ELEMENT_ARRAY_BUFFER,0,t.arrayBuffer)},i.prototype.destroy=function(){var t=this.context.gl;this.buffer&&(t.deleteBuffer(this.buffer),delete this.buffer)},e.exports=i},{}],70:[function(t,e,n){"use strict";var i=function(t,e,n,i,r,o){this.test=t,this.ref=e,this.mask=n,this.fail=i,this.depthFail=r,this.pass=o};i.disabled=new i({func:519,mask:0},0,0,7680,7680,7680),e.exports=i},{}],71:[function(t,e,n){"use strict";var i=t("../style-spec/util/color"),r=t("../util/util"),o=function(t){this.context=t,this.current=i.transparent};o.prototype.get=function(){return this.current},o.prototype.set=function(t){var e=this.current;t.r===e.r&&t.g===e.g&&t.b===e.b&&t.a===e.a||(this.context.gl.clearColor(t.r,t.g,t.b,t.a),this.current=t)};var a=function(t){this.context=t,this.current=1};a.prototype.get=function(){return this.current},a.prototype.set=function(t){this.current!==t&&(this.context.gl.clearDepth(t),this.current=t)};var s=function(t){this.context=t,this.current=0};s.prototype.get=function(){return this.current},s.prototype.set=function(t){this.current!==t&&(this.context.gl.clearStencil(t),this.current=t)};var l=function(t){this.context=t,this.current=[!0,!0,!0,!0]};l.prototype.get=function(){return this.current},l.prototype.set=function(t){var e=this.current;t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]||(this.context.gl.colorMask(t[0],t[1],t[2],t[3]),this.current=t)};var u=function(t){this.context=t,this.current=!0};u.prototype.get=function(){return this.current},u.prototype.set=function(t){this.current!==t&&(this.context.gl.depthMask(t),this.current=t)};var c=function(t){this.context=t,this.current=255};c.prototype.get=function(){return this.current},c.prototype.set=function(t){this.current!==t&&(this.context.gl.stencilMask(t),this.current=t)};var h=function(t){this.context=t,this.current={func:t.gl.ALWAYS,ref:0,mask:255}};h.prototype.get=function(){return this.current},h.prototype.set=function(t){var e=this.current;t.func===e.func&&t.ref===e.ref&&t.mask===e.mask||(this.context.gl.stencilFunc(t.func,t.ref,t.mask),this.current=t)};var p=function(t){this.context=t;var e=this.context.gl;this.current=[e.KEEP,e.KEEP,e.KEEP]};p.prototype.get=function(){return this.current},p.prototype.set=function(t){var e=this.current;t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]||(this.context.gl.stencilOp(t[0],t[1],t[2]),this.current=t)};var d=function(t){this.context=t,this.current=!1};d.prototype.get=function(){return this.current},d.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;t?e.enable(e.STENCIL_TEST):e.disable(e.STENCIL_TEST),this.current=t}};var f=function(t){this.context=t,this.current=[0,1]};f.prototype.get=function(){return this.current},f.prototype.set=function(t){var e=this.current;t[0]===e[0]&&t[1]===e[1]||(this.context.gl.depthRange(t[0],t[1]),this.current=t)};var y=function(t){this.context=t,this.current=!1};y.prototype.get=function(){return this.current},y.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;t?e.enable(e.DEPTH_TEST):e.disable(e.DEPTH_TEST),this.current=t}};var m=function(t){this.context=t,this.current=t.gl.LESS};m.prototype.get=function(){return this.current},m.prototype.set=function(t){this.current!==t&&(this.context.gl.depthFunc(t),this.current=t)};var v=function(t){this.context=t,this.current=!1};v.prototype.get=function(){return this.current},v.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;t?e.enable(e.BLEND):e.disable(e.BLEND),this.current=t}};var g=function(t){this.context=t;var e=this.context.gl;this.current=[e.ONE,e.ZERO]};g.prototype.get=function(){return this.current},g.prototype.set=function(t){var e=this.current;t[0]===e[0]&&t[1]===e[1]||(this.context.gl.blendFunc(t[0],t[1]),this.current=t)};var x=function(t){this.context=t,this.current=i.transparent};x.prototype.get=function(){return this.current},x.prototype.set=function(t){var e=this.current;t.r===e.r&&t.g===e.g&&t.b===e.b&&t.a===e.a||(this.context.gl.blendColor(t.r,t.g,t.b,t.a),this.current=t)};var _=function(t){this.context=t,this.current=null};_.prototype.get=function(){return this.current},_.prototype.set=function(t){this.current!==t&&(this.context.gl.useProgram(t),this.current=t)};var b=function(t){this.context=t,this.current=1};b.prototype.get=function(){return this.current},b.prototype.set=function(t){var e=this.context.lineWidthRange,n=r.clamp(t,e[0],e[1]);this.current!==n&&(this.context.gl.lineWidth(n),this.current=t)};var w=function(t){this.context=t,this.current=t.gl.TEXTURE0};w.prototype.get=function(){return this.current},w.prototype.set=function(t){this.current!==t&&(this.context.gl.activeTexture(t),this.current=t)};var E=function(t){this.context=t;var e=this.context.gl;this.current=[0,0,e.drawingBufferWidth,e.drawingBufferHeight]};E.prototype.get=function(){return this.current},E.prototype.set=function(t){var e=this.current;t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]||(this.context.gl.viewport(t[0],t[1],t[2],t[3]),this.current=t)};var M=function(t){this.context=t,this.current=null};M.prototype.get=function(){return this.current},M.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;e.bindFramebuffer(e.FRAMEBUFFER,t),this.current=t}};var T=function(t){this.context=t,this.current=null};T.prototype.get=function(){return this.current},T.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;e.bindRenderbuffer(e.RENDERBUFFER,t),this.current=t}};var S=function(t){this.context=t,this.current=null};S.prototype.get=function(){return this.current},S.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;e.bindTexture(e.TEXTURE_2D,t),this.current=t}};var A=function(t){this.context=t,this.current=null};A.prototype.get=function(){return this.current},A.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;e.bindBuffer(e.ARRAY_BUFFER,t),this.current=t}};var C=function(t){this.context=t,this.current=null};C.prototype.get=function(){return this.current},C.prototype.set=function(t){var e=this.context.gl;e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t),this.current=t};var L=function(t){this.context=t,this.current=null};L.prototype.get=function(){return this.current},L.prototype.set=function(t){this.current!==t&&this.context.extVertexArrayObject&&(this.context.extVertexArrayObject.bindVertexArrayOES(t),this.current=t)};var k=function(t){this.context=t,this.current=4};k.prototype.get=function(){return this.current},k.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;e.pixelStorei(e.UNPACK_ALIGNMENT,t),this.current=t}};var P=function(t){this.context=t,this.current=!1};P.prototype.get=function(){return this.current},P.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t),this.current=t}};var I=function(t,e){this.context=t,this.current=null,this.parent=e};I.prototype.get=function(){return this.current};var R=function(t){function e(e,n){t.call(this,e,n),this.dirty=!1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.set=function(t){if(this.dirty||this.current!==t){var e=this.context.gl;this.context.bindFramebuffer.set(this.parent),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0),this.current=t,this.dirty=!1}},e.prototype.setDirty=function(){this.dirty=!0},e}(I),z=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.set=function(t){if(this.current!==t){var e=this.context.gl;this.context.bindFramebuffer.set(this.parent),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t),this.current=t}},e}(I);e.exports={ClearColor:o,ClearDepth:a,ClearStencil:s,ColorMask:l,DepthMask:u,StencilMask:c,StencilFunc:h,StencilOp:p,StencilTest:d,DepthRange:f,DepthTest:y,DepthFunc:m,Blend:v,BlendFunc:g,BlendColor:x,Program:_,LineWidth:b,ActiveTextureUnit:w,Viewport:E,BindFramebuffer:M,BindRenderbuffer:T,BindTexture:S,BindVertexBuffer:A,BindElementBuffer:C,BindVertexArrayOES:L,PixelStoreUnpack:k,PixelStoreUnpackPremultiplyAlpha:P,ColorAttachment:R,DepthAttachment:z}},{"../style-spec/util/color":153,"../util/util":275}],72:[function(t,e,n){"use strict";var i={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},r=function(t,e,n,i){this.length=e.length,this.attributes=n,this.itemSize=e.bytesPerElement,this.dynamicDraw=i,this.context=t;var r=t.gl;this.buffer=r.createBuffer(),t.bindVertexBuffer.set(this.buffer),r.bufferData(r.ARRAY_BUFFER,e.arrayBuffer,this.dynamicDraw?r.DYNAMIC_DRAW:r.STATIC_DRAW),this.dynamicDraw||delete e.arrayBuffer};r.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},r.prototype.updateData=function(t){var e=this.context.gl;this.bind(),e.bufferSubData(e.ARRAY_BUFFER,0,t.arrayBuffer)},r.prototype.enableAttributes=function(t,e){for(var n=this,i=0;i<this.attributes.length;i++){var r=n.attributes[i],o=e.attributes[r.name];void 0!==o&&t.enableVertexAttribArray(o)}},r.prototype.setVertexAttribPointers=function(t,e,n){for(var r=this,o=0;o<this.attributes.length;o++){var a=r.attributes[o],s=e.attributes[a.name];void 0!==s&&t.vertexAttribPointer(s,a.components,t[i[a.type]],!1,r.itemSize,a.offset+r.itemSize*(n||0))}},r.prototype.destroy=function(){var t=this.context.gl;this.buffer&&(t.deleteBuffer(this.buffer),delete this.buffer)},e.exports=r},{}],73:[function(t,e,n){"use strict";var i=t("@mapbox/mapbox-gl-supported"),r=t("./util/browser"),o=t("../package.json").version,a=t("./ui/map"),s=t("./ui/control/navigation_control"),l=t("./ui/control/geolocate_control"),u=t("./ui/control/attribution_control"),c=t("./ui/control/scale_control"),h=t("./ui/control/fullscreen_control"),p=t("./ui/popup"),d=t("./ui/marker"),f=t("./style/style"),y=t("./geo/lng_lat"),m=t("./geo/lng_lat_bounds"),v=t("@mapbox/point-geometry"),g=t("./util/evented"),x=t("./util/config"),_=t("./source/rtl_text_plugin");e.exports={version:o,supported:i,workerCount:Math.max(Math.floor(r.hardwareConcurrency/2),1),setRTLTextPlugin:_.setRTLTextPlugin,Map:a,NavigationControl:s,GeolocateControl:l,AttributionControl:u,ScaleControl:c,FullscreenControl:h,Popup:p,Marker:d,Style:f,LngLat:y,LngLatBounds:m,Point:v,Evented:g,config:x,get accessToken(){return x.ACCESS_TOKEN},set accessToken(t){x.ACCESS_TOKEN=t}}},{"../package.json":38,"./geo/lng_lat":62,"./geo/lng_lat_bounds":63,"./source/rtl_text_plugin":109,"./style/style":190,"./ui/control/attribution_control":232,"./ui/control/fullscreen_control":233,"./ui/control/geolocate_control":234,"./ui/control/navigation_control":236,"./ui/control/scale_control":237,"./ui/map":247,"./ui/marker":248,"./ui/popup":249,"./util/browser":252,"./util/config":256,"./util/evented":260,"@mapbox/mapbox-gl-supported":3,"@mapbox/point-geometry":4}],74:[function(t,e,n){"use strict";function i(t,e,n){var i=n.paint.get("background-color"),s=n.paint.get("background-opacity");if(0!==s){var l=t.context,u=l.gl,c=t.transform,h=c.tileSize,p=n.paint.get("background-pattern"),d=p||1!==i.a||1!==s?"translucent":"opaque";if(t.renderPass===d){l.setStencilMode(o.disabled),l.setDepthMode(t.depthModeForSublayer(0,"opaque"===d?a.ReadWrite:a.ReadOnly)),l.setColorMode(t.colorModeForRenderPass());var f;if(p){if(r.isPatternMissing(p,t))return;f=t.useProgram("backgroundPattern"),r.prepare(p,t,f),t.tileExtentPatternVAO.bind(l,f,t.tileExtentBuffer,[])}else f=t.useProgram("background"),u.uniform4fv(f.uniforms.u_color,[i.r,i.g,i.b,i.a]),t.tileExtentVAO.bind(l,f,t.tileExtentBuffer,[]);u.uniform1f(f.uniforms.u_opacity,s);for(var y=c.coveringTiles({tileSize:h}),m=0,v=y;m<v.length;m+=1){var g=v[m];p&&r.setTile({tileID:g,tileSize:h},t,f),u.uniformMatrix4fv(f.uniforms.u_matrix,!1,t.transform.calculatePosMatrix(g.toUnwrapped())),u.drawArrays(u.TRIANGLE_STRIP,0,t.tileExtentBuffer.length)}}}}var r=t("./pattern"),o=t("../gl/stencil_mode"),a=t("../gl/depth_mode");e.exports=i},{"../gl/depth_mode":67,"../gl/stencil_mode":70,"./pattern":91}],75:[function(t,e,n){"use strict";function i(t,e,n,i){if("translucent"===t.renderPass){var s=n.paint.get("circle-opacity"),l=n.paint.get("circle-stroke-width"),u=n.paint.get("circle-stroke-opacity");if(0!==s.constantOr(1)||0!==l.constantOr(1)&&0!==u.constantOr(1)){var c=t.context,h=c.gl;c.setDepthMode(t.depthModeForSublayer(0,a.ReadOnly)),c.setStencilMode(o.disabled),c.setColorMode(t.colorModeForRenderPass());for(var p=!0,d=0;d<i.length;d++){var f=i[d],y=e.getTile(f),m=y.getBucket(n);if(m){var v=t.context.program.get(),g=m.programConfigurations.get(n.id),x=t.useProgram("circle",g);if((p||x.program!==v)&&(g.setUniforms(c,x,n.paint,{zoom:t.transform.zoom}),p=!1),h.uniform1f(x.uniforms.u_camera_to_center_distance,t.transform.cameraToCenterDistance),h.uniform1i(x.uniforms.u_scale_with_map,"map"===n.paint.get("circle-pitch-scale")?1:0),"map"===n.paint.get("circle-pitch-alignment")){h.uniform1i(x.uniforms.u_pitch_with_map,1);var _=r(y,1,t.transform.zoom);h.uniform2f(x.uniforms.u_extrude_scale,_,_)}else h.uniform1i(x.uniforms.u_pitch_with_map,0),h.uniform2fv(x.uniforms.u_extrude_scale,t.transform.pixelsToGLUnits);h.uniformMatrix4fv(x.uniforms.u_matrix,!1,t.translatePosMatrix(f.posMatrix,y,n.paint.get("circle-translate"),n.paint.get("circle-translate-anchor"))),x.draw(c,h.TRIANGLES,n.id,m.layoutVertexBuffer,m.indexBuffer,m.segments,g)}}}}}var r=t("../source/pixels_to_tile_units"),o=t("../gl/stencil_mode"),a=t("../gl/depth_mode");e.exports=i},{"../gl/depth_mode":67,"../gl/stencil_mode":70,"../source/pixels_to_tile_units":104}],76:[function(t,e,n){"use strict";function i(t,e,n,i,r){var l=t.context,u=l.gl,c=r?t.useProgram("collisionCircle"):t.useProgram("collisionBox");l.setDepthMode(a.disabled),l.setStencilMode(s.disabled),l.setColorMode(t.colorModeForRenderPass());for(var h=0;h<i.length;h++){var p=i[h],d=e.getTile(p),f=d.getBucket(n);if(f){var y=r?f.collisionCircle:f.collisionBox;if(y){u.uniformMatrix4fv(c.uniforms.u_matrix,!1,p.posMatrix),r||l.lineWidth.set(1),u.uniform1f(c.uniforms.u_camera_to_center_distance,t.transform.cameraToCenterDistance);var m=o(d,1,t.transform.zoom),v=Math.pow(2,t.transform.zoom-d.tileID.overscaledZ);u.uniform1f(c.uniforms.u_pixels_to_tile_units,m),u.uniform2f(c.uniforms.u_extrude_scale,t.transform.pixelsToGLUnits[0]/(m*v),t.transform.pixelsToGLUnits[1]/(m*v)),c.draw(l,r?u.TRIANGLES:u.LINES,n.id,y.layoutVertexBuffer,y.indexBuffer,y.segments,null,y.collisionVertexBuffer,null)}}}}function r(t,e,n,r){i(t,e,n,r,!1),i(t,e,n,r,!0)}var o=t("../source/pixels_to_tile_units"),a=t("../gl/depth_mode"),s=t("../gl/stencil_mode");e.exports=r},{"../gl/depth_mode":67,"../gl/stencil_mode":70,"../source/pixels_to_tile_units":104}],77:[function(t,e,n){"use strict";function i(t,e,n){for(var i=0;i<n.length;i++)r(t,e,n[i])}function r(t,e,n){var i=t.context,r=i.gl;i.lineWidth.set(1*a.devicePixelRatio);var c=n.posMatrix,y=t.useProgram("debug");i.setDepthMode(d.disabled),i.setStencilMode(f.disabled),i.setColorMode(t.colorModeForRenderPass()),r.uniformMatrix4fv(y.uniforms.u_matrix,!1,c),r.uniform4f(y.uniforms.u_color,1,0,0,1),t.debugVAO.bind(i,y,t.debugBuffer,[]),r.drawArrays(r.LINE_STRIP,0,t.debugBuffer.length);for(var m=o(n.toString(),50,200,5),v=new h,g=0;g<m.length;g+=2)v.emplaceBack(m[g],m[g+1]);var x=i.createVertexBuffer(v,p.members);(new u).bind(i,y,x,[]),r.uniform4f(y.uniforms.u_color,1,1,1,1);for(var _=e.getTile(n).tileSize,b=l/(Math.pow(2,t.transform.zoom-n.overscaledZ)*_),w=[[-1,-1],[-1,1],[1,-1],[1,1]],E=0;E<w.length;E++){var M=w[E];r.uniformMatrix4fv(y.uniforms.u_matrix,!1,s.translate([],c,[b*M[0],b*M[1],0])),r.drawArrays(r.LINES,0,x.length)}r.uniform4f(y.uniforms.u_color,0,0,0,1),r.uniformMatrix4fv(y.uniforms.u_matrix,!1,c),r.drawArrays(r.LINES,0,x.length)}function o(t,e,n,i){i=i||1;var r,o,a,s,l,u,c,h,p=[];for(r=0,o=t.length;r<o;r++)if(l=y[t[r]]){for(h=null,a=0,s=l[1].length;a<s;a+=2)-1===l[1][a]&&-1===l[1][a+1]?h=null:(u=e+l[1][a]*i,c=n-l[1][a+1]*i,h&&p.push(h.x,h.y,u,c),h={x:u,y:c});e+=l[0]*i}return p}var a=t("../util/browser"),s=t("@mapbox/gl-matrix").mat4,l=t("../data/extent"),u=t("./vertex_array_object"),c=t("../data/array_types"),h=c.PosArray,p=t("../data/pos_attributes"),d=t("../gl/depth_mode"),f=t("../gl/stencil_mode");e.exports=i;var y={" ":[16,[]],"!":[10,[5,21,5,7,-1,-1,5,2,4,1,5,0,6,1,5,2]],'"':[16,[4,21,4,14,-1,-1,12,21,12,14]],"#":[21,[11,25,4,-7,-1,-1,17,25,10,-7,-1,-1,4,12,18,12,-1,-1,3,6,17,6]],$:[20,[8,25,8,-4,-1,-1,12,25,12,-4,-1,-1,17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],"%":[24,[21,21,3,0,-1,-1,8,21,10,19,10,17,9,15,7,14,5,14,3,16,3,18,4,20,6,21,8,21,10,20,13,19,16,19,19,20,21,21,-1,-1,17,7,15,6,14,4,14,2,16,0,18,0,20,1,21,3,21,5,19,7,17,7]],"&":[26,[23,12,23,13,22,14,21,14,20,13,19,11,17,6,15,3,13,1,11,0,7,0,5,1,4,2,3,4,3,6,4,8,5,9,12,13,13,14,14,16,14,18,13,20,11,21,9,20,8,18,8,16,9,13,11,10,16,3,18,1,20,0,22,0,23,1,23,2]],"'":[10,[5,19,4,20,5,21,6,20,6,18,5,16,4,15]],"(":[14,[11,25,9,23,7,20,5,16,4,11,4,7,5,2,7,-2,9,-5,11,-7]],")":[14,[3,25,5,23,7,20,9,16,10,11,10,7,9,2,7,-2,5,-5,3,-7]],"*":[16,[8,21,8,9,-1,-1,3,18,13,12,-1,-1,13,18,3,12]],"+":[26,[13,18,13,0,-1,-1,4,9,22,9]],",":[10,[6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"-":[26,[4,9,22,9]],".":[10,[5,2,4,1,5,0,6,1,5,2]],"/":[22,[20,25,2,-7]],0:[20,[9,21,6,20,4,17,3,12,3,9,4,4,6,1,9,0,11,0,14,1,16,4,17,9,17,12,16,17,14,20,11,21,9,21]],1:[20,[6,17,8,18,11,21,11,0]],2:[20,[4,16,4,17,5,19,6,20,8,21,12,21,14,20,15,19,16,17,16,15,15,13,13,10,3,0,17,0]],3:[20,[5,21,16,21,10,13,13,13,15,12,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],4:[20,[13,21,3,7,18,7,-1,-1,13,21,13,0]],5:[20,[15,21,5,21,4,12,5,13,8,14,11,14,14,13,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],6:[20,[16,18,15,20,12,21,10,21,7,20,5,17,4,12,4,7,5,3,7,1,10,0,11,0,14,1,16,3,17,6,17,7,16,10,14,12,11,13,10,13,7,12,5,10,4,7]],7:[20,[17,21,7,0,-1,-1,3,21,17,21]],8:[20,[8,21,5,20,4,18,4,16,5,14,7,13,11,12,14,11,16,9,17,7,17,4,16,2,15,1,12,0,8,0,5,1,4,2,3,4,3,7,4,9,6,11,9,12,13,13,15,14,16,16,16,18,15,20,12,21,8,21]],9:[20,[16,14,15,11,13,9,10,8,9,8,6,9,4,11,3,14,3,15,4,18,6,20,9,21,10,21,13,20,15,18,16,14,16,9,15,4,13,1,10,0,8,0,5,1,4,3]],":":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,5,2,4,1,5,0,6,1,5,2]],";":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"<":[24,[20,18,4,9,20,0]],"=":[26,[4,12,22,12,-1,-1,4,6,22,6]],">":[24,[4,18,20,9,4,0]],"?":[18,[3,16,3,17,4,19,5,20,7,21,11,21,13,20,14,19,15,17,15,15,14,13,13,12,9,10,9,7,-1,-1,9,2,8,1,9,0,10,1,9,2]],"@":[27,[18,13,17,15,15,16,12,16,10,15,9,14,8,11,8,8,9,6,11,5,14,5,16,6,17,8,-1,-1,12,16,10,14,9,11,9,8,10,6,11,5,-1,-1,18,16,17,8,17,6,19,5,21,5,23,7,24,10,24,12,23,15,22,17,20,19,18,20,15,21,12,21,9,20,7,19,5,17,4,15,3,12,3,9,4,6,5,4,7,2,9,1,12,0,15,0,18,1,20,2,21,3,-1,-1,19,16,18,8,18,6,19,5]],A:[18,[9,21,1,0,-1,-1,9,21,17,0,-1,-1,4,7,14,7]],B:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,-1,-1,4,11,13,11,16,10,17,9,18,7,18,4,17,2,16,1,13,0,4,0]],C:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5]],D:[21,[4,21,4,0,-1,-1,4,21,11,21,14,20,16,18,17,16,18,13,18,8,17,5,16,3,14,1,11,0,4,0]],E:[19,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11,-1,-1,4,0,17,0]],F:[18,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11]],G:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,18,8,-1,-1,13,8,18,8]],H:[22,[4,21,4,0,-1,-1,18,21,18,0,-1,-1,4,11,18,11]],I:[8,[4,21,4,0]],J:[16,[12,21,12,5,11,2,10,1,8,0,6,0,4,1,3,2,2,5,2,7]],K:[21,[4,21,4,0,-1,-1,18,21,4,7,-1,-1,9,12,18,0]],L:[17,[4,21,4,0,-1,-1,4,0,16,0]],M:[24,[4,21,4,0,-1,-1,4,21,12,0,-1,-1,20,21,12,0,-1,-1,20,21,20,0]],N:[22,[4,21,4,0,-1,-1,4,21,18,0,-1,-1,18,21,18,0]],O:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21]],P:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,14,17,12,16,11,13,10,4,10]],Q:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21,-1,-1,12,4,18,-2]],R:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,4,11,-1,-1,11,11,18,0]],S:[20,[17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],T:[16,[8,21,8,0,-1,-1,1,21,15,21]],U:[22,[4,21,4,6,5,3,7,1,10,0,12,0,15,1,17,3,18,6,18,21]],V:[18,[1,21,9,0,-1,-1,17,21,9,0]],W:[24,[2,21,7,0,-1,-1,12,21,7,0,-1,-1,12,21,17,0,-1,-1,22,21,17,0]],X:[20,[3,21,17,0,-1,-1,17,21,3,0]],Y:[18,[1,21,9,11,9,0,-1,-1,17,21,9,11]],Z:[20,[17,21,3,0,-1,-1,3,21,17,21,-1,-1,3,0,17,0]],"[":[14,[4,25,4,-7,-1,-1,5,25,5,-7,-1,-1,4,25,11,25,-1,-1,4,-7,11,-7]],"\\":[14,[0,21,14,-3]],"]":[14,[9,25,9,-7,-1,-1,10,25,10,-7,-1,-1,3,25,10,25,-1,-1,3,-7,10,-7]],"^":[16,[6,15,8,18,10,15,-1,-1,3,12,8,17,13,12,-1,-1,8,17,8,0]],_:[16,[0,-2,16,-2]],"`":[10,[6,21,5,20,4,18,4,16,5,15,6,16,5,17]],a:[19,[15,14,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],b:[19,[4,21,4,0,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],c:[18,[15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],d:[19,[15,21,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],e:[18,[3,8,15,8,15,10,14,12,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],f:[12,[10,21,8,21,6,20,5,17,5,0,-1,-1,2,14,9,14]],g:[19,[15,14,15,-2,14,-5,13,-6,11,-7,8,-7,6,-6,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],h:[19,[4,21,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],i:[8,[3,21,4,20,5,21,4,22,3,21,-1,-1,4,14,4,0]],j:[10,[5,21,6,20,7,21,6,22,5,21,-1,-1,6,14,6,-3,5,-6,3,-7,1,-7]],k:[17,[4,21,4,0,-1,-1,14,14,4,4,-1,-1,8,8,15,0]],l:[8,[4,21,4,0]],m:[30,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0,-1,-1,15,10,18,13,20,14,23,14,25,13,26,10,26,0]],n:[19,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],o:[19,[8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3,16,6,16,8,15,11,13,13,11,14,8,14]],p:[19,[4,14,4,-7,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],q:[19,[15,14,15,-7,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],r:[13,[4,14,4,0,-1,-1,4,8,5,11,7,13,9,14,12,14]],s:[17,[14,11,13,13,10,14,7,14,4,13,3,11,4,9,6,8,11,7,13,6,14,4,14,3,13,1,10,0,7,0,4,1,3,3]],t:[12,[5,21,5,4,6,1,8,0,10,0,-1,-1,2,14,9,14]],u:[19,[4,14,4,4,5,1,7,0,10,0,12,1,15,4,-1,-1,15,14,15,0]],v:[16,[2,14,8,0,-1,-1,14,14,8,0]],w:[22,[3,14,7,0,-1,-1,11,14,7,0,-1,-1,11,14,15,0,-1,-1,19,14,15,0]],x:[17,[3,14,14,0,-1,-1,14,14,3,0]],y:[16,[2,14,8,0,-1,-1,14,14,8,0,6,-4,4,-6,2,-7,1,-7]],z:[17,[14,14,3,0,-1,-1,3,14,14,14,-1,-1,3,0,14,0]],"{":[14,[9,25,7,24,6,23,5,21,5,19,6,17,7,16,8,14,8,12,6,10,-1,-1,7,24,6,22,6,20,7,18,8,17,9,15,9,13,8,11,4,9,8,7,9,5,9,3,8,1,7,0,6,-2,6,-4,7,-6,-1,-1,6,8,8,6,8,4,7,2,6,1,5,-1,5,-3,6,-5,7,-6,9,-7]],"|":[8,[4,25,4,-7]],"}":[14,[5,25,7,24,8,23,9,21,9,19,8,17,7,16,6,14,6,12,8,10,-1,-1,7,24,8,22,8,20,7,18,6,17,5,15,5,13,6,11,10,9,6,7,5,5,5,3,6,1,7,0,8,-2,8,-4,7,-6,-1,-1,8,8,6,6,6,4,7,2,8,1,9,-1,9,-3,8,-5,7,-6,5,-7]],"~":[24,[3,6,3,8,4,11,6,12,8,12,10,11,14,8,16,7,18,7,20,8,21,10,-1,-1,3,8,4,10,6,11,8,11,10,10,14,7,16,6,18,6,20,7,21,10,21,12]]}},{"../data/array_types":39,"../data/extent":53,"../data/pos_attributes":57,"../gl/depth_mode":67,"../gl/stencil_mode":70,"../util/browser":252,"./vertex_array_object":95,"@mapbox/gl-matrix":2}],78:[function(t,e,n){"use strict";function i(t,e,n,i){var s=n.paint.get("fill-color"),l=n.paint.get("fill-opacity");if(0!==l.constantOr(1)){var h=t.context;h.setColorMode(t.colorModeForRenderPass());var p=n.paint.get("fill-pattern")||1!==s.constantOr(u.transparent).a||1!==l.constantOr(0)?"translucent":"opaque";t.renderPass===p&&(h.setDepthMode(t.depthModeForSublayer(1,"opaque"===t.renderPass?c.ReadWrite:c.ReadOnly)),r(t,e,n,i,o)),"translucent"===t.renderPass&&n.paint.get("fill-antialias")&&(h.lineWidth.set(2),h.setDepthMode(t.depthModeForSublayer(n.getPaintProperty("fill-outline-color")?2:0,c.ReadOnly)),r(t,e,n,i,a))}}function r(t,e,n,i,r){if(!l.isPatternMissing(n.paint.get("fill-pattern"),t))for(var o=!0,a=0,s=i;a<s.length;a+=1){var u=s[a],c=e.getTile(u),h=c.getBucket(n);h&&(t.context.setStencilMode(t.stencilModeForClipping(u)),r(t,e,n,c,u,h,o),o=!1)}}function o(t,e,n,i,r,o,a){var l=t.context.gl,u=o.programConfigurations.get(n.id);s("fill",n.paint.get("fill-pattern"),t,u,n,i,r,a).draw(t.context,l.TRIANGLES,n.id,o.layoutVertexBuffer,o.indexBuffer,o.segments,u)}function a(t,e,n,i,r,o,a){var l=t.context.gl,u=o.programConfigurations.get(n.id),c=n.getPaintProperty("fill-outline-color")?null:n.paint.get("fill-pattern"),h=s("fillOutline",c,t,u,n,i,r,a);l.uniform2f(h.uniforms.u_world,l.drawingBufferWidth,l.drawingBufferHeight),h.draw(t.context,l.LINES,n.id,o.layoutVertexBuffer,o.indexBuffer2,o.segments2,u)}function s(t,e,n,i,r,o,a,s){var u,c=n.context.program.get();return e?(u=n.useProgram(t+"Pattern",i),(s||u.program!==c)&&(i.setUniforms(n.context,u,r.paint,{zoom:n.transform.zoom}),l.prepare(e,n,u)),l.setTile(o,n,u)):(u=n.useProgram(t,i),(s||u.program!==c)&&i.setUniforms(n.context,u,r.paint,{zoom:n.transform.zoom})),n.context.gl.uniformMatrix4fv(u.uniforms.u_matrix,!1,n.translatePosMatrix(a.posMatrix,o,r.paint.get("fill-translate"),r.paint.get("fill-translate-anchor"))),u}var l=t("./pattern"),u=t("../style-spec/util/color"),c=t("../gl/depth_mode");e.exports=i},{"../gl/depth_mode":67,"../style-spec/util/color":153,"./pattern":91}],79:[function(t,e,n){"use strict";function i(t,e,n,i){if(0!==n.paint.get("fill-extrusion-opacity"))if("offscreen"===t.renderPass){r(t,n);for(var s=!0,l=0,u=i;l<u.length;l+=1){var c=u[l],h=e.getTile(c),p=h.getBucket(n);p&&(a(t,e,n,h,c,p,s),s=!1)}}else"translucent"===t.renderPass&&o(t,n)}function r(t,e){var n=t.context,i=n.gl,r=e.viewportFrame;if(t.depthRboNeedsClear&&t.setupOffscreenDepthRenderbuffer(),!r){var o=new c(n,{width:t.width,height:t.height,data:null},i.RGBA);o.bind(i.LINEAR,i.CLAMP_TO_EDGE),r=e.viewportFrame=n.createFramebuffer(t.width,t.height),r.colorAttachment.set(o.texture)}n.bindFramebuffer.set(r.framebuffer),r.depthAttachment.set(t.depthRbo),t.depthRboNeedsClear&&(n.clear({depth:1}),t.depthRboNeedsClear=!1),n.clear({color:h.transparent}),n.setStencilMode(m.disabled),n.setDepthMode(new p(i.LEQUAL,p.ReadWrite,[0,1])),n.setColorMode(t.colorModeForRenderPass())}function o(t,e){var n=e.viewportFrame;if(n){var i=t.context,r=i.gl,o=t.useProgram("extrusionTexture");i.setStencilMode(m.disabled),i.setDepthMode(p.disabled),i.setColorMode(t.colorModeForRenderPass()),i.activeTexture.set(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,n.colorAttachment.get()),r.uniform1f(o.uniforms.u_opacity,e.paint.get("fill-extrusion-opacity")),r.uniform1i(o.uniforms.u_image,0);var a=f.create();f.ortho(a,0,t.width,t.height,0,0,1),r.uniformMatrix4fv(o.uniforms.u_matrix,!1,a),r.uniform2f(o.uniforms.u_world,r.drawingBufferWidth,r.drawingBufferHeight),t.viewportVAO.bind(i,o,t.viewportBuffer,[]),r.drawArrays(r.TRIANGLE_STRIP,0,4)}}function a(t,e,n,i,r,o,a){var l=t.context,c=l.gl,h=n.paint.get("fill-extrusion-pattern"),p=t.context.program.get(),d=o.programConfigurations.get(n.id),f=t.useProgram(h?"fillExtrusionPattern":"fillExtrusion",d);if((a||f.program!==p)&&d.setUniforms(l,f,n.paint,{zoom:t.transform.zoom}),h){if(u.isPatternMissing(h,t))return;u.prepare(h,t,f),u.setTile(i,t,f),c.uniform1f(f.uniforms.u_height_factor,-Math.pow(2,r.overscaledZ)/i.tileSize/8)}t.context.gl.uniformMatrix4fv(f.uniforms.u_matrix,!1,t.translatePosMatrix(r.posMatrix,i,n.paint.get("fill-extrusion-translate"),n.paint.get("fill-extrusion-translate-anchor"))),s(f,t),f.draw(l,c.TRIANGLES,n.id,o.layoutVertexBuffer,o.indexBuffer,o.segments,d)}function s(t,e){var n=e.context.gl,i=e.style.light,r=i.properties.get("position"),o=[r.x,r.y,r.z],a=d.create();"viewport"===i.properties.get("anchor")&&d.fromRotation(a,-e.transform.angle),y.transformMat3(o,o,a);var s=i.properties.get("color");n.uniform3fv(t.uniforms.u_lightpos,o),n.uniform1f(t.uniforms.u_lightintensity,i.properties.get("intensity")),n.uniform3f(t.uniforms.u_lightcolor,s.r,s.g,s.b)}var l=t("@mapbox/gl-matrix"),u=t("./pattern"),c=t("./texture"),h=t("../style-spec/util/color"),p=t("../gl/depth_mode"),d=l.mat3,f=l.mat4,y=l.vec3,m=t("../gl/stencil_mode");e.exports=i},{"../gl/depth_mode":67,"../gl/stencil_mode":70,"../style-spec/util/color":153,"./pattern":91,"./texture":93,"@mapbox/gl-matrix":2}],80:[function(t,e,n){"use strict";function i(t,e,n,i){if(0!==n.paint.get("heatmap-opacity"))if("offscreen"===t.renderPass){var o=t.context,s=o.gl;o.setDepthMode(t.depthModeForSublayer(0,h.ReadOnly)),o.setStencilMode(p.disabled),r(o,t,n),o.clear({color:c.transparent}),o.setColorMode(new d([s.ONE,s.ONE],c.transparent,[!0,!0,!0,!0]));for(var l=!0,f=0;f<i.length;f++){var y=i[f];if(!e.hasRenderableParent(y)){var m=e.getTile(y),v=m.getBucket(n);if(v){var g=t.context.program.get(),x=v.programConfigurations.get(n.id),_=t.useProgram("heatmap",x),b=t.transform,w=b.zoom;(l||_.program!==g)&&(x.setUniforms(t.context,_,n.paint,{zoom:w}),l=!1),s.uniform1f(_.uniforms.u_extrude_scale,u(m,1,w)),s.uniform1f(_.uniforms.u_intensity,n.paint.get("heatmap-intensity")),s.uniformMatrix4fv(_.uniforms.u_matrix,!1,y.posMatrix),_.draw(o,s.TRIANGLES,n.id,v.layoutVertexBuffer,v.indexBuffer,v.segments,x)}}}o.viewport.set([0,0,t.width,t.height])}else"translucent"===t.renderPass&&(t.context.setColorMode(t.colorModeForRenderPass()),a(t,n))}function r(t,e,n){var i=t.gl;t.activeTexture.set(i.TEXTURE1),t.viewport.set([0,0,e.width/4,e.height/4]);var r=n.heatmapFbo;if(r)i.bindTexture(i.TEXTURE_2D,r.colorAttachment.get()),t.bindFramebuffer.set(r.framebuffer);else{var a=i.createTexture();i.bindTexture(i.TEXTURE_2D,a),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.LINEAR),r=n.heatmapFbo=t.createFramebuffer(e.width/4,e.height/4),o(t,e,a,r)}}function o(t,e,n,i){var r=t.gl;r.texImage2D(r.TEXTURE_2D,0,r.RGBA,e.width/4,e.height/4,0,r.RGBA,t.extTextureHalfFloat?t.extTextureHalfFloat.HALF_FLOAT_OES:r.UNSIGNED_BYTE,null),i.colorAttachment.set(n),t.extTextureHalfFloat&&r.checkFramebufferStatus(r.FRAMEBUFFER)!==r.FRAMEBUFFER_COMPLETE&&(t.extTextureHalfFloat=null,i.colorAttachment.setDirty(),o(t,e,n,i))}function a(t,e){var n=t.context,i=n.gl,r=e.heatmapFbo;if(r){n.activeTexture.set(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,r.colorAttachment.get()),n.activeTexture.set(i.TEXTURE1);var o=e.colorRampTexture;o||(o=e.colorRampTexture=new l(n,e.colorRamp,i.RGBA)),o.bind(i.LINEAR,i.CLAMP_TO_EDGE),n.setDepthMode(h.disabled);var a=t.useProgram("heatmapTexture"),u=e.paint.get("heatmap-opacity");i.uniform1f(a.uniforms.u_opacity,u),i.uniform1i(a.uniforms.u_image,0),i.uniform1i(a.uniforms.u_color_ramp,1);var c=s.create();s.ortho(c,0,t.width,t.height,0,0,1),i.uniformMatrix4fv(a.uniforms.u_matrix,!1,c),i.uniform2f(a.uniforms.u_world,i.drawingBufferWidth,i.drawingBufferHeight),t.viewportVAO.bind(t.context,a,t.viewportBuffer,[]),i.drawArrays(i.TRIANGLE_STRIP,0,4)}}var s=t("@mapbox/gl-matrix").mat4,l=t("./texture"),u=t("../source/pixels_to_tile_units"),c=t("../style-spec/util/color"),h=t("../gl/depth_mode"),p=t("../gl/stencil_mode"),d=t("../gl/color_mode");e.exports=i},{"../gl/color_mode":65,"../gl/depth_mode":67,"../gl/stencil_mode":70,"../source/pixels_to_tile_units":104,"../style-spec/util/color":153,"./texture":93,"@mapbox/gl-matrix":2}],81:[function(t,e,n){"use strict";function i(t,e,n,i){if("offscreen"===t.renderPass||"translucent"===t.renderPass){var r=t.context;r.setDepthMode(t.depthModeForSublayer(0,d.ReadOnly)),r.setStencilMode(p.disabled),r.setColorMode(t.colorModeForRenderPass());for(var o=0,l=i;o<l.length;o+=1){var u=l[o],c=e.getTile(u);c.needsHillshadePrepare&&"offscreen"===t.renderPass?s(t,c):"translucent"===t.renderPass&&a(t,c,n)}r.viewport.set([0,0,t.width,t.height])}}function r(t,e,n){var i=n.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===n.paint.get("hillshade-illumination-anchor")&&(i-=e.transform.angle),e.context.gl.uniform2f(t.uniforms.u_light,n.paint.get("hillshade-exaggeration"),i)}function o(t,e){var n=e.toCoordinate(),i=new l(n.column,n.row+1,n.zoom);return[t.transform.coordinateLocation(n).lat,t.transform.coordinateLocation(i).lat]}function a(t,e,n){var i=t.context,a=i.gl,s=e.fbo;if(s){var l=t.useProgram("hillshade"),u=t.transform.calculatePosMatrix(e.tileID.toUnwrapped());r(l,t,n);var c=o(t,e.tileID);i.activeTexture.set(a.TEXTURE0),a.bindTexture(a.TEXTURE_2D,s.colorAttachment.get()),a.uniformMatrix4fv(l.uniforms.u_matrix,!1,u),a.uniform2fv(l.uniforms.u_latrange,c),a.uniform1i(l.uniforms.u_image,0);var h=n.paint.get("hillshade-shadow-color");a.uniform4f(l.uniforms.u_shadow,h.r,h.g,h.b,h.a);var p=n.paint.get("hillshade-highlight-color");a.uniform4f(l.uniforms.u_highlight,p.r,p.g,p.b,p.a);var d=n.paint.get("hillshade-accent-color");if(a.uniform4f(l.uniforms.u_accent,d.r,d.g,d.b,d.a),e.maskedBoundsBuffer&&e.maskedIndexBuffer&&e.segments)l.draw(i,a.TRIANGLES,n.id,e.maskedBoundsBuffer,e.maskedIndexBuffer,e.segments);else{var f=t.rasterBoundsBuffer;t.rasterBoundsVAO.bind(i,l,f,[]),a.drawArrays(a.TRIANGLE_STRIP,0,f.length)}}}function s(t,e){var n=t.context,i=n.gl;if(e.dem&&e.dem.level){var r=e.dem.level.dim,o=e.dem.getPixels();if(n.activeTexture.set(i.TEXTURE1),n.pixelStoreUnpackPremultiplyAlpha.set(!1),e.demTexture=e.demTexture||t.getTileTexture(e.tileSize),e.demTexture){var a=e.demTexture;a.update(o,!1),a.bind(i.NEAREST,i.CLAMP_TO_EDGE)}else e.demTexture=new u(n,o,i.RGBA,!1),e.demTexture.bind(i.NEAREST,i.CLAMP_TO_EDGE);n.activeTexture.set(i.TEXTURE0);var s=e.fbo;if(!s){var l=new u(n,{width:r,height:r,data:null},i.RGBA);l.bind(i.LINEAR,i.CLAMP_TO_EDGE),s=e.fbo=n.createFramebuffer(r,r),s.colorAttachment.set(l.texture)}n.bindFramebuffer.set(s.framebuffer),n.viewport.set([0,0,r,r]);var p=h.create();h.ortho(p,0,c,-c,0,0,1),h.translate(p,p,[0,-c,0]);var d=t.useProgram("hillshadePrepare");i.uniformMatrix4fv(d.uniforms.u_matrix,!1,p),i.uniform1f(d.uniforms.u_zoom,e.tileID.overscaledZ),i.uniform2fv(d.uniforms.u_dimension,[2*r,2*r]),i.uniform1i(d.uniforms.u_image,1);var f=t.rasterBoundsBuffer;t.rasterBoundsVAO.bind(n,d,f,[]),i.drawArrays(i.TRIANGLE_STRIP,0,f.length),e.needsHillshadePrepare=!1}}var l=t("../geo/coordinate"),u=t("./texture"),c=t("../data/extent"),h=t("@mapbox/gl-matrix").mat4,p=t("../gl/stencil_mode"),d=t("../gl/depth_mode");e.exports=i},{"../data/extent":53,"../geo/coordinate":61,"../gl/depth_mode":67,"../gl/stencil_mode":70,"./texture":93,"@mapbox/gl-matrix":2}],82:[function(t,e,n){"use strict";function i(t,e,n,i,a,s,l,u,c){var h,p,d,f,y=e.context,m=y.gl,v=a.paint.get("line-dasharray"),g=a.paint.get("line-pattern");if(u||c){var x=1/o(n,1,e.transform.tileZoom);if(v){h=e.lineAtlas.getDash(v.from,"round"===a.layout.get("line-cap")),p=e.lineAtlas.getDash(v.to,"round"===a.layout.get("line-cap"));var _=h.width*v.fromScale,b=p.width*v.toScale;m.uniform2f(t.uniforms.u_patternscale_a,x/_,-h.height/2),m.uniform2f(t.uniforms.u_patternscale_b,x/b,-p.height/2),m.uniform1f(t.uniforms.u_sdfgamma,e.lineAtlas.width/(256*Math.min(_,b)*r.devicePixelRatio)/2)}else if(g){if(d=e.imageManager.getPattern(g.from),f=e.imageManager.getPattern(g.to),!d||!f)return;m.uniform2f(t.uniforms.u_pattern_size_a,d.displaySize[0]*g.fromScale/x,f.displaySize[1]),m.uniform2f(t.uniforms.u_pattern_size_b,f.displaySize[0]*g.toScale/x,f.displaySize[1]);var w=e.imageManager.getPixelSize(),E=w.width,M=w.height;m.uniform2fv(t.uniforms.u_texsize,[E,M])}m.uniform2f(t.uniforms.u_gl_units_to_pixels,1/e.transform.pixelsToGLUnits[0],1/e.transform.pixelsToGLUnits[1])}u&&(v?(m.uniform1i(t.uniforms.u_image,0),y.activeTexture.set(m.TEXTURE0),e.lineAtlas.bind(y),m.uniform1f(t.uniforms.u_tex_y_a,h.y),m.uniform1f(t.uniforms.u_tex_y_b,p.y),m.uniform1f(t.uniforms.u_mix,v.t)):g&&(m.uniform1i(t.uniforms.u_image,0),y.activeTexture.set(m.TEXTURE0),e.imageManager.bind(y),m.uniform2fv(t.uniforms.u_pattern_tl_a,d.tl),m.uniform2fv(t.uniforms.u_pattern_br_a,d.br),m.uniform2fv(t.uniforms.u_pattern_tl_b,f.tl),m.uniform2fv(t.uniforms.u_pattern_br_b,f.br),m.uniform1f(t.uniforms.u_fade,g.t))),y.setStencilMode(e.stencilModeForClipping(s));var T=e.translatePosMatrix(s.posMatrix,n,a.paint.get("line-translate"),a.paint.get("line-translate-anchor"));m.uniformMatrix4fv(t.uniforms.u_matrix,!1,T),m.uniform1f(t.uniforms.u_ratio,1/o(n,1,e.transform.zoom)),t.draw(y,m.TRIANGLES,a.id,i.layoutVertexBuffer,i.indexBuffer,i.segments,l)}var r=t("../util/browser"),o=t("../source/pixels_to_tile_units"),a=t("../gl/depth_mode");e.exports=function(t,e,n,r){if("translucent"===t.renderPass&&0!==n.paint.get("line-opacity").constantOr(1)){var o=t.context;o.setDepthMode(t.depthModeForSublayer(0,a.ReadOnly)),o.setColorMode(t.colorModeForRenderPass());for(var s,l=n.paint.get("line-dasharray")?"lineSDF":n.paint.get("line-pattern")?"linePattern":"line",u=!0,c=0,h=r;c<h.length;c+=1){var p=h[c],d=e.getTile(p),f=d.getBucket(n);if(f){var y=f.programConfigurations.get(n.id),m=t.context.program.get(),v=t.useProgram(l,y),g=u||v.program!==m,x=s!==d.tileID.overscaledZ;g&&y.setUniforms(t.context,v,n.paint,{zoom:t.transform.zoom}),i(v,t,d,f,n,p,y,g,x),s=d.tileID.overscaledZ,u=!1}}}}},{"../gl/depth_mode":67,"../source/pixels_to_tile_units":104,"../util/browser":252}],83:[function(t,e,n){"use strict";function i(t,e,n,i){if("translucent"===t.renderPass&&0!==n.paint.get("raster-opacity")){var l=t.context,c=l.gl,d=e.getSource(),f=t.useProgram("raster");l.setStencilMode(h.disabled),l.setColorMode(t.colorModeForRenderPass()),c.uniform1f(f.uniforms.u_brightness_low,n.paint.get("raster-brightness-min")),c.uniform1f(f.uniforms.u_brightness_high,n.paint.get("raster-brightness-max")),c.uniform1f(f.uniforms.u_saturation_factor,a(n.paint.get("raster-saturation"))),c.uniform1f(f.uniforms.u_contrast_factor,o(n.paint.get("raster-contrast"))),c.uniform3fv(f.uniforms.u_spin_weights,r(n.paint.get("raster-hue-rotate"))),c.uniform1f(f.uniforms.u_buffer_scale,1),c.uniform1i(f.uniforms.u_image0,0),c.uniform1i(f.uniforms.u_image1,1);for(var y=i.length&&i[0].overscaledZ,m=0,v=i;m<v.length;m+=1){var g=v[m];l.setDepthMode(t.depthModeForSublayer(g.overscaledZ-y,1===n.paint.get("raster-opacity")?p.ReadWrite:p.ReadOnly,c.LESS));var x=e.getTile(g),_=t.transform.calculatePosMatrix(g.toUnwrapped(),!0);x.registerFadeDuration(n.paint.get("raster-fade-duration")),c.uniformMatrix4fv(f.uniforms.u_matrix,!1,_);var b=e.findLoadedParent(g,0,{}),w=s(x,b,e,n,t.transform),E=void 0,M=void 0;if(l.activeTexture.set(c.TEXTURE0),x.texture.bind(c.LINEAR,c.CLAMP_TO_EDGE,c.LINEAR_MIPMAP_NEAREST),l.activeTexture.set(c.TEXTURE1),b?(b.texture.bind(c.LINEAR,c.CLAMP_TO_EDGE,c.LINEAR_MIPMAP_NEAREST),E=Math.pow(2,b.tileID.overscaledZ-x.tileID.overscaledZ),M=[x.tileID.canonical.x*E%1,x.tileID.canonical.y*E%1]):x.texture.bind(c.LINEAR,c.CLAMP_TO_EDGE,c.LINEAR_MIPMAP_NEAREST),c.uniform2fv(f.uniforms.u_tl_parent,M||[0,0]),c.uniform1f(f.uniforms.u_scale_parent,E||1),c.uniform1f(f.uniforms.u_fade_t,w.mix),c.uniform1f(f.uniforms.u_opacity,w.opacity*n.paint.get("raster-opacity")),d instanceof u){var T=d.boundsBuffer;d.boundsVAO.bind(l,f,T,[]),c.drawArrays(c.TRIANGLE_STRIP,0,T.length)}else if(x.maskedBoundsBuffer&&x.maskedIndexBuffer&&x.segments)f.draw(l,c.TRIANGLES,n.id,x.maskedBoundsBuffer,x.maskedIndexBuffer,x.segments);else{var S=t.rasterBoundsBuffer,A=t.rasterBoundsVAO;A.bind(l,f,S,[]),c.drawArrays(c.TRIANGLE_STRIP,0,S.length)}}}}function r(t){t*=Math.PI/180;var e=Math.sin(t),n=Math.cos(t);return[(2*n+1)/3,(-Math.sqrt(3)*e-n+1)/3,(Math.sqrt(3)*e-n+1)/3]}function o(t){return t>0?1/(1-t):1+t}function a(t){return t>0?1-1/(1.001-t):-t}function s(t,e,n,i,r){var o=i.paint.get("raster-fade-duration");if(o>0){var a=c.now(),s=(a-t.timeAdded)/o,u=e?(a-e.timeAdded)/o:-1,h=n.getSource(),p=r.coveringZoomLevel({tileSize:h.tileSize,roundZoom:h.roundZoom}),d=!e||Math.abs(e.tileID.overscaledZ-p)>Math.abs(t.tileID.overscaledZ-p),f=d&&t.refreshedUponExpiration?1:l.clamp(d?s:1-u,0,1);return t.refreshedUponExpiration&&s>=1&&(t.refreshedUponExpiration=!1),e?{opacity:1,mix:1-f}:{opacity:f,mix:0}}return{opacity:1,mix:0}}var l=t("../util/util"),u=t("../source/image_source"),c=t("../util/browser"),h=t("../gl/stencil_mode"),p=t("../gl/depth_mode");e.exports=i},{"../gl/depth_mode":67,"../gl/stencil_mode":70,"../source/image_source":102,"../util/browser":252,"../util/util":275}],84:[function(t,e,n){"use strict";function i(t,e,n,i){if("translucent"===t.renderPass){var o=t.context;o.setStencilMode(y.disabled),o.setColorMode(t.colorModeForRenderPass()),0!==n.paint.get("icon-opacity").constantOr(1)&&r(t,e,n,i,!1,n.paint.get("icon-translate"),n.paint.get("icon-translate-anchor"),n.layout.get("icon-rotation-alignment"),n.layout.get("icon-pitch-alignment"),n.layout.get("icon-keep-upright")),0!==n.paint.get("text-opacity").constantOr(1)&&r(t,e,n,i,!0,n.paint.get("text-translate"),n.paint.get("text-translate-anchor"),n.layout.get("text-rotation-alignment"),n.layout.get("text-pitch-alignment"),n.layout.get("text-keep-upright")),e.map.showCollisionBoxes&&l(t,e,n,i)}}function r(t,e,n,i,r,s,l,h,p,f){var y=t.context,v=y.gl,g=t.transform,x="map"===h,_="map"===p,b=x&&"line"===n.layout.get("symbol-placement"),w=x&&!_&&!b,E=_;y.setDepthMode(E?t.depthModeForSublayer(0,m.ReadOnly):m.disabled);for(var M,T=0,S=i;T<S.length;T+=1){var A=S[T],C=e.getTile(A),L=C.getBucket(n);if(L){var k=r?L.text:L.icon;if(k&&k.segments.get().length){var P=k.programConfigurations.get(n.id),I=r||L.sdfIcons,R=r?L.textSizeData:L.iconSizeData;if(M||(M=t.useProgram(I?"symbolSDF":"symbolIcon",P),P.setUniforms(t.context,M,n.paint,{zoom:t.transform.zoom}),o(M,t,n,r,w,_,R)),y.activeTexture.set(v.TEXTURE0),v.uniform1i(M.uniforms.u_texture,0),r)C.glyphAtlasTexture.bind(v.LINEAR,v.CLAMP_TO_EDGE),v.uniform2fv(M.uniforms.u_texsize,C.glyphAtlasTexture.size);else{var z=1!==n.layout.get("icon-size").constantOr(0)||L.iconsNeedLinear,O=_||0!==g.pitch;C.iconAtlasTexture.bind(I||t.options.rotating||t.options.zooming||z||O?v.LINEAR:v.NEAREST,v.CLAMP_TO_EDGE),v.uniform2fv(M.uniforms.u_texsize,C.iconAtlasTexture.size)}v.uniformMatrix4fv(M.uniforms.u_matrix,!1,t.translatePosMatrix(A.posMatrix,C,s,l));var D=u(C,1,t.transform.zoom),B=c.getLabelPlaneMatrix(A.posMatrix,_,x,t.transform,D),N=c.getGlCoordMatrix(A.posMatrix,_,x,t.transform,D);v.uniformMatrix4fv(M.uniforms.u_gl_coord_matrix,!1,t.translatePosMatrix(N,C,s,l,!0)),b?(v.uniformMatrix4fv(M.uniforms.u_label_plane_matrix,!1,d),c.updateLineLabels(L,A.posMatrix,t,r,B,N,_,f)):v.uniformMatrix4fv(M.uniforms.u_label_plane_matrix,!1,B),v.uniform1f(M.uniforms.u_fade_change,t.options.fadeDuration?t.symbolFadeChange:1),a(M,P,t,n,C,k,r,I,_)}}}}function o(t,e,n,i,r,o,a){var s=e.context.gl,l=e.transform;s.uniform1i(t.uniforms.u_pitch_with_map,o?1:0),s.uniform1f(t.uniforms.u_is_text,i?1:0),s.uniform1f(t.uniforms.u_pitch,l.pitch/360*2*Math.PI);var u="constant"===a.functionType||"source"===a.functionType,c="constant"===a.functionType||"camera"===a.functionType;s.uniform1i(t.uniforms.u_is_size_zoom_constant,u?1:0),s.uniform1i(t.uniforms.u_is_size_feature_constant,c?1:0),s.uniform1f(t.uniforms.u_camera_to_center_distance,l.cameraToCenterDistance);var p=h.evaluateSizeForZoom(a,l.zoom,f.properties[i?"text-size":"icon-size"]);void 0!==p.uSizeT&&s.uniform1f(t.uniforms.u_size_t,p.uSizeT),void 0!==p.uSize&&s.uniform1f(t.uniforms.u_size,p.uSize),s.uniform1f(t.uniforms.u_aspect_ratio,l.width/l.height),s.uniform1i(t.uniforms.u_rotate_symbol,r?1:0)}function a(t,e,n,i,r,o,a,l,u){var c=n.context,h=c.gl,p=n.transform;if(l){var d=0!==i.paint.get(a?"text-halo-width":"icon-halo-width").constantOr(1),f=u?Math.cos(p._pitch)*p.cameraToCenterDistance:1;h.uniform1f(t.uniforms.u_gamma_scale,f),d&&(h.uniform1f(t.uniforms.u_is_halo,1),s(o,i,c,t)),h.uniform1f(t.uniforms.u_is_halo,0)}s(o,i,c,t)}function s(t,e,n,i){i.draw(n,n.gl.TRIANGLES,e.id,t.layoutVertexBuffer,t.indexBuffer,t.segments,t.programConfigurations.get(e.id),t.dynamicLayoutVertexBuffer,t.opacityVertexBuffer)}var l=t("./draw_collision_debug"),u=t("../source/pixels_to_tile_units"),c=t("../symbol/projection"),h=t("../symbol/symbol_size"),p=t("@mapbox/gl-matrix").mat4,d=p.identity(new Float32Array(16)),f=t("../style/style_layer/symbol_style_layer_properties").layout,y=t("../gl/stencil_mode"),m=t("../gl/depth_mode");e.exports=i},{"../gl/depth_mode":67,"../gl/stencil_mode":70,"../source/pixels_to_tile_units":104,"../style/style_layer/symbol_style_layer_properties":209,"../symbol/projection":224,"../symbol/symbol_size":228,"./draw_collision_debug":76,"@mapbox/gl-matrix":2}],85:[function(t,e,n){"use strict";function i(t){var e=new a({width:0,height:0}),n={},i=new r(0,0,{autoResize:!0});for(var o in t){var l=t[o],u=n[o]={};for(var c in l){var h=l[+c];if(h&&0!==h.bitmap.width&&0!==h.bitmap.height){var p=i.packOne(h.bitmap.width+2*s,h.bitmap.height+2*s);e.resize({width:i.w,height:i.h}),a.copy(h.bitmap,e,{x:0,y:0},{x:p.x+s,y:p.y+s},h.bitmap),u[c]={rect:p,metrics:h.metrics}}}}return i.shrink(),e.resize({width:i.w,height:i.h}),{image:e,positions:n}}var r=t("@mapbox/shelf-pack"),o=t("../util/image"),a=o.AlphaImage,s=1;e.exports={makeGlyphAtlas:i}},{"../util/image":263,"@mapbox/shelf-pack":5}],86:[function(t,e,n){"use strict";var i=t("../style/load_glyph_range"),r=t("@mapbox/tiny-sdf"),o=t("../util/is_char_in_unicode_block"),a=t("../util/util"),s=a.asyncAll,l=t("../util/image"),u=l.AlphaImage,c=function(t,e){this.requestTransform=t,this.localIdeographFontFamily=e,this.entries={}};c.prototype.setURL=function(t){this.url=t},c.prototype.getGlyphs=function(t,e){var n=this,r=[];for(var o in t)for(var a=0,l=t[o];a<l.length;a+=1){var u=l[a];r.push({stack:o,id:u})}s(r,function(t,e){var r=t.stack,o=t.id,a=n.entries[r];a||(a=n.entries[r]={glyphs:{},requests:{}});var s=a.glyphs[o];if(void 0!==s)return void e(null,{stack:r,id:o,glyph:s});if(s=n._tinySDF(a,r,o))return void e(null,{stack:r,id:o,glyph:s});var l=Math.floor(o/256);if(256*l>65535)return void e(new Error("glyphs > 65535 not supported"));var u=a.requests[l];u||(u=a.requests[l]=[],i(r,l,n.url,n.requestTransform,function(t,e){if(e)for(var n in e)a.glyphs[+n]=e[+n];for(var i=0,r=u;i<r.length;i+=1)(0,r[i])(t,e);delete a.requests[l]})),u.push(function(t,n){t?e(t):n&&e(null,{stack:r,id:o,glyph:n[o]||null})})},function(t,n){if(t)e(t);else if(n){for(var i={},r=0,o=n;r<o.length;r+=1){var a=o[r],s=a.stack,l=a.id,u=a.glyph;(i[s]||(i[s]={}))[l]=u&&{id:u.id,bitmap:u.bitmap.clone(),metrics:u.metrics}}e(null,i)}})},c.prototype._tinySDF=function(t,e,n){var i=this.localIdeographFontFamily;if(i&&(o["CJK Unified Ideographs"](n)||o["Hangul Syllables"](n))){var a=t.tinySDF;if(!a){var s="400";/bold/i.test(e)?s="900":/medium/i.test(e)?s="500":/light/i.test(e)&&(s="200"),a=t.tinySDF=new r(24,3,8,.25,i,s)}return{id:n,bitmap:new u({width:30,height:30},a.draw(String.fromCharCode(n))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},e.exports=c},{"../style/load_glyph_range":184,"../util/image":263,"../util/is_char_in_unicode_block":265,"../util/util":275,"@mapbox/tiny-sdf":6}],87:[function(t,e,n){"use strict";function i(t,e){var n=e.pixelRatio,i={x:t.x+l,y:t.y+l,w:t.w-2*l,h:t.h-2*l};return{pixelRatio:n,textureRect:i,tl:[i.x,i.y],br:[i.x+i.w,i.y+i.h],displaySize:[i.w/n,i.h/n]}}function r(t){var e=new s({width:0,height:0}),n={},r=new o(0,0,{autoResize:!0});for(var a in t){var u=t[a],c=r.packOne(u.data.width+2*l,u.data.height+2*l);e.resize({width:r.w,height:r.h}),s.copy(u.data,e,{x:0,y:0},{x:c.x+l,y:c.y+l},u.data),n[a]=i(c,u)}return r.shrink(),e.resize({width:r.w,height:r.h}),{image:e,positions:n}}var o=t("@mapbox/shelf-pack"),a=t("../util/image"),s=a.RGBAImage,l=1;e.exports={imagePosition:i,makeImageAtlas:r}},{"../util/image":263,"@mapbox/shelf-pack":5}],88:[function(t,e,n){"use strict";var i=t("@mapbox/shelf-pack"),r=t("../util/image"),o=r.RGBAImage,a=t("./image_atlas"),s=a.imagePosition,l=t("./texture"),u=function(){this.images={},this.loaded=!1,this.requestors=[],this.shelfPack=new i(64,64,{autoResize:!0}),this.patterns={},this.atlasImage=new o({width:64,height:64}),this.dirty=!0};u.prototype.isLoaded=function(){return this.loaded},u.prototype.setLoaded=function(t){var e=this;if(this.loaded!==t&&(this.loaded=t,t)){for(var n=0,i=e.requestors;n<i.length;n+=1){var r=i[n],o=r.ids,a=r.callback;e._notify(o,a)}this.requestors=[]}},u.prototype.getImage=function(t){return this.images[t]},u.prototype.addImage=function(t,e){this.images[t]=e},u.prototype.removeImage=function(t){delete this.images[t];var e=this.patterns[t];e&&(this.shelfPack.unref(e.bin),delete this.patterns[t])},u.prototype.getImages=function(t,e){var n=this,i=!0;if(!this.isLoaded())for(var r=0,o=t;r<o.length;r+=1){var a=o[r];n.images[a]||(i=!1)}this.isLoaded()||i?this._notify(t,e):this.requestors.push({ids:t,callback:e})},u.prototype._notify=function(t,e){for(var n=this,i={},r=0,o=t;r<o.length;r+=1){var a=o[r],s=n.images[a];s&&(i[a]={data:s.data.clone(),pixelRatio:s.pixelRatio,sdf:s.sdf})}e(null,i)},u.prototype.getPixelSize=function(){return{width:this.shelfPack.w,height:this.shelfPack.h}},u.prototype.getPattern=function(t){var e=this.patterns[t];if(e)return e.position;var n=this.getImage(t);if(!n)return null;var i=n.data.width+2,r=n.data.height+2,a=this.shelfPack.packOne(i,r);if(!a)return null;this.atlasImage.resize(this.getPixelSize());var l=n.data,u=this.atlasImage,c=a.x+1,h=a.y+1,p=l.width,d=l.height;o.copy(l,u,{x:0,y:0},{x:c,y:h},{width:p,height:d}),o.copy(l,u,{x:0,y:d-1},{x:c,y:h-1},{width:p,height:1}),o.copy(l,u,{x:0,y:0},{x:c,y:h+d},{width:p,height:1}),o.copy(l,u,{x:p-1,y:0},{x:c-1,y:h},{width:1,height:d}),o.copy(l,u,{x:0,y:0},{x:c+p,y:h},{width:1,height:d}),this.dirty=!0;var f=s(a,n);return this.patterns[t]={bin:a,position:f},f},u.prototype.bind=function(t){var e=t.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new l(t,this.atlasImage,e.RGBA),this.atlasTexture.bind(e.LINEAR,e.CLAMP_TO_EDGE)},e.exports=u},{"../util/image":263,"./image_atlas":87,"./texture":93,"@mapbox/shelf-pack":5}],89:[function(t,e,n){"use strict";var i=t("../util/util"),r=function(t,e){this.width=t,this.height=e,this.nextRow=0,this.bytes=4,this.data=new Uint8Array(this.width*this.height*this.bytes),this.positions={}};r.prototype.getDash=function(t,e){var n=t.join(",")+String(e);return this.positions[n]||(this.positions[n]=this.addDash(t,e)),this.positions[n]},r.prototype.addDash=function(t,e){var n=this,r=e?7:0,o=2*r+1;if(this.nextRow+o>this.height)return i.warnOnce("LineAtlas out of space"),null;for(var a=0,s=0;s<t.length;s++)a+=t[s];for(var l=this.width/a,u=l/2,c=t.length%2==1,h=-r;h<=r;h++)for(var p=n.nextRow+r+h,d=n.width*p,f=c?-t[t.length-1]:0,y=t[0],m=1,v=0;v<this.width;v++){for(;y<v/l;)f=y,y+=t[m],c&&m===t.length-1&&(y+=t[0]),m++;var g=Math.abs(v-f*l),x=Math.abs(v-y*l),_=Math.min(g,x),b=m%2==1,w=void 0;if(e){var E=r?h/r*(u+1):0;if(b){var M=u-Math.abs(E);w=Math.sqrt(_*_+M*M)}else w=u-Math.sqrt(_*_+E*E)}else w=(b?1:-1)*_;n.data[3+4*(d+v)]=Math.max(0,Math.min(255,w+128))}var T={y:(this.nextRow+r+.5)/this.height,height:2*r/this.height,width:a};return this.nextRow+=o,this.dirty=!0,T},r.prototype.bind=function(t){var e=t.gl;this.texture?(e.bindTexture(e.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,e.texSubImage2D(e.TEXTURE_2D,0,0,0,this.width,this.height,e.RGBA,e.UNSIGNED_BYTE,this.data))):(this.texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,this.width,this.height,0,e.RGBA,e.UNSIGNED_BYTE,this.data))},e.exports=r},{"../util/util":275}],90:[function(t,e,n){"use strict";var i=t("../util/browser"),r=t("@mapbox/gl-matrix").mat4,o=t("../source/source_cache"),a=t("../data/extent"),s=t("../source/pixels_to_tile_units"),l=t("../util/util"),u=t("./vertex_array_object"),c=t("../data/array_types"),h=c.RasterBoundsArray,p=c.PosArray,d=t("../data/raster_bounds_attributes"),f=t("../data/pos_attributes"),y=t("../data/program_configuration"),m=y.ProgramConfiguration,v=t("../symbol/cross_tile_symbol_index"),g=t("../shaders"),x=t("./program"),_=t("../gl/context"),b=t("../gl/depth_mode"),w=t("../gl/stencil_mode"),E=t("../gl/color_mode"),M=(t("./texture"),t("./tile_mask")),T=t("../style-spec/util/color"),S={symbol:t("./draw_symbol"),circle:t("./draw_circle"),heatmap:t("./draw_heatmap"),line:t("./draw_line"),fill:t("./draw_fill"),"fill-extrusion":t("./draw_fill_extrusion"),hillshade:t("./draw_hillshade"),raster:t("./draw_raster"),background:t("./draw_background"),debug:t("./draw_debug")},A=function(t,e){this.context=new _(t),this.transform=e,this._tileTextures={},this.setup(),this.numSublayers=o.maxUnderzooming+o.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.depthRboNeedsClear=!0,this.emptyProgramConfiguration=new m,this.crossTileSymbolIndex=new v};A.prototype.resize=function(t,e){var n=this,r=this.context.gl;if(this.width=t*i.devicePixelRatio,this.height=e*i.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var o=0,a=n.style._order;o<a.length;o+=1){var s=a[o];n.style._layers[s].resize()}this.depthRbo&&(r.deleteRenderbuffer(this.depthRbo),this.depthRbo=null)},A.prototype.setup=function(){var t=this.context,e=new p;e.emplaceBack(0,0),e.emplaceBack(a,0),e.emplaceBack(0,a),e.emplaceBack(a,a),this.tileExtentBuffer=t.createVertexBuffer(e,f.members),this.tileExtentVAO=new u,this.tileExtentPatternVAO=new u;var n=new p;n.emplaceBack(0,0),n.emplaceBack(a,0),n.emplaceBack(a,a),n.emplaceBack(0,a),n.emplaceBack(0,0),this.debugBuffer=t.createVertexBuffer(n,f.members),this.debugVAO=new u;var i=new h;i.emplaceBack(0,0,0,0),i.emplaceBack(a,0,a,0),i.emplaceBack(0,a,0,a),i.emplaceBack(a,a,a,a),this.rasterBoundsBuffer=t.createVertexBuffer(i,d.members),this.rasterBoundsVAO=new u;var r=new p;r.emplaceBack(0,0),r.emplaceBack(1,0),r.emplaceBack(0,1),r.emplaceBack(1,1),this.viewportBuffer=t.createVertexBuffer(r,f.members),this.viewportVAO=new u},A.prototype.clearStencil=function(){var t=this.context,e=t.gl;t.setColorMode(E.disabled),t.setDepthMode(b.disabled),t.setStencilMode(new w({func:e.ALWAYS,mask:0},0,255,e.ZERO,e.ZERO,e.ZERO));var n=r.create();r.ortho(n,0,this.width,this.height,0,0,1),r.scale(n,n,[e.drawingBufferWidth,e.drawingBufferHeight,0]);var i=this.useProgram("clippingMask");e.uniformMatrix4fv(i.uniforms.u_matrix,!1,n),this.viewportVAO.bind(t,i,this.viewportBuffer,[]),e.drawArrays(e.TRIANGLE_STRIP,0,4)},A.prototype._renderTileClippingMasks=function(t){var e=this,n=this.context,i=n.gl;n.setColorMode(E.disabled),n.setDepthMode(b.disabled);var r=1;this._tileClippingMaskIDs={};for(var o=0,a=t;o<a.length;o+=1){var s=a[o],l=e._tileClippingMaskIDs[s.key]=r++;n.setStencilMode(new w({func:i.ALWAYS,mask:0},l,255,i.KEEP,i.KEEP,i.REPLACE));var u=e.useProgram("clippingMask");i.uniformMatrix4fv(u.uniforms.u_matrix,!1,s.posMatrix),e.tileExtentVAO.bind(e.context,u,e.tileExtentBuffer,[]),i.drawArrays(i.TRIANGLE_STRIP,0,e.tileExtentBuffer.length)}},A.prototype.stencilModeForClipping=function(t){var e=this.context.gl;return new w({func:e.EQUAL,mask:255},this._tileClippingMaskIDs[t.key],0,e.KEEP,e.KEEP,e.REPLACE)},A.prototype.colorModeForRenderPass=function(){var t=this.context.gl;return this._showOverdrawInspector?new E([t.CONSTANT_COLOR,t.ONE],new T(1/8,1/8,1/8,0),[!0,!0,!0,!0]):"opaque"===this.renderPass?E.unblended:E.alphaBlended},A.prototype.depthModeForSublayer=function(t,e,n){var i=1-((1+this.currentLayer)*this.numSublayers+t)*this.depthEpsilon,r=i-1+this.depthRange;return new b(n||this.context.gl.LEQUAL,e,[r,i])},A.prototype.render=function(t,e){var n=this;this.style=t,this.options=e,this.lineAtlas=t.lineAtlas,this.imageManager=t.imageManager,this.glyphManager=t.glyphManager,this.symbolFadeChange=t.placement.symbolFadeChange(i.now());for(var r in t.sourceCaches){var o=n.style.sourceCaches[r];o.used&&o.prepare(n.context)}var a=this.style._order,s=l.filterObject(this.style.sourceCaches,function(t){return"raster"===t.getSource().type||"raster-dem"===t.getSource().type});for(var u in s)!function(t){var e=s[t],i=e.getVisibleCoordinates(),r=i.map(function(t){return e.getTile(t)});M(r,n.context)}(u);this.renderPass="offscreen";var c,h=[];this.depthRboNeedsClear=!0;for(var p=0;p<a.length;p++){var d=n.style._layers[a[p]];d.hasOffscreenPass()&&!d.isHidden(n.transform.zoom)&&(d.source!==(c&&c.id)&&(c=n.style.sourceCaches[d.source],h=[],c&&(h=c.getVisibleCoordinates(),h.reverse())),h.length&&n.renderLayer(n,c,d,h))}this.context.bindFramebuffer.set(null),this.context.clear({color:e.showOverdrawInspector?T.black:T.transparent,depth:1}),this._showOverdrawInspector=e.showOverdrawInspector,this.depthRange=(t._order.length+2)*this.numSublayers*this.depthEpsilon,this.renderPass="opaque";var f,y=[];for(this.currentLayer=a.length-1,this.currentLayer;this.currentLayer>=0;this.currentLayer--){var m=n.style._layers[a[n.currentLayer]];m.source!==(f&&f.id)&&(f=n.style.sourceCaches[m.source],y=[],f&&(n.clearStencil(),y=f.getVisibleCoordinates(),f.getSource().isTileClipped&&n._renderTileClippingMasks(y))),n.renderLayer(n,f,m,y)}this.renderPass="translucent";var v,g=[];for(this.currentLayer=0,this.currentLayer;this.currentLayer<a.length;this.currentLayer++){var x=n.style._layers[a[n.currentLayer]];x.source!==(v&&v.id)&&(v=n.style.sourceCaches[x.source],g=[],v&&(n.clearStencil(),g=v.getVisibleCoordinates(),v.getSource().isTileClipped&&n._renderTileClippingMasks(g)),g.reverse()),n.renderLayer(n,v,x,g)}if(this.options.showTileBoundaries){var _=this.style.sourceCaches[Object.keys(this.style.sourceCaches)[0]];_&&S.debug(this,_,_.getVisibleCoordinates())}},A.prototype.setupOffscreenDepthRenderbuffer=function(){var t=this.context;this.depthRbo||(this.depthRbo=t.createRenderbuffer(t.gl.DEPTH_COMPONENT16,this.width,this.height))},A.prototype.renderLayer=function(t,e,n,i){n.isHidden(this.transform.zoom)||("background"===n.type||i.length)&&(this.id=n.id,S[n.type](t,e,n,i))},A.prototype.translatePosMatrix=function(t,e,n,i,o){if(!n[0]&&!n[1])return t;var a=o?"map"===i?this.transform.angle:0:"viewport"===i?-this.transform.angle:0;if(a){var l=Math.sin(a),u=Math.cos(a);n=[n[0]*u-n[1]*l,n[0]*l+n[1]*u]}var c=[o?n[0]:s(e,n[0],this.transform.zoom),o?n[1]:s(e,n[1],this.transform.zoom),0],h=new Float32Array(16);return r.translate(h,t,c),h},A.prototype.saveTileTexture=function(t){var e=this._tileTextures[t.size[0]];e?e.push(t):this._tileTextures[t.size[0]]=[t]},A.prototype.getTileTexture=function(t){var e=this._tileTextures[t];return e&&e.length>0?e.pop():null},A.prototype._createProgramCached=function(t,e){this.cache=this.cache||{};var n=""+t+(e.cacheKey||"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[n]||(this.cache[n]=new x(this.context,g[t],e,this._showOverdrawInspector)),this.cache[n]},A.prototype.useProgram=function(t,e){var n=this._createProgramCached(t,e||this.emptyProgramConfiguration);return this.context.program.set(n.program),n},e.exports=A},{"../data/array_types":39,"../data/extent":53,"../data/pos_attributes":57,"../data/program_configuration":58,"../data/raster_bounds_attributes":59,"../gl/color_mode":65,"../gl/context":66,"../gl/depth_mode":67,"../gl/stencil_mode":70,"../shaders":97,"../source/pixels_to_tile_units":104,"../source/source_cache":111,"../style-spec/util/color":153,"../symbol/cross_tile_symbol_index":218,"../util/browser":252,"../util/util":275,"./draw_background":74,"./draw_circle":75,"./draw_debug":77,"./draw_fill":78,"./draw_fill_extrusion":79,"./draw_heatmap":80,"./draw_hillshade":81,"./draw_line":82,"./draw_raster":83,"./draw_symbol":84,"./program":92,"./texture":93,"./tile_mask":94,"./vertex_array_object":95,"@mapbox/gl-matrix":2}],91:[function(t,e,n){"use strict";var i=t("../source/pixels_to_tile_units");n.isPatternMissing=function(t,e){if(!t)return!1;var n=e.imageManager.getPattern(t.from),i=e.imageManager.getPattern(t.to);return!n||!i},n.prepare=function(t,e,n){var i=e.context,r=i.gl,o=e.imageManager.getPattern(t.from),a=e.imageManager.getPattern(t.to);r.uniform1i(n.uniforms.u_image,0),r.uniform2fv(n.uniforms.u_pattern_tl_a,o.tl),r.uniform2fv(n.uniforms.u_pattern_br_a,o.br),r.uniform2fv(n.uniforms.u_pattern_tl_b,a.tl),r.uniform2fv(n.uniforms.u_pattern_br_b,a.br);var s=e.imageManager.getPixelSize(),l=s.width,u=s.height;r.uniform2fv(n.uniforms.u_texsize,[l,u]),r.uniform1f(n.uniforms.u_mix,t.t),r.uniform2fv(n.uniforms.u_pattern_size_a,o.displaySize),r.uniform2fv(n.uniforms.u_pattern_size_b,a.displaySize),r.uniform1f(n.uniforms.u_scale_a,t.fromScale),r.uniform1f(n.uniforms.u_scale_b,t.toScale),i.activeTexture.set(r.TEXTURE0),e.imageManager.bind(e.context)},n.setTile=function(t,e,n){var r=e.context.gl;r.uniform1f(n.uniforms.u_tile_units_to_pixels,1/i(t,1,e.transform.tileZoom));var o=Math.pow(2,t.tileID.overscaledZ),a=t.tileSize*Math.pow(2,e.transform.tileZoom)/o,s=a*(t.tileID.canonical.x+t.tileID.wrap*o),l=a*t.tileID.canonical.y;r.uniform2f(n.uniforms.u_pixel_coord_upper,s>>16,l>>16),r.uniform2f(n.uniforms.u_pixel_coord_lower,65535&s,65535&l)}},{"../source/pixels_to_tile_units":104}],92:[function(t,e,n){"use strict";var i=t("../util/browser"),r=t("../shaders"),o=t("../data/program_configuration"),a=(o.ProgramConfiguration,t("./vertex_array_object")),s=(t("../gl/context"),function(t,e,n,o){var a=this,s=t.gl;this.program=s.createProgram();var l=n.defines().concat("#define DEVICE_PIXEL_RATIO "+i.devicePixelRatio.toFixed(1));o&&l.push("#define OVERDRAW_INSPECTOR;");var u=l.concat(r.prelude.fragmentSource,e.fragmentSource).join("\n"),c=l.concat(r.prelude.vertexSource,e.vertexSource).join("\n"),h=s.createShader(s.FRAGMENT_SHADER);s.shaderSource(h,u),s.compileShader(h),s.attachShader(this.program,h);var p=s.createShader(s.VERTEX_SHADER);s.shaderSource(p,c),s.compileShader(p),s.attachShader(this.program,p);for(var d=n.layoutAttributes||[],f=0;f<d.length;f++)s.bindAttribLocation(a.program,f,d[f].name);s.linkProgram(this.program),this.numAttributes=s.getProgramParameter(this.program,s.ACTIVE_ATTRIBUTES),this.attributes={},this.uniforms={};for(var y=0;y<this.numAttributes;y++){var m=s.getActiveAttrib(a.program,y);m&&(a.attributes[m.name]=s.getAttribLocation(a.program,m.name))}for(var v=s.getProgramParameter(this.program,s.ACTIVE_UNIFORMS),g=0;g<v;g++){var x=s.getActiveUniform(a.program,g);x&&(a.uniforms[x.name]=s.getUniformLocation(a.program,x.name))}});s.prototype.draw=function(t,e,n,i,r,o,s,l,u){for(var c,h=this,p=t.gl,d=(c={},c[p.LINES]=2,c[p.TRIANGLES]=3,c)[e],f=0,y=o.get();f<y.length;f+=1){var m=y[f],v=m.vaos||(m.vaos={});(v[n]||(v[n]=new a)).bind(t,h,i,s?s.getPaintVertexBuffers():[],r,m.vertexOffset,l,u),p.drawElements(e,m.primitiveLength*d,p.UNSIGNED_SHORT,m.primitiveOffset*d*2)}},e.exports=s},{"../data/program_configuration":58,"../gl/context":66,"../shaders":97,"../util/browser":252,"./vertex_array_object":95}],93:[function(t,e,n){"use strict";var i=t("../util/window"),r=i.HTMLImageElement,o=i.HTMLCanvasElement,a=i.HTMLVideoElement,s=i.ImageData,l=function(t,e,n,i){this.context=t;var r=e.width,o=e.height;this.size=[r,o],this.format=n,this.texture=t.gl.createTexture(),this.update(e,i)};l.prototype.update=function(t,e){var n=t.width,i=t.height;this.size=[n,i];var l=this,u=l.context,c=u.gl;c.bindTexture(c.TEXTURE_2D,this.texture),u.pixelStoreUnpack.set(1),this.format===c.RGBA&&!1!==e&&u.pixelStoreUnpackPremultiplyAlpha.set(!0),t instanceof r||t instanceof o||t instanceof a||t instanceof s?c.texImage2D(c.TEXTURE_2D,0,this.format,this.format,c.UNSIGNED_BYTE,t):c.texImage2D(c.TEXTURE_2D,0,this.format,n,i,0,this.format,c.UNSIGNED_BYTE,t.data)},l.prototype.bind=function(t,e,n){var i=this,r=i.context,o=r.gl;o.bindTexture(o.TEXTURE_2D,this.texture),t!==this.filter&&(o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,t),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,n||t),this.filter=t),e!==this.wrap&&(o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,e),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,e),this.wrap=e)},l.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null},e.exports=l},{"../util/window":254}],94:[function(t,e,n){"use strict";function i(t,e,n,r,o){for(var s=0;s<n.length;s++){var l=n[s];if(r.isLessThan(l.tileID))break;if(e.key===l.tileID.key)return;if(l.tileID.isChildOf(e)){for(var u=e.children(1/0),c=0;c<u.length;c++)i(t,u[c],n.slice(s),r,o);return}}var h=e.overscaledZ-t.overscaledZ,p=new a(h,e.canonical.x-(t.canonical.x<<h),e.canonical.y-(t.canonical.y<<h));o[p.key]=o[p.key]||p}var r=t("../source/tile_id"),o=r.OverscaledTileID,a=r.CanonicalTileID;e.exports=function(t,e){for(var n=t.sort(function(t,e){return t.tileID.isLessThan(e.tileID)?-1:e.tileID.isLessThan(t.tileID)?1:0}),r=0;r<n.length;r++){var a={},s=n[r],l=n.slice(r+1);i(s.tileID.wrapped(),s.tileID,l,new o(0,s.tileID.wrap+1,0,0,0),a),s.setMask(a,e)}}},{"../source/tile_id":114}],95:[function(t,e,n){"use strict";var i=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};i.prototype.bind=function(t,e,n,i,r,o,a,s){var l=this;this.context=t;for(var u=this.boundPaintVertexBuffers.length!==i.length,c=0;!u&&c<i.length;c++)l.boundPaintVertexBuffers[c]!==i[c]&&(u=!0);var h=!this.vao||this.boundProgram!==e||this.boundLayoutVertexBuffer!==n||u||this.boundIndexBuffer!==r||this.boundVertexOffset!==o||this.boundDynamicVertexBuffer!==a||this.boundDynamicVertexBuffer2!==s;!t.extVertexArrayObject||h?this.freshBind(e,n,i,r,o,a,s):(t.bindVertexArrayOES.set(this.vao),a&&a.bind(),r&&r.dynamicDraw&&r.bind(),s&&s.bind())},i.prototype.freshBind=function(t,e,n,i,r,o,a){var s,l=t.numAttributes,u=this.context,c=u.gl;if(u.extVertexArrayObject)this.vao&&this.destroy(),this.vao=u.extVertexArrayObject.createVertexArrayOES(),u.bindVertexArrayOES.set(this.vao),s=0,this.boundProgram=t,this.boundLayoutVertexBuffer=e,this.boundPaintVertexBuffers=n,this.boundIndexBuffer=i,this.boundVertexOffset=r,this.boundDynamicVertexBuffer=o,this.boundDynamicVertexBuffer2=a;else{s=u.currentNumAttributes||0;for(var h=l;h<s;h++)c.disableVertexAttribArray(h)}e.enableAttributes(c,t);for(var p=0,d=n;p<d.length;p+=1)d[p].enableAttributes(c,t);o&&o.enableAttributes(c,t),a&&a.enableAttributes(c,t),e.bind(),e.setVertexAttribPointers(c,t,r);for(var f=0,y=n;f<y.length;f+=1){var m=y[f];m.bind(),m.setVertexAttribPointers(c,t,r)}o&&(o.bind(),o.setVertexAttribPointers(c,t,r)),i&&i.bind(),a&&(a.bind(),a.setVertexAttribPointers(c,t,r)),u.currentNumAttributes=l},i.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)},e.exports=i},{}],96:[function(t,e,n){"use strict";var i=t("../util/util");n.packUint8ToFloat=function(t,e){return t=i.clamp(Math.floor(t),0,255),e=i.clamp(Math.floor(e),0,255),256*t+e}},{"../util/util":275}],97:[function(t,e,n){"use strict";var i={prelude:{fragmentSource:"#ifdef GL_ES\nprecision mediump float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif\n",vertexSource:"#ifdef GL_ES\nprecision highp float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif\n\n// Unpack a pair of values that have been packed into a single float.\n// The packed values are assumed to be 8-bit unsigned integers, and are\n// packed like so:\n// packedValue = floor(input[0]) * 256 + input[1],\nvec2 unpack_float(const float packedValue) {\n    int packedIntValue = int(packedValue);\n    int v0 = packedIntValue / 256;\n    return vec2(v0, packedIntValue - v0 * 256);\n}\n\nvec2 unpack_opacity(const float packedOpacity) {\n    int intOpacity = int(packedOpacity) / 2;\n    return vec2(float(intOpacity) / 127.0, mod(packedOpacity, 2.0));\n}\n\n// To minimize the number of attributes needed, we encode a 4-component\n// color into a pair of floats (i.e. a vec2) as follows:\n// [ floor(color.r * 255) * 256 + color.g * 255,\n//   floor(color.b * 255) * 256 + color.g * 255 ]\nvec4 decode_color(const vec2 encodedColor) {\n    return vec4(\n        unpack_float(encodedColor[0]) / 255.0,\n        unpack_float(encodedColor[1]) / 255.0\n    );\n}\n\n// Unpack a pair of paint values and interpolate between them.\nfloat unpack_mix_vec2(const vec2 packedValue, const float t) {\n    return mix(packedValue[0], packedValue[1], t);\n}\n\n// Unpack a pair of paint values and interpolate between them.\nvec4 unpack_mix_vec4(const vec4 packedColors, const float t) {\n    vec4 minColor = decode_color(vec2(packedColors[0], packedColors[1]));\n    vec4 maxColor = decode_color(vec2(packedColors[2], packedColors[3]));\n    return mix(minColor, maxColor, t);\n}\n\n// The offset depends on how many pixels are between the world origin and the edge of the tile:\n// vec2 offset = mod(pixel_coord, size)\n//\n// At high zoom levels there are a ton of pixels between the world origin and the edge of the tile.\n// The glsl spec only guarantees 16 bits of precision for highp floats. We need more than that.\n//\n// The pixel_coord is passed in as two 16 bit values:\n// pixel_coord_upper = floor(pixel_coord / 2^16)\n// pixel_coord_lower = mod(pixel_coord, 2^16)\n//\n// The offset is calculated in a series of steps that should preserve this precision:\nvec2 get_pattern_pos(const vec2 pixel_coord_upper, const vec2 pixel_coord_lower,\n    const vec2 pattern_size, const float tile_units_to_pixels, const vec2 pos) {\n\n    vec2 offset = mod(mod(mod(pixel_coord_upper, pattern_size) * 256.0, pattern_size) * 256.0 + pixel_coord_lower, pattern_size);\n    return (tile_units_to_pixels * pos + offset) / pattern_size;\n}\n"},background:{fragmentSource:"uniform vec4 u_color;\nuniform float u_opacity;\n\nvoid main() {\n    gl_FragColor = u_color * u_opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n}\n"},backgroundPattern:{fragmentSource:"uniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_mix;\nuniform float u_opacity;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\nvoid main() {\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    gl_FragColor = mix(color1, color2, u_mix) * u_opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, a_pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, a_pos);\n}\n"},circle:{fragmentSource:"#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\n\nvarying vec3 v_data;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize mediump float radius\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize highp vec4 stroke_color\n    #pragma mapbox: initialize mediump float stroke_width\n    #pragma mapbox: initialize lowp float stroke_opacity\n\n    vec2 extrude = v_data.xy;\n    float extrude_length = length(extrude);\n\n    lowp float antialiasblur = v_data.z;\n    float antialiased_blur = -max(blur, antialiasblur);\n\n    float opacity_t = smoothstep(0.0, antialiased_blur, extrude_length - 1.0);\n\n    float color_t = stroke_width < 0.01 ? 0.0 : smoothstep(\n        antialiased_blur,\n        0.0,\n        extrude_length - radius / (radius + stroke_width)\n    );\n\n    gl_FragColor = opacity_t * mix(color * opacity, stroke_color * stroke_opacity, color_t);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform bool u_scale_with_map;\nuniform bool u_pitch_with_map;\nuniform vec2 u_extrude_scale;\nuniform highp float u_camera_to_center_distance;\n\nattribute vec2 a_pos;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\n\nvarying vec3 v_data;\n\nvoid main(void) {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize mediump float radius\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize highp vec4 stroke_color\n    #pragma mapbox: initialize mediump float stroke_width\n    #pragma mapbox: initialize lowp float stroke_opacity\n\n    // unencode the extrusion vector that we snuck into the a_pos vector\n    vec2 extrude = vec2(mod(a_pos, 2.0) * 2.0 - 1.0);\n\n    // multiply a_pos by 0.5, since we had it * 2 in order to sneak\n    // in extrusion data\n    vec2 circle_center = floor(a_pos * 0.5);\n    if (u_pitch_with_map) {\n        vec2 corner_position = circle_center;\n        if (u_scale_with_map) {\n            corner_position += extrude * (radius + stroke_width) * u_extrude_scale;\n        } else {\n            // Pitching the circle with the map effectively scales it with the map\n            // To counteract the effect for pitch-scale: viewport, we rescale the\n            // whole circle based on the pitch scaling effect at its central point\n            vec4 projected_center = u_matrix * vec4(circle_center, 0, 1);\n            corner_position += extrude * (radius + stroke_width) * u_extrude_scale * (projected_center.w / u_camera_to_center_distance);\n        }\n\n        gl_Position = u_matrix * vec4(corner_position, 0, 1);\n    } else {\n        gl_Position = u_matrix * vec4(circle_center, 0, 1);\n\n        if (u_scale_with_map) {\n            gl_Position.xy += extrude * (radius + stroke_width) * u_extrude_scale * u_camera_to_center_distance;\n        } else {\n            gl_Position.xy += extrude * (radius + stroke_width) * u_extrude_scale * gl_Position.w;\n        }\n    }\n\n    // This is a minimum blur distance that serves as a faux-antialiasing for\n    // the circle. since blur is a ratio of the circle's size and the intent is\n    // to keep the blur at roughly 1px, the two are inversely related.\n    lowp float antialiasblur = 1.0 / DEVICE_PIXEL_RATIO / (radius + stroke_width);\n\n    v_data = vec3(extrude.x, extrude.y, antialiasblur);\n}\n"},clippingMask:{fragmentSource:"void main() {\n    gl_FragColor = vec4(1.0);\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n}\n"},heatmap:{fragmentSource:"#pragma mapbox: define highp float weight\n\nuniform highp float u_intensity;\nvarying vec2 v_extrude;\n\n// Gaussian kernel coefficient: 1 / sqrt(2 * PI)\n#define GAUSS_COEF 0.3989422804014327\n\nvoid main() {\n    #pragma mapbox: initialize highp float weight\n\n    // Kernel density estimation with a Gaussian kernel of size 5x5\n    float d = -0.5 * 3.0 * 3.0 * dot(v_extrude, v_extrude);\n    float val = weight * u_intensity * GAUSS_COEF * exp(d);\n\n    gl_FragColor = vec4(val, 1.0, 1.0, 1.0);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\n\nuniform mat4 u_matrix;\nuniform float u_extrude_scale;\nuniform float u_opacity;\nuniform float u_intensity;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_extrude;\n\n// Effective \"0\" in the kernel density texture to adjust the kernel size to;\n// this empirically chosen number minimizes artifacts on overlapping kernels\n// for typical heatmap cases (assuming clustered source)\nconst highp float ZERO = 1.0 / 255.0 / 16.0;\n\n// Gaussian kernel coefficient: 1 / sqrt(2 * PI)\n#define GAUSS_COEF 0.3989422804014327\n\nvoid main(void) {\n    #pragma mapbox: initialize highp float weight\n    #pragma mapbox: initialize mediump float radius\n\n    // unencode the extrusion vector that we snuck into the a_pos vector\n    vec2 unscaled_extrude = vec2(mod(a_pos, 2.0) * 2.0 - 1.0);\n\n    // This 'extrude' comes in ranging from [-1, -1], to [1, 1].  We'll use\n    // it to produce the vertices of a square mesh framing the point feature\n    // we're adding to the kernel density texture.  We'll also pass it as\n    // a varying, so that the fragment shader can determine the distance of\n    // each fragment from the point feature.\n    // Before we do so, we need to scale it up sufficiently so that the\n    // kernel falls effectively to zero at the edge of the mesh.\n    // That is, we want to know S such that\n    // weight * u_intensity * GAUSS_COEF * exp(-0.5 * 3.0^2 * S^2) == ZERO\n    // Which solves to:\n    // S = sqrt(-2.0 * log(ZERO / (weight * u_intensity * GAUSS_COEF))) / 3.0\n    float S = sqrt(-2.0 * log(ZERO / weight / u_intensity / GAUSS_COEF)) / 3.0;\n\n    // Pass the varying in units of radius\n    v_extrude = S * unscaled_extrude;\n\n    // Scale by radius and the zoom-based scale factor to produce actual\n    // mesh position\n    vec2 extrude = v_extrude * radius * u_extrude_scale;\n\n    // multiply a_pos by 0.5, since we had it * 2 in order to sneak\n    // in extrusion data\n    vec4 pos = vec4(floor(a_pos * 0.5) + extrude, 0, 1);\n\n    gl_Position = u_matrix * pos;\n}\n"},heatmapTexture:{fragmentSource:"uniform sampler2D u_image;\nuniform sampler2D u_color_ramp;\nuniform float u_opacity;\nvarying vec2 v_pos;\n\nvoid main() {\n    float t = texture2D(u_image, v_pos).r;\n    vec4 color = texture2D(u_color_ramp, vec2(t, 0.5));\n    gl_FragColor = color * u_opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(0.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_world;\nattribute vec2 a_pos;\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos * u_world, 0, 1);\n\n    v_pos.x = a_pos.x;\n    v_pos.y = 1.0 - a_pos.y;\n}\n"},collisionBox:{fragmentSource:"\nvarying float v_placed;\nvarying float v_notUsed;\n\nvoid main() {\n\n    float alpha = 0.5;\n\n    // Red = collision, hide label\n    gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0) * alpha;\n\n    // Blue = no collision, label is showing\n    if (v_placed > 0.5) {\n        gl_FragColor = vec4(0.0, 0.0, 1.0, 0.5) * alpha;\n    }\n\n    if (v_notUsed > 0.5) {\n        // This box not used, fade it out\n        gl_FragColor *= .1;\n    }\n}",vertexSource:"attribute vec2 a_pos;\nattribute vec2 a_anchor_pos;\nattribute vec2 a_extrude;\nattribute vec2 a_placed;\n\nuniform mat4 u_matrix;\nuniform vec2 u_extrude_scale;\nuniform float u_camera_to_center_distance;\n\nvarying float v_placed;\nvarying float v_notUsed;\n\nvoid main() {\n    vec4 projectedPoint = u_matrix * vec4(a_anchor_pos, 0, 1);\n    highp float camera_to_anchor_distance = projectedPoint.w;\n    highp float collision_perspective_ratio = 0.5 + 0.5 * (u_camera_to_center_distance / camera_to_anchor_distance);\n\n    gl_Position = u_matrix * vec4(a_pos, 0.0, 1.0);\n    gl_Position.xy += a_extrude * u_extrude_scale * gl_Position.w * collision_perspective_ratio;\n\n    v_placed = a_placed.x;\n    v_notUsed = a_placed.y;\n}\n"},collisionCircle:{fragmentSource:"\nvarying float v_placed;\nvarying float v_notUsed;\nvarying float v_radius;\nvarying vec2 v_extrude;\nvarying vec2 v_extrude_scale;\n\nvoid main() {\n    float alpha = 0.5;\n\n    // Red = collision, hide label\n    vec4 color = vec4(1.0, 0.0, 0.0, 1.0) * alpha;\n\n    // Blue = no collision, label is showing\n    if (v_placed > 0.5) {\n        color = vec4(0.0, 0.0, 1.0, 0.5) * alpha;\n    }\n\n    if (v_notUsed > 0.5) {\n        // This box not used, fade it out\n        color *= .2;\n    }\n\n    float extrude_scale_length = length(v_extrude_scale);\n    float extrude_length = length(v_extrude) * extrude_scale_length;\n    float stroke_width = 15.0 * extrude_scale_length;\n    float radius = v_radius * extrude_scale_length;\n\n    float distance_to_edge = abs(extrude_length - radius);\n    float opacity_t = smoothstep(-stroke_width, 0.0, -distance_to_edge);\n\n    gl_FragColor = opacity_t * color;\n}\n",vertexSource:"attribute vec2 a_pos;\nattribute vec2 a_anchor_pos;\nattribute vec2 a_extrude;\nattribute vec2 a_placed;\n\nuniform mat4 u_matrix;\nuniform vec2 u_extrude_scale;\nuniform float u_camera_to_center_distance;\n\nvarying float v_placed;\nvarying float v_notUsed;\nvarying float v_radius;\n\nvarying vec2 v_extrude;\nvarying vec2 v_extrude_scale;\n\nvoid main() {\n    vec4 projectedPoint = u_matrix * vec4(a_anchor_pos, 0, 1);\n    highp float camera_to_anchor_distance = projectedPoint.w;\n    highp float collision_perspective_ratio = 0.5 + 0.5 * (u_camera_to_center_distance / camera_to_anchor_distance);\n\n    gl_Position = u_matrix * vec4(a_pos, 0.0, 1.0);\n\n    highp float padding_factor = 1.2; // Pad the vertices slightly to make room for anti-alias blur\n    gl_Position.xy += a_extrude * u_extrude_scale * padding_factor * gl_Position.w * collision_perspective_ratio;\n\n    v_placed = a_placed.x;\n    v_notUsed = a_placed.y;\n    v_radius = abs(a_extrude.y); // We don't pitch the circles, so both units of the extrusion vector are equal in magnitude to the radius\n\n    v_extrude = a_extrude * padding_factor;\n    v_extrude_scale = u_extrude_scale * u_camera_to_center_distance * collision_perspective_ratio;\n}\n"},debug:{fragmentSource:"uniform highp vec4 u_color;\n\nvoid main() {\n    gl_FragColor = u_color;\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n}\n"},fill:{fragmentSource:"#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_FragColor = color * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n}\n"},fillOutline:{fragmentSource:"#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_pos;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 outline_color\n    #pragma mapbox: initialize lowp float opacity\n\n    float dist = length(v_pos - gl_FragCoord.xy);\n    float alpha = 1.0 - smoothstep(0.0, 1.0, dist);\n    gl_FragColor = outline_color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\nuniform vec2 u_world;\n\nvarying vec2 v_pos;\n\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 outline_color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    v_pos = (gl_Position.xy / gl_Position.w + 1.0) / 2.0 * u_world;\n}\n"},fillOutlinePattern:{fragmentSource:"uniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_mix;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec2 v_pos;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    // find distance to outline for alpha interpolation\n\n    float dist = length(v_pos - gl_FragCoord.xy);\n    float alpha = 1.0 - smoothstep(0.0, 1.0, dist);\n\n\n    gl_FragColor = mix(color1, color2, u_mix) * alpha * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_world;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec2 v_pos;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, a_pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, a_pos);\n\n    v_pos = (gl_Position.xy / gl_Position.w + 1.0) / 2.0 * u_world;\n}\n"},fillPattern:{fragmentSource:"uniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_mix;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    gl_FragColor = mix(color1, color2, u_mix) * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, a_pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, a_pos);\n}\n"},fillExtrusion:{fragmentSource:"varying vec4 v_color;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define highp vec4 color\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n    #pragma mapbox: initialize highp vec4 color\n\n    gl_FragColor = v_color;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec3 u_lightcolor;\nuniform lowp vec3 u_lightpos;\nuniform lowp float u_lightintensity;\n\nattribute vec2 a_pos;\nattribute vec4 a_normal_ed;\n\nvarying vec4 v_color;\n\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n\n#pragma mapbox: define highp vec4 color\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n    #pragma mapbox: initialize highp vec4 color\n\n    vec3 normal = a_normal_ed.xyz;\n\n    base = max(0.0, base);\n    height = max(0.0, height);\n\n    float t = mod(normal.x, 2.0);\n\n    gl_Position = u_matrix * vec4(a_pos, t > 0.0 ? height : base, 1);\n\n    // Relative luminance (how dark/bright is the surface color?)\n    float colorvalue = color.r * 0.2126 + color.g * 0.7152 + color.b * 0.0722;\n\n    v_color = vec4(0.0, 0.0, 0.0, 1.0);\n\n    // Add slight ambient lighting so no extrusions are totally black\n    vec4 ambientlight = vec4(0.03, 0.03, 0.03, 1.0);\n    color += ambientlight;\n\n    // Calculate cos(theta), where theta is the angle between surface normal and diffuse light ray\n    float directional = clamp(dot(normal / 16384.0, u_lightpos), 0.0, 1.0);\n\n    // Adjust directional so that\n    // the range of values for highlight/shading is narrower\n    // with lower light intensity\n    // and with lighter/brighter surface colors\n    directional = mix((1.0 - u_lightintensity), max((1.0 - colorvalue + u_lightintensity), 1.0), directional);\n\n    // Add gradient along z axis of side surfaces\n    if (normal.y != 0.0) {\n        directional *= clamp((t + base) * pow(height / 150.0, 0.5), mix(0.7, 0.98, 1.0 - u_lightintensity), 1.0);\n    }\n\n    // Assign final color based on surface + ambient light color, diffuse light directional, and light color\n    // with lower bounds adjusted to hue of light\n    // so that shading is tinted with the complementary (opposite) color to the light color\n    v_color.r += clamp(color.r * directional * u_lightcolor.r, mix(0.0, 0.3, 1.0 - u_lightcolor.r), 1.0);\n    v_color.g += clamp(color.g * directional * u_lightcolor.g, mix(0.0, 0.3, 1.0 - u_lightcolor.g), 1.0);\n    v_color.b += clamp(color.b * directional * u_lightcolor.b, mix(0.0, 0.3, 1.0 - u_lightcolor.b), 1.0);\n}\n"},fillExtrusionPattern:{fragmentSource:"uniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_mix;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec4 v_lighting;\n\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    vec4 mixedColor = mix(color1, color2, u_mix);\n\n    gl_FragColor = mixedColor * v_lighting;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\nuniform float u_height_factor;\n\nuniform vec3 u_lightcolor;\nuniform lowp vec3 u_lightpos;\nuniform lowp float u_lightintensity;\n\nattribute vec2 a_pos;\nattribute vec4 a_normal_ed;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec4 v_lighting;\nvarying float v_directional;\n\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n\n    vec3 normal = a_normal_ed.xyz;\n    float edgedistance = a_normal_ed.w;\n\n    base = max(0.0, base);\n    height = max(0.0, height);\n\n    float t = mod(normal.x, 2.0);\n    float z = t > 0.0 ? height : base;\n\n    gl_Position = u_matrix * vec4(a_pos, z, 1);\n\n    vec2 pos = normal.x == 1.0 && normal.y == 0.0 && normal.z == 16384.0\n        ? a_pos // extrusion top\n        : vec2(edgedistance, z * u_height_factor); // extrusion side\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, pos);\n\n    v_lighting = vec4(0.0, 0.0, 0.0, 1.0);\n    float directional = clamp(dot(normal / 16383.0, u_lightpos), 0.0, 1.0);\n    directional = mix((1.0 - u_lightintensity), max((0.5 + u_lightintensity), 1.0), directional);\n\n    if (normal.y != 0.0) {\n        directional *= clamp((t + base) * pow(height / 150.0, 0.5), mix(0.7, 0.98, 1.0 - u_lightintensity), 1.0);\n    }\n\n    v_lighting.rgb += clamp(directional * u_lightcolor, mix(vec3(0.0), vec3(0.3), 1.0 - u_lightcolor), vec3(1.0));\n}\n"},extrusionTexture:{fragmentSource:"uniform sampler2D u_image;\nuniform float u_opacity;\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_FragColor = texture2D(u_image, v_pos) * u_opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(0.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_world;\nattribute vec2 a_pos;\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos * u_world, 0, 1);\n\n    v_pos.x = a_pos.x;\n    v_pos.y = 1.0 - a_pos.y;\n}\n"},hillshadePrepare:{fragmentSource:"#ifdef GL_ES\nprecision highp float;\n#endif\n\nuniform sampler2D u_image;\nvarying vec2 v_pos;\nuniform vec2 u_dimension;\nuniform float u_zoom;\n\nfloat getElevation(vec2 coord, float bias) {\n    // Convert encoded elevation value to meters\n    vec4 data = texture2D(u_image, coord) * 255.0;\n    return (data.r + data.g * 256.0 + data.b * 256.0 * 256.0) / 4.0;\n}\n\nvoid main() {\n    vec2 epsilon = 1.0 / u_dimension;\n\n    // queried pixels:\n    // +-----------+\n    // |   |   |   |\n    // | a | b | c |\n    // |   |   |   |\n    // +-----------+\n    // |   |   |   |\n    // | d | e | f |\n    // |   |   |   |\n    // +-----------+\n    // |   |   |   |\n    // | g | h | i |\n    // |   |   |   |\n    // +-----------+\n\n    float a = getElevation(v_pos + vec2(-epsilon.x, -epsilon.y), 0.0);\n    float b = getElevation(v_pos + vec2(0, -epsilon.y), 0.0);\n    float c = getElevation(v_pos + vec2(epsilon.x, -epsilon.y), 0.0);\n    float d = getElevation(v_pos + vec2(-epsilon.x, 0), 0.0);\n    float e = getElevation(v_pos, 0.0);\n    float f = getElevation(v_pos + vec2(epsilon.x, 0), 0.0);\n    float g = getElevation(v_pos + vec2(-epsilon.x, epsilon.y), 0.0);\n    float h = getElevation(v_pos + vec2(0, epsilon.y), 0.0);\n    float i = getElevation(v_pos + vec2(epsilon.x, epsilon.y), 0.0);\n\n    // here we divide the x and y slopes by 8 * pixel size\n    // where pixel size (aka meters/pixel) is:\n    // circumference of the world / (pixels per tile * number of tiles)\n    // which is equivalent to: 8 * 40075016.6855785 / (512 * pow(2, u_zoom))\n    // which can be reduced to: pow(2, 19.25619978527 - u_zoom)\n    // we want to vertically exaggerate the hillshading though, because otherwise\n    // it is barely noticeable at low zooms. to do this, we multiply this by some\n    // scale factor pow(2, (u_zoom - 14) * a) where a is an arbitrary value and 14 is the\n    // maxzoom of the tile source. here we use a=0.3 which works out to the\n    // expression below. see nickidlugash's awesome breakdown for more info\n    // https://github.com/mapbox/mapbox-gl-js/pull/5286#discussion_r148419556\n    float exaggeration = u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;\n\n    vec2 deriv = vec2(\n        (c + f + f + i) - (a + d + d + g),\n        (g + h + h + i) - (a + b + b + c)\n    ) /  pow(2.0, (u_zoom - 14.0) * exaggeration + 19.2562 - u_zoom);\n\n    gl_FragColor = clamp(vec4(\n        deriv.x / 2.0 + 0.5,\n        deriv.y / 2.0 + 0.5,\n        1.0,\n        1.0), 0.0, 1.0);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\n\nattribute vec2 a_pos;\nattribute vec2 a_texture_pos;\n\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    v_pos = (a_texture_pos / 8192.0) / 2.0 + 0.25;\n}\n"},hillshade:{fragmentSource:"uniform sampler2D u_image;\nvarying vec2 v_pos;\n\nuniform vec2 u_latrange;\nuniform vec2 u_light;\nuniform vec4 u_shadow;\nuniform vec4 u_highlight;\nuniform vec4 u_accent;\n\n#define PI 3.141592653589793\n\nvoid main() {\n    vec4 pixel = texture2D(u_image, v_pos);\n\n    vec2 deriv = ((pixel.rg * 2.0) - 1.0);\n\n    // We divide the slope by a scale factor based on the cosin of the pixel's approximate latitude\n    // to account for mercator projection distortion. see #4807 for details\n    float scaleFactor = cos(radians((u_latrange[0] - u_latrange[1]) * (1.0 - v_pos.y) + u_latrange[1]));\n    // We also multiply the slope by an arbitrary z-factor of 1.25\n    float slope = atan(1.25 * length(deriv) / scaleFactor);\n    float aspect = deriv.x != 0.0 ? atan(deriv.y, -deriv.x) : PI / 2.0 * (deriv.y > 0.0 ? 1.0 : -1.0);\n\n    float intensity = u_light.x;\n    // We add PI to make this property match the global light object, which adds PI/2 to the light's azimuthal\n    // position property to account for 0deg corresponding to north/the top of the viewport in the style spec\n    // and the original shader was written to accept (-illuminationDirection - 90) as the azimuthal.\n    float azimuth = u_light.y + PI;\n\n    // We scale the slope exponentially based on intensity, using a calculation similar to\n    // the exponential interpolation function in the style spec:\n    // https://github.com/mapbox/mapbox-gl-js/blob/master/src/style-spec/expression/definitions/interpolate.js#L217-L228\n    // so that higher intensity values create more opaque hillshading.\n    float base = 1.875 - intensity * 1.75;\n    float maxValue = 0.5 * PI;\n    float scaledSlope = intensity != 0.5 ? ((pow(base, slope) - 1.0) / (pow(base, maxValue) - 1.0)) * maxValue : slope;\n\n    // The accent color is calculated with the cosine of the slope while the shade color is calculated with the sine\n    // so that the accent color's rate of change eases in while the shade color's eases out.\n    float accent = cos(scaledSlope);\n    // We multiply both the accent and shade color by a clamped intensity value\n    // so that intensities >= 0.5 do not additionally affect the color values\n    // while intensity values < 0.5 make the overall color more transparent.\n    vec4 accent_color = (1.0 - accent) * u_accent * clamp(intensity * 2.0, 0.0, 1.0);\n    float shade = abs(mod((aspect + azimuth) / PI + 0.5, 2.0) - 1.0);\n    vec4 shade_color = mix(u_shadow, u_highlight, shade) * sin(scaledSlope) * clamp(intensity * 2.0, 0.0, 1.0);\n    gl_FragColor = accent_color * (1.0 - shade_color.a) + shade_color;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\n\nattribute vec2 a_pos;\nattribute vec2 a_texture_pos;\n\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    v_pos = a_texture_pos / 8192.0;\n}\n"},line:{fragmentSource:"#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_width2;\nvarying vec2 v_normal;\nvarying float v_gamma_scale;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_width2.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_width2.t) or when fading out\n    // (v_width2.s)\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\n\n    gl_FragColor = color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"\n\n// the distance over which the line edge fades out.\n// Retina devices need a smaller distance to avoid aliasing.\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\n\n// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\nattribute vec4 a_pos_normal;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform vec2 u_gl_units_to_pixels;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump float gapwidth\n    #pragma mapbox: initialize lowp float offset\n    #pragma mapbox: initialize mediump float width\n\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n\n    vec2 pos = a_pos_normal.xy;\n\n    // x is 1 if it's a round cap, 0 otherwise\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = a_pos_normal.zw;\n    v_normal = normal;\n\n    // these transformations used to be applied in the JS and native code bases.\n    // moved them into the shader for clarity and simplicity.\n    gapwidth = gapwidth / 2.0;\n    float halfwidth = width / 2.0;\n    offset = -1.0 * offset;\n\n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\n    float outset = gapwidth + halfwidth * (gapwidth > 0.0 ? 2.0 : 1.0) + ANTIALIASING;\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist = outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\n\n    // calculate how much the perspective view squishes or stretches the extrude\n    float extrude_length_without_perspective = length(dist);\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\n\n    v_width2 = vec2(outset, inset);\n}\n"},linePattern:{fragmentSource:"uniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform vec2 u_texsize;\nuniform float u_fade;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying float v_linesofar;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_width2.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_width2.t) or when fading out\n    // (v_width2.s)\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\n\n    float x_a = mod(v_linesofar / u_pattern_size_a.x, 1.0);\n    float x_b = mod(v_linesofar / u_pattern_size_b.x, 1.0);\n    float y_a = 0.5 + (v_normal.y * v_width2.s / u_pattern_size_a.y);\n    float y_b = 0.5 + (v_normal.y * v_width2.s / u_pattern_size_b.y);\n    vec2 pos_a = mix(u_pattern_tl_a / u_texsize, u_pattern_br_a / u_texsize, vec2(x_a, y_a));\n    vec2 pos_b = mix(u_pattern_tl_b / u_texsize, u_pattern_br_b / u_texsize, vec2(x_b, y_b));\n\n    vec4 color = mix(texture2D(u_image, pos_a), texture2D(u_image, pos_b), u_fade);\n\n    gl_FragColor = color * alpha * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\n// We scale the distance before adding it to the buffers so that we can store\n// long distances for long segments. Use this value to unscale the distance.\n#define LINE_DISTANCE_SCALE 2.0\n\n// the distance over which the line edge fades out.\n// Retina devices need a smaller distance to avoid aliasing.\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\n\nattribute vec4 a_pos_normal;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform vec2 u_gl_units_to_pixels;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying float v_linesofar;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n\nvoid main() {\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize lowp float offset\n    #pragma mapbox: initialize mediump float gapwidth\n    #pragma mapbox: initialize mediump float width\n\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n    float a_linesofar = (floor(a_data.z / 4.0) + a_data.w * 64.0) * LINE_DISTANCE_SCALE;\n\n    vec2 pos = a_pos_normal.xy;\n\n    // x is 1 if it's a round cap, 0 otherwise\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = a_pos_normal.zw;\n    v_normal = normal;\n\n    // these transformations used to be applied in the JS and native code bases.\n    // moved them into the shader for clarity and simplicity.\n    gapwidth = gapwidth / 2.0;\n    float halfwidth = width / 2.0;\n    offset = -1.0 * offset;\n\n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\n    float outset = gapwidth + halfwidth * (gapwidth > 0.0 ? 2.0 : 1.0) + ANTIALIASING;\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist = outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\n\n    // calculate how much the perspective view squishes or stretches the extrude\n    float extrude_length_without_perspective = length(dist);\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\n\n    v_linesofar = a_linesofar;\n    v_width2 = vec2(outset, inset);\n}\n"},lineSDF:{fragmentSource:"\nuniform sampler2D u_image;\nuniform float u_sdfgamma;\nuniform float u_mix;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying vec2 v_tex_a;\nvarying vec2 v_tex_b;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump float width\n    #pragma mapbox: initialize lowp float floorwidth\n\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_width2.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_width2.t) or when fading out\n    // (v_width2.s)\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\n\n    float sdfdist_a = texture2D(u_image, v_tex_a).a;\n    float sdfdist_b = texture2D(u_image, v_tex_b).a;\n    float sdfdist = mix(sdfdist_a, sdfdist_b, u_mix);\n    alpha *= smoothstep(0.5 - u_sdfgamma / floorwidth, 0.5 + u_sdfgamma / floorwidth, sdfdist);\n\n    gl_FragColor = color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\n// We scale the distance before adding it to the buffers so that we can store\n// long distances for long segments. Use this value to unscale the distance.\n#define LINE_DISTANCE_SCALE 2.0\n\n// the distance over which the line edge fades out.\n// Retina devices need a smaller distance to avoid aliasing.\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\n\nattribute vec4 a_pos_normal;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform vec2 u_patternscale_a;\nuniform float u_tex_y_a;\nuniform vec2 u_patternscale_b;\nuniform float u_tex_y_b;\nuniform vec2 u_gl_units_to_pixels;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying vec2 v_tex_a;\nvarying vec2 v_tex_b;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump float gapwidth\n    #pragma mapbox: initialize lowp float offset\n    #pragma mapbox: initialize mediump float width\n    #pragma mapbox: initialize lowp float floorwidth\n\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n    float a_linesofar = (floor(a_data.z / 4.0) + a_data.w * 64.0) * LINE_DISTANCE_SCALE;\n\n    vec2 pos = a_pos_normal.xy;\n\n    // x is 1 if it's a round cap, 0 otherwise\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = a_pos_normal.zw;\n    v_normal = normal;\n\n    // these transformations used to be applied in the JS and native code bases.\n    // moved them into the shader for clarity and simplicity.\n    gapwidth = gapwidth / 2.0;\n    float halfwidth = width / 2.0;\n    offset = -1.0 * offset;\n\n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\n    float outset = gapwidth + halfwidth * (gapwidth > 0.0 ? 2.0 : 1.0) + ANTIALIASING;\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist =outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\n\n    // calculate how much the perspective view squishes or stretches the extrude\n    float extrude_length_without_perspective = length(dist);\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\n\n    v_tex_a = vec2(a_linesofar * u_patternscale_a.x / floorwidth, normal.y * u_patternscale_a.y + u_tex_y_a);\n    v_tex_b = vec2(a_linesofar * u_patternscale_b.x / floorwidth, normal.y * u_patternscale_b.y + u_tex_y_b);\n\n    v_width2 = vec2(outset, inset);\n}\n"},raster:{fragmentSource:"uniform float u_fade_t;\nuniform float u_opacity;\nuniform sampler2D u_image0;\nuniform sampler2D u_image1;\nvarying vec2 v_pos0;\nvarying vec2 v_pos1;\n\nuniform float u_brightness_low;\nuniform float u_brightness_high;\n\nuniform float u_saturation_factor;\nuniform float u_contrast_factor;\nuniform vec3 u_spin_weights;\n\nvoid main() {\n\n    // read and cross-fade colors from the main and parent tiles\n    vec4 color0 = texture2D(u_image0, v_pos0);\n    vec4 color1 = texture2D(u_image1, v_pos1);\n    if (color0.a > 0.0) {\n        color0.rgb = color0.rgb / color0.a;\n    }\n    if (color1.a > 0.0) {\n        color1.rgb = color1.rgb / color1.a;\n    }\n    vec4 color = mix(color0, color1, u_fade_t);\n    color.a *= u_opacity;\n    vec3 rgb = color.rgb;\n\n    // spin\n    rgb = vec3(\n        dot(rgb, u_spin_weights.xyz),\n        dot(rgb, u_spin_weights.zxy),\n        dot(rgb, u_spin_weights.yzx));\n\n    // saturation\n    float average = (color.r + color.g + color.b) / 3.0;\n    rgb += (average - rgb) * u_saturation_factor;\n\n    // contrast\n    rgb = (rgb - 0.5) * u_contrast_factor + 0.5;\n\n    // brightness\n    vec3 u_high_vec = vec3(u_brightness_low, u_brightness_low, u_brightness_low);\n    vec3 u_low_vec = vec3(u_brightness_high, u_brightness_high, u_brightness_high);\n\n    gl_FragColor = vec4(mix(u_high_vec, u_low_vec, rgb) * color.a, color.a);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_tl_parent;\nuniform float u_scale_parent;\nuniform float u_buffer_scale;\n\nattribute vec2 a_pos;\nattribute vec2 a_texture_pos;\n\nvarying vec2 v_pos0;\nvarying vec2 v_pos1;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    // We are using Int16 for texture position coordinates to give us enough precision for\n    // fractional coordinates. We use 8192 to scale the texture coordinates in the buffer\n    // as an arbitrarily high number to preserve adequate precision when rendering.\n    // This is also the same value as the EXTENT we are using for our tile buffer pos coordinates,\n    // so math for modifying either is consistent.\n    v_pos0 = (((a_texture_pos / 8192.0) - 0.5) / u_buffer_scale ) + 0.5;\n    v_pos1 = (v_pos0 * u_scale_parent) + u_tl_parent;\n}\n"},symbolIcon:{fragmentSource:"uniform sampler2D u_texture;\n\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_tex;\nvarying float v_fade_opacity;\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    lowp float alpha = opacity * v_fade_opacity;\n    gl_FragColor = texture2D(u_texture, v_tex) * alpha;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"const float PI = 3.141592653589793;\n\nattribute vec4 a_pos_offset;\nattribute vec4 a_data;\nattribute vec3 a_projected_pos;\nattribute float a_fade_opacity;\n\nuniform bool u_is_size_zoom_constant;\nuniform bool u_is_size_feature_constant;\nuniform highp float u_size_t; // used to interpolate between zoom stops when size is a composite function\nuniform highp float u_size; // used when size is both zoom and feature constant\nuniform highp float u_camera_to_center_distance;\nuniform highp float u_pitch;\nuniform bool u_rotate_symbol;\nuniform highp float u_aspect_ratio;\nuniform float u_fade_change;\n\n#pragma mapbox: define lowp float opacity\n\nuniform mat4 u_matrix;\nuniform mat4 u_label_plane_matrix;\nuniform mat4 u_gl_coord_matrix;\n\nuniform bool u_is_text;\nuniform bool u_pitch_with_map;\n\nuniform vec2 u_texsize;\n\nvarying vec2 v_tex;\nvarying float v_fade_opacity;\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    vec2 a_pos = a_pos_offset.xy;\n    vec2 a_offset = a_pos_offset.zw;\n\n    vec2 a_tex = a_data.xy;\n    vec2 a_size = a_data.zw;\n\n    highp float segment_angle = -a_projected_pos[2];\n\n    float size;\n    if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        size = mix(a_size[0], a_size[1], u_size_t) / 10.0;\n    } else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        size = a_size[0] / 10.0;\n    } else if (!u_is_size_zoom_constant && u_is_size_feature_constant) {\n        size = u_size;\n    } else {\n        size = u_size;\n    }\n\n    vec4 projectedPoint = u_matrix * vec4(a_pos, 0, 1);\n    highp float camera_to_anchor_distance = projectedPoint.w;\n    // See comments in symbol_sdf.vertex\n    highp float distance_ratio = u_pitch_with_map ?\n        camera_to_anchor_distance / u_camera_to_center_distance :\n        u_camera_to_center_distance / camera_to_anchor_distance;\n    highp float perspective_ratio = 0.5 + 0.5 * distance_ratio;\n\n    size *= perspective_ratio;\n\n    float fontScale = u_is_text ? size / 24.0 : size;\n\n    highp float symbol_rotation = 0.0;\n    if (u_rotate_symbol) {\n        // See comments in symbol_sdf.vertex\n        vec4 offsetProjectedPoint = u_matrix * vec4(a_pos + vec2(1, 0), 0, 1);\n\n        vec2 a = projectedPoint.xy / projectedPoint.w;\n        vec2 b = offsetProjectedPoint.xy / offsetProjectedPoint.w;\n\n        symbol_rotation = atan((b.y - a.y) / u_aspect_ratio, b.x - a.x);\n    }\n\n    highp float angle_sin = sin(segment_angle + symbol_rotation);\n    highp float angle_cos = cos(segment_angle + symbol_rotation);\n    mat2 rotation_matrix = mat2(angle_cos, -1.0 * angle_sin, angle_sin, angle_cos);\n\n    vec4 projected_pos = u_label_plane_matrix * vec4(a_projected_pos.xy, 0.0, 1.0);\n    gl_Position = u_gl_coord_matrix * vec4(projected_pos.xy / projected_pos.w + rotation_matrix * (a_offset / 64.0 * fontScale), 0.0, 1.0);\n\n    v_tex = a_tex / u_texsize;\n    vec2 fade_opacity = unpack_opacity(a_fade_opacity);\n    float fade_change = fade_opacity[1] > 0.5 ? u_fade_change : -u_fade_change;\n    v_fade_opacity = max(0.0, min(1.0, fade_opacity[0] + fade_change));\n}\n"},symbolSDF:{fragmentSource:"#define SDF_PX 8.0\n#define EDGE_GAMMA 0.105/DEVICE_PIXEL_RATIO\n\nuniform bool u_is_halo;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\n\nuniform sampler2D u_texture;\nuniform highp float u_gamma_scale;\nuniform bool u_is_text;\n\nvarying vec2 v_data0;\nvarying vec3 v_data1;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 fill_color\n    #pragma mapbox: initialize highp vec4 halo_color\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize lowp float halo_width\n    #pragma mapbox: initialize lowp float halo_blur\n\n    vec2 tex = v_data0.xy;\n    float gamma_scale = v_data1.x;\n    float size = v_data1.y;\n    float fade_opacity = v_data1[2];\n\n    float fontScale = u_is_text ? size / 24.0 : size;\n\n    lowp vec4 color = fill_color;\n    highp float gamma = EDGE_GAMMA / (fontScale * u_gamma_scale);\n    lowp float buff = (256.0 - 64.0) / 256.0;\n    if (u_is_halo) {\n        color = halo_color;\n        gamma = (halo_blur * 1.19 / SDF_PX + EDGE_GAMMA) / (fontScale * u_gamma_scale);\n        buff = (6.0 - halo_width / fontScale) / SDF_PX;\n    }\n\n    lowp float dist = texture2D(u_texture, tex).a;\n    highp float gamma_scaled = gamma * gamma_scale;\n    highp float alpha = smoothstep(buff - gamma_scaled, buff + gamma_scaled, dist);\n\n    gl_FragColor = color * (alpha * opacity * fade_opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"const float PI = 3.141592653589793;\n\nattribute vec4 a_pos_offset;\nattribute vec4 a_data;\nattribute vec3 a_projected_pos;\nattribute float a_fade_opacity;\n\n// contents of a_size vary based on the type of property value\n// used for {text,icon}-size.\n// For constants, a_size is disabled.\n// For source functions, we bind only one value per vertex: the value of {text,icon}-size evaluated for the current feature.\n// For composite functions:\n// [ text-size(lowerZoomStop, feature),\n//   text-size(upperZoomStop, feature) ]\nuniform bool u_is_size_zoom_constant;\nuniform bool u_is_size_feature_constant;\nuniform highp float u_size_t; // used to interpolate between zoom stops when size is a composite function\nuniform highp float u_size; // used when size is both zoom and feature constant\n\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\n\nuniform mat4 u_matrix;\nuniform mat4 u_label_plane_matrix;\nuniform mat4 u_gl_coord_matrix;\n\nuniform bool u_is_text;\nuniform bool u_pitch_with_map;\nuniform highp float u_pitch;\nuniform bool u_rotate_symbol;\nuniform highp float u_aspect_ratio;\nuniform highp float u_camera_to_center_distance;\nuniform float u_fade_change;\n\nuniform vec2 u_texsize;\n\nvarying vec2 v_data0;\nvarying vec3 v_data1;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 fill_color\n    #pragma mapbox: initialize highp vec4 halo_color\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize lowp float halo_width\n    #pragma mapbox: initialize lowp float halo_blur\n\n    vec2 a_pos = a_pos_offset.xy;\n    vec2 a_offset = a_pos_offset.zw;\n\n    vec2 a_tex = a_data.xy;\n    vec2 a_size = a_data.zw;\n\n    highp float segment_angle = -a_projected_pos[2];\n    float size;\n\n    if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        size = mix(a_size[0], a_size[1], u_size_t) / 10.0;\n    } else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        size = a_size[0] / 10.0;\n    } else if (!u_is_size_zoom_constant && u_is_size_feature_constant) {\n        size = u_size;\n    } else {\n        size = u_size;\n    }\n\n    vec4 projectedPoint = u_matrix * vec4(a_pos, 0, 1);\n    highp float camera_to_anchor_distance = projectedPoint.w;\n    // If the label is pitched with the map, layout is done in pitched space,\n    // which makes labels in the distance smaller relative to viewport space.\n    // We counteract part of that effect by multiplying by the perspective ratio.\n    // If the label isn't pitched with the map, we do layout in viewport space,\n    // which makes labels in the distance larger relative to the features around\n    // them. We counteract part of that effect by dividing by the perspective ratio.\n    highp float distance_ratio = u_pitch_with_map ?\n        camera_to_anchor_distance / u_camera_to_center_distance :\n        u_camera_to_center_distance / camera_to_anchor_distance;\n    highp float perspective_ratio = 0.5 + 0.5 * distance_ratio;\n\n    size *= perspective_ratio;\n\n    float fontScale = u_is_text ? size / 24.0 : size;\n\n    highp float symbol_rotation = 0.0;\n    if (u_rotate_symbol) {\n        // Point labels with 'rotation-alignment: map' are horizontal with respect to tile units\n        // To figure out that angle in projected space, we draw a short horizontal line in tile\n        // space, project it, and measure its angle in projected space.\n        vec4 offsetProjectedPoint = u_matrix * vec4(a_pos + vec2(1, 0), 0, 1);\n\n        vec2 a = projectedPoint.xy / projectedPoint.w;\n        vec2 b = offsetProjectedPoint.xy / offsetProjectedPoint.w;\n\n        symbol_rotation = atan((b.y - a.y) / u_aspect_ratio, b.x - a.x);\n    }\n\n    highp float angle_sin = sin(segment_angle + symbol_rotation);\n    highp float angle_cos = cos(segment_angle + symbol_rotation);\n    mat2 rotation_matrix = mat2(angle_cos, -1.0 * angle_sin, angle_sin, angle_cos);\n\n    vec4 projected_pos = u_label_plane_matrix * vec4(a_projected_pos.xy, 0.0, 1.0);\n    gl_Position = u_gl_coord_matrix * vec4(projected_pos.xy / projected_pos.w + rotation_matrix * (a_offset / 64.0 * fontScale), 0.0, 1.0);\n    float gamma_scale = gl_Position.w;\n\n    vec2 tex = a_tex / u_texsize;\n    vec2 fade_opacity = unpack_opacity(a_fade_opacity);\n    float fade_change = fade_opacity[1] > 0.5 ? u_fade_change : -u_fade_change;\n    float interpolated_fade_opacity = max(0.0, min(1.0, fade_opacity[0] + fade_change));\n\n    v_data0 = vec2(tex.x, tex.y);\n    v_data1 = vec3(gamma_scale, size, interpolated_fade_opacity);\n}\n"}},r=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g;for(var o in i)!function(t){var e=i[t],n={};e.fragmentSource=e.fragmentSource.replace(r,function(t,e,i,r,o){return n[o]=!0,"define"===e?"\n#ifndef HAS_UNIFORM_u_"+o+"\nvarying "+i+" "+r+" "+o+";\n#else\nuniform "+i+" "+r+" u_"+o+";\n#endif\n":"\n#ifdef HAS_UNIFORM_u_"+o+"\n    "+i+" "+r+" "+o+" = u_"+o+";\n#endif\n"}),e.vertexSource=e.vertexSource.replace(r,function(t,e,i,r,o){var a="float"===r?"vec2":"vec4";return n[o]?"define"===e?"\n#ifndef HAS_UNIFORM_u_"+o+"\nuniform lowp float a_"+o+"_t;\nattribute "+i+" "+a+" a_"+o+";\nvarying "+i+" "+r+" "+o+";\n#else\nuniform "+i+" "+r+" u_"+o+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+o+"\n    "+o+" = unpack_mix_"+a+"(a_"+o+", a_"+o+"_t);\n#else\n    "+i+" "+r+" "+o+" = u_"+o+";\n#endif\n":"define"===e?"\n#ifndef HAS_UNIFORM_u_"+o+"\nuniform lowp float a_"+o+"_t;\nattribute "+i+" "+a+" a_"+o+";\n#else\nuniform "+i+" "+r+" u_"+o+";\n#endif\n":"\n#ifndef HAS_UNIFORM_u_"+o+"\n    "+i+" "+r+" "+o+" = unpack_mix_"+a+"(a_"+o+", a_"+o+"_t);\n#else\n    "+i+" "+r+" "+o+" = u_"+o+";\n#endif\n"})}(o);e.exports=i},{}],98:[function(t,e,n){"use strict";var i=t("./image_source"),r=t("../util/window"),o=t("../data/raster_bounds_attributes"),a=t("../render/vertex_array_object"),s=t("../render/texture"),l=function(t){function e(e,n,i,r){t.call(this,e,n,i,r),this.options=n,this.animate=void 0===n.animate||n.animate}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.load=function(){if(this.canvas=this.canvas||r.document.getElementById(this.options.canvas),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions())return void this.fire("error",new Error("Canvas dimensions cannot be less than or equal to zero."));this.play=function(){this._playing=!0,this.map._rerender()},this.pause=function(){this._playing=!1},this._finishLoading()},e.prototype.getCanvas=function(){return this.canvas},e.prototype.onAdd=function(t){this.map=t,this.load(),this.canvas&&this.animate&&this.play()},e.prototype.onRemove=function(){this.pause()},e.prototype.prepare=function(){var t=this,e=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,e=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,e=!0),!this._hasInvalidDimensions()&&0!==Object.keys(this.tiles).length){var n=this.map.painter.context,i=n.gl;this.boundsBuffer||(this.boundsBuffer=n.createVertexBuffer(this._boundsArray,o.members)),this.boundsVAO||(this.boundsVAO=new a),this.texture?e?this.texture.update(this.canvas):this._playing&&(this.texture.bind(i.LINEAR,i.CLAMP_TO_EDGE),i.texSubImage2D(i.TEXTURE_2D,0,0,0,i.RGBA,i.UNSIGNED_BYTE,this.canvas)):(this.texture=new s(n,this.canvas,i.RGBA),this.texture.bind(i.LINEAR,i.CLAMP_TO_EDGE));for(var r in t.tiles){var l=t.tiles[r];"loaded"!==l.state&&(l.state="loaded",l.texture=t.texture)}}},e.prototype.serialize=function(){return{type:"canvas",canvas:this.canvas,coordinates:this.coordinates}},e.prototype.hasTransition=function(){return this._playing},e.prototype._hasInvalidDimensions=function(){for(var t=this,e=0,n=[t.canvas.width,t.canvas.height];e<n.length;e+=1){var i=n[e];if(isNaN(i)||i<=0)return!0}return!1},e}(i);e.exports=l},{"../data/raster_bounds_attributes":59,"../render/texture":93,"../render/vertex_array_object":95,"../util/window":254,"./image_source":102}],99:[function(t,e,n){"use strict";function i(t){var e=a.document.createElement("a");return e.href=t,e.href}var r=t("../util/evented"),o=t("../util/util"),a=t("../util/window"),s=t("../data/extent"),l=t("../util/ajax").ResourceType,u=t("../util/browser"),c=function(t){function e(e,n,i,r){t.call(this),this.id=e,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this.dispatcher=i,this.setEventedParent(r),this._data=n.data,this._options=o.extend({},n),this._collectResourceTiming=n.collectResourceTiming,this._resourceTiming=[],void 0!==n.maxzoom&&(this.maxzoom=n.maxzoom),n.type&&(this.type=n.type);var a=s/this.tileSize;this.workerOptions=o.extend({source:this.id,cluster:n.cluster||!1,geojsonVtOptions:{buffer:(void 0!==n.buffer?n.buffer:128)*a,tolerance:(void 0!==n.tolerance?n.tolerance:.375)*a,extent:s,maxZoom:this.maxzoom},superclusterOptions:{maxZoom:void 0!==n.clusterMaxZoom?Math.min(n.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,extent:s,radius:(n.clusterRadius||50)*a,log:!1}},n.workerOptions)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.load=function(){var t=this;this.fire("dataloading",{dataType:"source"}),this._updateWorkerData(function(e){if(e)return void t.fire("error",{error:e});var n={dataType:"source",sourceDataType:"metadata"};t._collectResourceTiming&&t._resourceTiming&&t._resourceTiming.length>0&&(n.resourceTiming=t._resourceTiming,t._resourceTiming=[]),t.fire("data",n)})},e.prototype.onAdd=function(t){this.map=t,this.load()},e.prototype.setData=function(t){var e=this;return this._data=t,this.fire("dataloading",{dataType:"source"}),this._updateWorkerData(function(t){if(t)return e.fire("error",{error:t});var n={dataType:"source",sourceDataType:"content"};e._collectResourceTiming&&e._resourceTiming&&e._resourceTiming.length>0&&(n.resourceTiming=e._resourceTiming,e._resourceTiming=[]),e.fire("data",n)}),this},e.prototype._updateWorkerData=function(t){var e=this,n=o.extend({},this.workerOptions),r=this._data;"string"==typeof r?(n.request=this.map._transformRequest(i(r),l.Source),n.request.collectResourceTiming=this._collectResourceTiming):n.data=JSON.stringify(r),this.workerID=this.dispatcher.send(this.type+".loadData",n,function(n,i){e._loaded=!0,i&&i.resourceTiming&&i.resourceTiming[e.id]&&(e._resourceTiming=i.resourceTiming[e.id].slice(0)),t(n)},this.workerID)},e.prototype.loadTile=function(t,e){var n=this,i=void 0===t.workerID||"expired"===t.state?"loadTile":"reloadTile",r={type:this.type,uid:t.uid,tileID:t.tileID,zoom:t.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:u.devicePixelRatio,overscaling:t.tileID.overscaleFactor(),showCollisionBoxes:this.map.showCollisionBoxes};t.workerID=this.dispatcher.send(i,r,function(r,o){return t.unloadVectorData(),t.aborted?e(null):r?e(r):(t.loadVectorData(o,n.map.painter,"reloadTile"===i),e(null))},this.workerID)},e.prototype.abortTile=function(t){t.aborted=!0},e.prototype.unloadTile=function(t){t.unloadVectorData(),this.dispatcher.send("removeTile",{uid:t.uid,type:this.type,source:this.id},null,t.workerID)},e.prototype.onRemove=function(){this.dispatcher.broadcast("removeSource",{type:this.type,source:this.id})},e.prototype.serialize=function(){return o.extend({},this._options,{type:this.type,data:this._data})},e.prototype.hasTransition=function(){return!1},e}(r);e.exports=c},{"../data/extent":53,"../util/ajax":251,"../util/browser":252,"../util/evented":260,"../util/util":275,"../util/window":254}],100:[function(t,e,n){"use strict";function i(t,e){var n=t.source,i=t.tileID.canonical;if(!this._geoJSONIndexes[n])return e(null,null);var r=this._geoJSONIndexes[n].getTile(i.z,i.x,i.y);if(!r)return e(null,null);var o=new s(r.features),a=l(o);0===a.byteOffset&&a.byteLength===a.buffer.byteLength||(a=new Uint8Array(a)),e(null,{vectorTile:o,rawData:a.buffer})}var r=t("../util/ajax"),o=t("../util/performance"),a=t("geojson-rewind"),s=t("./geojson_wrapper"),l=t("vt-pbf"),u=t("supercluster"),c=t("geojson-vt"),h=t("./vector_tile_worker_source"),p=function(t){function e(e,n,r){t.call(this,e,n,i),r&&(this.loadGeoJSON=r),this._geoJSONIndexes={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.loadData=function(t,e){var n=this;this.loadGeoJSON(t,function(i,r){if(i||!r)return e(i);if("object"!=typeof r)return e(new Error("Input data is not a valid GeoJSON object."));a(r,!0);try{n._geoJSONIndexes[t.source]=t.cluster?u(t.superclusterOptions).load(r.features):c(r,t.geojsonVtOptions)}catch(i){return e(i)}n.loaded[t.source]={};var s={};if(t.request&&t.request.collectResourceTiming){var l=o.getEntriesByName(t.request.url);l&&(s.resourceTiming={},s.resourceTiming[t.source]=JSON.parse(JSON.stringify(l)))}e(null,s)})},e.prototype.reloadTile=function(e,n){var i=this.loaded[e.source],r=e.uid;return i&&i[r]?t.prototype.reloadTile.call(this,e,n):this.loadTile(e,n)},e.prototype.loadGeoJSON=function(t,e){if(t.request)r.getJSON(t.request,e);else{if("string"!=typeof t.data)return e(new Error("Input data is not a valid GeoJSON object."));try{return e(null,JSON.parse(t.data))}catch(t){return e(new Error("Input data is not a valid GeoJSON object."))}}},e.prototype.removeSource=function(t,e){this._geoJSONIndexes[t.source]&&delete this._geoJSONIndexes[t.source],e()},e}(h);e.exports=p},{"../util/ajax":251,"../util/performance":268,"./geojson_wrapper":101,"./vector_tile_worker_source":116,"geojson-rewind":15,"geojson-vt":19,supercluster:32,"vt-pbf":34}],101:[function(t,e,n){"use strict";var i=t("@mapbox/point-geometry"),r=t("@mapbox/vector-tile").VectorTileFeature.prototype.toGeoJSON,o=t("../data/extent"),a=function(t){this._feature=t,this.extent=o,this.type=t.type,this.properties=t.tags,"id"in t&&!isNaN(t.id)&&(this.id=parseInt(t.id,10))};a.prototype.loadGeometry=function(){var t=this;if(1===this._feature.type){for(var e=[],n=0,r=t._feature.geometry;n<r.length;n+=1){var o=r[n];e.push([new i(o[0],o[1])])}return e}for(var a=[],s=0,l=t._feature.geometry;s<l.length;s+=1){for(var u=l[s],c=[],h=0,p=u;h<p.length;h+=1){var d=p[h];c.push(new i(d[0],d[1]))}a.push(c)}return a},a.prototype.toGeoJSON=function(t,e,n){return r.call(this,t,e,n)};var s=function(t){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=o,this.length=t.length,this._features=t};s.prototype.feature=function(t){return new a(this._features[t])},e.exports=s},{"../data/extent":53,"@mapbox/point-geometry":4,"@mapbox/vector-tile":8}],102:[function(t,e,n){"use strict";var i=t("../util/util"),r=t("./tile_id"),o=r.CanonicalTileID,a=t("../geo/lng_lat"),s=t("@mapbox/point-geometry"),l=t("../util/evented"),u=t("../util/ajax"),c=t("../util/browser"),h=t("../data/extent"),p=t("../data/array_types"),d=p.RasterBoundsArray,f=t("../data/raster_bounds_attributes"),y=t("../render/vertex_array_object"),m=t("../render/texture"),v=function(t){function e(e,n,i,r){t.call(this),this.id=e,this.dispatcher=i,this.coordinates=n.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this.setEventedParent(r),this.options=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.load=function(){var t=this;this.fire("dataloading",{dataType:"source"}),this.url=this.options.url,u.getImage(this.map._transformRequest(this.url,u.ResourceType.Image),function(e,n){e?t.fire("error",{error:e}):n&&(t.image=c.getImageData(n),t._finishLoading())})},e.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire("data",{dataType:"source",sourceDataType:"metadata"}))},e.prototype.onAdd=function(t){this.map=t,this.load()},e.prototype.setCoordinates=function(t){this.coordinates=t;var e=this.map,n=t.map(function(t){return e.transform.locationCoordinate(a.convert(t)).zoomTo(0)}),r=this.centerCoord=i.getCoordinatesCenter(n);r.column=Math.floor(r.column),r.row=Math.floor(r.row),this.tileID=new o(r.zoom,r.column,r.row),this.minzoom=this.maxzoom=r.zoom;var l=n.map(function(t){var e=t.zoomTo(r.zoom);return new s(Math.round((e.column-r.column)*h),Math.round((e.row-r.row)*h))});return this._boundsArray=new d,this._boundsArray.emplaceBack(l[0].x,l[0].y,0,0),this._boundsArray.emplaceBack(l[1].x,l[1].y,h,0),this._boundsArray.emplaceBack(l[3].x,l[3].y,0,h),this._boundsArray.emplaceBack(l[2].x,l[2].y,h,h),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire("data",{dataType:"source",sourceDataType:"content"}),this},e.prototype.prepare=function(){var t=this;if(0!==Object.keys(this.tiles).length&&this.image){var e=this.map.painter.context,n=e.gl;this.boundsBuffer||(this.boundsBuffer=e.createVertexBuffer(this._boundsArray,f.members)),this.boundsVAO||(this.boundsVAO=new y),this.texture||(this.texture=new m(e,this.image,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE));for(var i in t.tiles){var r=t.tiles[i];"loaded"!==r.state&&(r.state="loaded",r.texture=t.texture)}}},e.prototype.loadTile=function(t,e){this.tileID&&this.tileID.equals(t.tileID.canonical)?(this.tiles[String(t.tileID.wrap)]=t,t.buckets={},e(null)):(t.state="errored",e(null))},e.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},e.prototype.hasTransition=function(){return!1},e}(l);e.exports=v},{"../data/array_types":39,"../data/extent":53,"../data/raster_bounds_attributes":59,"../geo/lng_lat":62,"../render/texture":93,"../render/vertex_array_object":95,"../util/ajax":251,"../util/browser":252,"../util/evented":260,"../util/util":275,"./tile_id":114,"@mapbox/point-geometry":4}],103:[function(t,e,n){"use strict";var i=t("../util/util"),r=t("../util/ajax"),o=t("../util/browser"),a=t("../util/mapbox").normalizeSourceURL;e.exports=function(t,e,n){var s=function(t,e){if(t)return n(t);if(e){var r=i.pick(e,["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds"]);e.vector_layers&&(r.vectorLayers=e.vector_layers,r.vectorLayerIds=r.vectorLayers.map(function(t){return t.id})),n(null,r)}};t.url?r.getJSON(e(a(t.url),r.ResourceType.Source),s):o.frame(function(){return s(null,t)})}},{"../util/ajax":251,"../util/browser":252,"../util/mapbox":267,"../util/util":275}],104:[function(t,e,n){"use strict";var i=t("../data/extent");e.exports=function(t,e,n){return e*(i/(t.tileSize*Math.pow(2,n-t.tileID.overscaledZ)))}},{"../data/extent":53}],105:[function(t,e,n){"use strict";function i(t,e){var n=t.tileID,i=e.tileID;return n.overscaledZ-i.overscaledZ||n.canonical.y-i.canonical.y||n.wrap-i.wrap||n.canonical.x-i.canonical.x}function r(t){for(var e={},n={},i=0,r=t;i<r.length;i+=1){var o=r[i],a=o.queryResults,s=o.wrappedTileID,l=n[s]=n[s]||{};for(var u in a)for(var c=a[u],h=l[u]=l[u]||{},p=e[u]=e[u]||[],d=0,f=c;d<f.length;d+=1){var y=f[d];h[y.featureIndex]||(h[y.featureIndex]=!0,p.push(y.feature))}}return e}n.rendered=function(t,e,n,o,a,s,l){var u=t.tilesIn(n);u.sort(i);for(var c=[],h=0,p=u;h<p.length;h+=1){var d=p[h];c.push({wrappedTileID:d.tileID.wrapped().key,queryResults:d.tile.queryRenderedFeatures(e,d.queryGeometry,d.scale,o,s,t.id,l)})}return r(c)},n.source=function(t,e){for(var n=t.getRenderableIds().map(function(e){return t.getTileByID(e)}),i=[],r={},o=0;o<n.length;o++){var a=n[o],s=a.tileID.canonical.key;r[s]||(r[s]=!0,a.querySourceFeatures(i,e))}return i}},{}],106:[function(t,e,n){"use strict";var i=t("../util/ajax"),r=t("../util/util"),o=(t("../util/evented"),t("../util/mapbox").normalizeTileURL),a=t("../util/browser"),s=t("./tile_id"),l=s.OverscaledTileID,u=t("./raster_tile_source"),c=function(t){function e(e,n,i,o){t.call(this,e,n,i,o),this.type="raster-dem",this.maxzoom=22,this._options=r.extend({},n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds}},e.prototype.loadTile=function(t,e){function n(n,i){if(delete t.request,t.aborted)t.state="unloaded",e(null);else if(n)t.state="errored",e(n);else if(i){this.map._refreshExpiredTiles&&t.setExpiryData(i),delete i.cacheControl,delete i.expires;var o=a.getImageData(i),s={uid:t.uid,coord:t.tileID,source:this.id,rawImageData:o};t.workerID&&"expired"!==t.state||(t.workerID=this.dispatcher.send("loadDEMTile",s,r.bind(this)))}}function r(n,i){n&&(t.state="errored",e(n)),i&&(t.dem=i,t.needsHillshadePrepare=!0,t.state="loaded",e(null))}var s=o(t.tileID.canonical.url(this.tiles,this.scheme),this.url,this.tileSize);t.request=i.getImage(this.map._transformRequest(s,i.ResourceType.Tile),n.bind(this)),t.neighboringTiles=this._getNeighboringTiles(t.tileID)},e.prototype._getNeighboringTiles=function(t){var e=t.canonical,n=Math.pow(2,e.z),i=(e.x-1+n)%n,r=0===e.x?t.wrap-1:t.wrap,o=(e.x+1+n)%n,a=e.x+1===n?t.wrap+1:t.wrap,s={};return s[new l(t.overscaledZ,r,e.z,i,e.y).key]={backfilled:!1},s[new l(t.overscaledZ,a,e.z,o,e.y).key]={backfilled:!1},e.y>0&&(s[new l(t.overscaledZ,r,e.z,i,e.y-1).key]={backfilled:!1},s[new l(t.overscaledZ,t.wrap,e.z,e.x,e.y-1).key]={backfilled:!1},s[new l(t.overscaledZ,a,e.z,o,e.y-1).key]={backfilled:!1}),e.y+1<n&&(s[new l(t.overscaledZ,r,e.z,i,e.y+1).key]={backfilled:!1},s[new l(t.overscaledZ,t.wrap,e.z,e.x,e.y+1).key]={backfilled:!1},s[new l(t.overscaledZ,a,e.z,o,e.y+1).key]={backfilled:!1}),s},e.prototype.unloadTile=function(t){t.demTexture&&this.map.painter.saveTileTexture(t.demTexture),t.fbo&&(t.fbo.destroy(),delete t.fbo),t.dem&&delete t.dem,delete t.neighboringTiles,t.state="unloaded",this.dispatcher.send("removeDEMTile",{uid:t.uid,source:this.id},void 0,t.workerID)},e}(u);e.exports=c},{"../util/ajax":251,"../util/browser":252,"../util/evented":260,"../util/mapbox":267,"../util/util":275,"./raster_tile_source":108,"./tile_id":114}],107:[function(t,e,n){"use strict";var i=t("../data/dem_data"),r=i.DEMData,o=function(){this.loading={},this.loaded={}};o.prototype.loadTile=function(t,e){var n=t.source,i=t.uid;this.loading[n]||(this.loading[n]={});var o=new r(i);this.loading[n][i]=o,o.loadFromImage(t.rawImageData),delete this.loading[n][i],this.loaded[n]=this.loaded[n]||{},this.loaded[n][i]=o,e(null,o)},o.prototype.removeTile=function(t){var e=this.loaded[t.source],n=t.uid;e&&e[n]&&delete e[n]},e.exports=o},{"../data/dem_data":52}],108:[function(t,e,n){"use strict";var i=t("../util/util"),r=t("../util/ajax"),o=t("../util/evented"),a=t("./load_tilejson"),s=t("../util/mapbox").normalizeTileURL,l=t("./tile_bounds"),u=t("../render/texture"),c=function(t){function e(e,n,r,o){t.call(this),this.id=e,this.dispatcher=r,this.setEventedParent(o),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=i.extend({},n),i.extend(this,i.pick(n,["url","scheme","tileSize"]))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.load=function(){var t=this;this.fire("dataloading",{dataType:"source"}),a(this._options,this.map._transformRequest,function(e,n){e?t.fire("error",e):n&&(i.extend(t,n),n.bounds&&(t.tileBounds=new l(n.bounds,t.minzoom,t.maxzoom)),t.fire("data",{dataType:"source",sourceDataType:"metadata"}),t.fire("data",{dataType:"source",sourceDataType:"content"}))})},e.prototype.onAdd=function(t){this.map=t,this.load()},e.prototype.serialize=function(){return i.extend({},this._options)},e.prototype.hasTile=function(t){return!this.tileBounds||this.tileBounds.contains(t.canonical)},e.prototype.loadTile=function(t,e){var n=this,i=s(t.tileID.canonical.url(this.tiles,this.scheme),this.url,this.tileSize);t.request=r.getImage(this.map._transformRequest(i,r.ResourceType.Tile),function(i,r){if(delete t.request,t.aborted)t.state="unloaded",e(null);else if(i)t.state="errored",e(i);else if(r){n.map._refreshExpiredTiles&&t.setExpiryData(r),delete r.cacheControl,delete r.expires;var o=n.map.painter.context,a=o.gl;t.texture=n.map.painter.getTileTexture(r.width),t.texture?(t.texture.bind(a.LINEAR,a.CLAMP_TO_EDGE,a.LINEAR_MIPMAP_NEAREST),a.texSubImage2D(a.TEXTURE_2D,0,0,0,a.RGBA,a.UNSIGNED_BYTE,r)):(t.texture=new u(o,r,a.RGBA),t.texture.bind(a.LINEAR,a.CLAMP_TO_EDGE,a.LINEAR_MIPMAP_NEAREST),o.extTextureFilterAnisotropic&&a.texParameterf(a.TEXTURE_2D,o.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,o.extTextureFilterAnisotropicMax)),a.generateMipmap(a.TEXTURE_2D),t.state="loaded",e(null)}})},e.prototype.abortTile=function(t,e){t.request&&(t.request.abort(),delete t.request),e()},e.prototype.unloadTile=function(t,e){t.texture&&this.map.painter.saveTileTexture(t.texture),e()},e.prototype.hasTransition=function(){return!1},e}(o);e.exports=c},{"../render/texture":93,"../util/ajax":251,"../util/evented":260,"../util/mapbox":267,"../util/util":275,"./load_tilejson":103,"./tile_bounds":113}],109:[function(t,e,n){"use strict";var i=t("../util/ajax"),r=t("../util/evented"),o=t("../util/window"),a=!1,s=null;e.exports.evented=new r,e.exports.registerForPluginAvailability=function(t){return s?t({pluginBlobURL:s,errorCallback:e.exports.errorCallback}):e.exports.evented.once("pluginAvailable",t),t},e.exports.createBlobURL=function(t){return o.URL.createObjectURL(new o.Blob([t.data],{type:"text/javascript"}))},e.exports.clearRTLTextPlugin=function(){a=!1,s=null},e.exports.setRTLTextPlugin=function(t,n){if(a)throw new Error("setRTLTextPlugin cannot be called multiple times.");a=!0,e.exports.errorCallback=n,i.getArrayBuffer({url:t},function(t,i){t?n(t):i&&(s=e.exports.createBlobURL(i),e.exports.evented.fire("pluginAvailable",{pluginBlobURL:s,errorCallback:n}))})},e.exports.applyArabicShaping=null,e.exports.processBidirectionalText=null},{"../util/ajax":251,"../util/evented":260,"../util/window":254}],110:[function(t,e,n){"use strict";var i=t("../util/util"),r={vector:t("../source/vector_tile_source"),raster:t("../source/raster_tile_source"),"raster-dem":t("../source/raster_dem_tile_source"),geojson:t("../source/geojson_source"),video:t("../source/video_source"),image:t("../source/image_source"),canvas:t("../source/canvas_source")};n.create=function(t,e,n,o){var a=new r[e.type](t,e,n,o);if(a.id!==t)throw new Error("Expected Source id to be "+t+" instead of "+a.id);return i.bindAll(["load","abort","unload","serialize","prepare"],a),a},n.getType=function(t){return r[t]},n.setType=function(t,e){r[t]=e}},{"../source/canvas_source":98,"../source/geojson_source":99,"../source/image_source":102,"../source/raster_dem_tile_source":106,"../source/raster_tile_source":108,"../source/vector_tile_source":115,"../source/video_source":117,"../util/util":275}],111:[function(t,e,n){"use strict";function i(t,e){var n=e.zoomTo(t.canonical.z);return new p((n.column-(t.canonical.x+t.wrap*Math.pow(2,t.canonical.z)))*h,(n.row-t.canonical.y)*h)}function r(t){return"raster"===t||"image"===t||"video"===t}var o=t("./source").create,a=t("./tile"),s=t("../util/evented"),l=t("../util/lru_cache"),u=t("../geo/coordinate"),c=t("../util/util"),h=t("../data/extent"),p=(t("../gl/context"),t("@mapbox/point-geometry")),d=t("../util/browser"),f=t("./tile_id"),y=f.OverscaledTileID,m=function(t){function e(e,n,i){var r=this;t.call(this),this.id=e,this.dispatcher=i,this.on("data",function(t){"source"===t.dataType&&"metadata"===t.sourceDataType&&(r._sourceLoaded=!0),r._sourceLoaded&&!r._paused&&"source"===t.dataType&&"content"===t.sourceDataType&&(r.reload(),r.transform&&r.update(r.transform))}),this.on("error",function(){r._sourceErrored=!0}),this._source=o(e,n,i,this),this._tiles={},this._cache=new l(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._isIdRenderable=this._isIdRenderable.bind(this),this._coveredTiles={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.onAdd=function(t){this.map=t,this._maxTileCacheSize=t?t._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(t)},e.prototype.onRemove=function(t){this._source&&this._source.onRemove&&this._source.onRemove(t)},e.prototype.loaded=function(){var t=this;if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;for(var e in t._tiles){var n=t._tiles[e];if("loaded"!==n.state&&"errored"!==n.state)return!1}return!0},e.prototype.getSource=function(){return this._source},e.prototype.pause=function(){this._paused=!0},e.prototype.resume=function(){if(this._paused){var t=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,t&&this.reload(),this.transform&&this.update(this.transform)}},e.prototype._loadTile=function(t,e){return this._source.loadTile(t,e)},e.prototype._unloadTile=function(t){if(this._source.unloadTile)return this._source.unloadTile(t,function(){})},e.prototype._abortTile=function(t){if(this._source.abortTile)return this._source.abortTile(t,function(){})},e.prototype.serialize=function(){return this._source.serialize()},e.prototype.prepare=function(t){var e=this;this._source.prepare&&this._source.prepare();for(var n in e._tiles)e._tiles[n].upload(t)},e.prototype.getIds=function(){var t=this,e=function(e,n){var i=t._tiles[e].tileID,r=t._tiles[n].tileID,o=new p(i.canonical.x,i.canonical.y).rotate(t.transform.angle),a=new p(r.canonical.x,r.canonical.y).rotate(t.transform.angle);return i.overscaledZ-r.overscaledZ||a.y-o.y||a.x-o.x};return Object.keys(this._tiles).map(Number).sort(e)},e.prototype.getRenderableIds=function(){return this.getIds().filter(this._isIdRenderable)},e.prototype.hasRenderableParent=function(t){var e=this.findLoadedParent(t,0,{});return!!e&&this._isIdRenderable(e.tileID.key)},e.prototype._isIdRenderable=function(t){return this._tiles[t]&&this._tiles[t].hasData()&&!this._coveredTiles[t]},e.prototype.reload=function(){var t=this;if(this._paused)return void(this._shouldReloadOnResume=!0);this._resetCache();for(var e in t._tiles)t._reloadTile(e,"reloading")},e.prototype._reloadTile=function(t,e){var n=this._tiles[t];n&&("loading"!==n.state&&(n.state=e),this._loadTile(n,this._tileLoaded.bind(this,n,t,e)))},e.prototype._tileLoaded=function(t,e,n,i){if(i)return t.state="errored",void(404!==i.status?this._source.fire("error",{tile:t,error:i}):this.update(this.transform));t.timeAdded=d.now(),"expired"===n&&(t.refreshedUponExpiration=!0),this._setTileReloadTimer(e,t),"raster-dem"===this.getSource().type&&t.dem&&this._backfillDEM(t),this._source.fire("data",{dataType:"source",tile:t,coord:t.tileID}),this.map&&(this.map.painter.tileExtentVAO.vao=null)},e.prototype._backfillDEM=function(t){function e(t,e){t.needsHillshadePrepare=!0;var n=e.tileID.canonical.x-t.tileID.canonical.x,i=e.tileID.canonical.y-t.tileID.canonical.y,r=Math.pow(2,t.tileID.canonical.z),o=e.tileID.key;0===n&&0===i||Math.abs(i)>1||(Math.abs(n)>1&&(1===Math.abs(n+r)?n+=r:1===Math.abs(n-r)&&(n-=r)),e.dem&&t.dem&&(t.dem.backfillBorder(e.dem,n,i),t.neighboringTiles&&t.neighboringTiles[o]&&(t.neighboringTiles[o].backfilled=!0)))}for(var n=this,i=this.getRenderableIds(),r=0;r<i.length;r++){var o=i[r];if(t.neighboringTiles&&t.neighboringTiles[o]){var a=n.getTileByID(o);e(t,a),e(a,t)}}},e.prototype.getTile=function(t){return this.getTileByID(t.key)},e.prototype.getTileByID=function(t){return this._tiles[t]},e.prototype.getZoom=function(t){return t.zoom+t.scaleZoom(t.tileSize/this._source.tileSize)},e.prototype._findLoadedChildren=function(t,e,n){var i=this,r=!1;for(var o in i._tiles){var a=i._tiles[o];if(!(n[o]||!a.hasData()||a.tileID.overscaledZ<=t.overscaledZ||a.tileID.overscaledZ>e)){var s=Math.pow(2,a.tileID.canonical.z-t.canonical.z);if(Math.floor(a.tileID.canonical.x/s)===t.canonical.x&&Math.floor(a.tileID.canonical.y/s)===t.canonical.y)for(n[o]=a.tileID,r=!0;a&&a.tileID.overscaledZ-1>t.overscaledZ;){var l=a.tileID.scaledTo(a.tileID.overscaledZ-1);if(!l)break;(a=i._tiles[l.key])&&a.hasData()&&(delete n[o],n[l.key]=l)}}}return r},e.prototype.findLoadedParent=function(t,e,n){for(var i=this,r=t.overscaledZ-1;r>=e;r--){var o=t.scaledTo(r);if(!o)return;var a=String(o.key),s=i._tiles[a];if(s&&s.hasData())return n[a]=o,s;if(i._cache.has(a))return n[a]=o,i._cache.get(a)}},e.prototype.updateCacheSize=function(t){var e=Math.ceil(t.width/this._source.tileSize)+1,n=Math.ceil(t.height/this._source.tileSize)+1,i=e*n,r=Math.floor(5*i),o="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,r):r;this._cache.setMaxSize(o)},e.prototype.update=function(t){var n=this;if(this.transform=t,this._sourceLoaded&&!this._paused){this.updateCacheSize(t),this._coveredTiles={};var i;this.used?this._source.tileID?i=t.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(t){return new y(t.canonical.z,t.wrap,t.canonical.z,t.canonical.x,t.canonical.y)}):(i=t.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(i=i.filter(function(t){return n._source.hasTile(t)}))):i=[];var o=(this._source.roundZoom?Math.round:Math.floor)(this.getZoom(t)),a=Math.max(o-e.maxOverzooming,this._source.minzoom),s=Math.max(o+e.maxUnderzooming,this._source.minzoom),l=this._updateRetainedTiles(i,o),u={};if(r(this._source.type))for(var h=Object.keys(l),p=0;p<h.length;p++){var f=h[p],m=l[f],v=n._tiles[f];if(v&&(void 0===v.fadeEndTime||v.fadeEndTime>=d.now())){n._findLoadedChildren(m,s,l)&&(l[f]=m);var g=n.findLoadedParent(m,a,u);g&&n._addTile(g.tileID)}}var x;for(x in u)l[x]||(n._coveredTiles[x]=!0);for(x in u)l[x]=u[x];for(var _=c.keysDifference(this._tiles,l),b=0;b<_.length;b++)n._removeTile(_[b])}},e.prototype._updateRetainedTiles=function(t,n){for(var i=this,r={},o={},a=Math.max(n-e.maxOverzooming,this._source.minzoom),s=Math.max(n+e.maxUnderzooming,this._source.minzoom),l=0;l<t.length;l++){var u=t[l],c=i._addTile(u),h=!1;if(c.hasData())r[u.key]=u;else{h=c.wasRequested(),r[u.key]=u;var p=!0;if(n+1>i._source.maxzoom){var d=u.children(i._source.maxzoom)[0],f=i.getTile(d);f&&f.hasData()?r[d.key]=d:p=!1}else{i._findLoadedChildren(u,s,r);for(var y=u.children(i._source.maxzoom),m=0;m<y.length;m++)if(!r[y[m].key]){p=!1;break}}if(!p)for(var v=u.overscaledZ-1;v>=a;--v){var g=u.scaledTo(v);if(o[g.key])break;if(o[g.key]=!0,c=i.getTile(g),!c&&h&&(c=i._addTile(g)),c&&(r[g.key]=g,h=c.wasRequested(),c.hasData()))break}}}return r},e.prototype._addTile=function(t){var e=this._tiles[t.key];if(e)return e;(e=this._cache.getAndRemove(t.key))&&this._cacheTimers[t.key]&&(clearTimeout(this._cacheTimers[t.key]),delete this._cacheTimers[t.key],this._setTileReloadTimer(t.key,e));var n=Boolean(e);return n||(e=new a(t,this._source.tileSize*t.overscaleFactor()),this._loadTile(e,this._tileLoaded.bind(this,e,t.key,e.state))),e?(e.uses++,this._tiles[t.key]=e,n||this._source.fire("dataloading",{tile:e,coord:e.tileID,dataType:"source"}),e):null},e.prototype._setTileReloadTimer=function(t,e){var n=this;t in this._timers&&(clearTimeout(this._timers[t]),delete this._timers[t]);var i=e.getExpiryTimeout();i&&(this._timers[t]=setTimeout(function(){n._reloadTile(t,"expired"),delete n._timers[t]},i))},e.prototype._setCacheInvalidationTimer=function(t,e){var n=this;t in this._cacheTimers&&(clearTimeout(this._cacheTimers[t]),delete this._cacheTimers[t]);var i=e.getExpiryTimeout();i&&(this._cacheTimers[t]=setTimeout(function(){n._cache.remove(t),delete n._cacheTimers[t]},i))},e.prototype._removeTile=function(t){var e=this._tiles[t];if(e&&(e.uses--,delete this._tiles[t],this._timers[t]&&(clearTimeout(this._timers[t]),delete this._timers[t]),!(e.uses>0)))if(e.hasData()){e.tileID=e.tileID.wrapped();var n=e.tileID.key;this._cache.add(n,e),this._setCacheInvalidationTimer(n,e)}else e.aborted=!0,this._abortTile(e),this._unloadTile(e)},e.prototype.clearTiles=function(){var t=this;this._shouldReloadOnResume=!1,this._paused=!1;for(var e in t._tiles)t._removeTile(e);this._resetCache()},e.prototype._resetCache=function(){var t=this;for(var e in t._cacheTimers)clearTimeout(t._cacheTimers[e]);this._cacheTimers={},this._cache.reset()},e.prototype.tilesIn=function(t){for(var e=this,n=[],r=this.getIds(),o=1/0,a=1/0,s=-1/0,l=-1/0,c=t[0].zoom,p=0;p<t.length;p++){var d=t[p];o=Math.min(o,d.column),a=Math.min(a,d.row),s=Math.max(s,d.column),l=Math.max(l,d.row)}for(var f=0;f<r.length;f++){var y=e._tiles[r[f]],m=y.tileID,v=[i(m,new u(o,a,c)),i(m,new u(s,l,c))];if(v[0].x<h&&v[0].y<h&&v[1].x>=0&&v[1].y>=0){for(var g=[],x=0;x<t.length;x++)g.push(i(m,t[x]));n.push({tile:y,tileID:m,queryGeometry:[g],scale:Math.pow(2,e.transform.zoom-y.tileID.overscaledZ)})}}return n},e.prototype.getVisibleCoordinates=function(){for(var t=this,e=this.getRenderableIds().map(function(e){return t._tiles[e].tileID}),n=0,i=e;n<i.length;n+=1){var r=i[n];r.posMatrix=t.transform.calculatePosMatrix(r.toUnwrapped())}return e},e.prototype.hasTransition=function(){var t=this;if(this._source.hasTransition())return!0;if(r(this._source.type))for(var e in t._tiles){var n=t._tiles[e];if(void 0!==n.fadeEndTime&&n.fadeEndTime>=d.now())return!0}return!1},e}(s);m.maxOverzooming=10,m.maxUnderzooming=3,e.exports=m},{"../data/extent":53,"../geo/coordinate":61,"../gl/context":66,"../util/browser":252,"../util/evented":260,"../util/lru_cache":266,"../util/util":275,"./source":110,"./tile":112,"./tile_id":114,"@mapbox/point-geometry":4}],112:[function(t,e,n){"use strict";var i=t("../util/util"),r=t("../data/bucket").deserialize,o=(t("../data/feature_index"),t("@mapbox/vector-tile")),a=t("pbf"),s=t("../util/vectortile_to_geojson"),l=t("../style-spec/feature_filter"),u=(t("../symbol/collision_index"),t("../data/bucket/symbol_bucket")),c=t("../data/array_types"),h=c.RasterBoundsArray,p=c.CollisionBoxArray,d=t("../data/raster_bounds_attributes"),f=t("../data/extent"),y=t("@mapbox/point-geometry"),m=t("../render/texture"),v=t("../data/segment"),g=v.SegmentVector,x=t("../data/index_array_type"),_=x.TriangleIndexArray,b=t("../util/browser"),w=function(t,e){this.tileID=t,this.uid=i.uniqueId(),this.uses=0,this.tileSize=e,this.buckets={},this.expirationTime=null,this.expiredRequestCount=0,this.state="loading"};w.prototype.registerFadeDuration=function(t){var e=t+this.timeAdded;e<b.now()||this.fadeEndTime&&e<this.fadeEndTime||(this.fadeEndTime=e)},w.prototype.wasRequested=function(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state},w.prototype.loadVectorData=function(t,e,n){var i=this;if(this.hasData()&&this.unloadVectorData(),this.state="loaded",!t)return void(this.collisionBoxArray=new p);if(t.rawTileData&&(this.rawTileData=t.rawTileData),this.collisionBoxArray=t.collisionBoxArray,this.featureIndex=t.featureIndex,this.featureIndex.rawTileData=this.rawTileData,this.buckets=r(t.buckets,e.style),n)for(var o in i.buckets){var a=i.buckets[o];a instanceof u&&(a.justReloaded=!0)}t.iconAtlasImage&&(this.iconAtlasImage=t.iconAtlasImage),t.glyphAtlasImage&&(this.glyphAtlasImage=t.glyphAtlasImage)},w.prototype.unloadVectorData=function(){var t=this;for(var e in t.buckets)t.buckets[e].destroy();this.buckets={},this.iconAtlasTexture&&this.iconAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.collisionBoxArray=null,this.featureIndex=null,this.state="unloaded"},w.prototype.unloadDEMData=function(){this.dem=null,this.neighboringTiles=null,this.state="unloaded"},w.prototype.getBucket=function(t){return this.buckets[t.id]},w.prototype.upload=function(t){var e=this;for(var n in e.buckets){var i=e.buckets[n];i.uploaded||(i.upload(t),i.uploaded=!0)}var r=t.gl;this.iconAtlasImage&&(this.iconAtlasTexture=new m(t,this.iconAtlasImage,r.RGBA),this.iconAtlasImage=null),this.glyphAtlasImage&&(this.glyphAtlasTexture=new m(t,this.glyphAtlasImage,r.ALPHA),this.glyphAtlasImage=null)},w.prototype.queryRenderedFeatures=function(t,e,n,i,r,o,a){var s=this;if(!this.featureIndex||!this.collisionBoxArray)return{};var l=0,c={};for(var h in t){var p=s.getBucket(t[h]);p&&(l=Math.max(l,t[h].queryRadius(p)),p instanceof u&&void 0!==p.bucketInstanceId&&(c[p.bucketInstanceId]=!0))}return this.featureIndex.query({queryGeometry:e,scale:n,tileSize:this.tileSize,bearing:r,params:i,additionalRadius:l,collisionBoxArray:this.collisionBoxArray,sourceID:o,collisionIndex:a,bucketInstanceIds:c},t)},w.prototype.querySourceFeatures=function(t,e){var n=this;if(this.rawTileData){this.vtLayers||(this.vtLayers=new o.VectorTile(new a(this.rawTileData)).layers);var i=e?e.sourceLayer:"",r=this.vtLayers._geojsonTileLayer||this.vtLayers[i];if(r)for(var u=l(e&&e.filter),c={z:this.tileID.overscaledZ,x:this.tileID.canonical.x,y:this.tileID.canonical.y},h=0;h<r.length;h++){var p=r.feature(h);if(u({zoom:n.tileID.overscaledZ},p)){var d=new s(p,c.z,c.x,c.y);d.tile=c,t.push(d)}}}},w.prototype.clearMask=function(){this.segments&&(this.segments.destroy(),delete this.segments),this.maskedBoundsBuffer&&(this.maskedBoundsBuffer.destroy(),delete this.maskedBoundsBuffer),this.maskedIndexBuffer&&(this.maskedIndexBuffer.destroy(),delete this.maskedIndexBuffer)},w.prototype.setMask=function(t,e){var n=this;if(!i.deepEqual(this.mask,t)&&(this.mask=t,this.clearMask(),!i.deepEqual(t,{0:!0}))){var r=new h,o=new _;this.segments=new g,this.segments.prepareSegment(0,r,o);for(var a=Object.keys(t),s=0;s<a.length;s++){var l=t[a[s]],u=f>>l.z,c=new y(l.x*u,l.y*u),p=new y(c.x+u,c.y+u),m=n.segments.prepareSegment(4,r,o);r.emplaceBack(c.x,c.y,c.x,c.y),r.emplaceBack(p.x,c.y,p.x,c.y),r.emplaceBack(c.x,p.y,c.x,p.y),r.emplaceBack(p.x,p.y,p.x,p.y);var v=m.vertexLength;o.emplaceBack(v,v+1,v+2),o.emplaceBack(v+1,v+2,v+3),m.vertexLength+=4,m.primitiveLength+=2}this.maskedBoundsBuffer=e.createVertexBuffer(r,d.members),this.maskedIndexBuffer=e.createIndexBuffer(o)}},w.prototype.hasData=function(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state},w.prototype.setExpiryData=function(t){var e=this.expirationTime;if(t.cacheControl){var n=i.parseCacheControl(t.cacheControl);n["max-age"]&&(this.expirationTime=Date.now()+1e3*n["max-age"])}else t.expires&&(this.expirationTime=new Date(t.expires).getTime());if(this.expirationTime){var r=Date.now(),o=!1;if(this.expirationTime>r)o=!1;else if(e)if(this.expirationTime<e)o=!0;else{var a=this.expirationTime-e;a?this.expirationTime=r+Math.max(a,3e4):o=!0}else o=!0;o?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},w.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)},e.exports=w},{"../data/array_types":39,"../data/bucket":40,"../data/bucket/symbol_bucket":51,"../data/extent":53,"../data/feature_index":54,"../data/index_array_type":55,"../data/raster_bounds_attributes":59,"../data/segment":60,"../render/texture":93,"../style-spec/feature_filter":148,"../symbol/collision_index":217,"../util/browser":252,"../util/util":275,"../util/vectortile_to_geojson":276,"@mapbox/point-geometry":4,"@mapbox/vector-tile":8,pbf:30}],113:[function(t,e,n){"use strict";var i=t("../geo/lng_lat_bounds"),r=t("../util/util").clamp,o=function(t,e,n){this.bounds=i.convert(this.validateBounds(t)),this.minzoom=e||0,this.maxzoom=n||24};o.prototype.validateBounds=function(t){return Array.isArray(t)&&4===t.length?[Math.max(-180,t[0]),Math.max(-90,t[1]),Math.min(180,t[2]),Math.min(90,t[3])]:[-180,-90,180,90]},o.prototype.contains=function(t){var e={minX:Math.floor(this.lngX(this.bounds.getWest(),t.z)),minY:Math.floor(this.latY(this.bounds.getNorth(),t.z)),maxX:Math.ceil(this.lngX(this.bounds.getEast(),t.z)),maxY:Math.ceil(this.latY(this.bounds.getSouth(),t.z))};return t.x>=e.minX&&t.x<e.maxX&&t.y>=e.minY&&t.y<e.maxY},o.prototype.lngX=function(t,e){return(t+180)*(Math.pow(2,e)/360)},o.prototype.latY=function(t,e){var n=r(Math.sin(Math.PI/180*t),-.9999,.9999),i=Math.pow(2,e)/(2*Math.PI);return Math.pow(2,e-1)+.5*Math.log((1+n)/(1-n))*-i},e.exports=o},{"../geo/lng_lat_bounds":63,"../util/util":275}],114:[function(t,e,n){"use strict";function i(t,e,n,i){(t*=2)<0&&(t=-1*t-1);var r=1<<e;return 32*(r*r*t+r*i+n)+e}function r(t,e,n){for(var i,r="",o=t;o>0;o--)i=1<<o-1,r+=(e&i?1:0)+(n&i?2:0);return r}var o=t("@mapbox/whoots-js"),a=t("../util/web_worker_transfer"),s=a.register,l=t("../geo/coordinate"),u=function(t,e,n){this.z=t,this.x=e,this.y=n,this.key=i(0,t,e,n)};u.prototype.equals=function(t){return this.z===t.z&&this.x===t.x&&this.y===t.y},u.prototype.url=function(t,e){var n=o.getTileBBox(this.x,this.y,this.z),i=r(this.z,this.x,this.y);return t[(this.x+this.y)%t.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String("tms"===e?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",i).replace("{bbox-epsg-3857}",n)};var c=function(t,e){this.wrap=t,this.canonical=e,this.key=i(t,e.z,e.x,e.y)},h=function(t,e,n,r,o){this.overscaledZ=t,this.wrap=e,this.canonical=new u(n,+r,+o),this.key=i(e,t,r,o)};h.prototype.scaledTo=function(t){var e=this.canonical.z-t;return t>this.canonical.z?new h(t,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new h(t,this.wrap,t,this.canonical.x>>e,this.canonical.y>>e)},h.prototype.isChildOf=function(t){var e=this.canonical.z-t.canonical.z;return 0===t.overscaledZ||t.overscaledZ<this.overscaledZ&&t.canonical.x===this.canonical.x>>e&&t.canonical.y===this.canonical.y>>e},h.prototype.children=function(t){if(this.overscaledZ>=t)return[new h(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var e=this.canonical.z+1,n=2*this.canonical.x,i=2*this.canonical.y;return[new h(e,this.wrap,e,n,i),new h(e,this.wrap,e,n+1,i),new h(e,this.wrap,e,n,i+1),new h(e,this.wrap,e,n+1,i+1)]},h.prototype.isLessThan=function(t){return this.wrap<t.wrap||!(this.wrap>t.wrap)&&(this.overscaledZ<t.overscaledZ||!(this.overscaledZ>t.overscaledZ)&&(this.canonical.x<t.canonical.x||!(this.canonical.x>t.canonical.x)&&this.canonical.y<t.canonical.y))},h.prototype.wrapped=function(){return new h(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},h.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},h.prototype.toUnwrapped=function(){return new c(this.wrap,this.canonical)},h.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},h.prototype.toCoordinate=function(){return new l(this.canonical.x+Math.pow(2,this.wrap),this.canonical.y,this.canonical.z)},s("CanonicalTileID",u),s("OverscaledTileID",h,{omit:["posMatrix"]}),e.exports={CanonicalTileID:u,OverscaledTileID:h,UnwrappedTileID:c}},{"../geo/coordinate":61,"../util/web_worker_transfer":278,"@mapbox/whoots-js":12}],115:[function(t,e,n){"use strict";var i=t("../util/evented"),r=t("../util/util"),o=t("./load_tilejson"),a=t("../util/mapbox").normalizeTileURL,s=t("./tile_bounds"),l=t("../util/ajax").ResourceType,u=t("../util/browser"),c=function(t){function e(e,n,i,o){if(t.call(this),this.id=e,this.dispatcher=i,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,r.extend(this,r.pick(n,["url","scheme","tileSize"])),this._options=r.extend({type:"vector"},n),this._collectResourceTiming=n.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(o)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.load=function(){var t=this;this.fire("dataloading",{dataType:"source"}),o(this._options,this.map._transformRequest,function(e,n){e?t.fire("error",e):n&&(r.extend(t,n),n.bounds&&(t.tileBounds=new s(n.bounds,t.minzoom,t.maxzoom)),t.fire("data",{dataType:"source",sourceDataType:"metadata"}),t.fire("data",{dataType:"source",sourceDataType:"content"}))})},e.prototype.hasTile=function(t){return!this.tileBounds||this.tileBounds.contains(t.canonical)},e.prototype.onAdd=function(t){this.map=t,this.load()},e.prototype.serialize=function(){return r.extend({},this._options)},e.prototype.loadTile=function(t,e){function n(n,i){return t.aborted?e(null):n?e(n):(i&&i.resourceTiming&&(t.resourceTiming=i.resourceTiming),this.map._refreshExpiredTiles&&t.setExpiryData(i),t.loadVectorData(i,this.map.painter),e(null),void(t.reloadCallback&&(this.loadTile(t,t.reloadCallback),t.reloadCallback=null)))}var i=t.tileID.overscaleFactor(),r=a(t.tileID.canonical.url(this.tiles,this.scheme),this.url),o={request:this.map._transformRequest(r,l.Tile),uid:t.uid,tileID:t.tileID,zoom:t.tileID.overscaledZ,tileSize:this.tileSize*i,type:this.type,source:this.id,pixelRatio:u.devicePixelRatio,overscaling:i,showCollisionBoxes:this.map.showCollisionBoxes};o.request.collectResourceTiming=this._collectResourceTiming,void 0===t.workerID||"expired"===t.state?t.workerID=this.dispatcher.send("loadTile",o,n.bind(this)):"loading"===t.state?t.reloadCallback=e:this.dispatcher.send("reloadTile",o,n.bind(this),t.workerID)},e.prototype.abortTile=function(t){this.dispatcher.send("abortTile",{uid:t.uid,type:this.type,source:this.id},void 0,t.workerID)},e.prototype.unloadTile=function(t){t.unloadVectorData(),this.dispatcher.send("removeTile",{uid:t.uid,type:this.type,source:this.id},void 0,t.workerID)},e.prototype.hasTransition=function(){return!1},e}(i);e.exports=c},{"../util/ajax":251,"../util/browser":252,"../util/evented":260,"../util/mapbox":267,"../util/util":275,"./load_tilejson":103,"./tile_bounds":113}],116:[function(t,e,n){"use strict";function i(t,e){var n=r.getArrayBuffer(t.request,function(t,n){t?e(t):n&&e(null,{vectorTile:new o.VectorTile(new a(n.data)),rawData:n.data,cacheControl:n.cacheControl,expires:n.expires})});return function(){n.abort(),e()}}var r=t("../util/ajax"),o=t("@mapbox/vector-tile"),a=t("pbf"),s=t("./worker_tile"),l=t("../util/util"),u=t("../util/performance"),c=function(t,e,n){this.actor=t,this.layerIndex=e,this.loadVectorData=n||i,this.loading={},this.loaded={}};c.prototype.loadTile=function(t,e){var n=this,i=t.source,r=t.uid;this.loading[i]||(this.loading[i]={});var o=this.loading[i][r]=new s(t);o.abort=this.loadVectorData(t,function(a,s){if(delete n.loading[i][r],a||!s)return e(a);var c=s.rawData,h={};s.expires&&(h.expires=s.expires),s.cacheControl&&(h.cacheControl=s.cacheControl);var p={};if(t.request&&t.request.collectResourceTiming){var d=u.getEntriesByName(t.request.url);d&&(p.resourceTiming=JSON.parse(JSON.stringify(d)))}o.vectorTile=s.vectorTile,o.parse(s.vectorTile,n.layerIndex,n.actor,function(t,n){if(t||!n)return e(t);e(null,l.extend({rawTileData:c.slice(0)},n,h,p))}),n.loaded[i]=n.loaded[i]||{},n.loaded[i][r]=o})},c.prototype.reloadTile=function(t,e){function n(t,n){if(this.reloadCallback){var i=this.reloadCallback;delete this.reloadCallback,this.parse(this.vectorTile,o.layerIndex,o.actor,i)}e(t,n)}var i=this.loaded[t.source],r=t.uid,o=this;if(i&&i[r]){var a=i[r];a.showCollisionBoxes=t.showCollisionBoxes,"parsing"===a.status?a.reloadCallback=e:"done"===a.status&&a.parse(a.vectorTile,this.layerIndex,this.actor,n.bind(a))}},c.prototype.abortTile=function(t,e){var n=this.loading[t.source],i=t.uid;n&&n[i]&&n[i].abort&&(n[i].abort(),delete n[i]),e()},c.prototype.removeTile=function(t,e){var n=this.loaded[t.source],i=t.uid;n&&n[i]&&delete n[i],e()},e.exports=c},{"../util/ajax":251,"../util/performance":268,"../util/util":275,"./worker_tile":119,"@mapbox/vector-tile":8,pbf:30}],117:[function(t,e,n){"use strict";var i=t("../util/ajax"),r=t("./image_source"),o=t("../data/raster_bounds_attributes"),a=t("../render/vertex_array_object"),s=t("../render/texture"),l=function(t){function e(e,n,i,r){t.call(this,e,n,i,r),this.roundZoom=!0,this.type="video",this.options=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.load=function(){var t=this,e=this.options;this.urls=e.urls,i.getVideo(e.urls,function(e,n){e?t.fire("error",{error:e}):n&&(t.video=n,t.video.loop=!0,t.video.addEventListener("playing",function(){t.map._rerender()}),t.map&&t.video.play(),t._finishLoading())})},e.prototype.getVideo=function(){return this.video},e.prototype.onAdd=function(t){this.map||(this.map=t,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},e.prototype.prepare=function(){var t=this;if(!(0===Object.keys(this.tiles).length||this.video.readyState<2)){var e=this.map.painter.context,n=e.gl;this.boundsBuffer||(this.boundsBuffer=e.createVertexBuffer(this._boundsArray,o.members)),this.boundsVAO||(this.boundsVAO=new a),this.texture?this.video.paused||(this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE),n.texSubImage2D(n.TEXTURE_2D,0,0,0,n.RGBA,n.UNSIGNED_BYTE,this.video)):(this.texture=new s(e,this.video,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE));for(var i in t.tiles){var r=t.tiles[i];"loaded"!==r.state&&(r.state="loaded",r.texture=t.texture)}}},e.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},e.prototype.hasTransition=function(){return this.video&&!this.video.paused},e}(r);e.exports=l},{"../data/raster_bounds_attributes":59,"../render/texture":93,"../render/vertex_array_object":95,"../util/ajax":251,"./image_source":102}],118:[function(t,e,n){"use strict";var i=t("../util/actor"),r=t("../style/style_layer_index"),o=t("./vector_tile_worker_source"),a=t("./raster_dem_tile_worker_source"),s=t("./geojson_worker_source"),l=t("./rtl_text_plugin"),u=function(t){var e=this;this.self=t,this.actor=new i(t,this),this.layerIndexes={},this.workerSourceTypes={vector:o,geojson:s},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(t,n){if(e.workerSourceTypes[t])throw new Error('Worker source with name "'+t+'" already registered.');e.workerSourceTypes[t]=n},this.self.registerRTLTextPlugin=function(t){if(l.applyArabicShaping||l.processBidirectionalText)throw new Error("RTL text plugin already registered.");l.applyArabicShaping=t.applyArabicShaping,l.processBidirectionalText=t.processBidirectionalText}};u.prototype.setLayers=function(t,e,n){this.getLayerIndex(t).replace(e),n()},u.prototype.updateLayers=function(t,e,n){this.getLayerIndex(t).update(e.layers,e.removedIds),n()},u.prototype.loadTile=function(t,e,n){this.getWorkerSource(t,e.type).loadTile(e,n)},u.prototype.loadDEMTile=function(t,e,n){this.getDEMWorkerSource(t).loadTile(e,n)},u.prototype.reloadTile=function(t,e,n){this.getWorkerSource(t,e.type).reloadTile(e,n)},u.prototype.abortTile=function(t,e,n){this.getWorkerSource(t,e.type).abortTile(e,n)},u.prototype.removeTile=function(t,e,n){this.getWorkerSource(t,e.type).removeTile(e,n)},u.prototype.removeDEMTile=function(t,e){this.getDEMWorkerSource(t).removeTile(e)},u.prototype.removeSource=function(t,e,n){var i=this.getWorkerSource(t,e.type);void 0!==i.removeSource?i.removeSource(e,n):n()},u.prototype.loadWorkerSource=function(t,e,n){try{this.self.importScripts(e.url),n()}catch(t){n(t)}},u.prototype.loadRTLTextPlugin=function(t,e,n){try{l.applyArabicShaping||l.processBidirectionalText||(this.self.importScripts(e),l.applyArabicShaping&&l.processBidirectionalText||n(new Error("RTL Text Plugin failed to import scripts from "+e)))}catch(t){n(t)}},u.prototype.getLayerIndex=function(t){var e=this.layerIndexes[t];return e||(e=this.layerIndexes[t]=new r),e},u.prototype.getWorkerSource=function(t,e){var n=this;if(this.workerSources[t]||(this.workerSources[t]={}),!this.workerSources[t][e]){var i={send:function(e,i,r){n.actor.send(e,i,r,t)}};this.workerSources[t][e]=new this.workerSourceTypes[e](i,this.getLayerIndex(t))}return this.workerSources[t][e]},u.prototype.getDEMWorkerSource=function(t){return this.demWorkerSources[t]||(this.demWorkerSources[t]=new a),this.demWorkerSources[t]},e.exports=function(t){return new u(t)}},{"../style/style_layer_index":210,"../util/actor":250,"./geojson_worker_source":100,"./raster_dem_tile_worker_source":107,"./rtl_text_plugin":109,"./vector_tile_worker_source":116}],119:[function(t,e,n){"use strict";function i(t,e){for(var n=new m(e),i=0,r=t;i<r.length;i+=1)r[i].recalculate(n)}var r=t("../data/feature_index"),o=t("../symbol/symbol_layout"),a=o.performSymbolLayout,s=t("../data/array_types"),l=s.CollisionBoxArray,u=t("../util/dictionary_coder"),c=t("../data/bucket/symbol_bucket"),h=t("../util/util"),p=t("../render/image_atlas"),d=p.makeImageAtlas,f=t("../render/glyph_atlas"),y=f.makeGlyphAtlas,m=t("../style/evaluation_parameters"),v=t("./tile_id"),g=v.OverscaledTileID,x=function(t){this.tileID=new g(t.tileID.overscaledZ,t.tileID.wrap,t.tileID.canonical.z,t.tileID.canonical.x,t.tileID.canonical.y),this.uid=t.uid,this.zoom=t.zoom,this.pixelRatio=t.pixelRatio,this.tileSize=t.tileSize,this.source=t.source,this.overscaling=t.overscaling,this.showCollisionBoxes=t.showCollisionBoxes,this.collectResourceTiming=!!t.collectResourceTiming};x.prototype.parse=function(t,e,n,o){function s(){var t=this;if(k)return o(k);if(P&&I){var e=y(P),n=d(I);for(var r in v){var s=v[r];s instanceof c&&(i(s.layers,t.zoom),a(s,P,e.positions,I,n.positions,t.showCollisionBoxes))}this.status="done",o(null,{buckets:h.values(v).filter(function(t){return!t.isEmpty()}),featureIndex:m,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:e.image,iconAtlasImage:n.image})}}var p=this;this.status="parsing",this.data=t,this.collisionBoxArray=new l;var f=new u(Object.keys(t.layers).sort()),m=new r(this.tileID,this.overscaling);m.bucketLayerIDs=[];var v={},g={featureIndex:m,iconDependencies:{},glyphDependencies:{}},x=e.familiesBySource[this.source];for(var _ in x){var b=t.layers[_];if(b){1===b.version&&h.warnOnce('Vector tile source "'+p.source+'" layer "'+_+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var w=f.encode(_),E=[],M=0;M<b.length;M++){var T=b.feature(M);E.push({feature:T,index:M,sourceLayerIndex:w})}for(var S=0,A=x[_];S<A.length;S+=1){var C=A[S],L=C[0];L.minzoom&&p.zoom<Math.floor(L.minzoom)||L.maxzoom&&p.zoom>=L.maxzoom||"none"===L.visibility||(i(C,p.zoom),(v[L.id]=L.createBucket({index:m.bucketLayerIDs.length,layers:C,zoom:p.zoom,pixelRatio:p.pixelRatio,overscaling:p.overscaling,collisionBoxArray:p.collisionBoxArray})).populate(E,g),m.bucketLayerIDs.push(C.map(function(t){return t.id})))}}}var k,P,I,R=h.mapObject(g.glyphDependencies,function(t){return Object.keys(t).map(Number)});Object.keys(R).length?n.send("getGlyphs",{uid:this.uid,stacks:R},function(t,e){k||(k=t,P=e,s.call(p))}):P={};var z=Object.keys(g.iconDependencies);z.length?n.send("getImages",{icons:z},function(t,e){k||(k=t,I=e,s.call(p))}):I={},s.call(this)},e.exports=x},{"../data/array_types":39,"../data/bucket/symbol_bucket":51,"../data/feature_index":54,"../render/glyph_atlas":85,"../render/image_atlas":87,"../style/evaluation_parameters":182,"../symbol/symbol_layout":227,"../util/dictionary_coder":257,"../util/util":275,"./tile_id":114}],120:[function(t,e,n){"use strict";function i(t,e){var n={};for(var i in t)"ref"!==i&&(n[i]=t[i]);return o.forEach(function(t){t in e&&(n[t]=e[t])}),n}function r(t){t=t.slice();for(var e=Object.create(null),n=0;n<t.length;n++)e[t[n].id]=t[n];for(var r=0;r<t.length;r++)"ref"in t[r]&&(t[r]=i(t[r],e[t[r].ref]));return t}var o=t("./util/ref_properties");e.exports=r},{"./util/ref_properties":159}],121:[function(t,e,n){"use strict";function i(t,e,n){n.push({command:f.addSource,args:[t,e[t]]})}function r(t,e,n){e.push({command:f.removeSource,args:[t]}),n[t]=!0}function o(t,e,n,o){r(t,n,o),i(t,e,n)}function a(t,e,n){var i;for(i in t[n])if(t[n].hasOwnProperty(i)&&"data"!==i&&!d(t[n][i],e[n][i]))return!1;for(i in e[n])if(e[n].hasOwnProperty(i)&&"data"!==i&&!d(t[n][i],e[n][i]))return!1;return!0}function s(t,e,n,s){t=t||{},e=e||{};var l;for(l in t)t.hasOwnProperty(l)&&(e.hasOwnProperty(l)||r(l,n,s));for(l in e)e.hasOwnProperty(l)&&(t.hasOwnProperty(l)?d(t[l],e[l])||("geojson"===t[l].type&&"geojson"===e[l].type&&a(t,e,l)?n.push({command:f.setGeoJSONSourceData,args:[l,e[l].data]}):o(l,e,n,s)):i(l,e,n))}function l(t,e,n,i,r,o){t=t||{},e=e||{};var a;for(a in t)t.hasOwnProperty(a)&&(d(t[a],e[a])||n.push({command:o,args:[i,a,e[a],r]}));for(a in e)e.hasOwnProperty(a)&&!t.hasOwnProperty(a)&&(d(t[a],e[a])||n.push({command:o,args:[i,a,e[a],r]}))}function u(t){return t.id}function c(t,e){return t[e.id]=e,t}function h(t,e,n){t=t||[],e=e||[];var i,r,o,a,s,h,p,y=t.map(u),m=e.map(u),v=t.reduce(c,{}),g=e.reduce(c,{}),x=y.slice(),_=Object.create(null);for(i=0,r=0;i<y.length;i++)o=y[i],g.hasOwnProperty(o)?r++:(n.push({command:f.removeLayer,args:[o]}),x.splice(x.indexOf(o,r),1));for(i=0,r=0;i<m.length;i++)o=m[m.length-1-i],x[x.length-1-i]!==o&&(v.hasOwnProperty(o)?(n.push({command:f.removeLayer,args:[o]}),x.splice(x.lastIndexOf(o,x.length-r),1)):r++,h=x[x.length-i],n.push({command:f.addLayer,args:[g[o],h]}),x.splice(x.length-i,0,o),_[o]=!0);for(i=0;i<m.length;i++)if(o=m[i],a=v[o],s=g[o],!_[o]&&!d(a,s))if(d(a.source,s.source)&&d(a["source-layer"],s["source-layer"])&&d(a.type,s.type)){l(a.layout,s.layout,n,o,null,f.setLayoutProperty),l(a.paint,s.paint,n,o,null,f.setPaintProperty),d(a.filter,s.filter)||n.push({command:f.setFilter,args:[o,s.filter]}),d(a.minzoom,s.minzoom)&&d(a.maxzoom,s.maxzoom)||n.push({command:f.setLayerZoomRange,args:[o,s.minzoom,s.maxzoom]});for(p in a)a.hasOwnProperty(p)&&"layout"!==p&&"paint"!==p&&"filter"!==p&&"metadata"!==p&&"minzoom"!==p&&"maxzoom"!==p&&(0===p.indexOf("paint.")?l(a[p],s[p],n,o,p.slice(6),f.setPaintProperty):d(a[p],s[p])||n.push({command:f.setLayerProperty,args:[o,p,s[p]]}));for(p in s)s.hasOwnProperty(p)&&!a.hasOwnProperty(p)&&"layout"!==p&&"paint"!==p&&"filter"!==p&&"metadata"!==p&&"minzoom"!==p&&"maxzoom"!==p&&(0===p.indexOf("paint.")?l(a[p],s[p],n,o,p.slice(6),f.setPaintProperty):d(a[p],s[p])||n.push({command:f.setLayerProperty,args:[o,p,s[p]]}))}else n.push({command:f.removeLayer,args:[o]}),h=x[x.lastIndexOf(o)+1],n.push({command:f.addLayer,args:[s,h]})}function p(t,e){if(!t)return[{command:f.setStyle,args:[e]}];var n=[];try{if(!d(t.version,e.version))return[{command:f.setStyle,args:[e]}];d(t.center,e.center)||n.push({command:f.setCenter,args:[e.center]}),d(t.zoom,e.zoom)||n.push({command:f.setZoom,args:[e.zoom]}),d(t.bearing,e.bearing)||n.push({command:f.setBearing,args:[e.bearing]}),d(t.pitch,e.pitch)||n.push({command:f.setPitch,args:[e.pitch]}),d(t.sprite,e.sprite)||n.push({command:f.setSprite,args:[e.sprite]}),d(t.glyphs,e.glyphs)||n.push({command:f.setGlyphs,args:[e.glyphs]}),d(t.transition,e.transition)||n.push({command:f.setTransition,args:[e.transition]}),d(t.light,e.light)||n.push({command:f.setLight,args:[e.light]});var i={},r=[];s(t.sources,e.sources,r,i);var o=[];t.layers&&t.layers.forEach(function(t){i[t.source]?n.push({command:f.removeLayer,args:[t.id]}):o.push(t)}),n=n.concat(r),h(o,e.layers,n)}catch(t){console.warn("Unable to compute style diff:",t),n=[{command:f.setStyle,args:[e]}]}return n}var d=t("./util/deep_equal"),f={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};e.exports=p,e.exports.operations=f},{"./util/deep_equal":155}],122:[function(t,e,n){"use strict";function i(t,e,n){this.message=(t?t+": ":"")+n,null!==e&&void 0!==e&&e.__line__&&(this.line=e.__line__)}e.exports=i},{}],123:[function(t,e,n){"use strict";function i(t){return{type:t}}function r(t){return Array.isArray(t)?"("+t.map(a).join(", ")+")":"("+a(t.type)+"...)"}var o=t("./types"),a=o.toString,s=t("./parsing_context"),l=(t("./evaluation_context"),function(t,e,n,i){this.name=t,this.type=e,this._evaluate=n,this.args=i});l.prototype.evaluate=function(t){return this._evaluate(t,this.args)},l.prototype.eachChild=function(t){this.args.forEach(t)},l.prototype.possibleOutputs=function(){return[void 0]},l.parse=function(t,e){var n=t[0],i=l.definitions[n];if(!i)return e.error('Unknown expression "'+n+'". If you wanted a literal array, use ["literal", [...]].',0);for(var o=Array.isArray(i)?i[0]:i.type,u=Array.isArray(i)?[[i[1],i[2]]]:i.overloads,c=u.filter(function(e){var n=e[0];return!Array.isArray(n)||n.length===t.length-1}),h=[],p=1;p<t.length;p++){var d=t[p],f=void 0;if(1===c.length){var y=c[0][0];f=Array.isArray(y)?y[p-1]:y.type}var m=e.parse(d,1+h.length,f);if(!m)return null;h.push(m)}for(var v=null,g=0,x=c;g<x.length;g+=1){var _=x[g],b=_[0],w=_[1];if(v=new s(e.registry,e.path,null,e.scope),Array.isArray(b)&&b.length!==h.length)v.error("Expected "+b.length+" arguments, but found "+h.length+" instead.");else{for(var E=0;E<h.length;E++){var M=Array.isArray(b)?b[E]:b.type,T=h[E];v.concat(E+1).checkSubtype(M,T.type)}if(0===v.errors.length)return new l(n,o,w,h)}}if(1===c.length)e.errors.push.apply(e.errors,v.errors);else{var S=c.length?c:u,A=S.map(function(t){return r(t[0])}).join(" | "),C=h.map(function(t){return a(t.type)}).join(", ");e.error("Expected arguments of type "+A+", but found ("+C+") instead.")}return null},l.register=function(t,e){l.definitions=e;for(var n in e)t[n]=l},e.exports={CompoundExpression:l,varargs:i}},{"./evaluation_context":138,"./parsing_context":141,"./types":146}],124:[function(t,e,n){"use strict";var i=t("../types"),r=i.toString,o=i.array,a=i.ValueType,s=i.StringType,l=i.NumberType,u=i.BooleanType,c=i.checkSubtype,h=t("../values"),p=h.typeOf,d=t("../runtime_error"),f={string:s,number:l,boolean:u},y=function(t,e){this.type=t,this.input=e};y.parse=function(t,e){if(t.length<2||t.length>4)return e.error("Expected 1, 2, or 3 arguments, but found "+(t.length-1)+" instead.");var n,i;if(t.length>2){var r=t[1];if("string"!=typeof r||!(r in f))return e.error('The item type argument of "array" must be one of string, number, boolean',1);n=f[r]}else n=a;if(t.length>3){if("number"!=typeof t[2]||t[2]<0||t[2]!==Math.floor(t[2]))return e.error('The length argument to "array" must be a positive integer literal',2);i=t[2]}var s=o(n,i),l=e.parse(t[t.length-1],t.length-1,a);return l?new y(s,l):null},y.prototype.evaluate=function(t){var e=this.input.evaluate(t);if(c(this.type,p(e)))throw new d("Expected value to be of type "+r(this.type)+", but found "+r(p(e))+" instead.");return e},y.prototype.eachChild=function(t){t(this.input)},y.prototype.possibleOutputs=function(){return this.input.possibleOutputs()},e.exports=y},{"../runtime_error":143,"../types":146,"../values":147}],125:[function(t,e,n){"use strict";var i=t("../types"),r=i.ObjectType,o=i.ValueType,a=i.StringType,s=i.NumberType,l=i.BooleanType,u=t("../runtime_error"),c=t("../types"),h=c.checkSubtype,p=c.toString,d=t("../values"),f=d.typeOf,y={string:a,number:s,boolean:l,object:r},m=function(t,e){this.type=t,this.args=e};m.parse=function(t,e){if(t.length<2)return e.error("Expected at least one argument.");for(var n=t[0],i=y[n],r=[],a=1;a<t.length;a++){var s=e.parse(t[a],a,o);if(!s)return null;r.push(s)}return new m(i,r)},m.prototype.evaluate=function(t){for(var e=this,n=0;n<this.args.length;n++){var i=e.args[n].evaluate(t);if(!h(e.type,f(i)))return i;if(n===e.args.length-1)throw new u("Expected value to be of type "+p(e.type)+", but found "+p(f(i))+" instead.")}return null},m.prototype.eachChild=function(t){this.args.forEach(t)},m.prototype.possibleOutputs=function(){return(t=[]).concat.apply(t,this.args.map(function(t){return t.possibleOutputs()}));var t},e.exports=m},{"../runtime_error":143,"../types":146,"../values":147}],126:[function(t,e,n){"use strict";var i=t("../types"),r=i.array,o=i.ValueType,a=i.NumberType,s=t("../runtime_error"),l=function(t,e,n){this.type=t,this.index=e,this.input=n};l.parse=function(t,e){if(3!==t.length)return e.error("Expected 2 arguments, but found "+(t.length-1)+" instead.");var n=e.parse(t[1],1,a),i=e.parse(t[2],2,r(e.expectedType||o));if(!n||!i)return null;var s=i.type;return new l(s.itemType,n,i)},l.prototype.evaluate=function(t){var e=this.index.evaluate(t),n=this.input.evaluate(t);if(e<0||e>=n.length)throw new s("Array index out of bounds: "+e+" > "+n.length+".");if(e!==Math.floor(e))throw new s("Array index must be an integer, but found "+e+" instead.");return n[e]},l.prototype.eachChild=function(t){t(this.index),t(this.input)},l.prototype.possibleOutputs=function(){return[void 0]},e.exports=l},{"../runtime_error":143,"../types":146}],127:[function(t,e,n){"use strict";var i=t("../types"),r=i.BooleanType,o=function(t,e,n){this.type=t,this.branches=e,this.otherwise=n};o.parse=function(t,e){if(t.length<4)return e.error("Expected at least 3 arguments, but found only "+(t.length-1)+".");if(t.length%2!=0)return e.error("Expected an odd number of arguments.");var n;e.expectedType&&"value"!==e.expectedType.kind&&(n=e.expectedType);for(var i=[],a=1;a<t.length-1;a+=2){var s=e.parse(t[a],a,r);if(!s)return null;var l=e.parse(t[a+1],a+1,n);if(!l)return null;i.push([s,l]),n=n||l.type}var u=e.parse(t[t.length-1],t.length-1,n);return u?new o(n,i,u):null},o.prototype.evaluate=function(t){for(var e=this,n=0,i=e.branches;n<i.length;n+=1){var r=i[n],o=r[0],a=r[1];if(o.evaluate(t))return a.evaluate(t)}return this.otherwise.evaluate(t)},o.prototype.eachChild=function(t){for(var e=this,n=0,i=e.branches;n<i.length;n+=1){var r=i[n],o=r[0],a=r[1];t(o),t(a)}t(this.otherwise)},o.prototype.possibleOutputs=function(){return(t=[]).concat.apply(t,this.branches.map(function(t){return t[0],t[1].possibleOutputs()})).concat(this.otherwise.possibleOutputs());var t},e.exports=o},{"../types":146}],128:[function(t,e,n){"use strict";var i=t("../types"),r=i.checkSubtype,o=i.ValueType,a=function(t,e){this.type=t,this.args=e};a.parse=function(t,e){if(t.length<2)return e.error("Expectected at least one argument.");var n=null,i=e.expectedType;i&&"value"!==i.kind&&(n=i);for(var s=[],l=0,u=t.slice(1);l<u.length;l+=1){var c=u[l],h=e.parse(c,1+s.length,n,void 0,{omitTypeAnnotations:!0});if(!h)return null;n=n||h.type,s.push(h)}return i&&s.some(function(t){return r(i,t.type)})?new a(o,s):new a(n,s)},a.prototype.evaluate=function(t){for(var e=this,n=null,i=0,r=e.args;i<r.length&&null===(n=r[i].evaluate(t));i+=1);return n},a.prototype.eachChild=function(t){this.args.forEach(t)},a.prototype.possibleOutputs=function(){return(t=[]).concat.apply(t,this.args.map(function(t){return t.possibleOutputs()}));var t},e.exports=a},{"../types":146}],129:[function(t,e,n){"use strict";var i=t("../types"),r=i.ColorType,o=i.ValueType,a=i.NumberType,s=t("../values"),l=s.Color,u=s.validateRGBA,c=t("../runtime_error"),h={"to-number":a,"to-color":r},p=function(t,e){this.type=t,this.args=e};p.parse=function(t,e){if(t.length<2)return e.error("Expected at least one argument.");for(var n=t[0],i=h[n],r=[],a=1;a<t.length;a++){var s=e.parse(t[a],a,o);if(!s)return null;r.push(s)}return new p(i,r)},p.prototype.evaluate=function(t){var e=this;if("color"===this.type.kind){for(var n,i,r=0,o=e.args;r<o.length;r+=1)if(n=o[r].evaluate(t),i=null,"string"==typeof n){var a=t.parseColor(n);if(a)return a}else if(Array.isArray(n)&&!(i=n.length<3||n.length>4?"Invalid rbga value "+JSON.stringify(n)+": expected an array containing either three or four numeric values.":u(n[0],n[1],n[2],n[3])))return new l(n[0]/255,n[1]/255,n[2]/255,n[3]);throw new c(i||"Could not parse color from value '"+("string"==typeof n?n:JSON.stringify(n))+"'")}for(var s=null,h=0,p=e.args;h<p.length;h+=1)if(null!==(s=p[h].evaluate(t))){var d=Number(s);if(!isNaN(d))return d}throw new c("Could not convert "+JSON.stringify(s)+" to number.")},p.prototype.eachChild=function(t){this.args.forEach(t)},p.prototype.possibleOutputs=function(){return(t=[]).concat.apply(t,this.args.map(function(t){return t.possibleOutputs()}));var t},e.exports=p},{"../runtime_error":143,"../types":146,"../values":147}],130:[function(t,e,n){"use strict";function i(t){return"string"===t.kind||"number"===t.kind||"boolean"===t.kind||"null"===t.kind}function r(t){return function(){function e(t,e){this.type=s,this.lhs=t,this.rhs=e}return e.parse=function(t,n){if(3!==t.length)return n.error("Expected two arguments.");var r=n.parse(t[1],1,a);if(!r)return null;var o=n.parse(t[2],2,a);return o?i(r.type)||i(o.type)?r.type.kind!==o.type.kind&&"value"!==r.type.kind&&"value"!==o.type.kind?n.error("Cannot compare "+u(r.type)+" and "+u(o.type)+"."):new e(r,o):n.error("Expected at least one argument to be a string, number, boolean, or null, but found ("+u(r.type)+", "+u(o.type)+") instead."):null},e.prototype.evaluate=function(e){return t(this.lhs.evaluate(e),this.rhs.evaluate(e))},e.prototype.eachChild=function(t){t(this.lhs),t(this.rhs)},e.prototype.possibleOutputs=function(){return[!0,!1]},e}()}var o=t("../types"),a=o.ValueType,s=o.BooleanType,l=t("../types"),u=l.toString;e.exports={Equals:r(function(t,e){return t===e}),NotEquals:r(function(t,e){return t!==e})}},{"../types":146}],131:[function(t,e,n){"use strict";function i(t,e){var n=e[0],i=e[1],r=e[2],o=e[3];n=n.evaluate(t),i=i.evaluate(t),r=r.evaluate(t);var a=o?o.evaluate(t):1,s=T(n,i,r,a);if(s)throw new L(s);return new M(n/255*a,i/255*a,r/255*a,a)}function r(t,e){return t in e}function o(t,e){var n=e[t];return void 0===n?null:n}function a(t,e){return e[0].evaluate(t).length}function s(t,e){var n=e[0],i=e[1];return n.evaluate(t)<i.evaluate(t)}function l(t,e){var n=e[0],i=e[1];return n.evaluate(t)>i.evaluate(t)}function u(t,e){var n=e[0],i=e[1];return n.evaluate(t)<=i.evaluate(t)}function c(t,e){var n=e[0],i=e[1];return n.evaluate(t)>=i.evaluate(t)}function h(t,e,n,i){for(;n<=i;){var r=n+i>>1;if(e[r]===t)return!0;e[r]>t?i=r-1:n=r+1}return!1}var p=t("../types"),d=p.NumberType,f=p.StringType,y=p.BooleanType,m=p.ColorType,v=p.ObjectType,g=p.ValueType,x=p.ErrorType,_=p.array,b=p.toString,w=t("../values"),E=w.typeOf,M=w.Color,T=w.validateRGBA,S=t("../compound_expression"),A=S.CompoundExpression,C=S.varargs,L=t("../runtime_error"),k=t("./let"),P=t("./var"),I=t("./literal"),R=t("./assertion"),z=t("./array"),O=t("./coercion"),D=t("./at"),B=t("./match"),N=t("./case"),F=t("./step"),U=t("./interpolate"),j=t("./coalesce"),V=t("./equals"),G=V.Equals,H=V.NotEquals,W={"==":G,"!=":H,array:z,at:D,boolean:R,case:N,coalesce:j,interpolate:U,let:k,literal:I,match:B,number:R,object:R,step:F,string:R,"to-color":O,"to-number":O,var:P};A.register(W,{error:[x,[f],function(t,e){var n=e[0];throw new L(n.evaluate(t))}],typeof:[f,[g],function(t,e){var n=e[0];return b(E(n.evaluate(t)))}],"to-string":[f,[g],function(t,e){var n=e[0];n=n.evaluate(t);var i=typeof n;return null===n||"string"===i||"number"===i||"boolean"===i?String(n):n instanceof M?n.toString():JSON.stringify(n)}],"to-boolean":[y,[g],function(t,e){var n=e[0];return Boolean(n.evaluate(t))}],"to-rgba":[_(d,4),[m],function(t,e){var n=e[0],i=n.evaluate(t),r=i.r,o=i.g,a=i.b,s=i.a;return[255*r/s,255*o/s,255*a/s,s]}],rgb:[m,[d,d,d],i],rgba:[m,[d,d,d,d],i],length:{type:d,overloads:[[[f],a],[[_(g)],a]]},has:{type:y,overloads:[[[f],function(t,e){return r(e[0].evaluate(t),t.properties())}],[[f,v],function(t,e){var n=e[0],i=e[1];return r(n.evaluate(t),i.evaluate(t))}]]},get:{type:g,overloads:[[[f],function(t,e){return o(e[0].evaluate(t),t.properties())}],[[f,v],function(t,e){var n=e[0],i=e[1];return o(n.evaluate(t),i.evaluate(t))}]]},properties:[v,[],function(t){return t.properties()}],"geometry-type":[f,[],function(t){return t.geometryType()}],id:[g,[],function(t){return t.id()}],zoom:[d,[],function(t){return t.globals.zoom}],"heatmap-density":[d,[],function(t){return t.globals.heatmapDensity||0}],"+":[d,C(d),function(t,e){for(var n=0,i=0,r=e;i<r.length;i+=1)n+=r[i].evaluate(t);return n}],"*":[d,C(d),function(t,e){for(var n=1,i=0,r=e;i<r.length;i+=1)n*=r[i].evaluate(t);return n}],"-":{type:d,overloads:[[[d,d],function(t,e){var n=e[0],i=e[1];return n.evaluate(t)-i.evaluate(t)}],[[d],function(t,e){return-e[0].evaluate(t)}]]},"/":[d,[d,d],function(t,e){var n=e[0],i=e[1];return n.evaluate(t)/i.evaluate(t)}],"%":[d,[d,d],function(t,e){var n=e[0],i=e[1];return n.evaluate(t)%i.evaluate(t)}],ln2:[d,[],function(){return Math.LN2}],pi:[d,[],function(){return Math.PI}],e:[d,[],function(){return Math.E}],"^":[d,[d,d],function(t,e){var n=e[0],i=e[1];return Math.pow(n.evaluate(t),i.evaluate(t))}],sqrt:[d,[d],function(t,e){var n=e[0];return Math.sqrt(n.evaluate(t))}],log10:[d,[d],function(t,e){var n=e[0];return Math.log10(n.evaluate(t))}],ln:[d,[d],function(t,e){var n=e[0];return Math.log(n.evaluate(t))}],log2:[d,[d],function(t,e){var n=e[0];return Math.log2(n.evaluate(t))}],sin:[d,[d],function(t,e){var n=e[0];return Math.sin(n.evaluate(t))}],cos:[d,[d],function(t,e){var n=e[0];return Math.cos(n.evaluate(t))}],tan:[d,[d],function(t,e){var n=e[0];return Math.tan(n.evaluate(t))}],asin:[d,[d],function(t,e){var n=e[0];return Math.asin(n.evaluate(t))}],acos:[d,[d],function(t,e){var n=e[0];return Math.acos(n.evaluate(t))}],atan:[d,[d],function(t,e){var n=e[0];return Math.atan(n.evaluate(t))}],min:[d,C(d),function(t,e){return Math.min.apply(Math,e.map(function(e){return e.evaluate(t)}))}],max:[d,C(d),function(t,e){return Math.max.apply(Math,e.map(function(e){return e.evaluate(t)}))}],"filter-==":[y,[f,g],function(t,e){var n=e[0],i=e[1];return t.properties()[n.value]===i.value}],"filter-id-==":[y,[g],function(t,e){var n=e[0];return t.id()===n.value}],"filter-type-==":[y,[f],function(t,e){var n=e[0];return t.geometryType()===n.value}],"filter-<":[y,[f,g],function(t,e){var n=e[0],i=e[1],r=t.properties()[n.value],o=i.value;return typeof r==typeof o&&r<o}],"filter-id-<":[y,[g],function(t,e){var n=e[0],i=t.id(),r=n.value;return typeof i==typeof r&&i<r}],"filter->":[y,[f,g],function(t,e){var n=e[0],i=e[1],r=t.properties()[n.value],o=i.value;return typeof r==typeof o&&r>o}],"filter-id->":[y,[g],function(t,e){var n=e[0],i=t.id(),r=n.value;return typeof i==typeof r&&i>r}],"filter-<=":[y,[f,g],function(t,e){var n=e[0],i=e[1],r=t.properties()[n.value],o=i.value;return typeof r==typeof o&&r<=o}],"filter-id-<=":[y,[g],function(t,e){var n=e[0],i=t.id(),r=n.value;return typeof i==typeof r&&i<=r}],"filter->=":[y,[f,g],function(t,e){var n=e[0],i=e[1],r=t.properties()[n.value],o=i.value;return typeof r==typeof o&&r>=o}],"filter-id->=":[y,[g],function(t,e){var n=e[0],i=t.id(),r=n.value;return typeof i==typeof r&&i>=r}],"filter-has":[y,[g],function(t,e){return e[0].value in t.properties()}],"filter-has-id":[y,[],function(t){return null!==t.id()}],"filter-type-in":[y,[_(f)],function(t,e){return e[0].value.indexOf(t.geometryType())>=0}],"filter-id-in":[y,[_(g)],function(t,e){return e[0].value.indexOf(t.id())>=0}],"filter-in-small":[y,[f,_(g)],function(t,e){var n=e[0];return e[1].value.indexOf(t.properties()[n.value])>=0}],"filter-in-large":[y,[f,_(g)],function(t,e){var n=e[0],i=e[1];return h(t.properties()[n.value],i.value,0,i.value.length-1)}],">":{type:y,overloads:[[[d,d],l],[[f,f],l]]},"<":{type:y,overloads:[[[d,d],s],[[f,f],s]]},">=":{type:y,overloads:[[[d,d],c],[[f,f],c]]},"<=":{type:y,overloads:[[[d,d],u],[[f,f],u]]},all:{type:y,overloads:[[[y,y],function(t,e){var n=e[0],i=e[1];return n.evaluate(t)&&i.evaluate(t)}],[C(y),function(t,e){for(var n=0,i=e;n<i.length;n+=1)if(!i[n].evaluate(t))return!1;return!0}]]},any:{type:y,overloads:[[[y,y],function(t,e){var n=e[0],i=e[1];return n.evaluate(t)||i.evaluate(t)}],[C(y),function(t,e){for(var n=0,i=e;n<i.length;n+=1)if(i[n].evaluate(t))return!0;return!1}]]},"!":[y,[y],function(t,e){return!e[0].evaluate(t)}],upcase:[f,[f],function(t,e){return e[0].evaluate(t).toUpperCase()}],downcase:[f,[f],function(t,e){return e[0].evaluate(t).toLowerCase()}],concat:[f,C(f),function(t,e){return e.map(function(e){return e.evaluate(t)}).join("")}]}),e.exports=W},{"../compound_expression":123,"../runtime_error":143,"../types":146,"../values":147,"./array":124,"./assertion":125,"./at":126,"./case":127,"./coalesce":128,"./coercion":129,"./equals":130,"./interpolate":132,"./let":133,"./literal":134,"./match":135,"./step":136,"./var":137}],132:[function(t,e,n){"use strict";function i(t,e,n,i){var r=i-n,o=t-n;return 0===r?0:1===e?o/r:(Math.pow(e,o)-1)/(Math.pow(e,r)-1)}var r=t("@mapbox/unitbezier"),o=t("../../util/interpolate"),a=t("../types"),s=a.toString,l=a.NumberType,u=t("../stops"),c=u.findStopLessThanOrEqualTo,h=function(t,e,n,i){var r=this;this.type=t,this.interpolation=e,this.input=n,this.labels=[],this.outputs=[];for(var o=0,a=i;o<a.length;o+=1){var s=a[o],l=s[0],u=s[1];r.labels.push(l),r.outputs.push(u)}};h.interpolationFactor=function(t,e,n,o){var a=0;if("exponential"===t.name)a=i(e,t.base,n,o);else if("linear"===t.name)a=i(e,1,n,o);else if("cubic-bezier"===t.name){var s=t.controlPoints,l=new r(s[0],s[1],s[2],s[3]);a=l.solve(i(e,1,n,o))}return a},h.parse=function(t,e){var n=t[1],i=t[2],r=t.slice(3);if(!Array.isArray(n)||0===n.length)return e.error("Expected an interpolation type expression.",1);if("linear"===n[0])n={name:"linear"};else if("exponential"===n[0]){var o=n[1];if("number"!=typeof o)return e.error("Exponential interpolation requires a numeric base.",1,1);n={name:"exponential",base:o}}else{if("cubic-bezier"!==n[0])return e.error("Unknown interpolation type "+String(n[0]),1,0);var a=n.slice(1);if(4!==a.length||a.some(function(t){return"number"!=typeof t||t<0||t>1}))return e.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);n={name:"cubic-bezier",controlPoints:a}}if(t.length-1<4)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if((t.length-1)%2!=0)return e.error("Expected an even number of arguments.");if(!(i=e.parse(i,2,l)))return null;var u=[],c=null;e.expectedType&&"value"!==e.expectedType.kind&&(c=e.expectedType);for(var p=0;p<r.length;p+=2){var d=r[p],f=r[p+1],y=p+3,m=p+4;if("number"!=typeof d)return e.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',y);if(u.length&&u[u.length-1][0]>=d)return e.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',y);var v=e.parse(f,m,c);if(!v)return null;c=c||v.type,u.push([d,v])}return"number"===c.kind||"color"===c.kind||"array"===c.kind&&"number"===c.itemType.kind&&"number"==typeof c.N?new h(c,n,i,u):e.error("Type "+s(c)+" is not interpolatable.")},h.prototype.evaluate=function(t){var e=this.labels,n=this.outputs;if(1===e.length)return n[0].evaluate(t);var i=this.input.evaluate(t);if(i<=e[0])return n[0].evaluate(t);var r=e.length;if(i>=e[r-1])return n[r-1].evaluate(t);var a=c(e,i),s=e[a],l=e[a+1],u=h.interpolationFactor(this.interpolation,i,s,l),p=n[a].evaluate(t),d=n[a+1].evaluate(t);return o[this.type.kind.toLowerCase()](p,d,u)},h.prototype.eachChild=function(t){var e=this;t(this.input);for(var n=0,i=e.outputs;n<i.length;n+=1)t(i[n])},h.prototype.possibleOutputs=function(){return(t=[]).concat.apply(t,this.outputs.map(function(t){return t.possibleOutputs()}));var t},e.exports=h},{"../../util/interpolate":158,"../stops":145,"../types":146,"@mapbox/unitbezier":7}],133:[function(t,e,n){"use strict";var i=function(t,e){this.type=e.type,this.bindings=[].concat(t),this.result=e};i.prototype.evaluate=function(t){t.pushScope(this.bindings);var e=this.result.evaluate(t);return t.popScope(),e},i.prototype.eachChild=function(t){for(var e=this,n=0,i=e.bindings;n<i.length;n+=1)t(i[n][1]);t(this.result)},i.parse=function(t,e){if(t.length<4)return e.error("Expected at least 3 arguments, but found "+(t.length-1)+" instead.");for(var n=[],r=1;r<t.length-1;r+=2){var o=t[r];if("string"!=typeof o)return e.error("Expected string, but found "+typeof o+" instead.",r);if(/[^a-zA-Z0-9_]/.test(o))return e.error("Variable names must contain only alphanumeric characters or '_'.",r);var a=e.parse(t[r+1],r+1);if(!a)return null;n.push([o,a])}var s=e.parse(t[t.length-1],t.length-1,void 0,n);return s?new i(n,s):null},i.prototype.possibleOutputs=function(){return this.result.possibleOutputs()},e.exports=i},{}],134:[function(t,e,n){"use strict";var i=t("../values"),r=i.isValue,o=i.typeOf,a=function(t,e){this.type=t,this.value=e};a.parse=function(t,e){if(2!==t.length)return e.error("'literal' expression requires exactly one argument, but found "+(t.length-1)+" instead.");if(!r(t[1]))return e.error("invalid value");var n=t[1],i=o(n),s=e.expectedType;return"array"!==i.kind||0!==i.N||!s||"array"!==s.kind||"number"==typeof s.N&&0!==s.N||(i=s),new a(i,n)},a.prototype.evaluate=function(){return this.value},a.prototype.eachChild=function(){},a.prototype.possibleOutputs=function(){return[this.value]},e.exports=a},{"../values":147}],135:[function(t,e,n){"use strict";var i=t("../values"),r=i.typeOf,o=function(t,e,n,i,r,o){this.inputType=t,this.type=e,this.input=n,this.cases=i,this.outputs=r,this.otherwise=o};o.parse=function(t,e){if(t.length<5)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if(t.length%2!=1)return e.error("Expected an even number of arguments.");var n,i;e.expectedType&&"value"!==e.expectedType.kind&&(i=e.expectedType);for(var a={},s=[],l=2;l<t.length-1;l+=2){var u=t[l],c=t[l+1];Array.isArray(u)||(u=[u]);var h=e.concat(l);if(0===u.length)return h.error("Expected at least one branch label.");for(var p=0,d=u;p<d.length;p+=1){var f=d[p];if("number"!=typeof f&&"string"!=typeof f)return h.error("Branch labels must be numbers or strings.");if("number"==typeof f&&Math.abs(f)>Number.MAX_SAFE_INTEGER)return h.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if("number"==typeof f&&Math.floor(f)!==f)return h.error("Numeric branch labels must be integer values.");if(n){if(h.checkSubtype(n,r(f)))return null}else n=r(f);if(void 0!==a[String(f)])return h.error("Branch labels must be unique.");a[String(f)]=s.length}var y=e.parse(c,l,i);if(!y)return null;i=i||y.type,s.push(y)}var m=e.parse(t[1],1,n);if(!m)return null;var v=e.parse(t[t.length-1],t.length-1,i);return v?new o(n,i,m,a,s,v):null},o.prototype.evaluate=function(t){var e=this.input.evaluate(t);return(this.outputs[this.cases[e]]||this.otherwise).evaluate(t)},o.prototype.eachChild=function(t){t(this.input),this.outputs.forEach(t),t(this.otherwise)},o.prototype.possibleOutputs=function(){return(t=[]).concat.apply(t,this.outputs.map(function(t){return t.possibleOutputs()})).concat(this.otherwise.possibleOutputs());var t},e.exports=o},{"../values":147}],136:[function(t,e,n){"use strict";var i=t("../types"),r=i.NumberType,o=t("../stops"),a=o.findStopLessThanOrEqualTo,s=function(t,e,n){var i=this;this.type=t,this.input=e,this.labels=[],this.outputs=[];for(var r=0,o=n;r<o.length;r+=1){var a=o[r],s=a[0],l=a[1];i.labels.push(s),i.outputs.push(l)}};s.parse=function(t,e){var n=t[1],i=t.slice(2);if(t.length-1<4)return e.error("Expected at least 4 arguments, but found only "+(t.length-1)+".");if((t.length-1)%2!=0)return e.error("Expected an even number of arguments.");if(!(n=e.parse(n,1,r)))return null;var o=[],a=null;e.expectedType&&"value"!==e.expectedType.kind&&(a=e.expectedType),i.unshift(-1/0);for(var l=0;l<i.length;l+=2){var u=i[l],c=i[l+1],h=l+1,p=l+2;if("number"!=typeof u)return e.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',h);if(o.length&&o[o.length-1][0]>=u)return e.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',h);var d=e.parse(c,p,a);if(!d)return null;a=a||d.type,o.push([u,d])}return new s(a,n,o)},s.prototype.evaluate=function(t){var e=this.labels,n=this.outputs;if(1===e.length)return n[0].evaluate(t);var i=this.input.evaluate(t);if(i<=e[0])return n[0].evaluate(t);var r=e.length;return i>=e[r-1]?n[r-1].evaluate(t):n[a(e,i)].evaluate(t)},s.prototype.eachChild=function(t){var e=this;t(this.input);for(var n=0,i=e.outputs;n<i.length;n+=1)t(i[n])},s.prototype.possibleOutputs=function(){return(t=[]).concat.apply(t,this.outputs.map(function(t){return t.possibleOutputs()}));var t},e.exports=s},{"../stops":145,"../types":146}],137:[function(t,e,n){"use strict";var i=function(t,e){this.type=e,this.name=t};i.parse=function(t,e){if(2!==t.length||"string"!=typeof t[1])return e.error("'var' expression requires exactly one string literal argument.");var n=t[1];return e.scope.has(n)?new i(n,e.scope.get(n).type):e.error('Unknown variable "'+n+'". Make sure "'+n+'" has been bound in an enclosing "let" expression before using it.',1)},i.prototype.evaluate=function(t){return t.scope.get(this.name).evaluate(t)},i.prototype.eachChild=function(){},i.prototype.possibleOutputs=function(){return[void 0]},e.exports=i},{}],138:[function(t,e,n){"use strict";var i=t("./scope"),r=t("./values"),o=r.Color,a=["Unknown","Point","LineString","Polygon"],s=function(){this.scope=new i,this._parseColorCache={}};s.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},s.prototype.geometryType=function(){return this.feature?"number"==typeof this.feature.type?a[this.feature.type]:this.feature.type:null},s.prototype.properties=function(){return this.feature&&this.feature.properties||{}},s.prototype.pushScope=function(t){this.scope=this.scope.concat(t)},s.prototype.popScope=function(){this.scope=this.scope.parent},s.prototype.parseColor=function(t){var e=this._parseColorCache[t];return e||(e=this._parseColorCache[t]=o.parse(t)),e},e.exports=s},{"./scope":144,"./values":147}],139:[function(t,e,n){"use strict";function i(t){return Array.isArray(t)&&t.length>0&&"string"==typeof t[0]&&t[0]in _}function r(t,e,n){void 0===n&&(n={});var i=new p(_,[],l(e)),r=i.parse(t);return r?M(!1===n.handleErrors?new S(r):new A(r,e)):T(i.errors)}function o(t,e,n){if(void 0===n&&(n={}),t=r(t,e,n),"error"===t.result)return t;var i=t.value.expression,o=b.isFeatureConstant(i);if(!o&&!e["property-function"])return T([new h("","property expressions not supported")]);var a=b.isGlobalPropertyConstant(i,["zoom"]);if(!a&&!1===e["zoom-function"])return T([new h("","zoom expressions not supported")]);var l=s(i);return l||a?l instanceof h?T([l]):l instanceof v&&"piecewise-constant"===e.function?T([new h("",'"interpolate" expressions cannot be used with this property')]):M(l?o?new L("camera",t.value,l):new L("composite",t.value,l):o?new C("constant",t.value):new C("source",t.value)):T([new h("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}function a(t,e){if(P(t))return new O(t,e);if(i(t)){var n=o(t,e);if("error"===n.result)throw new Error(n.value.map(function(t){return t.key+": "+t.message}).join(", "));return n.value}var r=t;return"string"==typeof t&&"color"===e.type&&(r=z.parse(t)),{kind:"constant",evaluate:function(){return r}}}function s(t){var e=null;if(t instanceof x)e=s(t.result);else if(t instanceof g)for(var n=0,i=t.args;n<i.length;n+=1){var r=i[n];if(e=s(r))break}else(t instanceof m||t instanceof v)&&t.input instanceof y&&"zoom"===t.input.name&&(e=t);return e instanceof h?e:(t.eachChild(function(t){var n=s(t);n instanceof h?e=n:!e&&n?e=new h("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):e&&n&&e!==n&&(e=new h("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),e)}function l(t){var e={color:B,string:N,number:F,enum:N,boolean:U};return"array"===t.type?V(e[t.value]||j,t.length):e[t.type]||null}function u(t){return"color"===t.type&&P(t.default)?new z(0,0,0,0):"color"===t.type?z.parse(t.default)||null:void 0===t.default?null:t.default}var c=t("../util/extend"),h=t("./parsing_error"),p=t("./parsing_context"),d=t("./evaluation_context"),f=t("./compound_expression"),y=f.CompoundExpression,m=t("./definitions/step"),v=t("./definitions/interpolate"),g=t("./definitions/coalesce"),x=t("./definitions/let"),_=t("./definitions"),b=t("./is_constant"),w=t("./runtime_error"),E=t("../util/result"),M=E.success,T=E.error,S=function(t){this.expression=t};S.prototype.evaluate=function(t,e){return this._evaluator||(this._evaluator=new d),this._evaluator.globals=t,this._evaluator.feature=e,this.expression.evaluate(this._evaluator)};var A=function(t){function e(e,n){t.call(this,e),this._warningHistory={},this._defaultValue=u(n),"enum"===n.type&&(this._enumValues=n.values)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.evaluate=function(t,e){this._evaluator||(this._evaluator=new d),this._evaluator.globals=t,this._evaluator.feature=e;try{var n=this.expression.evaluate(this._evaluator);if(null===n||void 0===n)return this._defaultValue;if(this._enumValues&&!(n in this._enumValues))throw new w("Expected value to be one of "+Object.keys(this._enumValues).map(function(t){return JSON.stringify(t)}).join(", ")+", but found "+JSON.stringify(n)+" instead.");return n}catch(t){return this._warningHistory[t.message]||(this._warningHistory[t.message]=!0,"undefined"!=typeof console&&console.warn(t.message)),this._defaultValue}},e}(S),C=function(t,e){this.kind=t,this._styleExpression=e};C.prototype.evaluate=function(t,e){return this._styleExpression.evaluate(t,e)};var L=function(t,e,n){this.kind=t,this.zoomStops=n.labels,this._styleExpression=e,n instanceof v&&(this._interpolationType=n.interpolation)};L.prototype.evaluate=function(t,e){return this._styleExpression.evaluate(t,e)},L.prototype.interpolationFactor=function(t,e,n){return this._interpolationType?v.interpolationFactor(this._interpolationType,t,e,n):0};var k=t("../function"),P=k.isFunction,I=k.createFunction,R=t("./values"),z=R.Color,O=function(t,e){this._parameters=t,this._specification=e,c(this,I(this._parameters,this._specification))};O.deserialize=function(t){return new O(t._parameters,t._specification)},O.serialize=function(t){return{_parameters:t._parameters,_specification:t._specification}},e.exports={StyleExpression:S,StyleExpressionWithErrorHandling:A,isExpression:i,createExpression:r,createPropertyExpression:o,normalizePropertyExpression:a,ZoomConstantExpression:C,ZoomDependentExpression:L,StylePropertyFunction:O};var D=t("./types"),B=D.ColorType,N=D.StringType,F=D.NumberType,U=D.BooleanType,j=D.ValueType,V=D.array},{"../function":149,"../util/extend":156,"../util/result":160,"./compound_expression":123,"./definitions":131,"./definitions/coalesce":128,"./definitions/interpolate":132,"./definitions/let":133,"./definitions/step":136,"./evaluation_context":138,"./is_constant":140,"./parsing_context":141,"./parsing_error":142,"./runtime_error":143,"./types":146,"./values":147}],140:[function(t,e,n){"use strict";function i(t){if(t instanceof a){if("get"===t.name&&1===t.args.length)return!1;if("has"===t.name&&1===t.args.length)return!1;if("properties"===t.name||"geometry-type"===t.name||"id"===t.name)return!1;if(/^filter-/.test(t.name))return!1}var e=!0;return t.eachChild(function(t){e&&!i(t)&&(e=!1)}),e}function r(t,e){if(t instanceof a&&e.indexOf(t.name)>=0)return!1;var n=!0;return t.eachChild(function(t){n&&!r(t,e)&&(n=!1)}),n}var o=t("./compound_expression"),a=o.CompoundExpression;e.exports={isFeatureConstant:i,isGlobalPropertyConstant:r}},{"./compound_expression":123}],141:[function(t,e,n){"use strict";function i(e){var n=t("./compound_expression"),i=n.CompoundExpression,r=t("./is_constant"),o=r.isGlobalPropertyConstant,a=r.isFeatureConstant;if(e instanceof t("./definitions/var"))return!1;if(e instanceof i&&"error"===e.name)return!1;var s=!0;return e.eachChild(function(t){t instanceof l||(s=!1)}),!!s&&a(e)&&o(e,["zoom","heatmap-density"])}var r=t("./scope"),o=t("./types"),a=o.checkSubtype,s=t("./parsing_error"),l=t("./definitions/literal"),u=t("./definitions/assertion"),c=t("./definitions/array"),h=t("./definitions/coercion"),p=function(t,e,n,i,o){void 0===e&&(e=[]),void 0===i&&(i=new r),void 0===o&&(o=[]),this.registry=t,this.path=e,this.key=e.map(function(t){return"["+t+"]"}).join(""),this.scope=i,this.errors=o,this.expectedType=n};p.prototype.parse=function(e,n,r,o,a){void 0===a&&(a={});var s=this;if(n&&(s=s.concat(n,r,o)),null!==e&&"string"!=typeof e&&"boolean"!=typeof e&&"number"!=typeof e||(e=["literal",e]),Array.isArray(e)){if(0===e.length)return s.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var p=e[0];if("string"!=typeof p)return s.error("Expression name must be a string, but found "+typeof p+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var d=s.registry[p];if(d){var f=d.parse(e,s);if(!f)return null;if(s.expectedType){var y=s.expectedType,m=f.type;if("string"!==y.kind&&"number"!==y.kind&&"boolean"!==y.kind||"value"!==m.kind)if("array"===y.kind&&"value"===m.kind)a.omitTypeAnnotations||(f=new c(y,f));else if("color"!==y.kind||"value"!==m.kind&&"string"!==m.kind){if(s.checkSubtype(s.expectedType,f.type))return null}else a.omitTypeAnnotations||(f=new h(y,[f]));else a.omitTypeAnnotations||(f=new u(y,[f]))}if(!(f instanceof l)&&i(f)){var v=new(t("./evaluation_context"));try{f=new l(f.type,f.evaluate(v))}catch(e){return s.error(e.message),null}}return f}return s.error('Unknown expression "'+p+'". If you wanted a literal array, use ["literal", [...]].',0)}return void 0===e?s.error("'undefined' value invalid. Use null instead."):"object"==typeof e?s.error('Bare objects invalid. Use ["literal", {...}] instead.'):s.error("Expected an array, but found "+typeof e+" instead.")},p.prototype.concat=function(t,e,n){var i="number"==typeof t?this.path.concat(t):this.path,r=n?this.scope.concat(n):this.scope;return new p(this.registry,i,e||null,r,this.errors)},p.prototype.error=function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];var i=""+this.key+e.map(function(t){return"["+t+"]"}).join("");this.errors.push(new s(i,t))},p.prototype.checkSubtype=function(t,e){var n=a(t,e);return n&&this.error(n),n},e.exports=p},{"./compound_expression":123,"./definitions/array":124,"./definitions/assertion":125,"./definitions/coercion":129,"./definitions/literal":134,"./definitions/var":137,"./evaluation_context":138,"./is_constant":140,"./parsing_error":142,"./scope":144,"./types":146}],142:[function(t,e,n){"use strict";var i=function(t){function e(e,n){t.call(this,n),this.message=n,this.key=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error);e.exports=i},{}],143:[function(t,e,n){"use strict";var i=function(t){this.name="ExpressionEvaluationError",this.message=t};i.prototype.toJSON=function(){return this.message},e.exports=i},{}],144:[function(t,e,n){"use strict";var i=function(t,e){var n=this;void 0===e&&(e=[]),this.parent=t,this.bindings={};for(var i=0,r=e;i<r.length;i+=1){var o=r[i],a=o[0],s=o[1];n.bindings[a]=s}};i.prototype.concat=function(t){return new i(this,t)},i.prototype.get=function(t){if(this.bindings[t])return this.bindings[t];if(this.parent)return this.parent.get(t);throw new Error(t+" not found in scope.")},i.prototype.has=function(t){return!!this.bindings[t]||!!this.parent&&this.parent.has(t)},e.exports=i},{}],145:[function(t,e,n){"use strict";function i(t,e){for(var n,i,o=t.length,a=0,s=o-1,l=0;a<=s;){if(l=Math.floor((a+s)/2),n=t[l],i=t[l+1],e===n||e>n&&e<i)return l;if(n<e)a=l+1;else{if(!(n>e))throw new r("Input is not a number.");s=l-1}}return Math.max(l-1,0)}var r=t("./runtime_error");e.exports={findStopLessThanOrEqualTo:i}},{"./runtime_error":143}],146:[function(t,e,n){"use strict";function i(t,e){return{kind:"array",itemType:t,N:e}}function r(t){if("array"===t.kind){var e=r(t.itemType);return"number"==typeof t.N?"array<"+e+", "+t.N+">":"value"===t.itemType.kind?"array":"array<"+e+">"}return t.kind}function o(t,e){if("error"===e.kind)return null;if("array"===t.kind){if("array"===e.kind&&!o(t.itemType,e.itemType)&&("number"!=typeof t.N||t.N===e.N))return null}else{if(t.kind===e.kind)return null;if("value"===t.kind)for(var n=0,i=f;n<i.length;n+=1){var a=i[n];if(!o(a,e))return null}}return"Expected "+r(t)+" but found "+r(e)+" instead."}var a={kind:"null"},s={kind:"number"},l={kind:"string"},u={kind:"boolean"},c={kind:"color"},h={kind:"object"},p={kind:"value"},d={kind:"error"},f=[a,s,l,u,c,h,i(p)];e.exports={NullType:a,NumberType:s,StringType:l,BooleanType:u,ColorType:c,ObjectType:h,ValueType:p,array:i,ErrorType:d,toString:r,checkSubtype:o}},{}],147:[function(t,e,n){"use strict";function i(t,e,n,i){return"number"==typeof t&&t>=0&&t<=255&&"number"==typeof e&&e>=0&&e<=255&&"number"==typeof n&&n>=0&&n<=255?void 0===i||"number"==typeof i&&i>=0&&i<=1?null:"Invalid rgba value ["+[t,e,n,i].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+("number"==typeof i?[t,e,n,i]:[t,e,n]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function r(t){if(null===t)return!0;if("string"==typeof t)return!0;if("boolean"==typeof t)return!0;if("number"==typeof t)return!0;if(t instanceof a)return!0;if(Array.isArray(t)){for(var e=0,n=t;e<n.length;e+=1)if(!r(n[e]))return!1;return!0}if("object"==typeof t){for(var i in t)if(!r(t[i]))return!1;return!0}return!1}function o(t){if(null===t)return l;if("string"==typeof t)return c;if("boolean"==typeof t)return h;if("number"==typeof t)return u;if(t instanceof a)return p;if(Array.isArray(t)){for(var e,n=t.length,i=0,r=t;i<r.length;i+=1){var s=r[i],m=o(s);if(e){if(e===m)continue;e=f;break}e=m}return y(e||f,n)}return d}var a=t("../util/color"),s=t("./types"),l=s.NullType,u=s.NumberType,c=s.StringType,h=s.BooleanType,p=s.ColorType,d=s.ObjectType,f=s.ValueType,y=s.array;e.exports={Color:a,validateRGBA:i,isValue:r,typeOf:o}},{"../util/color":153,"./types":146}],148:[function(t,e,n){"use strict";function i(t){if(!Array.isArray(t)||0===t.length)return!1;switch(t[0]){case"has":return t.length>=2&&"$id"!==t[1]&&"$type"!==t[1];case"in":case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3===t.length&&(Array.isArray(t[1])||Array.isArray(t[2]));case"any":case"all":for(var e=0,n=t.slice(1);e<n.length;e+=1){var r=n[e];if(!i(r)&&"boolean"!=typeof r)return!1}return!0;default:return!0}}function r(t){if(!t)return function(){return!0};i(t)||(t=a(t));var e=d(t,f);if("error"===e.result)throw new Error(e.value.map(function(t){return t.key+": "+t.message}).join(", "));return function(t,n){return e.value.evaluate(t,n)}}function o(t,e){return t<e?-1:t>e?1:0}function a(t){if(!t)return!0;var e=t[0];return t.length<=1?"any"!==e:"=="===e?s(t[1],t[2],"=="):"!="===e?h(s(t[1],t[2],"==")):"<"===e||">"===e||"<="===e||">="===e?s(t[1],t[2],e):"any"===e?l(t.slice(1)):"all"===e?["all"].concat(t.slice(1).map(a)):"none"===e?["all"].concat(t.slice(1).map(a).map(h)):"in"===e?u(t[1],t.slice(2)):"!in"===e?h(u(t[1],t.slice(2))):"has"===e?c(t[1]):"!has"!==e||h(c(t[1]))}function s(t,e,n){switch(t){case"$type":return["filter-type-"+n,e];case"$id":return["filter-id-"+n,e];default:return["filter-"+n,t,e]}}function l(t){return["any"].concat(t.map(a))}function u(t,e){if(0===e.length)return!1;switch(t){case"$type":return["filter-type-in",["literal",e]];case"$id":return["filter-id-in",["literal",e]];default:return e.length>200&&!e.some(function(t){return typeof t!=typeof e[0]})?["filter-in-large",t,["literal",e.sort(o)]]:["filter-in-small",t,["literal",e]]}}function c(t){switch(t){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",t]}}function h(t){return["!",t]}var p=t("../expression"),d=p.createExpression;e.exports=r,e.exports.isExpressionFilter=i;var f={type:"boolean",default:!1,function:!0,"property-function":!0,"zoom-function":!0}},{"../expression":139}],149:[function(t,e,n){"use strict";function i(t){return"object"==typeof t&&null!==t&&!Array.isArray(t)}function r(t){return t}function o(t,e){var n="color"===e.type,i=t.stops&&"object"==typeof t.stops[0][0],r=i||void 0!==t.property,h=i||!r,p=t.type||("interpolated"===e.function?"exponential":"interval");if(n&&(t=y({},t),t.stops&&(t.stops=t.stops.map(function(t){return[t[0],f.parse(t[1])]})),t.default?t.default=f.parse(t.default):t.default=f.parse(e.default)),t.colorSpace&&"rgb"!==t.colorSpace&&!d[t.colorSpace])throw new Error("Unknown color space: "+t.colorSpace);var m,v,x;if("exponential"===p)m=u;else if("interval"===p)m=l;else if("categorical"===p){m=s,v=Object.create(null);for(var _=0,b=t.stops;_<b.length;_+=1){var w=b[_];v[w[0]]=w[1]}x=typeof t.stops[0][0]}else{if("identity"!==p)throw new Error('Unknown function type "'+p+'"');m=c}if(i){for(var E={},M=[],T=0;T<t.stops.length;T++){var S=t.stops[T],A=S[0].zoom;void 0===E[A]&&(E[A]={zoom:A,type:t.type,property:t.property,default:t.default,stops:[]},M.push(A)),E[A].stops.push([S[0].value,S[1]])}for(var C=[],L=0,k=M;L<k.length;L+=1){var P=k[L];C.push([E[P].zoom,o(E[P],e)])}return{kind:"composite",interpolationFactor:g.interpolationFactor.bind(void 0,{name:"linear"}),zoomStops:C.map(function(t){return t[0]}),evaluate:function(n,i){var r=n.zoom;return u({stops:C,base:t.base},e,r).evaluate(r,i)}}}return h?{kind:"camera",interpolationFactor:"exponential"===p?g.interpolationFactor.bind(void 0,{name:"exponential",base:void 0!==t.base?t.base:1}):function(){return 0},zoomStops:t.stops.map(function(t){return t[0]}),evaluate:function(n){var i=n.zoom;return m(t,e,i,v,x)}}:{kind:"source",evaluate:function(n,i){var r=i&&i.properties?i.properties[t.property]:void 0;return void 0===r?a(t.default,e.default):m(t,e,r,v,x)}}}function a(t,e,n){return void 0!==t?t:void 0!==e?e:void 0!==n?n:void 0}function s(t,e,n,i,r){return a(typeof n===r?i[n]:void 0,t.default,e.default)}function l(t,e,n){if("number"!==m(n))return a(t.default,e.default);var i=t.stops.length;if(1===i)return t.stops[0][1];if(n<=t.stops[0][0])return t.stops[0][1];if(n>=t.stops[i-1][0])return t.stops[i-1][1];var r=h(t.stops,n);return t.stops[r][1]}function u(t,e,n){var i=void 0!==t.base?t.base:1;if("number"!==m(n))return a(t.default,e.default);var o=t.stops.length;if(1===o)return t.stops[0][1];if(n<=t.stops[0][0])return t.stops[0][1];if(n>=t.stops[o-1][0])return t.stops[o-1][1];var s=h(t.stops,n),l=p(n,i,t.stops[s][0],t.stops[s+1][0]),u=t.stops[s][1],c=t.stops[s+1][1],f=v[e.type]||r;if(t.colorSpace&&"rgb"!==t.colorSpace){var y=d[t.colorSpace];f=function(t,e){return y.reverse(y.interpolate(y.forward(t),y.forward(e),l))}}return"function"==typeof u.evaluate?{evaluate:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=u.evaluate.apply(void 0,t),i=c.evaluate.apply(void 0,t);if(void 0!==n&&void 0!==i)return f(n,i,l)}}:f(u,c,l)}function c(t,e,n){return"color"===e.type?n=f.parse(n):m(n)===e.type||"enum"===e.type&&e.values[n]||(n=void 0),a(n,t.default,e.default)}function h(t,e){for(var n,i,r=t.length,o=0,a=r-1,s=0;o<=a;){if(s=Math.floor((o+a)/2),n=t[s][0],i=t[s+1][0],e===n||e>n&&e<i)return s;n<e?o=s+1:n>e&&(a=s-1)}return Math.max(s-1,0)}function p(t,e,n,i){var r=i-n,o=t-n;return 0===r?0:1===e?o/r:(Math.pow(e,o)-1)/(Math.pow(e,r)-1)}var d=t("../util/color_spaces"),f=t("../util/color"),y=t("../util/extend"),m=t("../util/get_type"),v=t("../util/interpolate"),g=t("../expression/definitions/interpolate");e.exports={createFunction:o,isFunction:i}},{"../expression/definitions/interpolate":132,"../util/color":153,"../util/color_spaces":154,"../util/extend":156,"../util/get_type":157,"../util/interpolate":158}],150:[function(t,e,n){"use strict";function i(t){var e=typeof t;if("number"===e||"boolean"===e||"string"===e||void 0===t||null===t)return JSON.stringify(t);if(Array.isArray(t)){for(var n="[",r=0,o=t;r<o.length;r+=1)n+=i(o[r])+",";return n+"]"}for(var a=Object.keys(t).sort(),s="{",l=0;l<a.length;l++)s+=JSON.stringify(a[l])+":"+i(t[a[l]])+",";return s+"}"}function r(t){for(var e="",n=0,r=a;n<r.length;n+=1)e+="/"+i(t[r[n]]);return e}function o(t){for(var e={},n=0;n<t.length;n++){var i=r(t[n]),o=e[i];o||(o=e[i]=[]),o.push(t[n])}var a=[];for(var s in e)a.push(e[s]);return a}var a=t("./util/ref_properties");e.exports=o},{"./util/ref_properties":159}],151:[function(t,e,n){"use strict";e.exports=t("./v8.json")},{"./v8.json":152}],152:[function(t,e,n){e.exports={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image","source_canvas"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.0511,180,85.0511]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.0511,180,85.0511]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.0511,180,85.0511]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},buffer:{type:"number",default:128,maximum:512,minimum:0},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_canvas:{type:{required:!0,type:"enum",values:{canvas:{}}},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}},animate:{type:"boolean",default:"true"},canvas:{type:"string",required:!0}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_fill:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_circle:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_line:{"line-cap":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{butt:{},round:{},square:{}},default:"butt"},"line-join":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!0,values:{bevel:{},round:{},miter:{}},default:"miter"},"line-miter-limit":{type:"number",default:2,function:"interpolated","zoom-function":!0,requires:[{"line-join":"miter"}]},"line-round-limit":{type:"number",default:1.05,function:"interpolated","zoom-function":!0,requires:[{"line-join":"round"}]},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_symbol:{"symbol-placement":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{point:{},line:{}},default:"point"},"symbol-spacing":{type:"number",default:250,minimum:1,function:"interpolated","zoom-function":!0,units:"pixels",requires:[{"symbol-placement":"line"}]},"symbol-avoid-edges":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1},"icon-allow-overlap":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["icon-image"]},"icon-ignore-placement":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["icon-image"]},"icon-optional":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["icon-image","text-field"]},"icon-rotation-alignment":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"]},"icon-size":{type:"number",default:1,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,units:"factor of the original icon size",requires:["icon-image"]},"icon-text-fit":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"]},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",function:"interpolated","zoom-function":!0,requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}]},"icon-image":{type:"string",function:"piecewise-constant","zoom-function":!0,"property-function":!0,tokens:!0},"icon-rotate":{type:"number",default:0,period:360,function:"interpolated","zoom-function":!0,"property-function":!0,units:"degrees",requires:["icon-image"]},"icon-padding":{type:"number",default:2,minimum:0,function:"interpolated","zoom-function":!0,units:"pixels",requires:["icon-image"]},"icon-keep-upright":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":"line"}]},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,"property-function":!0,requires:["icon-image"]},"icon-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!0,values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"]},"icon-pitch-alignment":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"]},"text-pitch-alignment":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"]},"text-rotation-alignment":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"]},"text-field":{type:"string",function:"piecewise-constant","zoom-function":!0,"property-function":!0,default:"",tokens:!0},"text-font":{type:"array",value:"string",function:"piecewise-constant","zoom-function":!0,"property-function":!0,default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"]},"text-size":{type:"number",default:16,minimum:0,units:"pixels",function:"interpolated","zoom-function":!0,"property-function":!0,requires:["text-field"]},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",function:"interpolated","zoom-function":!0,"property-function":!0,requires:["text-field"]},"text-line-height":{type:"number",default:1.2,units:"ems",function:"interpolated","zoom-function":!0,requires:["text-field"]},"text-letter-spacing":{type:"number",default:0,units:"ems",function:"interpolated","zoom-function":!0,"property-function":!0,requires:["text-field"]},"text-justify":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!0,values:{left:{},center:{},right:{}},default:"center",requires:["text-field"]},"text-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!0,values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field"]},"text-max-angle":{type:"number",default:45,units:"degrees",function:"interpolated","zoom-function":!0,requires:["text-field",{"symbol-placement":"line"}]},"text-rotate":{type:"number",default:0,period:360,units:"degrees",function:"interpolated","zoom-function":!0,"property-function":!0,requires:["text-field"]},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",function:"interpolated","zoom-function":!0,requires:["text-field"]},"text-keep-upright":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":"line"}]},"text-transform":{type:"enum",function:"piecewise-constant","zoom-function":!0,"property-function":!0,values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"]},"text-offset":{type:"array",value:"number",units:"ems",function:"interpolated","zoom-function":!0,"property-function":!0,length:2,default:[0,0],requires:["text-field"]},"text-allow-overlap":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["text-field"]},"text-ignore-placement":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["text-field"]},"text-optional":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!1,requires:["text-field","icon-image"]},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:22,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},expression_name:{type:"enum",values:{let:{group:"Variable binding"},var:{group:"Variable binding"},literal:{group:"Types"},array:{group:"Types"},at:{group:"Lookup"},case:{group:"Decision"},match:{group:"Decision"},coalesce:{group:"Decision"},step:{group:"Ramps, scales, curves"},interpolate:{group:"Ramps, scales, curves"},ln2:{group:"Math"},pi:{group:"Math"},e:{group:"Math"},typeof:{group:"Types"},string:{group:"Types"},number:{group:"Types"},boolean:{group:"Types"},object:{group:"Types"},"to-string":{group:"Types"},"to-number":{group:"Types"},"to-boolean":{group:"Types"},"to-rgba":{group:"Color"},"to-color":{group:"Types"},rgb:{group:"Color"},rgba:{group:"Color"},get:{group:"Lookup"},has:{group:"Lookup"},length:{group:"Lookup"},properties:{group:"Feature data"},"geometry-type":{group:"Feature data"},id:{group:"Feature data"},zoom:{group:"Zoom"},"heatmap-density":{group:"Heatmap"},"+":{group:"Math"},"*":{group:"Math"},"-":{group:"Math"},"/":{group:"Math"},"%":{group:"Math"},"^":{group:"Math"},sqrt:{group:"Math"},log10:{group:"Math"},ln:{group:"Math"},log2:{group:"Math"},sin:{group:"Math"},cos:{group:"Math"},tan:{group:"Math"},asin:{group:"Math"},acos:{group:"Math"},atan:{group:"Math"},min:{group:"Math"},max:{group:"Math"},"==":{group:"Decision"},"!=":{group:"Decision"},">":{group:"Decision"},"<":{group:"Decision"},">=":{group:"Decision"},"<=":{group:"Decision"},all:{group:"Decision"},any:{group:"Decision"},"!":{group:"Decision"},upcase:{group:"String"},downcase:{group:"String"},concat:{group:"String"}}},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},transition:!1,"zoom-function":!0,"property-function":!1,function:"piecewise-constant"},position:{type:"array",default:[1.15,210,30],length:3,value:"number",transition:!0,function:"interpolated","zoom-function":!0,"property-function":!1},color:{type:"color",default:"#ffffff",function:"interpolated","zoom-function":!0,"property-function":!1,transition:!0},intensity:{type:"number",default:.5,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,"property-function":!1,transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",function:"piecewise-constant","zoom-function":!0,default:!0},"fill-opacity":{type:"number",function:"interpolated","zoom-function":!0,"property-function":!0,default:1,minimum:0,maximum:1,transition:!0},"fill-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:[{"!":"fill-pattern"}]},"fill-outline-color":{type:"color",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}]},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,transition:!0,units:"pixels"},"fill-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map",requires:["fill-translate"]},"fill-pattern":{type:"string",function:"piecewise-constant","zoom-function":!0,transition:!0}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",function:"interpolated","zoom-function":!0,"property-function":!1,default:1,minimum:0,maximum:1,transition:!0},"fill-extrusion-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:[{"!":"fill-extrusion-pattern"}]},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,transition:!0,units:"pixels"},"fill-extrusion-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"]},"fill-extrusion-pattern":{type:"string",function:"piecewise-constant","zoom-function":!0,transition:!0},"fill-extrusion-height":{type:"number",function:"interpolated","zoom-function":!0,"property-function":!0,default:0,minimum:0,units:"meters",transition:!0},"fill-extrusion-base":{type:"number",function:"interpolated","zoom-function":!0,"property-function":!0,default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"]}},paint_line:{"line-opacity":{type:"number",function:"interpolated","zoom-function":!0,"property-function":!0,default:1,minimum:0,maximum:1,transition:!0},"line-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:[{"!":"line-pattern"}]},"line-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,transition:!0,units:"pixels"},"line-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map",requires:["line-translate"]},"line-width":{type:"number",default:1,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"line-gap-width":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"line-offset":{type:"number",default:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"line-blur":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"line-dasharray":{type:"array",value:"number",function:"piecewise-constant","zoom-function":!0,minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}]},"line-pattern":{type:"string",function:"piecewise-constant","zoom-function":!0,transition:!0}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"circle-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0},"circle-blur":{type:"number",default:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,transition:!0,units:"pixels"},"circle-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map",requires:["circle-translate"]},"circle-pitch-scale":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map"},"circle-pitch-alignment":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"viewport"},"circle-stroke-width":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"circle-stroke-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels"},"heatmap-weight":{type:"number",default:1,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!1},"heatmap-intensity":{type:"number",default:1,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!1,transition:!0},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],function:"interpolated","zoom-function":!1,"property-function":!1,transition:!1},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,"property-function":!1,transition:!0}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["icon-image"]},"icon-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["icon-image"]},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["icon-image"]},"icon-halo-width":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",requires:["icon-image"]},"icon-halo-blur":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",requires:["icon-image"]},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,transition:!0,units:"pixels",requires:["icon-image"]},"icon-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"]},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["text-field"]},"text-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["text-field"]},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,requires:["text-field"]},"text-halo-width":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",requires:["text-field"]},"text-halo-blur":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":!0,"property-function":!0,transition:!0,units:"pixels",requires:["text-field"]},"text-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":!0,transition:!0,units:"pixels",requires:["text-field"]},"text-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"]}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,transition:!0},"raster-hue-rotate":{type:"number",default:0,period:360,function:"interpolated","zoom-function":!0,transition:!0,units:"degrees"},"raster-brightness-min":{type:"number",function:"interpolated","zoom-function":!0,default:0,minimum:0,maximum:1,transition:!0},"raster-brightness-max":{type:"number",function:"interpolated","zoom-function":!0,default:1,minimum:0,maximum:1,transition:!0},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,function:"interpolated","zoom-function":!0,transition:!0},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,function:"interpolated","zoom-function":!0,transition:!0},"raster-fade-duration":{type:"number",default:300,minimum:0,function:"interpolated","zoom-function":!0,transition:!1,units:"milliseconds"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,function:"interpolated","zoom-function":!0,transition:!1},"hillshade-illumination-anchor":{type:"enum",function:"piecewise-constant","zoom-function":!0,values:{map:{},viewport:{}},default:"viewport"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,transition:!0},"hillshade-shadow-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,transition:!0},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",function:"interpolated","zoom-function":!0,transition:!0},"hillshade-accent-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,transition:!0}},paint_background:{"background-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":!0,transition:!0,requires:[{"!":"background-pattern"}]},"background-pattern":{type:"string",function:"piecewise-constant","zoom-function":!0,transition:!0},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":!0,transition:!0}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}}}},{}],153:[function(t,e,n){"use strict";var i=t("csscolorparser"),r=i.parseCSSColor,o=function(t,e,n,i){void 0===i&&(i=1),this.r=t,this.g=e,this.b=n,this.a=i};o.parse=function(t){if(t){if(t instanceof o)return t;if("string"==typeof t){var e=r(t);if(e)return new o(e[0]/255*e[3],e[1]/255*e[3],e[2]/255*e[3],e[3])}}},o.prototype.toString=function(){var t=this,e=function(e){return Math.round(255*e/t.a)};return"rgba("+[this.r,this.g,this.b].map(e).concat(this.a).join(",")+")"},o.black=new o(0,0,0,1),o.white=new o(1,1,1,1),o.transparent=new o(0,0,0,0),e.exports=o},{csscolorparser:13}],154:[function(t,e,n){"use strict";function i(t){return t>w?Math.pow(t,1/3):t/b+x}function r(t){return t>_?t*t*t:b*(t-x)}function o(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function a(t){return t/=255,t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function s(t){var e=a(t.r),n=a(t.g),r=a(t.b),o=i((.4124564*e+.3575761*n+.1804375*r)/m),s=i((.2126729*e+.7151522*n+.072175*r)/v);return{l:116*s-16,a:500*(o-s),b:200*(s-i((.0193339*e+.119192*n+.9503041*r)/g)),alpha:t.a}}function l(t){var e=(t.l+16)/116,n=isNaN(t.a)?e:e+t.a/500,i=isNaN(t.b)?e:e-t.b/200;return e=v*r(e),n=m*r(n),i=g*r(i),new f(o(3.2404542*n-1.5371385*e-.4985314*i),o(-.969266*n+1.8760108*e+.041556*i),o(.0556434*n-.2040259*e+1.0572252*i),t.alpha)}function u(t,e,n){return{l:y(t.l,e.l,n),a:y(t.a,e.a,n),b:y(t.b,e.b,n),alpha:y(t.alpha,e.alpha,n)}}function c(t){var e=s(t),n=e.l,i=e.a,r=e.b,o=Math.atan2(r,i)*M;return{h:o<0?o+360:o,c:Math.sqrt(i*i+r*r),l:n,alpha:t.a}}function h(t){var e=t.h*E,n=t.c;return l({l:t.l,a:Math.cos(e)*n,b:Math.sin(e)*n,alpha:t.alpha})}function p(t,e,n){var i=e-t;return t+n*(i>180||i<-180?i-360*Math.round(i/360):i)}function d(t,e,n){return{h:p(t.h,e.h,n),c:y(t.c,e.c,n),l:y(t.l,e.l,n),alpha:y(t.alpha,e.alpha,n)}}var f=t("./color"),y=t("./interpolate").number,m=.95047,v=1,g=1.08883,x=4/29,_=6/29,b=3*_*_,w=_*_*_,E=Math.PI/180,M=180/Math.PI;e.exports={lab:{forward:s,reverse:l,interpolate:u},hcl:{forward:c,reverse:h,interpolate:d}}},{"./color":153,"./interpolate":158}],155:[function(t,e,n){"use strict";function i(t,e){if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!i(t[n],e[n]))return!1;return!0}if("object"==typeof t&&null!==t&&null!==e){if("object"!=typeof e)return!1;if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var r in t)if(!i(t[r],e[r]))return!1;return!0}return t===e}e.exports=i},{}],156:[function(t,e,n){"use strict";e.exports=function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];for(var i=0,r=e;i<r.length;i+=1){var o=r[i];for(var a in o)t[a]=o[a]}return t}},{}],157:[function(t,e,n){"use strict";e.exports=function(t){return t instanceof Number?"number":t instanceof String?"string":t instanceof Boolean?"boolean":Array.isArray(t)?"array":null===t?"null":typeof t}},{}],158:[function(t,e,n){"use strict";function i(t,e,n){return t*(1-n)+e*n}function r(t,e,n){return new a(i(t.r,e.r,n),i(t.g,e.g,n),i(t.b,e.b,n),i(t.a,e.a,n))}function o(t,e,n){return t.map(function(t,r){return i(t,e[r],n)})}var a=t("./color");e.exports={number:i,color:r,array:o}},{"./color":153}],159:[function(t,e,n){"use strict";e.exports=["type","source","source-layer","minzoom","maxzoom","filter","layout"]},{}],160:[function(t,e,n){"use strict";function i(t){return{result:"success",value:t}}function r(t){return{result:"error",value:t}}e.exports={success:i,error:r}},{}],161:[function(t,e,n){"use strict";function i(t){return t instanceof Number||t instanceof String||t instanceof Boolean?t.valueOf():t}function r(t){return Array.isArray(t)?t.map(r):i(t)}e.exports=i,e.exports.deep=r},{}],162:[function(t,e,n){"use strict";var i=t("../util/extend"),r=t("../util/unbundle_jsonlint"),o=t("../expression"),a=o.isExpression,s=t("../function"),l=s.isFunction;e.exports=function(e){var n=t("./validate_function"),o=t("./validate_expression"),s=t("./validate_object"),u={"*":function(){return[]},array:t("./validate_array"),boolean:t("./validate_boolean"),number:t("./validate_number"),color:t("./validate_color"),constants:t("./validate_constants"),enum:t("./validate_enum"),filter:t("./validate_filter"),function:t("./validate_function"),layer:t("./validate_layer"),object:t("./validate_object"),source:t("./validate_source"),light:t("./validate_light"),string:t("./validate_string")},c=e.value,h=e.valueSpec,p=e.styleSpec;return h.function&&l(r(c))?n(e):h.function&&a(r.deep(c))?o(e):h.type&&u[h.type]?u[h.type](e):s(i({},e,{valueSpec:h.type?p[h.type]:h}))}},{"../expression":139,"../function":149,"../util/extend":156,"../util/unbundle_jsonlint":161,"./validate_array":163,"./validate_boolean":164,"./validate_color":165,"./validate_constants":166,"./validate_enum":167,"./validate_expression":168,"./validate_filter":169,"./validate_function":170,"./validate_layer":172,"./validate_light":174,"./validate_number":175,"./validate_object":176,"./validate_source":179,"./validate_string":180}],163:[function(t,e,n){"use strict";var i=t("../util/get_type"),r=t("./validate"),o=t("../error/validation_error");e.exports=function(t){var e=t.value,n=t.valueSpec,a=t.style,s=t.styleSpec,l=t.key,u=t.arrayElementValidator||r;if("array"!==i(e))return[new o(l,e,"array expected, "+i(e)+" found")];if(n.length&&e.length!==n.length)return[new o(l,e,"array length "+n.length+" expected, length "+e.length+" found")];if(n["min-length"]&&e.length<n["min-length"])return[new o(l,e,"array length at least "+n["min-length"]+" expected, length "+e.length+" found")];var c={type:n.value};s.$version<7&&(c.function=n.function),"object"===i(n.value)&&(c=n.value);for(var h=[],p=0;p<e.length;p++)h=h.concat(u({array:e,arrayIndex:p,value:e[p],valueSpec:c,style:a,styleSpec:s,key:l+"["+p+"]"}));return h}},{"../error/validation_error":122,"../util/get_type":157,"./validate":162}],164:[function(t,e,n){"use strict";var i=t("../util/get_type"),r=t("../error/validation_error");e.exports=function(t){var e=t.value,n=t.key,o=i(e);return"boolean"!==o?[new r(n,e,"boolean expected, "+o+" found")]:[]}},{"../error/validation_error":122,"../util/get_type":157}],165:[function(t,e,n){"use strict";var i=t("../error/validation_error"),r=t("../util/get_type"),o=t("csscolorparser").parseCSSColor;e.exports=function(t){var e=t.key,n=t.value,a=r(n);return"string"!==a?[new i(e,n,"color expected, "+a+" found")]:null===o(n)?[new i(e,n,'color expected, "'+n+'" found')]:[]}},{"../error/validation_error":122,"../util/get_type":157,csscolorparser:13}],166:[function(t,e,n){"use strict";var i=t("../error/validation_error");e.exports=function(t){var e=t.key,n=t.value;return n?[new i(e,n,"constants have been deprecated as of v8")]:[]}},{"../error/validation_error":122}],167:[function(t,e,n){"use strict";var i=t("../error/validation_error"),r=t("../util/unbundle_jsonlint");e.exports=function(t){var e=t.key,n=t.value,o=t.valueSpec,a=[];return Array.isArray(o.values)?-1===o.values.indexOf(r(n))&&a.push(new i(e,n,"expected one of ["+o.values.join(", ")+"], "+JSON.stringify(n)+" found")):-1===Object.keys(o.values).indexOf(r(n))&&a.push(new i(e,n,"expected one of ["+Object.keys(o.values).join(", ")+"], "+JSON.stringify(n)+" found")),a}},{"../error/validation_error":122,"../util/unbundle_jsonlint":161}],168:[function(t,e,n){"use strict";var i=t("../error/validation_error"),r=t("../expression"),o=r.createExpression,a=r.createPropertyExpression,s=t("../util/unbundle_jsonlint");e.exports=function(t){var e=("property"===t.expressionContext?a:o)(s.deep(t.value),t.valueSpec);return"error"===e.result?e.value.map(function(e){return new i(""+t.key+e.key,t.value,e.message)}):"property"===t.expressionContext&&"text-font"===t.propertyKey&&-1!==e.value._styleExpression.expression.possibleOutputs().indexOf(void 0)?[new i(t.key,t.value,'Invalid data expression for "text-font". Output values must be contained as literals within the expression.')]:[]}},{"../error/validation_error":122,"../expression":139,"../util/unbundle_jsonlint":161}],169:[function(t,e,n){"use strict";function i(t){var e=t.value,n=t.key;if("array"!==s(e))return[new r(n,e,"array expected, "+s(e)+" found")];var o,u=t.styleSpec,c=[];if(e.length<1)return[new r(n,e,"filter array must have at least 1 element")];switch(c=c.concat(a({key:n+"[0]",value:e[0],valueSpec:u.filter_operator,style:t.style,styleSpec:t.styleSpec})),l(e[0])){case"<":case"<=":case">":case">=":e.length>=2&&"$type"===l(e[1])&&c.push(new r(n,e,'"$type" cannot be use with operator "'+e[0]+'"'));case"==":case"!=":3!==e.length&&c.push(new r(n,e,'filter array for operator "'+e[0]+'" must have 3 elements'));case"in":case"!in":e.length>=2&&"string"!==(o=s(e[1]))&&c.push(new r(n+"[1]",e[1],"string expected, "+o+" found"));for(var h=2;h<e.length;h++)o=s(e[h]),"$type"===l(e[1])?c=c.concat(a({key:n+"["+h+"]",value:e[h],valueSpec:u.geometry_type,style:t.style,styleSpec:t.styleSpec})):"string"!==o&&"number"!==o&&"boolean"!==o&&c.push(new r(n+"["+h+"]",e[h],"string, number, or boolean expected, "+o+" found"));break;case"any":case"all":case"none":for(var p=1;p<e.length;p++)c=c.concat(i({key:n+"["+p+"]",value:e[p],style:t.style,styleSpec:t.styleSpec}));break;case"has":case"!has":o=s(e[1]),2!==e.length?c.push(new r(n,e,'filter array for "'+e[0]+'" operator must have 2 elements')):"string"!==o&&c.push(new r(n+"[1]",e[1],"string expected, "+o+" found"))}return c}var r=t("../error/validation_error"),o=t("./validate_expression"),a=t("./validate_enum"),s=t("../util/get_type"),l=t("../util/unbundle_jsonlint"),u=t("../util/extend"),c=t("../feature_filter"),h=c.isExpressionFilter;e.exports=function(t){return h(l.deep(t.value))?o(u({},t,{expressionContext:"filter",valueSpec:{value:"boolean"}})):i(t)}},{"../error/validation_error":122,"../feature_filter":148,"../util/extend":156,"../util/get_type":157,"../util/unbundle_jsonlint":161,"./validate_enum":167,"./validate_expression":168}],170:[function(t,e,n){"use strict";var i=t("../error/validation_error"),r=t("../util/get_type"),o=t("./validate"),a=t("./validate_object"),s=t("./validate_array"),l=t("./validate_number"),u=t("../util/unbundle_jsonlint");e.exports=function(t){function e(t){if("identity"===m)return[new i(t.key,t.value,'identity function may not have a "stops" property')];var e=[],o=t.value;return e=e.concat(s({key:t.key,value:o,valueSpec:t.valueSpec,style:t.style,styleSpec:t.styleSpec,arrayElementValidator:n})),"array"===r(o)&&0===o.length&&e.push(new i(t.key,o,"array must have at least one stop")),e}function n(t){var e=[],n=t.value,s=t.key;if("array"!==r(n))return[new i(s,n,"array expected, "+r(n)+" found")];if(2!==n.length)return[new i(s,n,"array length 2 expected, length "+n.length+" found")];if(_){if("object"!==r(n[0]))return[new i(s,n,"object expected, "+r(n[0])+" found")];if(void 0===n[0].zoom)return[new i(s,n,"object stop key must have zoom")];if(void 0===n[0].value)return[new i(s,n,"object stop key must have value")];if(f&&f>u(n[0].zoom))return[new i(s,n[0].zoom,"stop zoom values must appear in ascending order")];u(n[0].zoom)!==f&&(f=u(n[0].zoom),d=void 0,v={}),e=e.concat(a({key:s+"[0]",value:n[0],valueSpec:{zoom:{}},style:t.style,styleSpec:t.styleSpec,objectElementValidators:{zoom:l,value:c}}))}else e=e.concat(c({key:s+"[0]",value:n[0],valueSpec:{},style:t.style,styleSpec:t.styleSpec},n));return e.concat(o({key:s+"[1]",value:n[1],valueSpec:y,style:t.style,styleSpec:t.styleSpec}))}function c(t,e){var n=r(t.value),o=u(t.value),a=null!==t.value?t.value:e;if(p){if(n!==p)return[new i(t.key,a,n+" stop domain type must match previous stop domain type "+p)]}else p=n;if("number"!==n&&"string"!==n&&"boolean"!==n)return[new i(t.key,a,"stop domain value must be a number, string, or boolean")];if("number"!==n&&"categorical"!==m){var s="number expected, "+n+" found";return y["property-function"]&&void 0===m&&(s+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new i(t.key,a,s)]}return"categorical"!==m||"number"!==n||isFinite(o)&&Math.floor(o)===o?"categorical"!==m&&"number"===n&&void 0!==d&&o<d?[new i(t.key,a,"stop domain values must appear in ascending order")]:(d=o,"categorical"===m&&o in v?[new i(t.key,a,"stop domain values must be unique")]:(v[o]=!0,[])):[new i(t.key,a,"integer expected, found "+o)]}function h(t){return o({key:t.key,value:t.value,valueSpec:y,style:t.style,styleSpec:t.styleSpec})}var p,d,f,y=t.valueSpec,m=u(t.value.type),v={},g="categorical"!==m&&void 0===t.value.property,x=!g,_="array"===r(t.value.stops)&&"array"===r(t.value.stops[0])&&"object"===r(t.value.stops[0][0]),b=a({key:t.key,value:t.value,valueSpec:t.styleSpec.function,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{stops:e,default:h}});return"identity"===m&&g&&b.push(new i(t.key,t.value,'missing required property "property"')),"identity"===m||t.value.stops||b.push(new i(t.key,t.value,'missing required property "stops"')),"exponential"===m&&"piecewise-constant"===t.valueSpec.function&&b.push(new i(t.key,t.value,"exponential functions not supported")),t.styleSpec.$version>=8&&(x&&!t.valueSpec["property-function"]?b.push(new i(t.key,t.value,"property functions not supported")):g&&!t.valueSpec["zoom-function"]&&"heatmap-color"!==t.objectKey&&b.push(new i(t.key,t.value,"zoom functions not supported"))),"categorical"!==m&&!_||void 0!==t.value.property||b.push(new i(t.key,t.value,'"property" property is required')),b}},{"../error/validation_error":122,"../util/get_type":157,"../util/unbundle_jsonlint":161,"./validate":162,"./validate_array":163,"./validate_number":175,"./validate_object":176}],171:[function(t,e,n){"use strict";var i=t("../error/validation_error"),r=t("./validate_string");e.exports=function(t){var e=t.value,n=t.key,o=r(t);return o.length?o:(-1===e.indexOf("{fontstack}")&&o.push(new i(n,e,'"glyphs" url must include a "{fontstack}" token')),-1===e.indexOf("{range}")&&o.push(new i(n,e,'"glyphs" url must include a "{range}" token')),o)}},{"../error/validation_error":122,"./validate_string":180}],172:[function(t,e,n){"use strict";var i=t("../error/validation_error"),r=t("../util/unbundle_jsonlint"),o=t("./validate_object"),a=t("./validate_filter"),s=t("./validate_paint_property"),l=t("./validate_layout_property"),u=t("./validate"),c=t("../util/extend");e.exports=function(t){var e=[],n=t.value,h=t.key,p=t.style,d=t.styleSpec;n.type||n.ref||e.push(new i(h,n,'either "type" or "ref" is required'));var f=r(n.type),y=r(n.ref);if(n.id)for(var m=r(n.id),v=0;v<t.arrayIndex;v++){var g=p.layers[v];r(g.id)===m&&e.push(new i(h,n.id,'duplicate layer id "'+n.id+'", previously used at line '+g.id.__line__))}if("ref"in n){["type","source","source-layer","filter","layout"].forEach(function(t){t in n&&e.push(new i(h,n[t],'"'+t+'" is prohibited for ref layers'))});var x;p.layers.forEach(function(t){r(t.id)===y&&(x=t)}),x?x.ref?e.push(new i(h,n.ref,"ref cannot reference another ref layer")):f=r(x.type):e.push(new i(h,n.ref,'ref layer "'+y+'" not found'))}else if("background"!==f)if(n.source){var _=p.sources&&p.sources[n.source],b=_&&r(_.type);_?"vector"===b&&"raster"===f?e.push(new i(h,n.source,'layer "'+n.id+'" requires a raster source')):"raster"===b&&"raster"!==f?e.push(new i(h,n.source,'layer "'+n.id+'" requires a vector source')):"vector"!==b||n["source-layer"]?"raster-dem"===b&&"hillshade"!==f&&e.push(new i(h,n.source,"raster-dem source can only be used with layer type 'hillshade'.")):e.push(new i(h,n,'layer "'+n.id+'" must specify a "source-layer"')):e.push(new i(h,n.source,'source "'+n.source+'" not found'))}else e.push(new i(h,n,'missing required property "source"'));return e=e.concat(o({key:h,value:n,valueSpec:d.layer,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return u({key:h+".type",value:n.type,valueSpec:d.layer.type,style:t.style,styleSpec:t.styleSpec,object:n,objectKey:"type"})},filter:a,layout:function(t){return o({layer:n,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(t){return l(c({layerType:f},t))}}})},paint:function(t){return o({layer:n,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(t){return s(c({layerType:f},t))}}})}}}))}},{"../error/validation_error":122,"../util/extend":156,"../util/unbundle_jsonlint":161,"./validate":162,"./validate_filter":169,"./validate_layout_property":173,"./validate_object":176,"./validate_paint_property":177}],173:[function(t,e,n){"use strict";var i=t("./validate_property");e.exports=function(t){return i(t,"layout")}},{"./validate_property":178}],174:[function(t,e,n){"use strict";var i=t("../error/validation_error"),r=t("../util/get_type"),o=t("./validate");e.exports=function(t){var e=t.value,n=t.styleSpec,a=n.light,s=t.style,l=[],u=r(e);if(void 0===e)return l;if("object"!==u)return l=l.concat([new i("light",e,"object expected, "+u+" found")]);for(var c in e){var h=c.match(/^(.*)-transition$/);l=h&&a[h[1]]&&a[h[1]].transition?l.concat(o({key:c,value:e[c],valueSpec:n.transition,style:s,styleSpec:n})):a[c]?l.concat(o({key:c,value:e[c],valueSpec:a[c],style:s,styleSpec:n})):l.concat([new i(c,e[c],'unknown property "'+c+'"')])}return l}},{"../error/validation_error":122,"../util/get_type":157,"./validate":162}],175:[function(t,e,n){"use strict";var i=t("../util/get_type"),r=t("../error/validation_error");e.exports=function(t){var e=t.key,n=t.value,o=t.valueSpec,a=i(n);return"number"!==a?[new r(e,n,"number expected, "+a+" found")]:"minimum"in o&&n<o.minimum?[new r(e,n,n+" is less than the minimum value "+o.minimum)]:"maximum"in o&&n>o.maximum?[new r(e,n,n+" is greater than the maximum value "+o.maximum)]:[]}},{"../error/validation_error":122,"../util/get_type":157}],176:[function(t,e,n){"use strict";var i=t("../error/validation_error"),r=t("../util/get_type"),o=t("./validate");e.exports=function(t){var e=t.key,n=t.value,a=t.valueSpec||{},s=t.objectElementValidators||{},l=t.style,u=t.styleSpec,c=[],h=r(n);if("object"!==h)return[new i(e,n,"object expected, "+h+" found")];for(var p in n){var d=p.split(".")[0],f=a[d]||a["*"],y=void 0;if(s[d])y=s[d];else if(a[d])y=o;else if(s["*"])y=s["*"];else{if(!a["*"]){c.push(new i(e,n[p],'unknown property "'+p+'"'));continue}y=o}c=c.concat(y({key:(e?e+".":e)+p,value:n[p],valueSpec:f,style:l,styleSpec:u,object:n,objectKey:p},n))}for(var m in a)s[m]||a[m].required&&void 0===a[m].default&&void 0===n[m]&&c.push(new i(e,n,'missing required property "'+m+'"'));return c}},{"../error/validation_error":122,"../util/get_type":157,"./validate":162}],177:[function(t,e,n){"use strict";var i=t("./validate_property");e.exports=function(t){return i(t,"paint")}},{"./validate_property":178}],178:[function(t,e,n){"use strict";var i=t("./validate"),r=t("../error/validation_error"),o=t("../util/get_type"),a=t("../function"),s=a.isFunction,l=t("../util/unbundle_jsonlint");e.exports=function(t,e){var n=t.key,a=t.style,u=t.styleSpec,c=t.value,h=t.objectKey,p=u[e+"_"+t.layerType];if(!p)return[];var d=h.match(/^(.*)-transition$/);if("paint"===e&&d&&p[d[1]]&&p[d[1]].transition)return i({key:n,value:c,valueSpec:u.transition,style:a,styleSpec:u});var f=t.valueSpec||p[h];if(!f)return[new r(n,c,'unknown property "'+h+'"')];var y;if("string"===o(c)&&f["property-function"]&&!f.tokens&&(y=/^{([^}]+)}$/.exec(c)))return[new r(n,c,'"'+h+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(y[1])+" }`.")];var m=[];return"symbol"===t.layerType&&("text-field"===h&&a&&!a.glyphs&&m.push(new r(n,c,'use of "text-field" requires a style "glyphs" property')),"text-font"===h&&s(l.deep(c))&&"identity"===l(c.type)&&m.push(new r(n,c,'"text-font" does not support identity functions'))),m.concat(i({key:t.key,value:c,valueSpec:f,style:a,styleSpec:u,expressionContext:"property",propertyKey:h}))}},{"../error/validation_error":122,"../function":149,"../util/get_type":157,"../util/unbundle_jsonlint":161,"./validate":162}],179:[function(t,e,n){"use strict";var i=t("../error/validation_error"),r=t("../util/unbundle_jsonlint"),o=t("./validate_object"),a=t("./validate_enum");e.exports=function(t){var e=t.value,n=t.key,s=t.styleSpec,l=t.style;if(!e.type)return[new i(n,e,'"type" is required')];var u=r(e.type),c=[];switch(u){case"vector":case"raster":case"raster-dem":if(c=c.concat(o({key:n,value:e,valueSpec:s["source_"+u.replace("-","_")],style:t.style,styleSpec:s})),"url"in e)for(var h in e)["type","url","tileSize"].indexOf(h)<0&&c.push(new i(n+"."+h,e[h],'a source with a "url" property may not include a "'+h+'" property'));return c;case"geojson":return o({key:n,value:e,valueSpec:s.source_geojson,style:l,styleSpec:s});case"video":return o({key:n,value:e,valueSpec:s.source_video,style:l,styleSpec:s});case"image":return o({key:n,value:e,valueSpec:s.source_image,style:l,styleSpec:s});case"canvas":return o({key:n,value:e,valueSpec:s.source_canvas,style:l,styleSpec:s});default:return a({key:n+".type",value:e.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image","canvas"]},style:l,styleSpec:s})}}},{"../error/validation_error":122,"../util/unbundle_jsonlint":161,"./validate_enum":167,"./validate_object":176}],180:[function(t,e,n){"use strict";var i=t("../util/get_type"),r=t("../error/validation_error");e.exports=function(t){var e=t.value,n=t.key,o=i(e);return"string"!==o?[new r(n,e,"string expected, "+o+" found")]:[]}},{"../error/validation_error":122,"../util/get_type":157}],181:[function(t,e,n){"use strict";function i(t,e){e=e||l;var n=[];return n=n.concat(s({key:"",value:t,valueSpec:e.$root,styleSpec:e,style:t,objectElementValidators:{glyphs:u,"*":function(){return[]}}})),t.constants&&(n=n.concat(a({key:"constants",value:t.constants,style:t,styleSpec:e}))),r(n)}function r(t){return[].concat(t).sort(function(t,e){return t.line-e.line})}function o(t){return function(){return r(t.apply(this,arguments))}}var a=t("./validate/validate_constants"),s=t("./validate/validate"),l=t("./reference/latest"),u=t("./validate/validate_glyphs_url");i.source=o(t("./validate/validate_source")),i.light=o(t("./validate/validate_light")),i.layer=o(t("./validate/validate_layer")),i.filter=o(t("./validate/validate_filter")),i.paintProperty=o(t("./validate/validate_paint_property")),i.layoutProperty=o(t("./validate/validate_layout_property")),e.exports=i},{"./reference/latest":151,"./validate/validate":162,"./validate/validate_constants":166,"./validate/validate_filter":169,"./validate/validate_glyphs_url":171,"./validate/validate_layer":172,"./validate/validate_layout_property":173,"./validate/validate_light":174,"./validate/validate_paint_property":177,"./validate/validate_source":179}],182:[function(t,e,n){"use strict";var i=t("./zoom_history"),r=function(t,e){this.zoom=t,e?(this.now=e.now,this.fadeDuration=e.fadeDuration,this.zoomHistory=e.zoomHistory,this.transition=e.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new i,this.transition={})};r.prototype.crossFadingFactor=function(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},e.exports=r},{"./zoom_history":212}],183:[function(t,e,n){"use strict";var i=t("../style-spec/reference/latest"),r=t("../util/util"),o=t("../util/evented"),a=t("./validate_style"),s=t("../util/util"),l=s.sphericalToCartesian,u=(t("../style-spec/util/color"),t("../style-spec/util/interpolate")),c=t("./properties"),h=c.Properties,p=c.Transitionable,d=(c.Transitioning,c.PossiblyEvaluated,c.DataConstantProperty),f=function(){this.specification=i.light.position};f.prototype.possiblyEvaluate=function(t,e){return l(t.expression.evaluate(e))},f.prototype.interpolate=function(t,e,n){return{x:u.number(t.x,e.x,n),y:u.number(t.y,e.y,n),z:u.number(t.z,e.z,n)}};var y=new h({anchor:new d(i.light.anchor),position:new f,color:new d(i.light.color),intensity:new d(i.light.intensity)}),m=function(t){function e(e){t.call(this),this._transitionable=new p(y),this.setLight(e),this._transitioning=this._transitionable.untransitioned()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getLight=function(){return this._transitionable.serialize()},e.prototype.setLight=function(t){var e=this;if(!this._validate(a.light,t))for(var n in t){var i=t[n];r.endsWith(n,"-transition")?e._transitionable.setTransition(n.slice(0,-"-transition".length),i):e._transitionable.setValue(n,i)}},e.prototype.updateTransitions=function(t){this._transitioning=this._transitionable.transitioned(t,this._transitioning)},e.prototype.hasTransition=function(){return this._transitioning.hasTransition()},e.prototype.recalculate=function(t){this.properties=this._transitioning.possiblyEvaluate(t)},e.prototype._validate=function(t,e){return a.emitErrors(this,t.call(a,r.extend({value:e,style:{glyphs:!0,sprite:!0},styleSpec:i})))},e}(o);e.exports=m},{"../style-spec/reference/latest":151,"../style-spec/util/color":153,"../style-spec/util/interpolate":158,"../util/evented":260,"../util/util":275,"./properties":188,"./validate_style":211}],184:[function(t,e,n){"use strict";var i=t("../util/mapbox"),r=i.normalizeGlyphsURL,o=t("../util/ajax"),a=t("./parse_glyph_pbf");e.exports=function(t,e,n,i,s){var l=256*e,u=l+255,c=i(r(n).replace("{fontstack}",t).replace("{range}",l+"-"+u),o.ResourceType.Glyphs);o.getArrayBuffer(c,function(t,e){if(t)s(t);else if(e){for(var n={},i=0,r=a(e.data);i<r.length;i+=1){var o=r[i];n[o.id]=o}s(null,n)}})}},{"../util/ajax":251,"../util/mapbox":267,"./parse_glyph_pbf":186}],185:[function(t,e,n){"use strict";var i=t("../util/ajax"),r=t("../util/browser"),o=t("../util/mapbox"),a=o.normalizeSpriteURL,s=t("../util/image"),l=s.RGBAImage;e.exports=function(t,e,n){function o(){if(c)n(c);else if(s&&u){var t=r.getImageData(u),e={};for(var i in s){var o=s[i],a=o.width,h=o.height,p=o.x,d=o.y,f=o.sdf,y=o.pixelRatio,m=new l({width:a,height:h});l.copy(t,m,{x:p,y:d},{x:0,y:0},{width:a,height:h}),e[i]={data:m,pixelRatio:y,sdf:f}}n(null,e)}}var s,u,c,h=r.devicePixelRatio>1?"@2x":"";i.getJSON(e(a(t,h,".json"),i.ResourceType.SpriteJSON),function(t,e){c||(c=t,s=e,o())}),i.getImage(e(a(t,h,".png"),i.ResourceType.SpriteImage),function(t,e){c||(c=t,u=e,o())})}},{"../util/ajax":251,"../util/browser":252,"../util/image":263,"../util/mapbox":267}],186:[function(t,e,n){"use strict";function i(t,e,n){1===t&&n.readMessage(r,e)}function r(t,e,n){if(3===t){var i=n.readMessage(o,{}),r=i.id,a=i.bitmap,l=i.width,c=i.height,h=i.left,p=i.top,d=i.advance;e.push({id:r,bitmap:new s({width:l+2*u,height:c+2*u},a),metrics:{width:l,height:c,left:h,top:p,advance:d}})}}function o(t,e,n){1===t?e.id=n.readVarint():2===t?e.bitmap=n.readBytes():3===t?e.width=n.readVarint():4===t?e.height=n.readVarint():5===t?e.left=n.readSVarint():6===t?e.top=n.readSVarint():7===t&&(e.advance=n.readVarint())}var a=t("../util/image"),s=a.AlphaImage,l=t("pbf"),u=3;e.exports=function(t){return new l(t).readFields(i,[])},e.exports.GLYPH_PBF_BORDER=u},{"../util/image":263,pbf:30}],187:[function(t,e,n){"use strict";var i=t("../util/browser"),r=t("../symbol/placement"),o=function(){this._currentTileIndex=0,this._seenCrossTileIDs={}};o.prototype.continuePlacement=function(t,e,n,i,r){for(var o=this;this._currentTileIndex<t.length;){var a=t[o._currentTileIndex];if(e.placeLayerTile(i,a,n,o._seenCrossTileIDs),o._currentTileIndex++,r())return!0}};var a=function(t,e,n,i,o){this.placement=new r(t,o),this._currentPlacementIndex=e.length-1,this._forceFullPlacement=n,this._showCollisionBoxes=i,this._done=!1};a.prototype.isDone=function(){return this._done},a.prototype.continuePlacement=function(t,e,n){for(var r=this,a=i.now(),s=function(){var t=i.now()-a;return!r._forceFullPlacement&&t>2};this._currentPlacementIndex>=0;){var l=t[r._currentPlacementIndex],u=e[l],c=r.placement.collisionIndex.transform.zoom;if("symbol"===u.type&&(!u.minzoom||u.minzoom<=c)&&(!u.maxzoom||u.maxzoom>c)){if(r._inProgressLayer||(r._inProgressLayer=new o),r._inProgressLayer.continuePlacement(n[u.source],r.placement,r._showCollisionBoxes,u,s))return;delete r._inProgressLayer}r._currentPlacementIndex--}this._done=!0},a.prototype.commit=function(t,e){return this.placement.commit(t,e),this.placement},e.exports=a},{"../symbol/placement":223,"../util/browser":252}],188:[function(t,e,n){"use strict";var i=t("../util/util"),r=i.clone,o=i.extend,a=i.easeCubicInOut,s=t("../style-spec/util/interpolate"),l=t("../style-spec/expression"),u=l.normalizePropertyExpression,c=(t("../style-spec/util/color"),t("../util/web_worker_transfer")),h=c.register,p=function(t,e){this.property=t,this.value=e,this.expression=u(void 0===e?t.specification.default:e,t.specification)};p.prototype.isDataDriven=function(){return"source"===this.expression.kind||"composite"===this.expression.kind},p.prototype.possiblyEvaluate=function(t){return this.property.possiblyEvaluate(this,t)};var d=function(t){this.property=t,this.value=new p(t,void 0)};d.prototype.transitioned=function(t,e){return new y(this.property,this.value,e,o({},t.transition,this.transition),t.now)},d.prototype.untransitioned=function(){return new y(this.property,this.value,null,{},0)};var f=function(t){this._properties=t,this._values=Object.create(t.defaultTransitionablePropertyValues)};f.prototype.getValue=function(t){return r(this._values[t].value.value)},f.prototype.setValue=function(t,e){this._values.hasOwnProperty(t)||(this._values[t]=new d(this._values[t].property)),this._values[t].value=new p(this._values[t].property,null===e?void 0:r(e))},f.prototype.getTransition=function(t){return r(this._values[t].transition)},f.prototype.setTransition=function(t,e){this._values.hasOwnProperty(t)||(this._values[t]=new d(this._values[t].property)),this._values[t].transition=r(e)||void 0},f.prototype.serialize=function(){for(var t=this,e={},n=0,i=Object.keys(t._values);n<i.length;n+=1){var r=i[n],o=t.getValue(r);void 0!==o&&(e[r]=o);var a=t.getTransition(r);void 0!==a&&(e[r+"-transition"]=a)}return e},f.prototype.transitioned=function(t,e){for(var n=this,i=new m(this._properties),r=0,o=Object.keys(n._values);r<o.length;r+=1){var a=o[r];i._values[a]=n._values[a].transitioned(t,e._values[a])}return i},f.prototype.untransitioned=function(){for(var t=this,e=new m(this._properties),n=0,i=Object.keys(t._values);n<i.length;n+=1){var r=i[n];e._values[r]=t._values[r].untransitioned()}return e};var y=function(t,e,n,i,r){this.property=t,this.value=e,this.begin=r+i.delay||0,this.end=this.begin+i.duration||0,t.specification.transition&&(i.delay||i.duration)&&(this.prior=n)};y.prototype.possiblyEvaluate=function(t){var e=t.now||0,n=this.value.possiblyEvaluate(t),i=this.prior;if(i){if(e>this.end)return this.prior=null,n;if(this.value.isDataDriven())return this.prior=null,n;if(e<this.begin)return i.possiblyEvaluate(t);var r=(e-this.begin)/(this.end-this.begin);return this.property.interpolate(i.possiblyEvaluate(t),n,a(r))}return n};var m=function(t){this._properties=t,this._values=Object.create(t.defaultTransitioningPropertyValues)};m.prototype.possiblyEvaluate=function(t){for(var e=this,n=new x(this._properties),i=0,r=Object.keys(e._values);i<r.length;i+=1){var o=r[i];n._values[o]=e._values[o].possiblyEvaluate(t)}return n},m.prototype.hasTransition=function(){for(var t=this,e=0,n=Object.keys(t._values);e<n.length;e+=1){var i=n[e];if(t._values[i].prior)return!0}return!1};var v=function(t){this._properties=t,this._values=Object.create(t.defaultPropertyValues)};v.prototype.getValue=function(t){return r(this._values[t].value)},v.prototype.setValue=function(t,e){this._values[t]=new p(this._values[t].property,null===e?void 0:r(e))},v.prototype.serialize=function(){for(var t=this,e={},n=0,i=Object.keys(t._values);n<i.length;n+=1){var r=i[n],o=t.getValue(r);void 0!==o&&(e[r]=o)}return e},v.prototype.possiblyEvaluate=function(t){for(var e=this,n=new x(this._properties),i=0,r=Object.keys(e._values);i<r.length;i+=1){var o=r[i];n._values[o]=e._values[o].possiblyEvaluate(t)}return n};var g=function(t,e,n){this.property=t,this.value=e,this.globals=n};g.prototype.isConstant=function(){return"constant"===this.value.kind},g.prototype.constantOr=function(t){return"constant"===this.value.kind?this.value.value:t},g.prototype.evaluate=function(t){return this.property.evaluate(this.value,this.globals,t)};var x=function(t){this._properties=t,this._values=Object.create(t.defaultPossiblyEvaluatedValues)};x.prototype.get=function(t){return this._values[t]};var _=function(t){this.specification=t};_.prototype.possiblyEvaluate=function(t,e){return t.expression.evaluate(e)},_.prototype.interpolate=function(t,e,n){var i=s[this.specification.type];return i?i(t,e,n):t};var b=function(t){this.specification=t};b.prototype.possiblyEvaluate=function(t,e){return"constant"===t.expression.kind||"camera"===t.expression.kind?new g(this,{kind:"constant",value:t.expression.evaluate(e)},e):new g(this,t.expression,e)},b.prototype.interpolate=function(t,e,n){if("constant"!==t.value.kind||"constant"!==e.value.kind)return t;if(void 0!==t.value.value&&void 0!==e.value.value){var i=s[this.specification.type];return i?new g(this,{kind:"constant",value:i(t.value.value,e.value.value,n)},t.globals):t}},b.prototype.evaluate=function(t,e,n){return"constant"===t.kind?t.value:t.evaluate(e,n)};var w=function(t){this.specification=t};w.prototype.possiblyEvaluate=function(t,e){if(void 0!==t.value){if("constant"===t.expression.kind){var n=t.expression.evaluate(e);return this._calculate(n,n,n,e)}return this._calculate(t.expression.evaluate({zoom:e.zoom-1}),t.expression.evaluate({zoom:e.zoom}),t.expression.evaluate({zoom:e.zoom+1}),e)}},w.prototype._calculate=function(t,e,n,i){var r=i.zoom,o=r-Math.floor(r),a=i.crossFadingFactor();return r>i.zoomHistory.lastIntegerZoom?{from:t,to:e,fromScale:2,toScale:1,t:o+(1-o)*a}:{from:n,to:e,fromScale:.5,toScale:1,t:1-(1-a)*o}},w.prototype.interpolate=function(t){return t};var E=function(t){this.specification=t};E.prototype.possiblyEvaluate=function(){},E.prototype.interpolate=function(){};var M=function(t){var e=this;this.properties=t,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={};for(var n in t){var i=t[n],r=e.defaultPropertyValues[n]=new p(i,void 0),o=e.defaultTransitionablePropertyValues[n]=new d(i);e.defaultTransitioningPropertyValues[n]=o.untransitioned(),e.defaultPossiblyEvaluatedValues[n]=r.possiblyEvaluate({})}};h("DataDrivenProperty",b),h("DataConstantProperty",_),h("CrossFadedProperty",w),h("HeatmapColorProperty",E),e.exports={PropertyValue:p,Transitionable:f,Transitioning:m,Layout:v,PossiblyEvaluatedPropertyValue:g,PossiblyEvaluated:x,DataConstantProperty:_,DataDrivenProperty:b,CrossFadedProperty:w,HeatmapColorProperty:E,Properties:M}},{"../style-spec/expression":139,"../style-spec/util/color":153,"../style-spec/util/interpolate":158,"../util/util":275,"../util/web_worker_transfer":278}],189:[function(t,e,n){"use strict";function i(t,e,n){var i=e.paint.get(t).value;return"constant"===i.kind?i.value:n.programConfigurations.get(e.id).binders[t].statistics.max}function r(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function o(t,e,n,i,r){if(!e[0]&&!e[1])return t;var o=a.convert(e);"viewport"===n&&o._rotate(-i);for(var s=[],l=0;l<t.length;l++){for(var u=t[l],c=[],h=0;h<u.length;h++)c.push(u[h].sub(o._mult(r)));s.push(c)}return s}var a=t("@mapbox/point-geometry");e.exports={getMaximumPaintValue:i,translateDistance:r,translate:o}},{"@mapbox/point-geometry":4}],190:[function(t,e,n){"use strict";var i=t("../util/evented"),r=t("./style_layer"),o=t("./load_sprite"),a=t("../render/image_manager"),s=t("../render/glyph_manager"),l=t("./light"),u=t("../render/line_atlas"),c=t("../util/util"),h=t("../util/ajax"),p=t("../util/mapbox"),d=t("../util/browser"),f=t("../util/dispatcher"),y=t("./validate_style"),m=t("../source/source").getType,v=t("../source/source").setType,g=t("../source/query_features"),x=t("../source/source_cache"),_=(t("../source/geojson_source"),t("../style-spec/reference/latest")),b=t("../util/global_worker_pool"),w=t("../style-spec/deref"),E=t("../style-spec/diff"),M=t("../source/rtl_text_plugin"),T=t("./pauseable_placement"),S=t("./zoom_history"),A=t("../symbol/cross_tile_symbol_index"),C=c.pick(E.operations,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),L=c.pick(E.operations,["setCenter","setZoom","setBearing","setPitch"]),k=function(t){function e(e,n){var i=this;void 0===n&&(n={}),t.call(this),this.map=e,this.dispatcher=new f(b(),this),this.imageManager=new a,this.glyphManager=new s(e._transformRequest,n.localIdeographFontFamily),this.lineAtlas=new u(256,512),this.crossTileSymbolIndex=new A,this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new S,this._loaded=!1,this._resetUpdates();var r=this;this._rtlTextPluginCallback=M.registerForPluginAvailability(function(t){r.dispatcher.broadcast("loadRTLTextPlugin",t.pluginBlobURL,t.errorCallback);for(var e in r.sourceCaches)r.sourceCaches[e].reload()}),this.on("data",function(t){if("source"===t.dataType&&"metadata"===t.sourceDataType){var e=i.sourceCaches[t.sourceId];if(e){var n=e.getSource();if(n&&n.vectorLayerIds)for(var r in i._layers){var o=i._layers[r];o.source===n.id&&i._validateLayer(o)}}}})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.loadURL=function(t,e){var n=this;void 0===e&&(e={}),this.fire("dataloading",{dataType:"style"});var i="boolean"==typeof e.validate?e.validate:!p.isMapboxURL(t);t=p.normalizeStyleURL(t,e.accessToken);var r=this.map._transformRequest(t,h.ResourceType.Style);h.getJSON(r,function(t,e){t?n.fire("error",{error:t}):e&&n._load(e,i)})},e.prototype.loadJSON=function(t,e){var n=this;void 0===e&&(e={}),this.fire("dataloading",{dataType:"style"}),d.frame(function(){n._load(t,!1!==e.validate)})},e.prototype._load=function(t,e){var n=this;if(!e||!y.emitErrors(this,y(t))){this._loaded=!0,this.stylesheet=t;for(var i in t.sources)n.addSource(i,t.sources[i],{validate:!1});t.sprite?o(t.sprite,this.map._transformRequest,function(t,e){if(t)n.fire("error",t);else if(e)for(var i in e)n.imageManager.addImage(i,e[i]);n.imageManager.setLoaded(!0),n.fire("data",{dataType:"style"})}):this.imageManager.setLoaded(!0),this.glyphManager.setURL(t.glyphs);var a=w(this.stylesheet.layers);this._order=a.map(function(t){return t.id}),this._layers={};for(var s=0,u=a;s<u.length;s+=1){var c=u[s];c=r.create(c),c.setEventedParent(n,{layer:{id:c.id}}),n._layers[c.id]=c}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new l(this.stylesheet.light),this.fire("data",{dataType:"style"}),this.fire("style.load")}},e.prototype._validateLayer=function(t){var e=this.sourceCaches[t.source];if(e){var n=t.sourceLayer;if(n){var i=e.getSource();("geojson"===i.type||i.vectorLayerIds&&-1===i.vectorLayerIds.indexOf(n))&&this.fire("error",{error:new Error('Source layer "'+n+'" does not exist on source "'+i.id+'" as specified by style layer "'+t.id+'"')})}}},e.prototype.loaded=function(){var t=this;if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(var e in t.sourceCaches)if(!t.sourceCaches[e].loaded())return!1;return!!this.imageManager.isLoaded()},e.prototype._serializeLayers=function(t){var e=this;return t.map(function(t){return e._layers[t].serialize()})},e.prototype.hasTransitions=function(){var t=this;if(this.light&&this.light.hasTransition())return!0;for(var e in t.sourceCaches)if(t.sourceCaches[e].hasTransition())return!0;for(var n in t._layers)if(t._layers[n].hasTransition())return!0;return!1},e.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},e.prototype.update=function(t){var e=this;if(this._loaded){if(this._changed){var n=Object.keys(this._updatedLayers),i=Object.keys(this._removedLayers);(n.length||i.length)&&this._updateWorkerLayers(n,i);for(var r in e._updatedSources){var o=e._updatedSources[r];"reload"===o?e._reloadSource(r):"clear"===o&&e._clearSource(r)}for(var a in e._updatedPaintProps)e._layers[a].updateTransitions(t);this.light.updateTransitions(t),this._resetUpdates(),this.fire("data",{dataType:"style"})}for(var s in e.sourceCaches)e.sourceCaches[s].used=!1;for(var l=0,u=e._order;l<u.length;l+=1){var c=u[l],h=e._layers[c];h.recalculate(t),!h.isHidden(t.zoom)&&h.source&&(e.sourceCaches[h.source].used=!0)}this.light.recalculate(t),this.z=t.zoom}},e.prototype._updateWorkerLayers=function(t,e){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(t),removedIds:e})},e.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={}},e.prototype.setState=function(t){var e=this;if(this._checkLoaded(),y.emitErrors(this,y(t)))return!1;t=c.clone(t),t.layers=w(t.layers);var n=E(this.serialize(),t).filter(function(t){return!(t.command in L)});if(0===n.length)return!1;var i=n.filter(function(t){return!(t.command in C)});if(i.length>0)throw new Error("Unimplemented: "+i.map(function(t){return t.command}).join(", ")+".");return n.forEach(function(t){"setTransition"!==t.command&&e[t.command].apply(e,t.args)}),this.stylesheet=t,!0},e.prototype.addImage=function(t,e){if(this.getImage(t))return this.fire("error",{error:new Error("An image with this name already exists.")});this.imageManager.addImage(t,e),this.fire("data",{dataType:"style"})},e.prototype.getImage=function(t){return this.imageManager.getImage(t)},e.prototype.removeImage=function(t){if(!this.getImage(t))return this.fire("error",{error:new Error("No image with this name exists.")});this.imageManager.removeImage(t),this.fire("data",{dataType:"style"})},e.prototype.addSource=function(t,e,n){var i=this;if(this._checkLoaded(),void 0!==this.sourceCaches[t])throw new Error("There is already a source with this ID");if(!e.type)throw new Error("The type property must be defined, but the only the following properties were given: "+Object.keys(e).join(", ")+".");if(!(["vector","raster","geojson","video","image","canvas"].indexOf(e.type)>=0&&this._validate(y.source,"sources."+t,e,null,n))){this.map&&this.map._collectResourceTiming&&(e.collectResourceTiming=!0);var r=this.sourceCaches[t]=new x(t,e,this.dispatcher);r.style=this,r.setEventedParent(this,function(){return{isSourceLoaded:i.loaded(),source:r.serialize(),sourceId:t}}),r.onAdd(this.map),this._changed=!0}},e.prototype.removeSource=function(t){var e=this;if(this._checkLoaded(),void 0===this.sourceCaches[t])throw new Error("There is no source with this ID");for(var n in e._layers)if(e._layers[n].source===t)return e.fire("error",{error:new Error('Source "'+t+'" cannot be removed while layer "'+n+'" is using it.')});var i=this.sourceCaches[t];delete this.sourceCaches[t],delete this._updatedSources[t],i.fire("data",{sourceDataType:"metadata",dataType:"source",sourceId:t}),i.setEventedParent(null),i.clearTiles(),i.onRemove&&i.onRemove(this.map),this._changed=!0},e.prototype.setGeoJSONSourceData=function(t,e){this._checkLoaded(),this.sourceCaches[t].getSource().setData(e),this._changed=!0},e.prototype.getSource=function(t){return this.sourceCaches[t]&&this.sourceCaches[t].getSource()},e.prototype.addLayer=function(t,e,n){this._checkLoaded();var i=t.id;if("object"==typeof t.source&&(this.addSource(i,t.source),t=c.clone(t),t=c.extend(t,{source:i})),!this._validate(y.layer,"layers."+i,t,{arrayIndex:-1},n)){var o=r.create(t);this._validateLayer(o),o.setEventedParent(this,{layer:{id:i}});var a=e?this._order.indexOf(e):this._order.length;if(e&&-1===a)return void this.fire("error",{error:new Error('Layer with id "'+e+'" does not exist on this map.')});if(this._order.splice(a,0,i),this._layerOrderChanged=!0,this._layers[i]=o,this._removedLayers[i]&&o.source){var s=this._removedLayers[i];delete this._removedLayers[i],s.type!==o.type?this._updatedSources[o.source]="clear":(this._updatedSources[o.source]="reload",this.sourceCaches[o.source].pause())}this._updateLayer(o)}},e.prototype.moveLayer=function(t,e){if(this._checkLoaded(),this._changed=!0,!this._layers[t])return void this.fire("error",{error:new Error("The layer '"+t+"' does not exist in the map's style and cannot be moved.")});var n=this._order.indexOf(t);this._order.splice(n,1);var i=e?this._order.indexOf(e):this._order.length;if(e&&-1===i)return void this.fire("error",{error:new Error('Layer with id "'+e+'" does not exist on this map.')});this._order.splice(i,0,t),this._layerOrderChanged=!0},e.prototype.removeLayer=function(t){this._checkLoaded();var e=this._layers[t];if(!e)return void this.fire("error",{error:new Error("The layer '"+t+"' does not exist in the map's style and cannot be removed.")});e.setEventedParent(null);var n=this._order.indexOf(t);this._order.splice(n,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[t]=e,delete this._layers[t],delete this._updatedLayers[t],delete this._updatedPaintProps[t]},e.prototype.getLayer=function(t){return this._layers[t]},e.prototype.setLayerZoomRange=function(t,e,n){this._checkLoaded();var i=this.getLayer(t);if(!i)return void this.fire("error",{error:new Error("The layer '"+t+"' does not exist in the map's style and cannot have zoom extent.")});i.minzoom===e&&i.maxzoom===n||(null!=e&&(i.minzoom=e),null!=n&&(i.maxzoom=n),this._updateLayer(i))},e.prototype.setFilter=function(t,e){this._checkLoaded();var n=this.getLayer(t);return n?c.deepEqual(n.filter,e)?void 0:null===e||void 0===e?(n.filter=void 0,void this._updateLayer(n)):void(this._validate(y.filter,"layers."+n.id+".filter",e)||(n.filter=c.clone(e),this._updateLayer(n))):void this.fire("error",{error:new Error("The layer '"+t+"' does not exist in the map's style and cannot be filtered.")})},e.prototype.getFilter=function(t){return c.clone(this.getLayer(t).filter)},e.prototype.setLayoutProperty=function(t,e,n){this._checkLoaded();var i=this.getLayer(t);if(!i)return void this.fire("error",{error:new Error("The layer '"+t+"' does not exist in the map's style and cannot be styled.")});c.deepEqual(i.getLayoutProperty(e),n)||(i.setLayoutProperty(e,n),this._updateLayer(i))},e.prototype.getLayoutProperty=function(t,e){return this.getLayer(t).getLayoutProperty(e)},e.prototype.setPaintProperty=function(t,e,n){this._checkLoaded();var i=this.getLayer(t);if(!i)return void this.fire("error",{error:new Error("The layer '"+t+"' does not exist in the map's style and cannot be styled.")});if(!c.deepEqual(i.getPaintProperty(e),n)){var r=i._transitionablePaint._values[e].value.isDataDriven();i.setPaintProperty(e,n),(i._transitionablePaint._values[e].value.isDataDriven()||r)&&this._updateLayer(i),this._changed=!0,this._updatedPaintProps[t]=!0}},e.prototype.getPaintProperty=function(t,e){return this.getLayer(t).getPaintProperty(e)},e.prototype.getTransition=function(){return c.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},e.prototype.serialize=function(){var t=this;return c.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:c.mapObject(this.sourceCaches,function(t){return t.serialize()}),layers:this._order.map(function(e){return t._layers[e].serialize()})},function(t){return void 0!==t})},e.prototype._updateLayer=function(t){this._updatedLayers[t.id]=!0,t.source&&!this._updatedSources[t.source]&&(this._updatedSources[t.source]="reload",this.sourceCaches[t.source].pause()),this._changed=!0},e.prototype._flattenRenderedFeatures=function(t){for(var e=this,n=[],i=this._order.length-1;i>=0;i--)for(var r=e._order[i],o=0,a=t;o<a.length;o+=1){var s=a[o],l=s[r];if(l)for(var u=0,c=l;u<c.length;u+=1){var h=c[u];n.push(h)}}return n},e.prototype.queryRenderedFeatures=function(t,e,n,i){var r=this;e&&e.filter&&this._validate(y.filter,"queryRenderedFeatures.filter",e.filter);var o={};if(e&&e.layers){if(!Array.isArray(e.layers))return this.fire("error",{error:"parameters.layers must be an Array."}),[];for(var a=0,s=e.layers;a<s.length;a+=1){var l=s[a],u=r._layers[l];if(!u)return r.fire("error",{error:"The layer '"+l+"' does not exist in the map's style and cannot be queried for features."}),[];o[u.source]=!0}}var c=[];for(var h in r.sourceCaches)if(!e.layers||o[h]){var p=g.rendered(r.sourceCaches[h],r._layers,t,e,n,i,r.placement?r.placement.collisionIndex:null);c.push(p)}return this._flattenRenderedFeatures(c)},e.prototype.querySourceFeatures=function(t,e){e&&e.filter&&this._validate(y.filter,"querySourceFeatures.filter",e.filter);var n=this.sourceCaches[t];return n?g.source(n,e):[]},e.prototype.addSourceType=function(t,e,n){return m(t)?n(new Error('A source type called "'+t+'" already exists.')):(v(t,e),e.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:t,url:e.workerSourceURL},n):n(null,null))},e.prototype.getLight=function(){return this.light.getLight()},e.prototype.setLight=function(t){this._checkLoaded();var e=this.light.getLight(),n=!1;for(var i in t)if(!c.deepEqual(t[i],e[i])){n=!0;break}if(n){var r={now:d.now(),transition:c.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(t),this.light.updateTransitions(r)}},e.prototype._validate=function(t,e,n,i,r){return(!r||!1!==r.validate)&&y.emitErrors(this,t.call(y,c.extend({key:e,style:this.serialize(),value:n,styleSpec:_},i)))},e.prototype._remove=function(){var t=this;M.evented.off("pluginAvailable",this._rtlTextPluginCallback);for(var e in t.sourceCaches)t.sourceCaches[e].clearTiles();this.dispatcher.remove()},e.prototype._clearSource=function(t){this.sourceCaches[t].clearTiles()},e.prototype._reloadSource=function(t){this.sourceCaches[t].resume(),this.sourceCaches[t].reload()},e.prototype._updateSources=function(t){var e=this;for(var n in e.sourceCaches)e.sourceCaches[n].update(t)},e.prototype._generateCollisionBoxes=function(){var t=this;for(var e in t.sourceCaches)t._reloadSource(e)},e.prototype._updatePlacement=function(t,e,n){for(var i=this,r=!1,o=!1,a={},s=0,l=i._order;s<l.length;s+=1){var u=l[s],c=i._layers[u];if("symbol"===c.type){if(!a[c.source]){var h=i.sourceCaches[c.source];a[c.source]=h.getRenderableIds().map(function(t){return h.getTileByID(t)}).sort(function(t,e){return e.tileID.overscaledZ-t.tileID.overscaledZ||(t.tileID.isLessThan(e.tileID)?-1:1)})}var p=i.crossTileSymbolIndex.addLayer(c,a[c.source]);r=r||p}}this.crossTileSymbolIndex.pruneUnusedLayers(this._order);var f=this._layerOrderChanged;if((f||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(d.now()))&&(this.pauseablePlacement=new T(t,this._order,f,e,n),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,a),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(this.placement,d.now()),o=!0),r&&this.pauseablePlacement.placement.setStale()),o||r)for(var y=0,m=i._order;y<m.length;y+=1){var v=m[y],g=i._layers[v];"symbol"===g.type&&i.placement.updateLayerOpacities(g,a[g.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(d.now())},e.prototype.getImages=function(t,e,n){this.imageManager.getImages(e.icons,n)},e.prototype.getGlyphs=function(t,e,n){this.glyphManager.getGlyphs(e.stacks,n)},e}(i);e.exports=k},{"../render/glyph_manager":86,"../render/image_manager":88,"../render/line_atlas":89,"../source/geojson_source":99,"../source/query_features":105,"../source/rtl_text_plugin":109,"../source/source":110,"../source/source_cache":111,"../style-spec/deref":120,"../style-spec/diff":121,"../style-spec/reference/latest":151,"../symbol/cross_tile_symbol_index":218,"../util/ajax":251,"../util/browser":252,"../util/dispatcher":258,"../util/evented":260,"../util/global_worker_pool":262,"../util/mapbox":267,"../util/util":275,"./light":183,"./load_sprite":185,"./pauseable_placement":187,"./style_layer":191,"./validate_style":211,"./zoom_history":212}],191:[function(t,e,n){"use strict";var i=t("../util/util"),r=t("../style-spec/reference/latest"),o=t("./validate_style"),a=t("../util/evented"),s=t("./properties"),l=s.Layout,u=s.Transitionable,c=(s.Transitioning,s.Properties,function(t){function e(e,n){var i=this;t.call(this),this.id=e.id,this.metadata=e.metadata,this.type=e.type,this.minzoom=e.minzoom,this.maxzoom=e.maxzoom,this.visibility="visible","background"!==e.type&&(this.source=e.source,this.sourceLayer=e["source-layer"],this.filter=e.filter),this._featureFilter=function(){return!0},n.layout&&(this._unevaluatedLayout=new l(n.layout)),this._transitionablePaint=new u(n.paint);for(var r in e.paint)i.setPaintProperty(r,e.paint[r],{validate:!1});for(var o in e.layout)i.setLayoutProperty(o,e.layout[o],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getLayoutProperty=function(t){return"visibility"===t?this.visibility:this._unevaluatedLayout.getValue(t)},e.prototype.setLayoutProperty=function(t,e,n){if(null!==e&&void 0!==e){var i="layers."+this.id+".layout."+t;if(this._validate(o.layoutProperty,i,t,e,n))return}if("visibility"===t)return void(this.visibility="none"===e?e:"visible");this._unevaluatedLayout.setValue(t,e)},e.prototype.getPaintProperty=function(t){return i.endsWith(t,"-transition")?this._transitionablePaint.getTransition(t.slice(0,-"-transition".length)):this._transitionablePaint.getValue(t)},e.prototype.setPaintProperty=function(t,e,n){if(null!==e&&void 0!==e){var r="layers."+this.id+".paint."+t;if(this._validate(o.paintProperty,r,t,e,n))return}i.endsWith(t,"-transition")?this._transitionablePaint.setTransition(t.slice(0,-"-transition".length),e||void 0):this._transitionablePaint.setValue(t,e)},e.prototype.isHidden=function(t){return!!(this.minzoom&&t<this.minzoom)||!!(this.maxzoom&&t>=this.maxzoom)||"none"===this.visibility},e.prototype.updateTransitions=function(t){this._transitioningPaint=this._transitionablePaint.transitioned(t,this._transitioningPaint)},e.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},e.prototype.recalculate=function(t){this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(t)),this.paint=this._transitioningPaint.possiblyEvaluate(t)},e.prototype.serialize=function(){var t={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return"none"===this.visibility&&(t.layout=t.layout||{},t.layout.visibility="none"),i.filterObject(t,function(t,e){return!(void 0===t||"layout"===e&&!Object.keys(t).length||"paint"===e&&!Object.keys(t).length)})},e.prototype._validate=function(t,e,n,i,a){return(!a||!1!==a.validate)&&o.emitErrors(this,t.call(o,{key:e,layerType:this.type,objectKey:n,value:i,styleSpec:r,style:{glyphs:!0,sprite:!0}}))},e.prototype.hasOffscreenPass=function(){return!1},e.prototype.resize=function(){},e}(a));e.exports=c;var h={circle:t("./style_layer/circle_style_layer"),heatmap:t("./style_layer/heatmap_style_layer"),hillshade:t("./style_layer/hillshade_style_layer"),fill:t("./style_layer/fill_style_layer"),"fill-extrusion":t("./style_layer/fill_extrusion_style_layer"),line:t("./style_layer/line_style_layer"),symbol:t("./style_layer/symbol_style_layer"),background:t("./style_layer/background_style_layer"),raster:t("./style_layer/raster_style_layer")};c.create=function(t){return new h[t.type](t)}},{"../style-spec/reference/latest":151,"../util/evented":260,"../util/util":275,"./properties":188,"./style_layer/background_style_layer":192,"./style_layer/circle_style_layer":194,"./style_layer/fill_extrusion_style_layer":196,"./style_layer/fill_style_layer":198,"./style_layer/heatmap_style_layer":200,"./style_layer/hillshade_style_layer":202,"./style_layer/line_style_layer":204,"./style_layer/raster_style_layer":206,"./style_layer/symbol_style_layer":208,"./validate_style":211}],192:[function(t,e,n){"use strict";var i=t("../style_layer"),r=t("./background_style_layer_properties"),o=t("../properties"),a=(o.Transitionable,o.Transitioning,o.PossiblyEvaluated,function(t){function e(e){t.call(this,e,r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(i));e.exports=a},{"../properties":188,"../style_layer":191,"./background_style_layer_properties":193}],193:[function(t,e,n){"use strict";var i=t("../../style-spec/reference/latest"),r=t("../properties"),o=r.Properties,a=r.DataConstantProperty,s=(r.DataDrivenProperty,r.CrossFadedProperty),l=(r.HeatmapColorProperty,new o({"background-color":new a(i.paint_background["background-color"]),"background-pattern":new s(i.paint_background["background-pattern"]),"background-opacity":new a(i.paint_background["background-opacity"])}));e.exports={paint:l}},{"../../style-spec/reference/latest":151,"../properties":188}],194:[function(t,e,n){"use strict";var i=t("../style_layer"),r=t("../../data/bucket/circle_bucket"),o=t("../../util/intersection_tests"),a=o.multiPolygonIntersectsBufferedMultiPoint,s=t("../query_utils"),l=s.getMaximumPaintValue,u=s.translateDistance,c=s.translate,h=t("./circle_style_layer_properties"),p=t("../properties"),d=(p.Transitionable,p.Transitioning,p.PossiblyEvaluated,function(t){function e(e){t.call(this,e,h)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createBucket=function(t){return new r(t)},e.prototype.queryRadius=function(t){var e=t;return l("circle-radius",this,e)+l("circle-stroke-width",this,e)+u(this.paint.get("circle-translate"))},e.prototype.queryIntersectsFeature=function(t,e,n,i,r,o){var s=c(t,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),r,o),l=this.paint.get("circle-radius").evaluate(e)*o,u=this.paint.get("circle-stroke-width").evaluate(e)*o;return a(s,n,l+u)},e}(i));e.exports=d},{"../../data/bucket/circle_bucket":42,"../../util/intersection_tests":264,"../properties":188,"../query_utils":189,"../style_layer":191,"./circle_style_layer_properties":195}],195:[function(t,e,n){"use strict";var i=t("../../style-spec/reference/latest"),r=t("../properties"),o=r.Properties,a=r.DataConstantProperty,s=r.DataDrivenProperty,l=(r.CrossFadedProperty,r.HeatmapColorProperty,new o({"circle-radius":new s(i.paint_circle["circle-radius"]),"circle-color":new s(i.paint_circle["circle-color"]),"circle-blur":new s(i.paint_circle["circle-blur"]),"circle-opacity":new s(i.paint_circle["circle-opacity"]),"circle-translate":new a(i.paint_circle["circle-translate"]),"circle-translate-anchor":new a(i.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new a(i.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new a(i.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new s(i.paint_circle["circle-stroke-width"]),"circle-stroke-color":new s(i.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new s(i.paint_circle["circle-stroke-opacity"])}));e.exports={paint:l}},{"../../style-spec/reference/latest":151,"../properties":188}],196:[function(t,e,n){"use strict";var i=t("../style_layer"),r=t("../../data/bucket/fill_extrusion_bucket"),o=t("../../util/intersection_tests"),a=o.multiPolygonIntersectsMultiPolygon,s=t("../query_utils"),l=s.translateDistance,u=s.translate,c=t("./fill_extrusion_style_layer_properties"),h=t("../properties"),p=(h.Transitionable,h.Transitioning,h.PossiblyEvaluated,function(t){function e(e){t.call(this,e,c)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createBucket=function(t){return new r(t)},e.prototype.queryRadius=function(){return l(this.paint.get("fill-extrusion-translate"))},e.prototype.queryIntersectsFeature=function(t,e,n,i,r,o){var s=u(t,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),r,o);return a(s,n)},e.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("fill-extrusion-opacity")&&"none"!==this.visibility},e.prototype.resize=function(){this.viewportFrame&&(this.viewportFrame.destroy(),this.viewportFrame=null)},e}(i));e.exports=p},{"../../data/bucket/fill_extrusion_bucket":46,"../../util/intersection_tests":264,"../properties":188,"../query_utils":189,"../style_layer":191,"./fill_extrusion_style_layer_properties":197}],197:[function(t,e,n){"use strict";var i=t("../../style-spec/reference/latest"),r=t("../properties"),o=r.Properties,a=r.DataConstantProperty,s=r.DataDrivenProperty,l=r.CrossFadedProperty,u=(r.HeatmapColorProperty,new o({"fill-extrusion-opacity":new a(i["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new s(i["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new a(i["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new a(i["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new l(i["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new s(i["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new s(i["paint_fill-extrusion"]["fill-extrusion-base"])}));e.exports={paint:u}},{"../../style-spec/reference/latest":151,"../properties":188}],198:[function(t,e,n){"use strict";var i=t("../style_layer"),r=t("../../data/bucket/fill_bucket"),o=t("../../util/intersection_tests"),a=o.multiPolygonIntersectsMultiPolygon,s=t("../query_utils"),l=s.translateDistance,u=s.translate,c=t("./fill_style_layer_properties"),h=t("../properties"),p=(h.Transitionable,h.Transitioning,h.PossiblyEvaluated,function(t){function e(e){t.call(this,e,c)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.recalculate=function(t){this.paint=this._transitioningPaint.possiblyEvaluate(t),void 0===this._transitionablePaint.getValue("fill-outline-color")&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},e.prototype.createBucket=function(t){return new r(t)},e.prototype.queryRadius=function(){return l(this.paint.get("fill-translate"))},e.prototype.queryIntersectsFeature=function(t,e,n,i,r,o){var s=u(t,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),r,o);return a(s,n)},e}(i));e.exports=p},{"../../data/bucket/fill_bucket":44,"../../util/intersection_tests":264,"../properties":188,"../query_utils":189,"../style_layer":191,"./fill_style_layer_properties":199}],199:[function(t,e,n){"use strict";var i=t("../../style-spec/reference/latest"),r=t("../properties"),o=r.Properties,a=r.DataConstantProperty,s=r.DataDrivenProperty,l=r.CrossFadedProperty,u=(r.HeatmapColorProperty,new o({"fill-antialias":new a(i.paint_fill["fill-antialias"]),"fill-opacity":new s(i.paint_fill["fill-opacity"]),"fill-color":new s(i.paint_fill["fill-color"]),"fill-outline-color":new s(i.paint_fill["fill-outline-color"]),"fill-translate":new a(i.paint_fill["fill-translate"]),"fill-translate-anchor":new a(i.paint_fill["fill-translate-anchor"]),"fill-pattern":new l(i.paint_fill["fill-pattern"])}));e.exports={paint:u}},{"../../style-spec/reference/latest":151,"../properties":188}],200:[function(t,e,n){"use strict";var i=t("../style_layer"),r=t("../../data/bucket/heatmap_bucket"),o=t("../../util/image").RGBAImage,a=t("./heatmap_style_layer_properties"),s=t("../properties"),l=(s.Transitionable,s.Transitioning,s.PossiblyEvaluated,function(t){function e(e){t.call(this,e,a),this._updateColorRamp()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createBucket=function(t){return new r(t)},e.prototype.setPaintProperty=function(e,n,i){t.prototype.setPaintProperty.call(this,e,n,i),"heatmap-color"===e&&this._updateColorRamp()},e.prototype._updateColorRamp=function(){for(var t=this._transitionablePaint._values["heatmap-color"].value.expression,e=new Uint8Array(1024),n=e.length,i=4;i<n;i+=4){var r=t.evaluate({heatmapDensity:i/n});e[i+0]=Math.floor(255*r.r/r.a),e[i+1]=Math.floor(255*r.g/r.a),e[i+2]=Math.floor(255*r.b/r.a),e[i+3]=Math.floor(255*r.a)}this.colorRamp=new o({width:256,height:1},e),this.colorRampTexture=null},e.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},e.prototype.queryRadius=function(){return 0},e.prototype.queryIntersectsFeature=function(){return!1},e.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility},e}(i));e.exports=l},{"../../data/bucket/heatmap_bucket":47,"../../util/image":263,"../properties":188,"../style_layer":191,"./heatmap_style_layer_properties":201}],201:[function(t,e,n){"use strict";var i=t("../../style-spec/reference/latest"),r=t("../properties"),o=r.Properties,a=r.DataConstantProperty,s=r.DataDrivenProperty,l=(r.CrossFadedProperty,r.HeatmapColorProperty),u=new o({"heatmap-radius":new s(i.paint_heatmap["heatmap-radius"]),"heatmap-weight":new s(i.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new a(i.paint_heatmap["heatmap-intensity"]),"heatmap-color":new l(i.paint_heatmap["heatmap-color"]),"heatmap-opacity":new a(i.paint_heatmap["heatmap-opacity"])});e.exports={paint:u}},{"../../style-spec/reference/latest":151,"../properties":188}],202:[function(t,e,n){"use strict";var i=t("../style_layer"),r=t("./hillshade_style_layer_properties"),o=t("../properties"),a=(o.Transitionable,o.Transitioning,o.PossiblyEvaluated,function(t){function e(e){t.call(this,e,r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.hasOffscreenPass=function(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility},e}(i));e.exports=a},{"../properties":188,"../style_layer":191,"./hillshade_style_layer_properties":203}],203:[function(t,e,n){"use strict";var i=t("../../style-spec/reference/latest"),r=t("../properties"),o=r.Properties,a=r.DataConstantProperty,s=(r.DataDrivenProperty,r.CrossFadedProperty,r.HeatmapColorProperty,new o({"hillshade-illumination-direction":new a(i.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new a(i.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new a(i.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new a(i.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new a(i.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new a(i.paint_hillshade["hillshade-accent-color"])}));e.exports={paint:s}},{"../../style-spec/reference/latest":151,"../properties":188}],204:[function(t,e,n){"use strict";function i(t,e){return e>0?e+2*t:t}function r(t,e){for(var n=[],i=new o(0,0),r=0;r<t.length;r++){for(var a=t[r],s=[],l=0;l<a.length;l++){var u=a[l-1],c=a[l],h=a[l+1],p=0===l?i:c.sub(u)._unit()._perp(),d=l===a.length-1?i:h.sub(c)._unit()._perp(),f=p._add(d)._unit(),y=f.x*d.x+f.y*d.y;f._mult(1/y),s.push(f._mult(e)._add(c))}n.push(s)}return n}var o=t("@mapbox/point-geometry"),a=t("../style_layer"),s=t("../../data/bucket/line_bucket"),l=t("../../util/intersection_tests"),u=l.multiPolygonIntersectsBufferedMultiLine,c=t("../query_utils"),h=c.getMaximumPaintValue,p=c.translateDistance,d=c.translate,f=t("./line_style_layer_properties"),y=t("../../util/util"),m=y.extend,v=t("../evaluation_parameters"),g=t("../properties"),x=(g.Transitionable,g.Transitioning,g.Layout,g.PossiblyEvaluated,g.DataDrivenProperty),_=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.possiblyEvaluate=function(e,n){return n=new v(Math.floor(n.zoom),{now:n.now,fadeDuration:n.fadeDuration,zoomHistory:n.zoomHistory,transition:n.transition}),t.prototype.possiblyEvaluate.call(this,e,n)},e.prototype.evaluate=function(e,n,i){return n=m({},n,{zoom:Math.floor(n.zoom)}),t.prototype.evaluate.call(this,e,n,i)},e}(x),b=new _(f.paint.properties["line-width"].specification);b.useIntegerZoom=!0;var w=function(t){function e(e){t.call(this,e,f)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.recalculate=function(e){t.prototype.recalculate.call(this,e),this.paint._values["line-floorwidth"]=b.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,e)},e.prototype.createBucket=function(t){return new s(t)},e.prototype.queryRadius=function(t){var e=t,n=i(h("line-width",this,e),h("line-gap-width",this,e)),r=h("line-offset",this,e);return n/2+Math.abs(r)+p(this.paint.get("line-translate"))},e.prototype.queryIntersectsFeature=function(t,e,n,o,a,s){var l=d(t,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),a,s),c=s/2*i(this.paint.get("line-width").evaluate(e),this.paint.get("line-gap-width").evaluate(e)),h=this.paint.get("line-offset").evaluate(e);return h&&(n=r(n,h*s)),u(l,n,c)},e}(a);e.exports=w},{"../../data/bucket/line_bucket":49,"../../util/intersection_tests":264,"../../util/util":275,"../evaluation_parameters":182,"../properties":188,"../query_utils":189,"../style_layer":191,"./line_style_layer_properties":205,"@mapbox/point-geometry":4}],205:[function(t,e,n){"use strict";var i=t("../../style-spec/reference/latest"),r=t("../properties"),o=r.Properties,a=r.DataConstantProperty,s=r.DataDrivenProperty,l=r.CrossFadedProperty,u=(r.HeatmapColorProperty,new o({"line-cap":new a(i.layout_line["line-cap"]),"line-join":new s(i.layout_line["line-join"]),"line-miter-limit":new a(i.layout_line["line-miter-limit"]),"line-round-limit":new a(i.layout_line["line-round-limit"])})),c=new o({"line-opacity":new s(i.paint_line["line-opacity"]),"line-color":new s(i.paint_line["line-color"]),"line-translate":new a(i.paint_line["line-translate"]),"line-translate-anchor":new a(i.paint_line["line-translate-anchor"]),"line-width":new s(i.paint_line["line-width"]),"line-gap-width":new s(i.paint_line["line-gap-width"]),"line-offset":new s(i.paint_line["line-offset"]),"line-blur":new s(i.paint_line["line-blur"]),"line-dasharray":new l(i.paint_line["line-dasharray"]),"line-pattern":new l(i.paint_line["line-pattern"])});e.exports={paint:c,layout:u}},{"../../style-spec/reference/latest":151,"../properties":188}],206:[function(t,e,n){"use strict";var i=t("../style_layer"),r=t("./raster_style_layer_properties"),o=t("../properties"),a=(o.Transitionable,o.Transitioning,o.PossiblyEvaluated,function(t){function e(e){t.call(this,e,r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(i));e.exports=a},{"../properties":188,"../style_layer":191,"./raster_style_layer_properties":207}],207:[function(t,e,n){"use strict";var i=t("../../style-spec/reference/latest"),r=t("../properties"),o=r.Properties,a=r.DataConstantProperty,s=(r.DataDrivenProperty,r.CrossFadedProperty,r.HeatmapColorProperty,new o({"raster-opacity":new a(i.paint_raster["raster-opacity"]),"raster-hue-rotate":new a(i.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new a(i.paint_raster["raster-brightness-min"]),"raster-brightness-max":new a(i.paint_raster["raster-brightness-max"]),"raster-saturation":new a(i.paint_raster["raster-saturation"]),"raster-contrast":new a(i.paint_raster["raster-contrast"]),"raster-fade-duration":new a(i.paint_raster["raster-fade-duration"])}));e.exports={paint:s}},{"../../style-spec/reference/latest":151,"../properties":188}],208:[function(t,e,n){"use strict";var i=t("../style_layer"),r=t("../../data/bucket/symbol_bucket"),o=t("../../util/token"),a=t("../../style-spec/expression"),s=a.isExpression,l=t("./symbol_style_layer_properties"),u=t("../properties"),c=(u.Transitionable,u.Transitioning,u.Layout,u.PossiblyEvaluated,function(t){function e(e){t.call(this,e,l)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.recalculate=function(e){t.prototype.recalculate.call(this,e),"auto"===this.layout.get("icon-rotation-alignment")&&("line"===this.layout.get("symbol-placement")?this.layout._values["icon-rotation-alignment"]="map":this.layout._values["icon-rotation-alignment"]="viewport"),"auto"===this.layout.get("text-rotation-alignment")&&("line"===this.layout.get("symbol-placement")?this.layout._values["text-rotation-alignment"]="map":this.layout._values["text-rotation-alignment"]="viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"))},e.prototype.getValueAndResolveTokens=function(t,e){var n=this.layout.get(t).evaluate(e),i=this._unevaluatedLayout._values[t];return i.isDataDriven()||s(i.value)?n:o(e.properties,n)},e.prototype.createBucket=function(t){return new r(t)},e.prototype.queryRadius=function(){return 0},e.prototype.queryIntersectsFeature=function(){return!1},e}(i));e.exports=c},{"../../data/bucket/symbol_bucket":51,"../../style-spec/expression":139,"../../util/token":274,"../properties":188,"../style_layer":191,"./symbol_style_layer_properties":209}],209:[function(t,e,n){"use strict";var i=t("../../style-spec/reference/latest"),r=t("../properties"),o=r.Properties,a=r.DataConstantProperty,s=r.DataDrivenProperty,l=(r.CrossFadedProperty,r.HeatmapColorProperty,new o({"symbol-placement":new a(i.layout_symbol["symbol-placement"]),"symbol-spacing":new a(i.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new a(i.layout_symbol["symbol-avoid-edges"]),"icon-allow-overlap":new a(i.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new a(i.layout_symbol["icon-ignore-placement"]),"icon-optional":new a(i.layout_symbol["icon-optional"]),"icon-rotation-alignment":new a(i.layout_symbol["icon-rotation-alignment"]),"icon-size":new s(i.layout_symbol["icon-size"]),"icon-text-fit":new a(i.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new a(i.layout_symbol["icon-text-fit-padding"]),"icon-image":new s(i.layout_symbol["icon-image"]),"icon-rotate":new s(i.layout_symbol["icon-rotate"]),"icon-padding":new a(i.layout_symbol["icon-padding"]),"icon-keep-upright":new a(i.layout_symbol["icon-keep-upright"]),"icon-offset":new s(i.layout_symbol["icon-offset"]),"icon-anchor":new s(i.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new a(i.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new a(i.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new a(i.layout_symbol["text-rotation-alignment"]),"text-field":new s(i.layout_symbol["text-field"]),"text-font":new s(i.layout_symbol["text-font"]),"text-size":new s(i.layout_symbol["text-size"]),"text-max-width":new s(i.layout_symbol["text-max-width"]),"text-line-height":new a(i.layout_symbol["text-line-height"]),"text-letter-spacing":new s(i.layout_symbol["text-letter-spacing"]),"text-justify":new s(i.layout_symbol["text-justify"]),"text-anchor":new s(i.layout_symbol["text-anchor"]),"text-max-angle":new a(i.layout_symbol["text-max-angle"]),"text-rotate":new s(i.layout_symbol["text-rotate"]),"text-padding":new a(i.layout_symbol["text-padding"]),"text-keep-upright":new a(i.layout_symbol["text-keep-upright"]),"text-transform":new s(i.layout_symbol["text-transform"]),"text-offset":new s(i.layout_symbol["text-offset"]),"text-allow-overlap":new a(i.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new a(i.layout_symbol["text-ignore-placement"]),"text-optional":new a(i.layout_symbol["text-optional"])})),u=new o({"icon-opacity":new s(i.paint_symbol["icon-opacity"]),"icon-color":new s(i.paint_symbol["icon-color"]),"icon-halo-color":new s(i.paint_symbol["icon-halo-color"]),"icon-halo-width":new s(i.paint_symbol["icon-halo-width"]),"icon-halo-blur":new s(i.paint_symbol["icon-halo-blur"]),"icon-translate":new a(i.paint_symbol["icon-translate"]),"icon-translate-anchor":new a(i.paint_symbol["icon-translate-anchor"]),"text-opacity":new s(i.paint_symbol["text-opacity"]),"text-color":new s(i.paint_symbol["text-color"]),"text-halo-color":new s(i.paint_symbol["text-halo-color"]),"text-halo-width":new s(i.paint_symbol["text-halo-width"]),"text-halo-blur":new s(i.paint_symbol["text-halo-blur"]),"text-translate":new a(i.paint_symbol["text-translate"]),"text-translate-anchor":new a(i.paint_symbol["text-translate-anchor"])});e.exports={paint:u,layout:l}},{"../../style-spec/reference/latest":151,"../properties":188}],210:[function(t,e,n){"use strict";var i=t("./style_layer"),r=t("../util/util"),o=t("../style-spec/feature_filter"),a=t("../style-spec/group_by_layout"),s=function(t){t&&this.replace(t)};s.prototype.replace=function(t){this._layerConfigs={},this._layers={},this.update(t,[])},s.prototype.update=function(t,e){for(var n=this,s=0,l=t;s<l.length;s+=1){var u=l[s];n._layerConfigs[u.id]=u;var c=n._layers[u.id]=i.create(u);c._featureFilter=o(c.filter)}for(var h=0,p=e;h<p.length;h+=1){var d=p[h];delete n._layerConfigs[d],delete n._layers[d]}this.familiesBySource={};for(var f=a(r.values(this._layerConfigs)),y=0,m=f;y<m.length;y+=1){var v=m[y],g=v.map(function(t){return n._layers[t.id]}),x=g[0];if("none"!==x.visibility){var _=x.source||"",b=n.familiesBySource[_];b||(b=n.familiesBySource[_]={});var w=x.sourceLayer||"_geojsonTileLayer",E=b[w];E||(E=b[w]=[]),E.push(g)}}},e.exports=s},{"../style-spec/feature_filter":148,"../style-spec/group_by_layout":150,"../util/util":275,"./style_layer":191}],211:[function(t,e,n){"use strict";e.exports=t("../style-spec/validate_style.min"),e.exports.emitErrors=function(t,e){if(e&&e.length){for(var n=0,i=e;n<i.length;n+=1){var r=i[n],o=r.message;t.fire("error",{error:new Error(o)})}return!0}return!1}},{"../style-spec/validate_style.min":181}],212:[function(t,e,n){"use strict";var i=function(){this.first=!0};i.prototype.update=function(t,e){var n=Math.floor(t);return this.first?(this.first=!1,this.lastIntegerZoom=n,this.lastIntegerZoomTime=0,this.lastZoom=t,this.lastFloorZoom=n,!0):(this.lastFloorZoom>n?(this.lastIntegerZoom=n+1,this.lastIntegerZoomTime=e):this.lastFloorZoom<n&&(this.lastIntegerZoom=n,this.lastIntegerZoomTime=e),t!==this.lastZoom&&(this.lastZoom=t,this.lastFloorZoom=n,!0))},e.exports=i},{}],213:[function(t,e,n){"use strict";var i=t("@mapbox/point-geometry"),r=t("../util/web_worker_transfer"),o=r.register,a=function(t){function e(e,n,i,r){t.call(this,e,n),this.angle=i,void 0!==r&&(this.segment=r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this.x,this.y,this.angle,this.segment)},e}(i);o("Anchor",a),e.exports=a},{"../util/web_worker_transfer":278,"@mapbox/point-geometry":4}],214:[function(t,e,n){"use strict";function i(t,e,n,i,r){if(void 0===e.segment)return!0;for(var o=e,a=e.segment+1,s=0;s>-n/2;){if(--a<0)return!1;s-=t[a].dist(o),o=t[a]}s+=t[a].dist(t[a+1]),a++;for(var l=[],u=0;s<n/2;){var c=t[a-1],h=t[a],p=t[a+1];if(!p)return!1;var d=c.angleTo(h)-h.angleTo(p);for(d=Math.abs((d+3*Math.PI)%(2*Math.PI)-Math.PI),l.push({distance:s,angleDelta:d}),u+=d;s-l[0].distance>i;)u-=l.shift().angleDelta;if(u>r)return!1;a++,s+=h.dist(p)}return!0}e.exports=i},{}],215:[function(t,e,n){"use strict";function i(t,e,n,i,o){for(var a=[],s=0;s<t.length;s++)for(var l=t[s],u=void 0,c=0;c<l.length-1;c++){var h=l[c],p=l[c+1];h.x<e&&p.x<e||(h.x<e?h=new r(e,h.y+(p.y-h.y)*((e-h.x)/(p.x-h.x)))._round():p.x<e&&(p=new r(e,h.y+(p.y-h.y)*((e-h.x)/(p.x-h.x)))._round()),h.y<n&&p.y<n||(h.y<n?h=new r(h.x+(p.x-h.x)*((n-h.y)/(p.y-h.y)),n)._round():p.y<n&&(p=new r(h.x+(p.x-h.x)*((n-h.y)/(p.y-h.y)),n)._round()),h.x>=i&&p.x>=i||(h.x>=i?h=new r(i,h.y+(p.y-h.y)*((i-h.x)/(p.x-h.x)))._round():p.x>=i&&(p=new r(i,h.y+(p.y-h.y)*((i-h.x)/(p.x-h.x)))._round()),h.y>=o&&p.y>=o||(h.y>=o?h=new r(h.x+(p.x-h.x)*((o-h.y)/(p.y-h.y)),o)._round():p.y>=o&&(p=new r(h.x+(p.x-h.x)*((o-h.y)/(p.y-h.y)),o)._round()),u&&h.equals(u[u.length-1])||(u=[h],a.push(u)),u.push(p)))))}return a}var r=t("@mapbox/point-geometry");e.exports=i},{"@mapbox/point-geometry":4}],216:[function(t,e,n){"use strict";var i=function(t,e,n,i,r,o,a,s,l,u,c){var h=a.top*s-l,p=a.bottom*s+l,d=a.left*s-l,f=a.right*s+l;if(this.boxStartIndex=t.length,u){var y=p-h,m=f-d;y>0&&(y=Math.max(10*s,y),this._addLineCollisionCircles(t,e,n,n.segment,m,y,i,r,o,c))}else t.emplaceBack(n.x,n.y,d,h,f,p,i,r,o,0,0);this.boxEndIndex=t.length};i.prototype._addLineCollisionCircles=function(t,e,n,i,r,o,a,s,l,u){var c=o/2,h=Math.floor(r/c),p=1+.4*Math.log(u)/Math.LN2,d=Math.floor(h*p/2),f=-o/2,y=n,m=i+1,v=f,g=-r/2,x=g-r/4;do{if(--m<0){if(v>g)return;m=0;break}v-=e[m].dist(y),y=e[m]}while(v>x);for(var _=e[m].dist(e[m+1]),b=-d;b<h+d;b++){var w=b*c,E=g+w;if(w<0&&(E+=w),w>r&&(E+=w-r),!(E<v)){for(;v+_<E;){if(v+=_,++m+1>=e.length)return;_=e[m].dist(e[m+1])}var M=E-v,T=e[m],S=e[m+1],A=S.sub(T)._unit()._mult(M)._add(T)._round(),C=Math.abs(E-f)<c?0:.8*(E-f);t.emplaceBack(A.x,A.y,-o/2,-o/2,o/2,o/2,a,s,l,o/2,C)}}},e.exports=i},{}],217:[function(t,e,n){"use strict";function i(t,e,n){t[e+4]=n?1:0}var r=t("@mapbox/point-geometry"),o=t("../util/intersection_tests"),a=t("./grid_index"),s=t("@mapbox/gl-matrix"),l=(s.mat4,t("../symbol/projection")),u=function(t,e,n){void 0===e&&(e=new a(t.width+200,t.height+200,25)),void 0===n&&(n=new a(t.width+200,t.height+200,25)),this.transform=t,this.grid=e,this.ignoredGrid=n,this.pitchfactor=Math.cos(t._pitch)*t.cameraToCenterDistance,this.screenRightBoundary=t.width+100,this.screenBottomBoundary=t.height+100};u.prototype.placeCollisionBox=function(t,e,n,i){var r=this.projectAndGetPerspectiveRatio(i,t.anchorPointX,t.anchorPointY),o=n*r.perspectiveRatio,a=t.x1*o+r.point.x,s=t.y1*o+r.point.y,l=t.x2*o+r.point.x,u=t.y2*o+r.point.y;return!e&&this.grid.hitTest(a,s,l,u)?{box:[],offscreen:!1}:{box:[a,s,l,u],offscreen:this.isOffscreen(a,s,l,u)}},u.prototype.approximateTileDistance=function(t,e,n,i,r){var o=r?1:i/this.pitchfactor,a=t.lastSegmentViewportDistance*n;return t.prevTileDistance+a+(o-1)*a*Math.abs(Math.sin(e))},u.prototype.placeCollisionCircles=function(t,e,n,o,a,s,u,c,h,p,d,f,y){var m=this,v=[],g=this.projectAnchor(p,s.anchorX,s.anchorY),x={},_=h/24,b=s.lineOffsetX*h,w=s.lineOffsetY*h,E=new r(s.anchorX,s.anchorY),M=l.project(E,d).point,T=l.placeFirstAndLastGlyph(_,c,b,w,!1,M,E,s,u,d,x,!0),S=!1,A=!0,C=g.perspectiveRatio*o,L=1/(o*n),k=0,P=0;T&&(k=this.approximateTileDistance(T.first.tileDistance,T.first.angle,L,g.cameraDistance,y),P=this.approximateTileDistance(T.last.tileDistance,T.last.angle,L,g.cameraDistance,y));for(var I=0;I<t.length;I+=5){var R=t[I],z=t[I+1],O=t[I+2],D=t[I+3];if(!T||D<-k||D>P)i(t,I,!1);else{var B=m.projectPoint(p,R,z),N=O*C;if(v.length>0){var F=B.x-v[v.length-4],U=B.y-v[v.length-3];if(N*N*2>F*F+U*U&&I+8<t.length){var j=t[I+8];if(j>-k&&j<P){i(t,I,!1);continue}}}var V=I/5;if(v.push(B.x,B.y,N,V),i(t,I,!0),A=A&&m.isOffscreen(B.x-N,B.y-N,B.x+N,B.y+N),!e&&m.grid.hitTestCircle(B.x,B.y,N)){if(!f)return{circles:[],offscreen:!1};S=!0}}}return{circles:S?[]:v,offscreen:A}},u.prototype.queryRenderedSymbols=function(t,e,n,i,a,s){var l=this,u={},c=[];if(0===t.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return c;for(var h=this.transform.calculatePosMatrix(e.toUnwrapped()),p=[],d=1/0,f=1/0,y=-1/0,m=-1/0,v=0;v<t.length;v++)for(var g=t[v],x=0;x<g.length;x++){var _=l.projectPoint(h,g[x].x,g[x].y);d=Math.min(d,_.x),f=Math.min(f,_.y),y=Math.max(y,_.x),m=Math.max(m,_.y),p.push(_)}for(var b=e.key,w=[],E=this.grid.query(d,f,y,m),M=0;M<E.length;M++)E[M].sourceID===a&&E[M].tileID===b&&s[E[M].bucketInstanceId]&&w.push(E[M].boxIndex);for(var T=this.ignoredGrid.query(d,f,y,m),S=0;S<T.length;S++)T[S].sourceID===a&&T[S].tileID===b&&s[T[S].bucketInstanceId]&&w.push(T[S].boxIndex);for(var A=0;A<w.length;A++){var C=i.get(w[A]),L=C.sourceLayerIndex,k=C.featureIndex,P=C.bucketIndex;if(void 0===u[L]&&(u[L]={}),void 0===u[L][k]&&(u[L][k]={}),!u[L][k][P]){var I=l.projectAndGetPerspectiveRatio(h,C.anchorPointX,C.anchorPointY),R=n*I.perspectiveRatio,z=C.x1*R+I.point.x,O=C.y1*R+I.point.y,D=C.x2*R+I.point.x,B=C.y2*R+I.point.y,N=[new r(z,O),new r(D,O),new r(D,B),new r(z,B)];o.polygonIntersectsPolygon(p,N)&&(u[L][k][P]=!0,c.push(w[A]))}}return c},u.prototype.insertCollisionBox=function(t,e,n,i,r,o){var a=e?this.ignoredGrid:this.grid,s={tileID:n,sourceID:i,bucketInstanceId:r,boxIndex:o};a.insert(s,t[0],t[1],t[2],t[3])},u.prototype.insertCollisionCircles=function(t,e,n,i,r,o){for(var a=e?this.ignoredGrid:this.grid,s=0;s<t.length;s+=4){var l={tileID:n,sourceID:i,bucketInstanceId:r,boxIndex:o+t[s+3]};a.insertCircle(l,t[s],t[s+1],t[s+2])}},u.prototype.projectAnchor=function(t,e,n){var i=[e,n,0,1];return l.xyTransformMat4(i,i,t),{perspectiveRatio:.5+this.transform.cameraToCenterDistance/i[3]*.5,cameraDistance:i[3]}},u.prototype.projectPoint=function(t,e,n){var i=[e,n,0,1];return l.xyTransformMat4(i,i,t),new r((i[0]/i[3]+1)/2*this.transform.width+100,(-i[1]/i[3]+1)/2*this.transform.height+100)},u.prototype.projectAndGetPerspectiveRatio=function(t,e,n){var i=[e,n,0,1];return l.xyTransformMat4(i,i,t),{point:new r((i[0]/i[3]+1)/2*this.transform.width+100,(-i[1]/i[3]+1)/2*this.transform.height+100),perspectiveRatio:.5+this.transform.cameraToCenterDistance/i[3]*.5}},u.prototype.isOffscreen=function(t,e,n,i){return n<100||t>=this.screenRightBoundary||i<100||e>this.screenBottomBoundary},e.exports=u},{"../symbol/projection":224,"../util/intersection_tests":264,"./grid_index":220,"@mapbox/gl-matrix":2,"@mapbox/point-geometry":4}],218:[function(t,e,n){"use strict";var i=t("../data/extent"),r=512/i/2,o=function(t,e,n){var i=this;this.tileID=t,this.indexedSymbolInstances={},this.bucketInstanceId=n;for(var r=0,o=e;r<o.length;r+=1){var a=o[r],s=a.key;i.indexedSymbolInstances[s]||(i.indexedSymbolInstances[s]=[]),i.indexedSymbolInstances[s].push({crossTileID:a.crossTileID,coord:i.getScaledCoordinates(a,t)})}};o.prototype.getScaledCoordinates=function(t,e){var n=e.canonical.z-this.tileID.canonical.z,o=r/Math.pow(2,n),a=t.anchor;return{x:Math.floor((e.canonical.x*i+a.x)*o),y:Math.floor((e.canonical.y*i+a.y)*o)}},o.prototype.findMatches=function(t,e,n){for(var i=this,r=this.tileID.canonical.z<e.canonical.z?1:Math.pow(2,this.tileID.canonical.z-e.canonical.z),o=0,a=t;o<a.length;o+=1){var s=a[o];if(!s.crossTileID){var l=i.indexedSymbolInstances[s.key];if(l)for(var u=i.getScaledCoordinates(s,e),c=0,h=l;c<h.length;c+=1){var p=h[c];if(Math.abs(p.coord.x-u.x)<=r&&Math.abs(p.coord.y-u.y)<=r&&!n[p.crossTileID]){n[p.crossTileID]=!0,s.crossTileID=p.crossTileID;break}}}}};var a=function(){this.maxCrossTileID=0};a.prototype.generate=function(){return++this.maxCrossTileID};var s=function(){this.indexes={},this.usedCrossTileIDs={}};s.prototype.addBucket=function(t,e,n){var i=this;if(this.indexes[t.overscaledZ]&&this.indexes[t.overscaledZ][t.key]){if(this.indexes[t.overscaledZ][t.key].bucketInstanceId===e.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(t.overscaledZ,this.indexes[t.overscaledZ][t.key])}for(var r=0,a=e.symbolInstances;r<a.length;r+=1)a[r].crossTileID=0;this.usedCrossTileIDs[t.overscaledZ]||(this.usedCrossTileIDs[t.overscaledZ]={});var s=this.usedCrossTileIDs[t.overscaledZ];for(var l in i.indexes){var u=i.indexes[l];if(Number(l)>t.overscaledZ)for(var c in u){var h=u[c];h.tileID.isChildOf(t)&&h.findMatches(e.symbolInstances,t,s)}else{var p=t.scaledTo(Number(l)),d=u[p.key];d&&d.findMatches(e.symbolInstances,t,s)}}for(var f=0,y=e.symbolInstances;f<y.length;f+=1){var m=y[f];m.crossTileID||(m.crossTileID=n.generate(),s[m.crossTileID]=!0)}return void 0===this.indexes[t.overscaledZ]&&(this.indexes[t.overscaledZ]={}),this.indexes[t.overscaledZ][t.key]=new o(t,e.symbolInstances,e.bucketInstanceId),!0},s.prototype.removeBucketCrossTileIDs=function(t,e){var n=this;for(var i in e.indexedSymbolInstances)for(var r=0,o=e.indexedSymbolInstances[i];r<o.length;r+=1){var a=o[r];delete n.usedCrossTileIDs[t][a.crossTileID]}},s.prototype.removeStaleBuckets=function(t){var e=this,n=!1;for(var i in e.indexes){var r=e.indexes[i];for(var o in r)t[r[o].bucketInstanceId]||(e.removeBucketCrossTileIDs(i,r[o]),delete r[o],n=!0)}return n};var l=function(){this.layerIndexes={},this.crossTileIDs=new a,this.maxBucketInstanceId=0};l.prototype.addLayer=function(t,e){var n=this,i=this.layerIndexes[t.id];void 0===i&&(i=this.layerIndexes[t.id]=new s);for(var r=!1,o={},a=0,l=e;a<l.length;a+=1){var u=l[a],c=u.getBucket(t);c&&(c.bucketInstanceId||(c.bucketInstanceId=++n.maxBucketInstanceId),i.addBucket(u.tileID,c,n.crossTileIDs)&&(r=!0),o[c.bucketInstanceId]=!0)}return i.removeStaleBuckets(o)&&(r=!0),r},l.prototype.pruneUnusedLayers=function(t){var e=this,n={};t.forEach(function(t){n[t]=!0});for(var i in e.layerIndexes)n[i]||delete e.layerIndexes[i]},e.exports=l},{"../data/extent":53}],219:[function(t,e,n){"use strict";function i(t,e,n,i,o,a,s,l,u){var c=i?.6*a*s:0,h=Math.max(i?i.right-i.left:0,o?o.right-o.left:0),p=0===t[0].x||t[0].x===u||0===t[0].y||t[0].y===u;e-h*s<e/4&&(e=h*s+e/4);var d=2*a;return r(t,p?e/2*l%e:(h/2+d)*s*l%e,e,c,n,h*s,p,!1,u)}function r(t,e,n,i,l,u,c,h,p){for(var d=u/2,f=0,y=0;y<t.length-1;y++)f+=t[y].dist(t[y+1]);for(var m=0,v=e-n,g=[],x=0;x<t.length-1;x++){for(var _=t[x],b=t[x+1],w=_.dist(b),E=b.angleTo(_);v+n<m+w;){v+=n;var M=(v-m)/w,T=o(_.x,b.x,M),S=o(_.y,b.y,M);if(T>=0&&T<p&&S>=0&&S<p&&v-d>=0&&v+d<=f){var A=new a(T,S,E,x);A._round(),i&&!s(t,A,u,i,l)||g.push(A)}}m+=w}return h||g.length||c||(g=r(t,m/2,n,i,l,u,c,!0,p)),g}var o=t("../style-spec/util/interpolate").number,a=t("../symbol/anchor"),s=t("./check_max_angle");e.exports=i},{"../style-spec/util/interpolate":158,"../symbol/anchor":213,"./check_max_angle":214}],220:[function(t,e,n){"use strict";var i=function(t,e,n){var i=this.boxCells=[],r=this.circleCells=[];this.xCellCount=Math.ceil(t/n),this.yCellCount=Math.ceil(e/n);for(var o=0;o<this.xCellCount*this.yCellCount;o++)i.push([]),r.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=t,this.height=e,this.xScale=this.xCellCount/t,this.yScale=this.yCellCount/e,this.boxUid=0,this.circleUid=0};i.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},i.prototype.insert=function(t,e,n,i,r){this._forEachCell(e,n,i,r,this._insertBoxCell,this.boxUid++),this.boxKeys.push(t),this.bboxes.push(e),this.bboxes.push(n),this.bboxes.push(i),this.bboxes.push(r)},i.prototype.insertCircle=function(t,e,n,i){this._forEachCell(e-i,n-i,e+i,n+i,this._insertCircleCell,this.circleUid++),this.circleKeys.push(t),this.circles.push(e),this.circles.push(n),this.circles.push(i)},i.prototype._insertBoxCell=function(t,e,n,i,r,o){this.boxCells[r].push(o)},i.prototype._insertCircleCell=function(t,e,n,i,r,o){this.circleCells[r].push(o)},i.prototype._query=function(t,e,n,i,r){if(n<0||t>this.width||i<0||e>this.height)return!r&&[];var o=[];if(t<=0&&e<=0&&this.width<=n&&this.height<=i)o=Array.prototype.slice.call(this.boxKeys).concat(this.circleKeys);else{var a={hitTest:r,seenUids:{box:{},circle:{}}};this._forEachCell(t,e,n,i,this._queryCell,o,a)}return r?o.length>0:o},i.prototype._queryCircle=function(t,e,n,i){var r=t-n,o=t+n,a=e-n,s=e+n;if(o<0||r>this.width||s<0||a>this.height)return!i&&[];var l=[],u={hitTest:i,circle:{x:t,y:e,radius:n},seenUids:{box:{},circle:{}}};return this._forEachCell(r,a,o,s,this._queryCellCircle,l,u),i?l.length>0:l},i.prototype.query=function(t,e,n,i){return this._query(t,e,n,i,!1)},i.prototype.hitTest=function(t,e,n,i){return this._query(t,e,n,i,!0)},i.prototype.hitTestCircle=function(t,e,n){return this._queryCircle(t,e,n,!0)},i.prototype._queryCell=function(t,e,n,i,r,o,a){var s=this,l=a.seenUids,u=this.boxCells[r];if(null!==u)for(var c=this.bboxes,h=0,p=u;h<p.length;h+=1){var d=p[h];if(!l.box[d]){l.box[d]=!0;var f=4*d;if(t<=c[f+2]&&e<=c[f+3]&&n>=c[f+0]&&i>=c[f+1]){if(a.hitTest)return o.push(!0),!0;o.push(s.boxKeys[d])}}}var y=this.circleCells[r];if(null!==y)for(var m=this.circles,v=0,g=y;v<g.length;v+=1){var x=g[v];if(!l.circle[x]){l.circle[x]=!0;var _=3*x;if(s._circleAndRectCollide(m[_],m[_+1],m[_+2],t,e,n,i)){if(a.hitTest)return o.push(!0),!0;o.push(s.circleKeys[x])}}}},i.prototype._queryCellCircle=function(t,e,n,i,r,o,a){var s=this,l=a.circle,u=a.seenUids,c=this.boxCells[r];if(null!==c)for(var h=this.bboxes,p=0,d=c;p<d.length;p+=1){var f=d[p];if(!u.box[f]){u.box[f]=!0;var y=4*f;if(s._circleAndRectCollide(l.x,l.y,l.radius,h[y+0],h[y+1],h[y+2],h[y+3]))return o.push(!0),!0}}var m=this.circleCells[r];if(null!==m)for(var v=this.circles,g=0,x=m;g<x.length;g+=1){var _=x[g];if(!u.circle[_]){u.circle[_]=!0;var b=3*_;if(s._circlesCollide(v[b],v[b+1],v[b+2],l.x,l.y,l.radius))return o.push(!0),!0}}},i.prototype._forEachCell=function(t,e,n,i,r,o,a){for(var s=this,l=this._convertToXCellCoord(t),u=this._convertToYCellCoord(e),c=this._convertToXCellCoord(n),h=this._convertToYCellCoord(i),p=l;p<=c;p++)for(var d=u;d<=h;d++){var f=s.xCellCount*d+p;if(r.call(s,t,e,n,i,f,o,a))return}},i.prototype._convertToXCellCoord=function(t){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(t*this.xScale)))},i.prototype._convertToYCellCoord=function(t){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(t*this.yScale)))},i.prototype._circlesCollide=function(t,e,n,i,r,o){var a=i-t,s=r-e,l=n+o;return l*l>a*a+s*s},i.prototype._circleAndRectCollide=function(t,e,n,i,r,o,a){var s=(o-i)/2,l=Math.abs(t-(i+s));if(l>s+n)return!1;var u=(a-r)/2,c=Math.abs(e-(r+u));if(c>u+n)return!1;if(l<=s||c<=u)return!0;var h=l-s,p=c-u;return h*h+p*p<=n*n},e.exports=i},{}],221:[function(t,e,n){"use strict";e.exports=function(t){function e(e){s.push(t[e]),l++}function n(t,e,n){var i=a[t];return delete a[t],a[e]=i,s[i].geometry[0].pop(),s[i].geometry[0]=s[i].geometry[0].concat(n[0]),i}function i(t,e,n){var i=o[e];return delete o[e],o[t]=i,s[i].geometry[0].shift(),s[i].geometry[0]=n[0].concat(s[i].geometry[0]),i}function r(t,e,n){var i=n?e[0][e[0].length-1]:e[0][0];return t+":"+i.x+":"+i.y}for(var o={},a={},s=[],l=0,u=0;u<t.length;u++){var c=t[u],h=c.geometry,p=c.text;if(p){var d=r(p,h),f=r(p,h,!0);if(d in a&&f in o&&a[d]!==o[f]){var y=i(d,f,h),m=n(d,f,s[y].geometry);delete o[d],delete a[f],a[r(p,s[m].geometry,!0)]=m,s[y].geometry=null}else d in a?n(d,f,h):f in o?i(d,f,h):(e(u),o[d]=l-1,a[f]=l-1)}else e(u)}return s.filter(function(t){return t.geometry})}},{}],222:[function(t,e,n){"use strict";var i=t("../util/web_worker_transfer"),r=i.register,o=function(){this.opacity=0,this.targetOpacity=0,this.time=0};o.prototype.clone=function(){var t=new o;return t.opacity=this.opacity,t.targetOpacity=this.targetOpacity,t.time=this.time,t},r("OpacityState",o),e.exports=o},{"../util/web_worker_transfer":278}],223:[function(t,e,n){"use strict";function i(t,e,n){t.emplaceBack(e?1:0,n?1:0),t.emplaceBack(e?1:0,n?1:0),t.emplaceBack(e?1:0,n?1:0),t.emplaceBack(e?1:0,n?1:0)}function r(t){if(0===t.opacity&&!t.placed)return 0;if(1===t.opacity&&t.placed)return 4294967295;var e=t.placed?1:0,n=Math.floor(127*t.opacity);return n*y+e*m+n*v+e*g+n*x+e*_+n*b+e}var o=t("./collision_index"),a=t("../data/extent"),s=t("./symbol_size"),l=t("./projection"),u=t("../style/style_layer/symbol_style_layer_properties").layout,c=t("../source/pixels_to_tile_units"),h=function(t,e,n,i){this.opacity=t?Math.max(0,Math.min(1,t.opacity+(t.placed?e:-e))):i&&n?1:0,this.placed=n};h.prototype.isHidden=function(){return 0===this.opacity&&!this.placed};var p=function(t,e,n,i,r){this.text=new h(t?t.text:null,e,n,r),this.icon=new h(t?t.icon:null,e,i,r)};p.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var d=function(t,e,n){this.text=t,this.icon=e,this.skipFade=n},f=function(t,e){this.transform=t.clone(),this.collisionIndex=new o(this.transform),this.placements={},this.opacities={},this.stale=!1,this.fadeDuration=e};f.prototype.placeLayerTile=function(t,e,n,i){var r=e.getBucket(t);if(r){var o=r.layers[0].layout,s=Math.pow(2,this.transform.zoom-e.tileID.overscaledZ),u=e.tileSize/a,h=this.transform.calculatePosMatrix(e.tileID.toUnwrapped()),p=l.getLabelPlaneMatrix(h,"map"===o.get("text-pitch-alignment"),"map"===o.get("text-rotation-alignment"),this.transform,c(e,1,this.transform.zoom)),d=l.getLabelPlaneMatrix(h,"map"===o.get("icon-pitch-alignment"),"map"===o.get("icon-rotation-alignment"),this.transform,c(e,1,this.transform.zoom));this.placeLayerBucket(r,h,p,d,s,u,n,i,e.collisionBoxArray,e.tileID.key,t.source)}},f.prototype.placeLayerBucket=function(t,e,n,i,r,o,a,l,c,h,p){for(var f=this,y=t.layers[0].layout,m=s.evaluateSizeForZoom(t.textSizeData,this.transform.zoom,u.properties["text-size"]),v=!t.hasTextData()||y.get("text-optional"),g=!t.hasIconData()||y.get("icon-optional"),x=0,_=t.symbolInstances;x<_.length;x+=1){var b=_[x];if(!l[b.crossTileID]){var w=!1,E=!1,M=!0,T=null,S=null,A=null;b.collisionArrays||(b.collisionArrays=t.deserializeCollisionBoxes(c,b.textBoxStartIndex,b.textBoxEndIndex,b.iconBoxStartIndex,b.iconBoxEndIndex)),b.collisionArrays.textBox&&(T=f.collisionIndex.placeCollisionBox(b.collisionArrays.textBox,y.get("text-allow-overlap"),o,e),w=T.box.length>0,M=M&&T.offscreen);var C=b.collisionArrays.textCircles;if(C){var L=t.text.placedSymbolArray.get(b.placedTextSymbolIndices[0]),k=s.evaluateSizeForFeature(t.textSizeData,m,L);S=f.collisionIndex.placeCollisionCircles(C,y.get("text-allow-overlap"),r,o,b.key,L,t.lineVertexArray,t.glyphOffsetArray,k,e,n,a,"map"===y.get("text-pitch-alignment")),w=y.get("text-allow-overlap")||S.circles.length>0,M=M&&S.offscreen}b.collisionArrays.iconBox&&(A=f.collisionIndex.placeCollisionBox(b.collisionArrays.iconBox,y.get("icon-allow-overlap"),o,e),E=A.box.length>0,M=M&&A.offscreen),v||g?g?v||(E=E&&w):w=E&&w:E=w=E&&w,w&&T&&f.collisionIndex.insertCollisionBox(T.box,y.get("text-ignore-placement"),h,p,t.bucketInstanceId,b.textBoxStartIndex),E&&A&&f.collisionIndex.insertCollisionBox(A.box,y.get("icon-ignore-placement"),h,p,t.bucketInstanceId,b.iconBoxStartIndex),w&&S&&f.collisionIndex.insertCollisionCircles(S.circles,y.get("text-ignore-placement"),h,p,t.bucketInstanceId,b.textBoxStartIndex),f.placements[b.crossTileID]=new d(w,E,M||t.justReloaded),l[b.crossTileID]=!0}}t.justReloaded=!1},f.prototype.commit=function(t,e){var n=this;this.commitTime=e;var i=!1,r=t&&0!==this.fadeDuration?(this.commitTime-t.commitTime)/this.fadeDuration:1,o=t?t.opacities:{};for(var a in n.placements){var s=n.placements[a],l=o[a];l?(n.opacities[a]=new p(l,r,s.text,s.icon),i=i||s.text!==l.text.placed||s.icon!==l.icon.placed):(n.opacities[a]=new p(null,r,s.text,s.icon,s.skipFade),i=i||s.text||s.icon)}for(var u in o){var c=o[u];if(!n.opacities[u]){var h=new p(c,r,!1,!1);h.isHidden()||(n.opacities[u]=h,i=i||c.text.placed||c.icon.placed)}}i?this.lastPlacementChangeTime=e:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=t?t.lastPlacementChangeTime:e)},f.prototype.updateLayerOpacities=function(t,e){for(var n=this,i={},r=0,o=e;r<o.length;r+=1){var a=o[r],s=a.getBucket(t);s&&n.updateBucketOpacities(s,i,a.collisionBoxArray)}},f.prototype.updateBucketOpacities=function(t,e,n){var o=this;t.hasTextData()&&t.text.opacityVertexArray.clear(),t.hasIconData()&&t.icon.opacityVertexArray.clear(),t.hasCollisionBoxData()&&t.collisionBox.collisionVertexArray.clear(),t.hasCollisionCircleData()&&t.collisionCircle.collisionVertexArray.clear();for(var a=t.layers[0].layout,s=new p(null,0,a.get("text-allow-overlap"),a.get("icon-allow-overlap"),!0),l=0;l<t.symbolInstances.length;l++){var u=t.symbolInstances[l],c=e[u.crossTileID],h=o.opacities[u.crossTileID];h?c&&(h=s):(h=s,o.opacities[u.crossTileID]=h),e[u.crossTileID]=!0;var d=u.numGlyphVertices>0||u.numVerticalGlyphVertices>0,f=u.numIconVertices>0;if(d){for(var y=r(h.text),m=(u.numGlyphVertices+u.numVerticalGlyphVertices)/4,v=0;v<m;v++)t.text.opacityVertexArray.emplaceBack(y);for(var g=0,x=u.placedTextSymbolIndices;g<x.length;g+=1){var _=x[g];t.text.placedSymbolArray.get(_).hidden=h.text.isHidden()}}if(f){for(var b=r(h.icon),w=0;w<u.numIconVertices/4;w++)t.icon.opacityVertexArray.emplaceBack(b);t.icon.placedSymbolArray.get(l).hidden=h.icon.isHidden()}u.collisionArrays||(u.collisionArrays=t.deserializeCollisionBoxes(n,u.textBoxStartIndex,u.textBoxEndIndex,u.iconBoxStartIndex,u.iconBoxEndIndex));var E=u.collisionArrays;if(E){E.textBox&&t.hasCollisionBoxData()&&i(t.collisionBox.collisionVertexArray,h.text.placed,!1),E.iconBox&&t.hasCollisionBoxData()&&i(t.collisionBox.collisionVertexArray,h.icon.placed,!1);var M=E.textCircles;if(M&&t.hasCollisionCircleData())for(var T=0;T<M.length;T+=5){var S=c||0===M[T+4];i(t.collisionCircle.collisionVertexArray,h.text.placed,S)}}}t.sortFeatures(this.transform.angle),t.hasTextData()&&t.text.opacityVertexBuffer&&t.text.opacityVertexBuffer.updateData(t.text.opacityVertexArray),t.hasIconData()&&t.icon.opacityVertexBuffer&&t.icon.opacityVertexBuffer.updateData(t.icon.opacityVertexArray),t.hasCollisionBoxData()&&t.collisionBox.collisionVertexBuffer&&t.collisionBox.collisionVertexBuffer.updateData(t.collisionBox.collisionVertexArray),t.hasCollisionCircleData()&&t.collisionCircle.collisionVertexBuffer&&t.collisionCircle.collisionVertexBuffer.updateData(t.collisionCircle.collisionVertexArray)},f.prototype.symbolFadeChange=function(t){return 0===this.fadeDuration?1:(t-this.commitTime)/this.fadeDuration},f.prototype.hasTransitions=function(t){return this.stale||t-this.lastPlacementChangeTime<this.fadeDuration},f.prototype.stillRecent=function(t){return"undefined"!==this.commitTime&&this.commitTime+this.fadeDuration>t},f.prototype.setStale=function(){this.stale=!0};var y=Math.pow(2,25),m=Math.pow(2,24),v=Math.pow(2,17),g=Math.pow(2,16),x=Math.pow(2,9),_=Math.pow(2,8),b=Math.pow(2,1);e.exports=f},{"../data/extent":53,"../source/pixels_to_tile_units":104,"../style/style_layer/symbol_style_layer_properties":209,"./collision_index":217,"./projection":224,"./symbol_size":228}],224:[function(t,e,n){"use strict";function i(t,e,n,i,r){var o=v.identity(new Float32Array(16));return e?(v.identity(o),v.scale(o,o,[1/r,1/r,1]),n||v.rotateZ(o,o,i.angle)):(v.scale(o,o,[i.width/2,-i.height/2,1]),v.translate(o,o,[1,-1,0]),v.multiply(o,o,t)),o}function r(t,e,n,i,r){var o=v.identity(new Float32Array(16));return e?(v.multiply(o,o,t),v.scale(o,o,[r,r,1]),n||v.rotateZ(o,o,-i.angle)):(v.scale(o,o,[1,-1,1]),v.translate(o,o,[-1,-1,0]),v.scale(o,o,[2/i.width,2/i.height,1])),o}function o(t,e){var n=[t.x,t.y,0,1];f(n,n,e);var i=n[3];return{point:new y(n[0]/i,n[1]/i),signedDistanceFromCamera:i}}function a(t,e){var n=t[0]/t[3],i=t[1]/t[3];return n>=-e[0]&&n<=e[0]&&i>=-e[1]&&i<=e[1]}function s(t,e,n,i,r,s,l,u){var h=i?t.textSizeData:t.iconSizeData,p=x.evaluateSizeForZoom(h,n.transform.zoom,w.properties[i?"text-size":"icon-size"]),f=[256/n.width*2+1,256/n.height*2+1],m=i?t.text.dynamicLayoutVertexArray:t.icon.dynamicLayoutVertexArray;m.clear();for(var v=t.lineVertexArray,_=i?t.text.placedSymbolArray:t.icon.placedSymbolArray,b=n.transform.width/n.transform.height,M=!1,T=0;T<_.length;T++){var S=_.get(T);if(S.hidden||S.writingMode===E.vertical&&!M)d(S.numGlyphs,m);else{M=!1;var A=[S.anchorX,S.anchorY,0,1];if(g.transformMat4(A,A,e),a(A,f)){var C=A[3],L=.5+C/n.transform.cameraToCenterDistance*.5,k=x.evaluateSizeForFeature(h,p,S),P=l?k*L:k/L,I=new y(S.anchorX,S.anchorY),R=o(I,r).point,z={},O=c(S,P,!1,u,e,r,s,t.glyphOffsetArray,v,m,R,I,z,b);M=O.useVertical,(O.notEnoughRoom||M||O.needsFlipping&&c(S,P,!0,u,e,r,s,t.glyphOffsetArray,v,m,R,I,z,b).notEnoughRoom)&&d(S.numGlyphs,m)}else d(S.numGlyphs,m)}}i?t.text.dynamicLayoutVertexBuffer.updateData(m):t.icon.dynamicLayoutVertexBuffer.updateData(m)}function l(t,e,n,i,r,o,a,s,l,u,c,h){var d=s.glyphStartIndex+s.numGlyphs,f=s.lineStartIndex,y=s.lineStartIndex+s.lineLength,m=e.getoffsetX(s.glyphStartIndex),v=e.getoffsetX(d-1),g=p(t*m,n,i,r,o,a,s.segment,f,y,l,u,c,h);if(!g)return null;var x=p(t*v,n,i,r,o,a,s.segment,f,y,l,u,c,h);return x?{first:g,last:x}:null}function u(t,e,n,i){return t===E.horizontal&&Math.abs(n.y-e.y)>Math.abs(n.x-e.x)*i?{useVertical:!0}:(t===E.vertical?e.y<n.y:e.x>n.x)?{needsFlipping:!0}:null}function c(t,e,n,i,r,a,s,c,d,f,m,v,g,x){var _,w=e/24,E=t.lineOffsetX*e,M=t.lineOffsetY*e;if(t.numGlyphs>1){var T=t.glyphStartIndex+t.numGlyphs,S=t.lineStartIndex,A=t.lineStartIndex+t.lineLength,C=l(w,c,E,M,n,m,v,t,d,a,g,!1);if(!C)return{notEnoughRoom:!0};var L=o(C.first.point,s).point,k=o(C.last.point,s).point;if(i&&!n){var P=u(t.writingMode,L,k,x);if(P)return P}_=[C.first];for(var I=t.glyphStartIndex+1;I<T-1;I++)_.push(p(w*c.getoffsetX(I),E,M,n,m,v,t.segment,S,A,d,a,g,!1));_.push(C.last)}else{if(i&&!n){var R=o(v,r).point,z=t.lineStartIndex+t.segment+1,O=new y(d.getx(z),d.gety(z)),D=o(O,r),B=D.signedDistanceFromCamera>0?D.point:h(v,O,R,1,r),N=u(t.writingMode,R,B,x);if(N)return N}var F=p(w*c.getoffsetX(t.glyphStartIndex),E,M,n,m,v,t.segment,t.lineStartIndex,t.lineStartIndex+t.lineLength,d,a,g,!1);if(!F)return{notEnoughRoom:!0};_=[F]}for(var U=0,j=_;U<j.length;U+=1){var V=j[U];b(f,V.point,V.angle)}return{}}function h(t,e,n,i,r){var a=o(t.add(t.sub(e)._unit()),r).point,s=n.sub(a);return n.add(s._mult(i/s.mag()))}function p(t,e,n,i,r,a,s,l,u,c,p,d,f){var m=i?t-e:t+e,v=m>0?1:-1,g=0;i&&(v*=-1,g=Math.PI),v<0&&(g+=Math.PI);for(var x=v>0?l+s:l+s+1,_=x,b=r,w=r,E=0,M=0,T=Math.abs(m);E+M<=T;){if((x+=v)<l||x>=u)return null;if(w=b,void 0===(b=d[x])){var S=new y(c.getx(x),c.gety(x)),A=o(S,p);if(A.signedDistanceFromCamera>0)b=d[x]=A.point;else{var C=x-v;b=h(0===E?a:new y(c.getx(C),c.gety(C)),S,w,T-E+1,p)}}E+=M,M=w.dist(b)}var L=(T-E)/M,k=b.sub(w),P=k.mult(L)._add(w);return P._add(k._unit()._perp()._mult(n*v)),{point:P,angle:g+Math.atan2(b.y-w.y,b.x-w.x),tileDistance:f?{prevTileDistance:x-v===_?0:c.gettileUnitDistanceFromAnchor(x-v),lastSegmentViewportDistance:T-E}:null}}function d(t,e){for(var n=0;n<t;n++){var i=e.length;e.resize(i+4),e.float32.set(M,3*i)}}function f(t,e,n){var i=e[0],r=e[1];return t[0]=n[0]*i+n[4]*r+n[12],t[1]=n[1]*i+n[5]*r+n[13],t[3]=n[3]*i+n[7]*r+n[15],t}var y=t("@mapbox/point-geometry"),m=t("@mapbox/gl-matrix"),v=m.mat4,g=m.vec4,x=t("./symbol_size"),_=t("../data/bucket/symbol_bucket"),b=_.addDynamicAttributes,w=t("../style/style_layer/symbol_style_layer_properties").layout,E=t("../symbol/shaping").WritingMode;e.exports={updateLineLabels:s,getLabelPlaneMatrix:i,getGlCoordMatrix:r,project:o,placeFirstAndLastGlyph:l,xyTransformMat4:f};var M=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0])},{"../data/bucket/symbol_bucket":51,"../style/style_layer/symbol_style_layer_properties":209,"../symbol/shaping":226,"./symbol_size":228,"@mapbox/gl-matrix":2,"@mapbox/point-geometry":4}],225:[function(t,e,n){"use strict";function i(t,e,n,i,r,a,s){var l,u,c,h,p=e.image,d=n.layout,f=e.top-1/p.pixelRatio,y=e.left-1/p.pixelRatio,m=e.bottom+1/p.pixelRatio,v=e.right+1/p.pixelRatio;if("none"!==d.get("icon-text-fit")&&r){var g=v-y,x=m-f,_=d.get("text-size").evaluate(s)/24,b=r.left*_,w=r.right*_,E=r.top*_,M=r.bottom*_,T=w-b,S=M-E,A=d.get("icon-text-fit-padding")[0],C=d.get("icon-text-fit-padding")[1],L=d.get("icon-text-fit-padding")[2],k=d.get("icon-text-fit-padding")[3],P="width"===d.get("icon-text-fit")?.5*(S-x):0,I="height"===d.get("icon-text-fit")?.5*(T-g):0,R="width"===d.get("icon-text-fit")||"both"===d.get("icon-text-fit")?T:g,z="height"===d.get("icon-text-fit")||"both"===d.get("icon-text-fit")?S:x;l=new o(b+I-k,E+P-A),u=new o(b+I+C+R,E+P-A),c=new o(b+I+C+R,E+P+L+z),h=new o(b+I-k,E+P+L+z)}else l=new o(y,f),u=new o(v,f),c=new o(v,m),h=new o(y,m);var O=n.layout.get("icon-rotate").evaluate(s)*Math.PI/180;if(O){var D=Math.sin(O),B=Math.cos(O),N=[B,-D,D,B];l._matMult(N),u._matMult(N),h._matMult(N),c._matMult(N)}return[{tl:l,tr:u,bl:h,br:c,tex:{x:p.textureRect.x-1,y:p.textureRect.y-1,w:p.textureRect.w+2,h:p.textureRect.h+2},writingMode:void 0,glyphOffset:[0,0]}]}function r(t,e,n,i,r,a,l){for(var u=n.layout.get("text-rotate").evaluate(a)*Math.PI/180,c=n.layout.get("text-offset").evaluate(a).map(function(t){return 24*t}),h=e.positionedGlyphs,p=[],d=0;d<h.length;d++){var f=h[d],y=l[f.glyph];if(y){var m=y.rect;if(m){var v=s+1,g=y.metrics.advance/2,x=i?[f.x+g,f.y]:[0,0],_=i?[0,0]:[f.x+g+c[0],f.y+c[1]],b=y.metrics.left-v-g+_[0],w=-y.metrics.top-v+_[1],E=b+m.w,M=w+m.h,T=new o(b,w),S=new o(E,w),A=new o(b,M),C=new o(E,M);if(i&&f.vertical){var L=new o(-g,g),k=-Math.PI/2,P=new o(5,0);T._rotateAround(k,L)._add(P),S._rotateAround(k,L)._add(P),A._rotateAround(k,L)._add(P),C._rotateAround(k,L)._add(P)}if(u){var I=Math.sin(u),R=Math.cos(u),z=[R,-I,I,R];T._matMult(z),S._matMult(z),A._matMult(z),C._matMult(z)}p.push({tl:T,tr:S,bl:A,br:C,tex:m,writingMode:e.writingMode,glyphOffset:x})}}}return p}var o=t("@mapbox/point-geometry"),a=t("../style/parse_glyph_pbf"),s=a.GLYPH_PBF_BORDER;e.exports={getIconQuads:i,getGlyphQuads:r}},{"../style/parse_glyph_pbf":186,"@mapbox/point-geometry":4}],226:[function(t,e,n){"use strict";function i(t,e){for(var n=[],i=0,r=0,o=e;r<o.length;r+=1){var a=o[r];n.push(t.substring(i,a)),i=a}return i<t.length&&n.push(t.substring(i,t.length)),n}function r(t,e,n,r,o,a,s,l,u,h){var d=t.trim();h===x.vertical&&(d=v(d));var f,y=[],m={positionedGlyphs:y,text:d,top:l[1],bottom:l[1],left:l[0],right:l[0],writingMode:h},_=g.processBidirectionalText;return f=_?_(d,c(d,s,n,e)):i(d,c(d,s,n,e)),p(m,e,f,r,o,a,h,s,u),!!y.length&&m}function o(t,e,n,i){for(var r=0,o=0;o<t.length;o++){var a=i[t.charCodeAt(o)];a&&(r+=a.metrics.advance+e)}return r/Math.max(1,Math.ceil(r/n))}function a(t,e,n,i){var r=Math.pow(t-e,2);return i?t<e?r/2:2*r:r+Math.abs(n)*n}function s(t,e){var n=0;return 10===t&&(n-=1e4),40!==t&&65288!==t||(n+=50),41!==e&&65289!==e||(n+=50),n}function l(t,e,n,i,r,o){for(var s=null,l=a(e,n,r,o),u=0,c=i;u<c.length;u+=1){var h=c[u],p=e-h.x,d=a(p,n,r,o)+h.badness;d<=l&&(s=h,l=d)}return{index:t,x:e,priorBreak:s,badness:l}}function u(t){return t?u(t.priorBreak).concat(t.index):[]}function c(t,e,n,i){if(!n)return[];if(!t)return[];for(var r=[],a=o(t,e,n,i),c=0,h=0;h<t.length;h++){var p=t.charCodeAt(h),d=i[p];d&&!_[p]&&(c+=d.metrics.advance+e),h<t.length-1&&(b[p]||m.charAllowsIdeographicBreaking(p))&&r.push(l(h+1,c,a,r,s(p,t.charCodeAt(h+1)),!1))}return u(l(t.length,c,a,r,0,!0))}function h(t){var e=.5,n=.5;switch(t){case"right":case"top-right":case"bottom-right":e=1;break;case"left":case"top-left":case"bottom-left":e=0}switch(t){case"bottom":case"bottom-right":case"bottom-left":n=1;break;case"top":case"top-right":case"top-left":n=0}return{horizontalAlign:e,verticalAlign:n}}function p(t,e,n,i,r,o,a,s,l){for(var u=0,c=-17,p=0,y=t.positionedGlyphs,v="right"===o?1:"left"===o?0:.5,g=0,_=n;g<_.length;g+=1){var b=_[g];if(b=b.trim(),b.length){for(var w=y.length,E=0;E<b.length;E++){var M=b.charCodeAt(E),T=e[M];T&&(m.charHasUprightVerticalOrientation(M)&&a!==x.horizontal?(y.push({glyph:M,x:u,y:0,vertical:!0}),u+=l+s):(y.push({glyph:M,x:u,y:c,vertical:!1}),u+=T.metrics.advance+s))}if(y.length!==w){var S=u-s;p=Math.max(S,p),d(y,e,w,y.length-1,v)}u=0,c+=i}else c+=i}var A=h(r),C=A.horizontalAlign,L=A.verticalAlign;f(y,v,C,L,p,i,n.length);var k=n.length*i;t.top+=-L*k,t.bottom=t.top+k,t.left+=-C*p,t.right=t.left+p}function d(t,e,n,i,r){if(r){var o=e[t[i].glyph];if(o)for(var a=o.metrics.advance,s=(t[i].x+a)*r,l=n;l<=i;l++)t[l].x-=s}}function f(t,e,n,i,r,o,a){for(var s=(e-n)*r,l=(-i*a+.5)*o,u=0;u<t.length;u++)t[u].x+=s,t[u].y+=l}function y(t,e,n){var i=h(n),r=i.horizontalAlign,o=i.verticalAlign,a=e[0],s=e[1],l=a-t.displaySize[0]*r,u=l+t.displaySize[0],c=s-t.displaySize[1]*o;return{image:t,top:c,bottom:c+t.displaySize[1],left:l,right:u}}var m=t("../util/script_detection"),v=t("../util/verticalize_punctuation"),g=t("../source/rtl_text_plugin"),x={horizontal:1,vertical:2,horizontalOnly:3};e.exports={shapeText:r,shapeIcon:y,WritingMode:x};var _={};_[9]=!0,_[10]=!0,_[11]=!0,_[12]=!0,_[13]=!0,_[32]=!0;var b={};b[10]=!0,b[32]=!0,b[38]=!0,b[40]=!0,b[41]=!0,b[43]=!0,b[45]=!0,b[47]=!0,b[173]=!0,b[183]=!0,b[8203]=!0,b[8208]=!0,b[8211]=!0,b[8231]=!0},{"../source/rtl_text_plugin":109,"../util/script_detection":269,"../util/verticalize_punctuation":277}],227:[function(t,e,n){"use strict";function i(t,e,n,i,o,a){t.createArrays(),t.symbolInstances=[];var s=512*t.overscaling;t.tilePixelRatio=M/s,t.compareText={},t.iconsNeedLinear=!1;var l=t.layers[0].layout,u=t.layers[0]._unevaluatedLayout._values,c={};if("composite"===t.textSizeData.functionType){var h=t.textSizeData.zoomRange,p=h.min,m=h.max;c.compositeTextSizes=[u["text-size"].possiblyEvaluate(new S(p)),u["text-size"].possiblyEvaluate(new S(m))]}if("composite"===t.iconSizeData.functionType){var v=t.iconSizeData.zoomRange,g=v.min,x=v.max;c.compositeIconSizes=[u["icon-size"].possiblyEvaluate(new S(g)),u["icon-size"].possiblyEvaluate(new S(x))]}c.layoutTextSize=u["text-size"].possiblyEvaluate(new S(t.zoom+1)),c.layoutIconSize=u["icon-size"].possiblyEvaluate(new S(t.zoom+1)),c.textMaxSize=u["text-size"].possiblyEvaluate(new S(18));for(var w=24*l.get("text-line-height"),E="map"===l.get("text-rotation-alignment")&&"line"===l.get("symbol-placement"),T=l.get("text-keep-upright"),A=0,C=t.features;A<C.length;A+=1){var L=C[A],k=l.get("text-font").evaluate(L).join(","),P=e[k]||{},I=n[k]||{},R={},z=L.text;if(z){var O=b.allowsVerticalWritingMode(z),D=l.get("text-offset").evaluate(L).map(function(t){return 24*t}),B=24*l.get("text-letter-spacing").evaluate(L),N=b.allowsLetterSpacing(z)?B:0,F=l.get("text-anchor").evaluate(L),U=l.get("text-justify").evaluate(L),j="line"!==l.get("symbol-placement")?24*l.get("text-max-width").evaluate(L):0;R.horizontal=d(z,P,j,w,F,U,N,D,24,y.horizontal),O&&E&&T&&(R.vertical=d(z,P,j,w,F,U,N,D,24,y.vertical))}var V=void 0;if(L.icon){var G=i[L.icon];G&&(V=f(o[L.icon],l.get("icon-offset").evaluate(L),l.get("icon-anchor").evaluate(L)),void 0===t.sdfIcons?t.sdfIcons=G.sdf:t.sdfIcons!==G.sdf&&_.warnOnce("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),G.pixelRatio!==t.pixelRatio?t.iconsNeedLinear=!0:0!==l.get("icon-rotate").constantOr(1)&&(t.iconsNeedLinear=!0))}(R.horizontal||V)&&r(t,L,R,V,I,c)}a&&t.generateCollisionDebugBuffers()}function r(t,e,n,i,r,o){var h=o.layoutTextSize.evaluate(e),p=o.layoutIconSize.evaluate(e),d=o.textMaxSize.evaluate(e);void 0===d&&(d=h);var f=t.layers[0].layout,y=f.get("text-offset").evaluate(e),m=f.get("icon-offset").evaluate(e),v=h/24,g=t.tilePixelRatio*v,x=t.tilePixelRatio*d/24,_=t.tilePixelRatio*p,b=t.tilePixelRatio*f.get("symbol-spacing"),T=f.get("text-padding")*t.tilePixelRatio,S=f.get("icon-padding")*t.tilePixelRatio,A=f.get("text-max-angle")/180*Math.PI,C="map"===f.get("text-rotation-alignment")&&"line"===f.get("symbol-placement"),L="map"===f.get("icon-rotation-alignment")&&"line"===f.get("symbol-placement"),k=f.get("symbol-placement"),P=b/2,I=function(s,l){l.x<0||l.x>=M||l.y<0||l.y>=M||t.symbolInstances.push(a(t,l,s,n,i,t.layers[0],t.collisionBoxArray,e.index,e.sourceLayerIndex,t.index,g,T,C,y,_,S,L,m,{zoom:t.zoom},e,r,o))};if("line"===k)for(var R=0,z=c(e.geometry,0,0,M,M);R<z.length;R+=1)for(var O=z[R],D=u(O,b,A,n.vertical||n.horizontal,i,24,x,t.overscaling,M),B=0,N=D;B<N.length;B+=1){var F=N[B],U=n.horizontal;U&&s(t,U.text,P,F)||I(O,F)}else if("Polygon"===e.type)for(var j=0,V=E(e.geometry,0);j<V.length;j+=1){var G=V[j],H=w(G,16);I(G[0],new l(H.x,H.y,0))}else if("LineString"===e.type)for(var W=0,q=e.geometry;W<q.length;W+=1){var Y=q[W];I(Y,new l(Y[0].x,Y[0].y,0))}else if("Point"===e.type)for(var X=0,$=e.geometry;X<$.length;X+=1)for(var Z=$[X],J=0,K=Z;J<K.length;J+=1){var Q=K[J];I([Q],new l(Q.x,Q.y,0))}}function o(t,e,n,i,r,o,a,s,l,u,c,h,p){var d=v(e,n,i,r,o,a,h),f=t.textSizeData,y=null;return"source"===f.functionType?y=[10*i.layout.get("text-size").evaluate(a)]:"composite"===f.functionType&&(y=[10*p.compositeTextSizes[0].evaluate(a),10*p.compositeTextSizes[1].evaluate(a)]),t.addSymbols(t.text,d,y,s,r,a,u,e,l.lineStartIndex,l.lineLength),c.push(t.text.placedSymbolArray.length-1),4*d.length}function a(t,e,n,i,r,a,s,l,u,c,p,d,f,m,v,b,w,E,M,S,A,C){var L,k,P=t.addToLineVertexArray(e,n),I=0,R=0,z=0,O=i.horizontal?i.horizontal.text:"",D=[];i.horizontal&&(L=new x(s,n,e,l,u,c,i.horizontal,p,d,f,t.overscaling),R+=o(t,e,i.horizontal,a,f,M,S,m,P,i.vertical?y.horizontal:y.horizontalOnly,D,A,C),i.vertical&&(z+=o(t,e,i.vertical,a,f,M,S,m,P,y.vertical,D,A,C)));var B=L?L.boxStartIndex:t.collisionBoxArray.length,N=L?L.boxEndIndex:t.collisionBoxArray.length;if(r){var F=g(e,r,a,w,i.horizontal,M,S);k=new x(s,n,e,l,u,c,r,v,b,!1,t.overscaling),I=4*F.length;var U=t.iconSizeData,j=null;"source"===U.functionType?j=[10*a.layout.get("icon-size").evaluate(S)]:"composite"===U.functionType&&(j=[10*C.compositeIconSizes[0].evaluate(S),10*C.compositeIconSizes[1].evaluate(S)]),t.addSymbols(t.icon,F,j,E,w,S,!1,e,P.lineStartIndex,P.lineLength)}var V=k?k.boxStartIndex:t.collisionBoxArray.length,G=k?k.boxEndIndex:t.collisionBoxArray.length;return t.glyphOffsetArray.length>=T.MAX_GLYPHS&&_.warnOnce("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),{key:O,textBoxStartIndex:B,textBoxEndIndex:N,iconBoxStartIndex:V,iconBoxEndIndex:G,textOffset:m,iconOffset:E,anchor:e,line:n,featureIndex:l,feature:S,numGlyphVertices:R,numVerticalGlyphVertices:z,numIconVertices:I,textOpacityState:new h,iconOpacityState:new h,isDuplicate:!1,placedTextSymbolIndices:D,crossTileID:0}}function s(t,e,n,i){var r=t.compareText;if(e in r){for(var o=r[e],a=o.length-1;a>=0;a--)if(i.dist(o[a])<n)return!0}else r[e]=[];return r[e].push(i),!1}var l=t("./anchor"),u=t("./get_anchors"),c=t("./clip_line"),h=t("./opacity_state"),p=t("./shaping"),d=p.shapeText,f=p.shapeIcon,y=p.WritingMode,m=t("./quads"),v=m.getGlyphQuads,g=m.getIconQuads,x=t("./collision_feature"),_=t("../util/util"),b=t("../util/script_detection"),w=t("../util/find_pole_of_inaccessibility"),E=t("../util/classify_rings"),M=t("../data/extent"),T=t("../data/bucket/symbol_bucket"),S=t("../style/evaluation_parameters");t("@mapbox/point-geometry");e.exports={performSymbolLayout:i}},{"../data/bucket/symbol_bucket":51,"../data/extent":53,"../style/evaluation_parameters":182,"../util/classify_rings":255,"../util/find_pole_of_inaccessibility":261,"../util/script_detection":269,"../util/util":275,"./anchor":213,"./clip_line":215,"./collision_feature":216,"./get_anchors":219,"./opacity_state":222,"./quads":225,"./shaping":226,"@mapbox/point-geometry":4}],228:[function(t,e,n){"use strict";function i(t,e){var n=e.expression;if("constant"===n.kind)return{functionType:"constant",layoutSize:n.evaluate({zoom:t+1})};if("source"===n.kind)return{functionType:"source"};for(var i=n.zoomStops,r=0;r<i.length&&i[r]<=t;)r++;r=Math.max(0,r-1);for(var o=r;o<i.length&&i[o]<t+1;)o++;o=Math.min(i.length-1,o);var a={min:i[r],max:i[o]};return"composite"===n.kind?{functionType:"composite",zoomRange:a,propertyValue:e.value}:{functionType:"camera",layoutSize:n.evaluate({zoom:t+1}),zoomRange:a,sizeRange:{min:n.evaluate({zoom:a.min}),max:n.evaluate({zoom:a.max})},propertyValue:e.value}}function r(t,e,n){var i=e;return"source"===t.functionType?n.lowerSize/10:"composite"===t.functionType?l.number(n.lowerSize/10,n.upperSize/10,i.uSizeT):i.uSize}function o(t,e,n){if("constant"===t.functionType)return{uSizeT:0,uSize:t.layoutSize};if("source"===t.functionType)return{uSizeT:0,uSize:0};if("camera"===t.functionType){var i=t.propertyValue,r=t.zoomRange,o=t.sizeRange,a=s(i,n.specification),l=u.clamp(a.interpolationFactor(e,r.min,r.max),0,1);return{uSizeT:0,uSize:o.min+l*(o.max-o.min)}}var c=t.propertyValue,h=t.zoomRange,p=s(c,n.specification);return{uSizeT:u.clamp(p.interpolationFactor(e,h.min,h.max),0,1),uSize:0}}var a=t("../style-spec/expression"),s=a.normalizePropertyExpression,l=t("../style-spec/util/interpolate"),u=t("../util/util");e.exports={getSizeData:i,evaluateSizeForFeature:r,evaluateSizeForZoom:o}},{"../style-spec/expression":139,"../style-spec/util/interpolate":158,"../util/util":275}],229:[function(t,e,n){"use strict";var i=t("../source/rtl_text_plugin");e.exports=function(t,e,n){var r=e.layout.get("text-transform").evaluate(n);return"uppercase"===r?t=t.toLocaleUpperCase():"lowercase"===r&&(t=t.toLocaleLowerCase()),i.applyArabicShaping&&(t=i.applyArabicShaping(t)),t}},{"../source/rtl_text_plugin":109}],230:[function(t,e,n){"use strict";var i=t("@mapbox/point-geometry"),r=t("../util/dom"),o=t("../util/window"),a=!!o.navigator.platform&&/iPad|iPhone|iPod/.test(o.navigator.platform),s={scrollZoom:t("./handler/scroll_zoom"),boxZoom:t("./handler/box_zoom"),dragRotate:t("./handler/drag_rotate"),dragPan:t("./handler/drag_pan"),keyboard:t("./handler/keyboard"),doubleClickZoom:t("./handler/dblclick_zoom"),touchZoomRotate:t("./handler/touch_zoom_rotate")};e.exports=function(t,e){function n(t){x("mouseout",t)}function o(e){t.doubleClickZoom.isActive()||t.stop(),M=r.mousePos(b,e),x("mousedown",e),E=!0}function l(e){var n=t.dragRotate&&t.dragRotate.isActive();w&&!n&&x("contextmenu",w),w=null,E=!1,x("mouseup",e)}function u(e){if(!(t.dragPan&&t.dragPan.isActive()||t.dragRotate&&t.dragRotate.isActive())){for(var n=e.toElement||e.target;n&&n!==b;)n=n.parentNode;n===b&&x("mousemove",e)}}function c(t){for(var e=t.toElement||t.target;e&&e!==b;)e=e.parentNode;e===b&&x("mouseover",t)}function h(e){t.stop(),_("touchstart",e),!e.touches||e.touches.length>1||(T?(clearTimeout(T),T=null,x("dblclick",e)):T=setTimeout(y,300))}function p(t){_("touchmove",t)}function d(t){_("touchend",t)}function f(t){_("touchcancel",t)}function y(){T=null}function m(t){r.mousePos(b,t).equals(M)&&x("click",t)}function v(t){x("dblclick",t),t.preventDefault()}function g(e){var n=t.dragRotate&&t.dragRotate.isActive();E||n?E&&(w=e):x("contextmenu",e),e.preventDefault()}function x(e,n){var i=r.mousePos(b,n);return t.fire(e,{lngLat:t.unproject(i),point:i,originalEvent:n})}function _(e,n){var o=r.touchPos(b,n),a=o.reduce(function(t,e,n,i){return t.add(e.div(i.length))},new i(0,0));return t.fire(e,{lngLat:t.unproject(a),point:a,lngLats:o.map(function(e){return t.unproject(e)},this),points:o,originalEvent:n})}var b=t.getCanvasContainer(),w=null,E=!1,M=null,T=null;for(var S in s)t[S]=new s[S](t,e),e.interactive&&e[S]&&t[S].enable(e[S]);r.addEventListener(b,"mouseout",n),r.addEventListener(b,"mousedown",o),r.addEventListener(b,"mouseup",l),r.addEventListener(b,"mousemove",u),r.addEventListener(b,"mouseover",c),r.addEventListener(b,"touchstart",h,{passive:!0}),r.addEventListener(b,"touchmove",p,{passive:!a}),r.addEventListener(b,"touchend",d),r.addEventListener(b,"touchcancel",f),r.addEventListener(b,"click",m),r.addEventListener(b,"dblclick",v),r.addEventListener(b,"contextmenu",g)}},{"../util/dom":259,"../util/window":254,"./handler/box_zoom":239,"./handler/dblclick_zoom":240,"./handler/drag_pan":241,"./handler/drag_rotate":242,"./handler/keyboard":243,"./handler/scroll_zoom":244,"./handler/touch_zoom_rotate":245,"@mapbox/point-geometry":4}],231:[function(t,e,n){"use strict";var i=t("../util/util"),r=t("../style-spec/util/interpolate").number,o=t("../util/browser"),a=t("../geo/lng_lat"),s=t("../geo/lng_lat_bounds"),l=t("@mapbox/point-geometry"),u=t("../util/evented"),c=function(t){function e(e,n){t.call(this),this.moving=!1,this.transform=e,this._bearingSnap=n.bearingSnap}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getCenter=function(){return this.transform.center},e.prototype.setCenter=function(t,e){return this.jumpTo({center:t},e)},e.prototype.panBy=function(t,e,n){return t=l.convert(t).mult(-1),this.panTo(this.transform.center,i.extend({offset:t},e),n)},e.prototype.panTo=function(t,e,n){return this.easeTo(i.extend({center:t},e),n)},e.prototype.getZoom=function(){return this.transform.zoom},e.prototype.setZoom=function(t,e){return this.jumpTo({zoom:t},e),this},e.prototype.zoomTo=function(t,e,n){return this.easeTo(i.extend({zoom:t},e),n)},e.prototype.zoomIn=function(t,e){return this.zoomTo(this.getZoom()+1,t,e),this},e.prototype.zoomOut=function(t,e){return this.zoomTo(this.getZoom()-1,t,e),this},e.prototype.getBearing=function(){return this.transform.bearing},e.prototype.setBearing=function(t,e){return this.jumpTo({bearing:t},e),this},e.prototype.rotateTo=function(t,e,n){return this.easeTo(i.extend({bearing:t},e),n)},e.prototype.resetNorth=function(t,e){return this.rotateTo(0,i.extend({duration:1e3},t),e),this},e.prototype.snapToNorth=function(t,e){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(t,e):this},e.prototype.getPitch=function(){return this.transform.pitch},e.prototype.setPitch=function(t,e){return this.jumpTo({pitch:t},e),this},e.prototype.fitBounds=function(t,e,n){if(e=i.extend({padding:{top:0,bottom:0,right:0,left:0},offset:[0,0],maxZoom:this.transform.maxZoom},e),"number"==typeof e.padding){var r=e.padding;e.padding={top:r,bottom:r,right:r,left:r}}if(!i.deepEqual(Object.keys(e.padding).sort(function(t,e){return t<e?-1:t>e?1:0}),["bottom","left","right","top"]))return i.warnOnce("options.padding must be a positive number, or an Object with keys 'bottom', 'left', 'right', 'top'"),this;t=s.convert(t);var o=[(e.padding.left-e.padding.right)/2,(e.padding.top-e.padding.bottom)/2],a=Math.min(e.padding.right,e.padding.left),u=Math.min(e.padding.top,e.padding.bottom);e.offset=[e.offset[0]+o[0],e.offset[1]+o[1]];var c=l.convert(e.offset),h=this.transform,p=h.project(t.getNorthWest()),d=h.project(t.getSouthEast()),f=d.sub(p),y=(h.width-2*a-2*Math.abs(c.x))/f.x,m=(h.height-2*u-2*Math.abs(c.y))/f.y;return m<0||y<0?(i.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset."),this):(e.center=h.unproject(p.add(d).div(2)),e.zoom=Math.min(h.scaleZoom(h.scale*Math.min(y,m)),e.maxZoom),e.bearing=0,e.linear?this.easeTo(e,n):this.flyTo(e,n))},e.prototype.jumpTo=function(t,e){this.stop();var n=this.transform,i=!1,r=!1,o=!1;return"zoom"in t&&n.zoom!==+t.zoom&&(i=!0,n.zoom=+t.zoom),void 0!==t.center&&(n.center=a.convert(t.center)),"bearing"in t&&n.bearing!==+t.bearing&&(r=!0,n.bearing=+t.bearing),"pitch"in t&&n.pitch!==+t.pitch&&(o=!0,n.pitch=+t.pitch),this.fire("movestart",e).fire("move",e),i&&this.fire("zoomstart",e).fire("zoom",e).fire("zoomend",e),r&&this.fire("rotate",e),o&&this.fire("pitchstart",e).fire("pitch",e).fire("pitchend",e),this.fire("moveend",e)},e.prototype.easeTo=function(t,e){var n=this;this.stop(),t=i.extend({offset:[0,0],duration:500,easing:i.ease},t),!1===t.animate&&(t.duration=0);var o=this.transform,s=this.getZoom(),u=this.getBearing(),c=this.getPitch(),h="zoom"in t?+t.zoom:s,p="bearing"in t?this._normalizeBearing(t.bearing,u):u,d="pitch"in t?+t.pitch:c,f=o.centerPoint.add(l.convert(t.offset)),y=o.pointLocation(f),m=a.convert(t.center||y);this._normalizeCenter(m);var v,g,x=o.project(y),_=o.project(m).sub(x),b=o.zoomScale(h-s);return t.around&&(v=a.convert(t.around),g=o.locationPoint(v)),this.zooming=h!==s,this.rotating=u!==p,this.pitching=d!==c,this._prepareEase(e,t.noMoveStart),clearTimeout(this._onEaseEnd),this._ease(function(t){if(n.zooming&&(o.zoom=r(s,h,t)),n.rotating&&(o.bearing=r(u,p,t)),n.pitching&&(o.pitch=r(c,d,t)),v)o.setLocationAtPoint(v,g);else{var i=o.zoomScale(o.zoom-s),a=h>s?Math.min(2,b):Math.max(.5,b),l=Math.pow(a,1-t),y=o.unproject(x.add(_.mult(t*l)).mult(i));o.setLocationAtPoint(o.renderWorldCopies?y.wrap():y,f)}n._fireMoveEvents(e)},function(){t.delayEndEvents?n._onEaseEnd=setTimeout(function(){return n._afterEase(e)},t.delayEndEvents):n._afterEase(e)},t),this},e.prototype._prepareEase=function(t,e){this.moving=!0,e||this.fire("movestart",t),this.zooming&&this.fire("zoomstart",t),this.pitching&&this.fire("pitchstart",t)},e.prototype._fireMoveEvents=function(t){this.fire("move",t),this.zooming&&this.fire("zoom",t),this.rotating&&this.fire("rotate",t),this.pitching&&this.fire("pitch",t)},e.prototype._afterEase=function(t){var e=this.zooming,n=this.pitching;this.moving=!1,this.zooming=!1,this.rotating=!1,this.pitching=!1,e&&this.fire("zoomend",t),n&&this.fire("pitchend",t),this.fire("moveend",t)},e.prototype.flyTo=function(t,e){function n(t){var e=(S*S-T*T+(t?-1:1)*k*k*A*A)/(2*(t?S:T)*k*A);return Math.log(Math.sqrt(e*e+1)-e)}function o(t){return(Math.exp(t)-Math.exp(-t))/2}function s(t){return(Math.exp(t)+Math.exp(-t))/2}function u(t){return o(t)/s(t)}var c=this;this.stop(),t=i.extend({offset:[0,0],speed:1.2,curve:1.42,easing:i.ease},t);var h=this.transform,p=this.getZoom(),d=this.getBearing(),f=this.getPitch(),y="zoom"in t?i.clamp(+t.zoom,h.minZoom,h.maxZoom):p,m="bearing"in t?this._normalizeBearing(t.bearing,d):d,v="pitch"in t?+t.pitch:f,g=h.zoomScale(y-p),x=h.centerPoint.add(l.convert(t.offset)),_=h.pointLocation(x),b=a.convert(t.center||_);this._normalizeCenter(b);var w=h.project(_),E=h.project(b).sub(w),M=t.curve,T=Math.max(h.width,h.height),S=T/g,A=E.mag();if("minZoom"in t){var C=i.clamp(Math.min(t.minZoom,p,y),h.minZoom,h.maxZoom),L=T/h.zoomScale(C-p);M=Math.sqrt(L/A*2)}var k=M*M,P=n(0),I=function(t){return s(P)/s(P+M*t)},R=function(t){return T*((s(P)*u(P+M*t)-o(P))/k)/A},z=(n(1)-P)/M;if(Math.abs(A)<1e-6||!isFinite(z)){if(Math.abs(T-S)<1e-6)return this.easeTo(t,e);var O=S<T?-1:1;z=Math.abs(Math.log(S/T))/M,R=function(){return 0},I=function(t){return Math.exp(O*M*t)}}if("duration"in t)t.duration=+t.duration;else{var D="screenSpeed"in t?+t.screenSpeed/M:+t.speed;t.duration=1e3*z/D}return t.maxDuration&&t.duration>t.maxDuration&&(t.duration=0),this.zooming=!0,this.rotating=d!==m,this.pitching=v!==f,this._prepareEase(e,!1),this._ease(function(t){var n=t*z,i=1/I(n);h.zoom=p+h.scaleZoom(i),c.rotating&&(h.bearing=r(d,m,t)),c.pitching&&(h.pitch=r(f,v,t));var o=h.unproject(w.add(E.mult(R(n))).mult(i));h.setLocationAtPoint(h.renderWorldCopies?o.wrap():o,x),c._fireMoveEvents(e)},function(){return c._afterEase(e)},t),this},e.prototype.isEasing=function(){return!!this._isEasing},e.prototype.isMoving=function(){return this.moving},e.prototype.stop=function(){return this._onFrame&&this._finishAnimation(),this},e.prototype._ease=function(t,e,n){var i=this;!1===n.animate||0===n.duration?(t(1),e()):(this._easeStart=o.now(),this._isEasing=!0,this._easeOptions=n,this._startAnimation(function(e){var n=Math.min((o.now()-i._easeStart)/i._easeOptions.duration,1);t(i._easeOptions.easing(n)),1===n&&i.stop()},function(){i._isEasing=!1,e()}))},e.prototype._updateCamera=function(){this._onFrame&&this._onFrame(this.transform)},e.prototype._startAnimation=function(t,e){return void 0===e&&(e=function(){}),this.stop(),this._onFrame=t,this._finishFn=e,this._update(),this},e.prototype._finishAnimation=function(){delete this._onFrame;var t=this._finishFn;delete this._finishFn,t.call(this)},e.prototype._normalizeBearing=function(t,e){t=i.wrap(t,-180,180);var n=Math.abs(t-e);return Math.abs(t-360-e)<n&&(t-=360),Math.abs(t+360-e)<n&&(t+=360),t},e.prototype._normalizeCenter=function(t){var e=this.transform;if(e.renderWorldCopies&&!e.lngRange){var n=t.lng-e.center.lng;t.lng+=n>180?-360:n<-180?360:0}},e}(u);e.exports=c},{"../geo/lng_lat":62,"../geo/lng_lat_bounds":63,"../style-spec/util/interpolate":158,"../util/browser":252,"../util/evented":260,"../util/util":275,"@mapbox/point-geometry":4}],232:[function(t,e,n){"use strict";var i=t("../../util/dom"),r=t("../../util/util"),o=t("../../util/config"),a=function(t){this.options=t,r.bindAll(["_updateEditLink","_updateData","_updateCompact"],this)};a.prototype.getDefaultPosition=function(){return"bottom-right"},a.prototype.onAdd=function(t){var e=this.options&&this.options.compact;return this._map=t,this._container=i.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),e&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===e&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},a.prototype.onRemove=function(){i.remove(this._container),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0},a.prototype._updateEditLink=function(){var t=this._editLink;t||(t=this._editLink=this._container.querySelector(".mapbox-improve-map"));var e=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:o.ACCESS_TOKEN}];if(t){var n=e.reduce(function(t,n,i){return n.value&&(t+=n.key+"="+n.value+(i<e.length-1?"&":"")),t},"?");t.href="https://www.mapbox.com/feedback/"+n+(this._map._hash?this._map._hash.getHashString(!0):"")}},a.prototype._updateData=function(t){t&&"metadata"===t.sourceDataType&&(this._updateAttributions(),this._updateEditLink())},a.prototype._updateAttributions=function(){if(this._map.style){var t=[];if(this._map.style.stylesheet){var e=this._map.style.stylesheet;this.styleOwner=e.owner,this.styleId=e.id}var n=this._map.style.sourceCaches;for(var i in n){var r=n[i].getSource();r.attribution&&t.indexOf(r.attribution)<0&&t.push(r.attribution)}t.sort(function(t,e){return t.length-e.length}),t=t.filter(function(e,n){for(var i=n+1;i<t.length;i++)if(t[i].indexOf(e)>=0)return!1;return!0}),t.length?(this._container.innerHTML=t.join(" | "),this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null}},a.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact")},e.exports=a},{"../../util/config":256,"../../util/dom":259,"../../util/util":275}],233:[function(t,e,n){"use strict";var i=t("../../util/dom"),r=t("../../util/util"),o=t("../../util/window"),a=function(){this._fullscreen=!1,r.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in o.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in o.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in o.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in o.document&&(this._fullscreenchange="MSFullscreenChange"),this._className="mapboxgl-ctrl"};a.prototype.onAdd=function(t){return this._map=t,this._mapContainer=this._map.getContainer(),this._container=i.create("div",this._className+" mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._container.style.display="none",r.warnOnce("This device does not support fullscreen mode.")),this._container},a.prototype.onRemove=function(){i.remove(this._container),this._map=null,o.document.removeEventListener(this._fullscreenchange,this._changeIcon)},a.prototype._checkFullscreenSupport=function(){return!!(o.document.fullscreenEnabled||o.document.mozFullScreenEnabled||o.document.msFullscreenEnabled||o.document.webkitFullscreenEnabled)},a.prototype._setupUI=function(){var t=this._fullscreenButton=i.create("button",this._className+"-icon "+this._className+"-fullscreen",this._container);t.setAttribute("aria-label","Toggle fullscreen"),t.type="button",this._fullscreenButton.addEventListener("click",this._onClickFullscreen),o.document.addEventListener(this._fullscreenchange,this._changeIcon)},a.prototype._isFullscreen=function(){return this._fullscreen},a.prototype._changeIcon=function(){(o.document.fullscreenElement||o.document.mozFullScreenElement||o.document.webkitFullscreenElement||o.document.msFullscreenElement)===this._mapContainer!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle(this._className+"-shrink"),this._fullscreenButton.classList.toggle(this._className+"-fullscreen"))},a.prototype._onClickFullscreen=function(){this._isFullscreen()?o.document.exitFullscreen?o.document.exitFullscreen():o.document.mozCancelFullScreen?o.document.mozCancelFullScreen():o.document.msExitFullscreen?o.document.msExitFullscreen():o.document.webkitCancelFullScreen&&o.document.webkitCancelFullScreen():this._mapContainer.requestFullscreen?this._mapContainer.requestFullscreen():this._mapContainer.mozRequestFullScreen?this._mapContainer.mozRequestFullScreen():this._mapContainer.msRequestFullscreen?this._mapContainer.msRequestFullscreen():this._mapContainer.webkitRequestFullscreen&&this._mapContainer.webkitRequestFullscreen()},e.exports=a},{"../../util/dom":259,"../../util/util":275,"../../util/window":254}],234:[function(t,e,n){"use strict";function i(t){void 0!==r?t(r):void 0!==s.navigator.permissions?s.navigator.permissions.query({name:"geolocation"}).then(function(e){r="denied"!==e.state,t(r)}):(r=!!s.navigator.geolocation,t(r))}var r,o=t("../../util/evented"),a=t("../../util/dom"),s=t("../../util/window"),l=t("../../util/util"),u=t("../../geo/lng_lat"),c=t("../marker"),h={positionOptions:{enableHighAccuracy:!1,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showUserLocation:!0},p=function(t){function e(e){t.call(this),this.options=l.extend({},h,e),l.bindAll(["_onSuccess","_onError","_finish","_setupUI","_updateCamera","_updateMarker","_onClickGeolocate"],this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.onAdd=function(t){return this._map=t,this._container=a.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),i(this._setupUI),this._container},e.prototype.onRemove=function(){void 0!==this._geolocationWatchID&&(s.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker.remove(),a.remove(this._container),this._map=void 0},e.prototype._onSuccess=function(t){if(this.options.trackUserLocation)switch(this._lastKnownPosition=t,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(t),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(t),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire("geolocate",t),this._finish()},e.prototype._updateCamera=function(t){var e=new u(t.coords.longitude,t.coords.latitude),n=t.coords.accuracy;this._map.fitBounds(e.toBounds(n),this.options.fitBoundsOptions,{geolocateSource:!0})},e.prototype._updateMarker=function(t){t?this._userLocationDotMarker.setLngLat([t.coords.longitude,t.coords.latitude]).addTo(this._map):this._userLocationDotMarker.remove()},e.prototype._onError=function(t){if(this.options.trackUserLocation)if(1===t.code)this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),void 0!==this._geolocationWatchID&&this._clearWatch();else switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire("error",t),this._finish()},e.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},e.prototype._setupUI=function(t){var e=this;!1!==t&&(this._container.addEventListener("contextmenu",function(t){return t.preventDefault()}),this._geolocateButton=a.create("button","mapboxgl-ctrl-icon mapboxgl-ctrl-geolocate",this._container),this._geolocateButton.type="button",this._geolocateButton.setAttribute("aria-label","Geolocate"),this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=a.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new c(this._dotElement),this.options.trackUserLocation&&(this._watchState="OFF")),this._geolocateButton.addEventListener("click",this._onClickGeolocate.bind(this)),this.options.trackUserLocation&&this._map.on("movestart",function(t){t.geolocateSource||"ACTIVE_LOCK"!==e._watchState||(e._watchState="BACKGROUND",e._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),e._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),e.fire("trackuserlocationend"))}))},e.prototype._onClickGeolocate=function(){if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire("trackuserlocationstart");break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire("trackuserlocationend");break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire("trackuserlocationstart")}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}"OFF"===this._watchState&&void 0!==this._geolocationWatchID?this._clearWatch():void 0===this._geolocationWatchID&&(this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._geolocationWatchID=s.navigator.geolocation.watchPosition(this._onSuccess,this._onError,this.options.positionOptions))}else s.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4)},e.prototype._clearWatch=function(){s.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},e}(o);e.exports=p},{"../../geo/lng_lat":62,"../../util/dom":259,"../../util/evented":260,"../../util/util":275,"../../util/window":254,"../marker":248}],235:[function(t,e,n){"use strict";var i=t("../../util/dom"),r=t("../../util/util"),o=function(){r.bindAll(["_updateLogo"],this)};o.prototype.onAdd=function(t){this._map=t,this._container=i.create("div","mapboxgl-ctrl");var e=i.create("a","mapboxgl-ctrl-logo");return e.target="_blank",e.href="https://www.mapbox.com/",e.setAttribute("aria-label","Mapbox logo"),this._container.appendChild(e),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._container},o.prototype.onRemove=function(){i.remove(this._container),this._map.off("sourcedata",this._updateLogo)},o.prototype.getDefaultPosition=function(){return"bottom-left"},o.prototype._updateLogo=function(t){t&&"metadata"!==t.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")},o.prototype._logoRequired=function(){if(this._map.style){var t=this._map.style.sourceCaches;for(var e in t)if(t[e].getSource().mapbox_logo)return!0;return!1}},e.exports=o},{"../../util/dom":259,"../../util/util":275}],236:[function(t,e,n){"use strict";var i=t("../../util/dom"),r=t("../../util/util"),o=t("../handler/drag_rotate"),a={showCompass:!0,showZoom:!0},s=function(t){var e=this;this.options=r.extend({},a,t),this._container=i.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(t){return t.preventDefault()}),this.options.showZoom&&(this._zoomInButton=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-zoom-in","Zoom In",function(){return e._map.zoomIn()}),this._zoomOutButton=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-zoom-out","Zoom Out",function(){return e._map.zoomOut()})),this.options.showCompass&&(r.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-icon mapboxgl-ctrl-compass","Reset North",function(){return e._map.resetNorth()}),this._compassArrow=i.create("span","mapboxgl-ctrl-compass-arrow",this._compass))};s.prototype._rotateCompassArrow=function(){var t="rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassArrow.style.transform=t},s.prototype.onAdd=function(t){return this._map=t,this.options.showCompass&&(this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new o(t,{button:"left",element:this._compass}),this._handler.enable()),this._container},s.prototype.onRemove=function(){i.remove(this._container),this.options.showCompass&&(this._map.off("rotate",this._rotateCompassArrow),this._handler.disable(),delete this._handler),delete this._map},s.prototype._createButton=function(t,e,n){var r=i.create("button",t,this._container);return r.type="button",r.setAttribute("aria-label",e),r.addEventListener("click",n),r},e.exports=s},{"../../util/dom":259,"../../util/util":275,"../handler/drag_rotate":242}],237:[function(t,e,n){"use strict";function i(t,e,n){var i=n&&n.maxWidth||100,a=t._container.clientHeight/2,s=o(t.unproject([0,a]),t.unproject([i,a]));if(n&&"imperial"===n.unit){var l=3.2808*s;l>5280?r(e,i,l/5280,"mi"):r(e,i,l,"ft")}else if(n&&"nautical"===n.unit){var u=s/1852;r(e,i,u,"nm")}else r(e,i,s,"m")}function r(t,e,n,i){var r=a(n),o=r/n;"m"===i&&r>=1e3&&(r/=1e3,i="km"),t.style.width=e*o+"px",t.innerHTML=r+i}function o(t,e){var n=Math.PI/180,i=t.lat*n,r=e.lat*n,o=Math.sin(i)*Math.sin(r)+Math.cos(i)*Math.cos(r)*Math.cos((e.lng-t.lng)*n);return 6371e3*Math.acos(Math.min(o,1))}function a(t){var e=Math.pow(10,(""+Math.floor(t)).length-1),n=t/e;return n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1,e*n}var s=t("../../util/dom"),l=t("../../util/util"),u=function(t){this.options=t,l.bindAll(["_onMove"],this)};u.prototype.getDefaultPosition=function(){return"bottom-left"},u.prototype._onMove=function(){i(this._map,this._container,this.options)},u.prototype.onAdd=function(t){return this._map=t,this._container=s.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",t.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},u.prototype.onRemove=function(){s.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},e.exports=u},{"../../util/dom":259,"../../util/util":275}],238:[function(t,e,n){"use strict"},{}],239:[function(t,e,n){"use strict";var i=t("../../util/dom"),r=t("../../geo/lng_lat_bounds"),o=t("../../util/util"),a=t("../../util/window"),s=function(t){this._map=t,this._el=t.getCanvasContainer(),this._container=t.getContainer(),o.bindAll(["_onMouseDown","_onMouseMove","_onMouseUp","_onKeyDown"],this)};s.prototype.isEnabled=function(){return!!this._enabled},s.prototype.isActive=function(){return!!this._active},s.prototype.enable=function(){this.isEnabled()||(this._map.dragPan&&this._map.dragPan.disable(),this._el.addEventListener("mousedown",this._onMouseDown,!1),this._map.dragPan&&this._map.dragPan.enable(),this._enabled=!0)},s.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("mousedown",this._onMouseDown),this._enabled=!1)},s.prototype._onMouseDown=function(t){t.shiftKey&&0===t.button&&(a.document.addEventListener("mousemove",this._onMouseMove,!1),a.document.addEventListener("keydown",this._onKeyDown,!1),a.document.addEventListener("mouseup",this._onMouseUp,!1),i.disableDrag(),this._startPos=i.mousePos(this._el,t),this._active=!0)},s.prototype._onMouseMove=function(t){var e=this._startPos,n=i.mousePos(this._el,t);this._box||(this._box=i.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",t));var r=Math.min(e.x,n.x),o=Math.max(e.x,n.x),a=Math.min(e.y,n.y),s=Math.max(e.y,n.y);i.setTransform(this._box,"translate("+r+"px,"+a+"px)"),this._box.style.width=o-r+"px",this._box.style.height=s-a+"px"},s.prototype._onMouseUp=function(t){if(0===t.button){var e=this._startPos,n=i.mousePos(this._el,t),o=(new r).extend(this._map.unproject(e)).extend(this._map.unproject(n));this._finish(),e.x===n.x&&e.y===n.y?this._fireEvent("boxzoomcancel",t):this._map.fitBounds(o,{linear:!0}).fire("boxzoomend",{originalEvent:t,boxZoomBounds:o})}},s.prototype._onKeyDown=function(t){27===t.keyCode&&(this._finish(),this._fireEvent("boxzoomcancel",t))},s.prototype._finish=function(){this._active=!1,a.document.removeEventListener("mousemove",this._onMouseMove,!1),a.document.removeEventListener("keydown",this._onKeyDown,!1),a.document.removeEventListener("mouseup",this._onMouseUp,!1),this._container.classList.remove("mapboxgl-crosshair"),this._box&&(i.remove(this._box),this._box=null),i.enableDrag()},s.prototype._fireEvent=function(t,e){return this._map.fire(t,{originalEvent:e})},e.exports=s},{"../../geo/lng_lat_bounds":63,"../../util/dom":259,"../../util/util":275,"../../util/window":254}],240:[function(t,e,n){"use strict";var i=t("../../util/util"),r=function(t){this._map=t,i.bindAll(["_onDblClick","_onZoomEnd"],this)};r.prototype.isEnabled=function(){return!!this._enabled},r.prototype.isActive=function(){return!!this._active},r.prototype.enable=function(){this.isEnabled()||(this._map.on("dblclick",this._onDblClick),this._enabled=!0)},r.prototype.disable=function(){this.isEnabled()&&(this._map.off("dblclick",this._onDblClick),this._enabled=!1)},r.prototype._onDblClick=function(t){this._active=!0,this._map.on("zoomend",this._onZoomEnd),this._map.zoomTo(this._map.getZoom()+(t.originalEvent.shiftKey?-1:1),{around:t.lngLat},t)},r.prototype._onZoomEnd=function(){this._active=!1,this._map.off("zoomend",this._onZoomEnd)},e.exports=r},{"../../util/util":275}],241:[function(t,e,n){"use strict";var i=t("../../util/dom"),r=t("../../util/util"),o=t("../../util/window"),a=t("../../util/browser"),s=r.bezier(0,0,.3,1),l=function(t){this._map=t,this._el=t.getCanvasContainer(),r.bindAll(["_onDown","_onMove","_onUp","_onTouchEnd","_onMouseUp","_onDragFrame","_onDragFinished"],this)};l.prototype.isEnabled=function(){return!!this._enabled},l.prototype.isActive=function(){return!!this._active},l.prototype.enable=function(){this.isEnabled()||(this._el.classList.add("mapboxgl-touch-drag-pan"),i.addEventListener(this._el,"mousedown",this._onDown),i.addEventListener(this._el,"touchstart",this._onDown,{passive:!1}),this._enabled=!0)},l.prototype.disable=function(){this.isEnabled()&&(this._el.classList.remove("mapboxgl-touch-drag-pan"),i.removeEventListener(this._el,"mousedown",this._onDown),i.removeEventListener(this._el,"touchstart",this._onDown,{passive:!1}),this._enabled=!1)},l.prototype._onDown=function(t){this._ignoreEvent(t)||this.isActive()||(t.touches?(i.addEventListener(o.document,"touchmove",this._onMove,{passive:!1}),i.addEventListener(o.document,"touchend",this._onTouchEnd)):(i.addEventListener(o.document,"mousemove",this._onMove),i.addEventListener(o.document,"mouseup",this._onMouseUp)),i.addEventListener(o,"blur",this._onMouseUp),this._active=!1,this._previousPos=i.mousePos(this._el,t),this._inertia=[[a.now(),this._previousPos]])},l.prototype._onMove=function(t){if(!this._ignoreEvent(t)){this._lastMoveEvent=t,t.preventDefault();var e=i.mousePos(this._el,t);if(this._drainInertiaBuffer(),this._inertia.push([a.now(),e]),!this._previousPos)return void(this._previousPos=e);this._pos=e,this.isActive()||(this._active=!0,this._map.moving=!0,this._fireEvent("dragstart",t),this._fireEvent("movestart",t),this._map._startAnimation(this._onDragFrame,this._onDragFinished)),this._map._update()}},l.prototype._onDragFrame=function(t){var e=this._lastMoveEvent;e&&(t.setLocationAtPoint(t.pointLocation(this._previousPos),this._pos),this._fireEvent("drag",e),this._fireEvent("move",e),this._previousPos=this._pos,delete this._lastMoveEvent)},l.prototype._onDragFinished=function(t){var e=this;if(this.isActive()){this._active=!1,delete this._lastMoveEvent,delete this._previousPos,delete this._pos,this._fireEvent("dragend",t),this._drainInertiaBuffer();var n=function(){e._map.moving=!1,e._fireEvent("moveend",t)},i=this._inertia;if(i.length<2)return void n();var r=i[i.length-1],o=i[0],a=r[1].sub(o[1]),l=(r[0]-o[0])/1e3;if(0===l||r[1].equals(o[1]))return void n();var u=a.mult(.3/l),c=u.mag();c>1400&&(c=1400,u._unit()._mult(c));var h=c/750,p=u.mult(-h/2);this._map.panBy(p,{duration:1e3*h,easing:s,noMoveStart:!0},{originalEvent:t})}},l.prototype._onUp=function(t){this._onDragFinished(t)},l.prototype._onMouseUp=function(t){this._ignoreEvent(t)||(this._onUp(t),i.removeEventListener(o.document,"mousemove",this._onMove),i.removeEventListener(o.document,"mouseup",this._onMouseUp),i.removeEventListener(o,"blur",this._onMouseUp))},l.prototype._onTouchEnd=function(t){this._ignoreEvent(t)||(this._onUp(t),i.removeEventListener(o.document,"touchmove",this._onMove,{passive:!1}),i.removeEventListener(o.document,"touchend",this._onTouchEnd))},l.prototype._fireEvent=function(t,e){return this._map.fire(t,e?{originalEvent:e}:{})},l.prototype._ignoreEvent=function(t){var e=this._map;return!(!e.boxZoom||!e.boxZoom.isActive())||!(!e.dragRotate||!e.dragRotate.isActive())||(t.touches?t.touches.length>1:!!t.ctrlKey||"mousemove"!==t.type&&t.button&&0!==t.button)},l.prototype._drainInertiaBuffer=function(){for(var t=this._inertia,e=a.now();t.length>0&&e-t[0][0]>160;)t.shift()},e.exports=l},{"../../util/browser":252,"../../util/dom":259,"../../util/util":275,"../../util/window":254}],242:[function(t,e,n){"use strict";var i=t("../../util/dom"),r=t("../../util/util"),o=t("../../util/window"),a=t("../../util/browser"),s=r.bezier(0,0,.25,1),l=function(t,e){this._map=t,this._el=e.element||t.getCanvasContainer(),this._button=e.button||"right",this._bearingSnap=e.bearingSnap||0,this._pitchWithRotate=!1!==e.pitchWithRotate,r.bindAll(["_onDown","_onMove","_onUp","_onDragFrame","_onDragFinished"],this)};l.prototype.isEnabled=function(){return!!this._enabled},l.prototype.isActive=function(){return!!this._active},l.prototype.enable=function(){this.isEnabled()||(this._el.addEventListener("mousedown",this._onDown),this._enabled=!0)},l.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("mousedown",this._onDown),this._enabled=!1)},l.prototype._onDown=function(t){if(!(this._map.boxZoom&&this._map.boxZoom.isActive()||this._map.dragPan&&this._map.dragPan.isActive()||this.isActive())){if("right"===this._button){var e=t.ctrlKey?0:2,n=t.button;if(void 0!==o.InstallTrigger&&2===t.button&&t.ctrlKey&&o.navigator.platform.toUpperCase().indexOf("MAC")>=0&&(n=0),n!==e)return}else if(t.ctrlKey||0!==t.button)return;i.disableDrag(),o.document.addEventListener("mousemove",this._onMove,{capture:!0}),o.document.addEventListener("mouseup",this._onUp),o.addEventListener("blur",this._onUp),this._active=!1,this._inertia=[[a.now(),this._map.getBearing()]],this._previousPos=i.mousePos(this._el,t),this._center=this._map.transform.centerPoint,t.preventDefault()}},l.prototype._onMove=function(t){this._lastMoveEvent=t;var e=i.mousePos(this._el,t);if(!this._previousPos)return void(this._previousPos=e);this._pos=e,this.isActive()||(this._active=!0,this._map.moving=!0,this._fireEvent("rotatestart",t),this._fireEvent("movestart",t),this._pitchWithRotate&&this._fireEvent("pitchstart",t),this._map._startAnimation(this._onDragFrame,this._onDragFinished)),this._map._update()},l.prototype._onUp=function(t){o.document.removeEventListener("mousemove",this._onMove,{capture:!0}),o.document.removeEventListener("mouseup",this._onUp),o.removeEventListener("blur",this._onUp),i.enableDrag(),this._onDragFinished(t)},l.prototype._onDragFrame=function(t){var e=this._lastMoveEvent;if(e){var n=this._previousPos,i=this._pos,r=.8*(n.x-i.x),o=-.5*(n.y-i.y),s=t.bearing-r,l=t.pitch-o,u=this._inertia,c=u[u.length-1];this._drainInertiaBuffer(),u.push([a.now(),this._map._normalizeBearing(s,c[1])]),t.bearing=s,this._pitchWithRotate&&(this._fireEvent("pitch",e),t.pitch=l),this._fireEvent("rotate",e),this._fireEvent("move",e),delete this._lastMoveEvent,this._previousPos=this._pos}},l.prototype._onDragFinished=function(t){var e=this;if(this.isActive()){this._active=!1,delete this._lastMoveEvent,delete this._previousPos,this._fireEvent("rotateend",t),this._drainInertiaBuffer();var n=this._map,i=n.getBearing(),r=this._inertia,o=function(){Math.abs(i)<e._bearingSnap?n.resetNorth({noMoveStart:!0},{originalEvent:t}):(e._map.moving=!1,e._fireEvent("moveend",t)),e._pitchWithRotate&&e._fireEvent("pitchend",t)};if(r.length<2)return void o();var a=r[0],l=r[r.length-1],u=r[r.length-2],c=n._normalizeBearing(i,u[1]),h=l[1]-a[1],p=h<0?-1:1,d=(l[0]-a[0])/1e3;if(0===h||0===d)return void o();var f=Math.abs(h*(.25/d));f>180&&(f=180);var y=f/180;c+=p*f*(y/2),Math.abs(n._normalizeBearing(c,0))<this._bearingSnap&&(c=n._normalizeBearing(0,c)),n.rotateTo(c,{duration:1e3*y,easing:s,noMoveStart:!0},{originalEvent:t})}},l.prototype._fireEvent=function(t,e){return this._map.fire(t,e?{originalEvent:e}:{})},l.prototype._drainInertiaBuffer=function(){for(var t=this._inertia,e=a.now();t.length>0&&e-t[0][0]>160;)t.shift()},e.exports=l},{"../../util/browser":252,"../../util/dom":259,"../../util/util":275,"../../util/window":254}],243:[function(t,e,n){"use strict";function i(t){return t*(2-t)}var r=t("../../util/util"),o=function(t){this._map=t,this._el=t.getCanvasContainer(),r.bindAll(["_onKeyDown"],this)};o.prototype.isEnabled=function(){return!!this._enabled},o.prototype.enable=function(){this.isEnabled()||(this._el.addEventListener("keydown",this._onKeyDown,!1),this._enabled=!0)},o.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("keydown",this._onKeyDown),this._enabled=!1)},o.prototype._onKeyDown=function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e=0,n=0,r=0,o=0,a=0;switch(t.keyCode){case 61:case 107:case 171:case 187:e=1;break;case 189:case 109:case 173:e=-1;break;case 37:t.shiftKey?n=-1:(t.preventDefault(),o=-1);break;case 39:t.shiftKey?n=1:(t.preventDefault(),o=1);break;case 38:t.shiftKey?r=1:(t.preventDefault(),a=-1);break;case 40:t.shiftKey?r=-1:(a=1,t.preventDefault());break;default:return}var s=this._map,l=s.getZoom(),u={duration:300,delayEndEvents:500,easing:i,zoom:e?Math.round(l)+e*(t.shiftKey?2:1):l,bearing:s.getBearing()+15*n,pitch:s.getPitch()+10*r,offset:[100*-o,100*-a],center:s.getCenter()};s.easeTo(u,{originalEvent:t})}},e.exports=o},{"../../util/util":275}],244:[function(t,e,n){"use strict";var i=t("../../util/dom"),r=t("../../util/util"),o=t("../../util/browser"),a=t("../../util/window"),s=t("../../style-spec/util/interpolate").number,l=t("../../geo/lng_lat"),u=a.navigator.userAgent.toLowerCase(),c=-1!==u.indexOf("firefox"),h=-1!==u.indexOf("safari")&&-1===u.indexOf("chrom"),p=function(t){this._map=t,this._el=t.getCanvasContainer(),this._delta=0,r.bindAll(["_onWheel","_onTimeout","_onScrollFrame","_onScrollFinished"],this)};p.prototype.isEnabled=function(){return!!this._enabled},p.prototype.isActive=function(){return!!this._active},p.prototype.enable=function(t){this.isEnabled()||(this._el.addEventListener("wheel",this._onWheel,!1),this._el.addEventListener("mousewheel",this._onWheel,!1),this._enabled=!0,this._aroundCenter=t&&"center"===t.around)},p.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("wheel",this._onWheel),this._el.removeEventListener("mousewheel",this._onWheel),this._enabled=!1)},p.prototype._onWheel=function(t){var e=0;"wheel"===t.type?(e=t.deltaY,c&&t.deltaMode===a.WheelEvent.DOM_DELTA_PIXEL&&(e/=o.devicePixelRatio),t.deltaMode===a.WheelEvent.DOM_DELTA_LINE&&(e*=40)):"mousewheel"===t.type&&(e=-t.wheelDeltaY,h&&(e/=3));var n=o.now(),i=n-(this._lastWheelEventTime||0);this._lastWheelEventTime=n,0!==e&&e%4.000244140625==0?this._type="wheel":0!==e&&Math.abs(e)<4?this._type="trackpad":i>400?(this._type=null,this._lastValue=e,this._timeout=setTimeout(this._onTimeout,40,t)):this._type||(this._type=Math.abs(i*e)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,e+=this._lastValue)),t.shiftKey&&e&&(e/=4),this._type&&(this._lastWheelEvent=t,this._delta-=e,this.isActive()||this._start(t)),t.preventDefault()},p.prototype._onTimeout=function(t){this._type="wheel",this._delta-=this._lastValue,this.isActive()||this._start(t)},p.prototype._start=function(t){if(this._delta){this._active=!0,this._map.moving=!0,this._map.zooming=!0,this._map.fire("movestart",{originalEvent:t}),this._map.fire("zoomstart",{originalEvent:t}),clearTimeout(this._finishTimeout);var e=i.mousePos(this._el,t);this._around=l.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(e)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._map._startAnimation(this._onScrollFrame,this._onScrollFinished)}},p.prototype._onScrollFrame=function(t){if(this.isActive()){if(0!==this._delta){var e="wheel"===this._type&&Math.abs(this._delta)>4.000244140625?1/450:.01,n=2/(1+Math.exp(-Math.abs(this._delta*e)));this._delta<0&&0!==n&&(n=1/n);var i="number"==typeof this._targetZoom?t.zoomScale(this._targetZoom):t.scale;this._targetZoom=Math.min(t.maxZoom,Math.max(t.minZoom,t.scaleZoom(i*n))),"wheel"===this._type&&(this._startZoom=t.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}if("wheel"===this._type){var r=Math.min((o.now()-this._lastWheelEventTime)/200,1),a=this._easing(r);t.zoom=s(this._startZoom,this._targetZoom,a),1===r&&this._map.stop()}else t.zoom=this._targetZoom,this._map.stop();t.setLocationAtPoint(this._around,this._aroundPoint),this._map.fire("move",{originalEvent:this._lastWheelEvent}),this._map.fire("zoom",{originalEvent:this._lastWheelEvent})}},p.prototype._onScrollFinished=function(){var t=this;this.isActive()&&(this._active=!1,this._finishTimeout=setTimeout(function(){t._map.moving=!1,t._map.zooming=!1,t._map.fire("zoomend"),t._map.fire("moveend"),delete t._targetZoom},200))},p.prototype._smoothOutEasing=function(t){var e=r.ease;if(this._prevEase){var n=this._prevEase,i=(o.now()-n.start)/n.duration,a=n.easing(i+.01)-n.easing(i),s=.27/Math.sqrt(a*a+1e-4)*.01,l=Math.sqrt(.0729-s*s);e=r.bezier(s,l,.25,1)}return this._prevEase={start:o.now(),duration:t,easing:e},e},e.exports=p},{"../../geo/lng_lat":62,"../../style-spec/util/interpolate":158,"../../util/browser":252,"../../util/dom":259,"../../util/util":275,"../../util/window":254}],245:[function(t,e,n){"use strict";var i=t("../../util/dom"),r=t("../../util/util"),o=t("../../util/window"),a=t("../../util/browser"),s=r.bezier(0,0,.15,1),l=function(t){this._map=t,this._el=t.getCanvasContainer(),r.bindAll(["_onStart","_onMove","_onEnd"],this)};l.prototype.isEnabled=function(){return!!this._enabled},l.prototype.enable=function(t){this.isEnabled()||(this._el.classList.add("mapboxgl-touch-zoom-rotate"),i.addEventListener(this._el,"touchstart",this._onStart,{passive:!1}),this._enabled=!0,this._aroundCenter=t&&"center"===t.around)},l.prototype.disable=function(){this.isEnabled()&&(this._el.classList.remove("mapboxgl-touch-zoom-rotate"),i.removeEventListener(this._el,"touchstart",this._onStart,{passive:!1}),this._enabled=!1)},l.prototype.disableRotation=function(){this._rotationDisabled=!0},l.prototype.enableRotation=function(){this._rotationDisabled=!1},l.prototype._onStart=function(t){if(2===t.touches.length){var e=i.mousePos(this._el,t.touches[0]),n=i.mousePos(this._el,t.touches[1]);this._startVec=e.sub(n),this._startScale=this._map.transform.scale,this._startBearing=this._map.transform.bearing,this._gestureIntent=void 0,this._inertia=[],i.addEventListener(o.document,"touchmove",this._onMove,{passive:!1}),i.addEventListener(o.document,"touchend",this._onEnd)}},l.prototype._onMove=function(t){if(2===t.touches.length){var e=i.mousePos(this._el,t.touches[0]),n=i.mousePos(this._el,t.touches[1]),r=e.add(n).div(2),o=e.sub(n),s=o.mag()/this._startVec.mag(),l=this._rotationDisabled?0:180*o.angleWith(this._startVec)/Math.PI,u=this._map;if(this._gestureIntent){var c={duration:0,around:u.unproject(r)};"rotate"===this._gestureIntent&&(c.bearing=this._startBearing+l),"zoom"!==this._gestureIntent&&"rotate"!==this._gestureIntent||(c.zoom=u.transform.scaleZoom(this._startScale*s)),u.stop(),this._drainInertiaBuffer(),this._inertia.push([a.now(),s,r]),u.easeTo(c,{originalEvent:t})}else{var h=Math.abs(1-s)>.15;Math.abs(l)>10?this._gestureIntent="rotate":h&&(this._gestureIntent="zoom"),this._gestureIntent&&(this._startVec=o,this._startScale=u.transform.scale,this._startBearing=u.transform.bearing)}t.preventDefault()}},l.prototype._onEnd=function(t){i.removeEventListener(o.document,"touchmove",this._onMove,{passive:!1}),i.removeEventListener(o.document,"touchend",this._onEnd),this._drainInertiaBuffer();var e=this._inertia,n=this._map;if(e.length<2)return void n.snapToNorth({},{originalEvent:t});var r=e[e.length-1],a=e[0],l=n.transform.scaleZoom(this._startScale*r[1]),u=n.transform.scaleZoom(this._startScale*a[1]),c=l-u,h=(r[0]-a[0])/1e3,p=r[2];if(0===h||l===u)return void n.snapToNorth({},{originalEvent:t});var d=.15*c/h;Math.abs(d)>2.5&&(d=d>0?2.5:-2.5);var f=1e3*Math.abs(d/(12*.15)),y=l+d*f/2e3;y<0&&(y=0),n.easeTo({zoom:y,duration:f,easing:s,around:this._aroundCenter?n.getCenter():n.unproject(p)},{originalEvent:t})},l.prototype._drainInertiaBuffer=function(){for(var t=this._inertia,e=a.now();t.length>2&&e-t[0][0]>160;)t.shift()},e.exports=l},{"../../util/browser":252,"../../util/dom":259,"../../util/util":275,"../../util/window":254}],246:[function(t,e,n){"use strict";var i=t("../util/util"),r=t("../util/window"),o=t("../util/throttle"),a=function(){i.bindAll(["_onHashChange","_updateHash"],this),this._updateHash=o(this._updateHashUnthrottled.bind(this),300)};a.prototype.addTo=function(t){return this._map=t,r.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},a.prototype.remove=function(){return r.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),delete this._map,this},a.prototype.getHashString=function(t){var e=this._map.getCenter(),n=Math.round(100*this._map.getZoom())/100,i=Math.ceil((n*Math.LN2+Math.log(512/360/.5))/Math.LN10),r=Math.pow(10,i),o=Math.round(e.lng*r)/r,a=Math.round(e.lat*r)/r,s=this._map.getBearing(),l=this._map.getPitch(),u="";return u+=t?"#/"+o+"/"+a+"/"+n:"#"+n+"/"+a+"/"+o,(s||l)&&(u+="/"+Math.round(10*s)/10),l&&(u+="/"+Math.round(l)),u},a.prototype._onHashChange=function(){var t=r.location.hash.replace("#","").split("/");return t.length>=3&&(this._map.jumpTo({center:[+t[2],+t[1]],zoom:+t[0],bearing:+(t[3]||0),pitch:+(t[4]||0)}),!0)},a.prototype._updateHashUnthrottled=function(){var t=this.getHashString();r.history.replaceState("","",t)},e.exports=a},{"../util/throttle":272,"../util/util":275,"../util/window":254}],247:[function(t,e,n){"use strict";function i(t){t.parentNode&&t.parentNode.removeChild(t)}var r=t("../util/util"),o=t("../util/browser"),a=t("../util/window"),s=t("../util/window"),l=s.HTMLImageElement,u=s.HTMLElement,c=t("../util/dom"),h=t("../util/ajax"),p=t("../style/style"),d=t("../style/evaluation_parameters"),f=t("../render/painter"),y=t("../geo/transform"),m=t("./hash"),v=t("./bind_handlers"),g=t("./camera"),x=t("../geo/lng_lat"),_=t("../geo/lng_lat_bounds"),b=t("@mapbox/point-geometry"),w=t("./control/attribution_control"),E=t("./control/logo_control"),M=t("@mapbox/mapbox-gl-supported"),T=t("../util/image"),S=T.RGBAImage;t("./events");var A={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:0,maxZoom:22,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,bearingSnap:7,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,transformRequest:null,fadeDuration:300},C=function(t){function e(e){if(e=r.extend({},A,e),null!=e.minZoom&&null!=e.maxZoom&&e.minZoom>e.maxZoom)throw new Error("maxZoom must be greater than minZoom");var n=new y(e.minZoom,e.maxZoom,e.renderWorldCopies);t.call(this,n,e),this._interactive=e.interactive,this._maxTileCacheSize=e.maxTileCacheSize,this._failIfMajorPerformanceCaveat=e.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=e.preserveDrawingBuffer,this._trackResize=e.trackResize,this._bearingSnap=e.bearingSnap,this._refreshExpiredTiles=e.refreshExpiredTiles,this._fadeDuration=e.fadeDuration,this._crossFadingFactor=1,this._collectResourceTiming=e.collectResourceTiming;var i=e.transformRequest;if(this._transformRequest=i?function(t,e){return i(t,e)||{url:t}}:function(t){return{url:t}},"string"==typeof e.container){var o=a.document.getElementById(e.container);if(!o)throw new Error("Container '"+e.container+"' not found.");this._container=o}else{if(!(e.container instanceof u))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=e.container}e.maxBounds&&this.setMaxBounds(e.maxBounds),r.bindAll(["_onWindowOnline","_onWindowResize","_contextLost","_contextRestored","_update","_render","_onData","_onDataLoading"],this),this._setupContainer(),this._setupPainter(),this.on("move",this._update.bind(this,!1)),this.on("zoom",this._update.bind(this,!0)),void 0!==a&&(a.addEventListener("online",this._onWindowOnline,!1),a.addEventListener("resize",this._onWindowResize,!1)),v(this,e),this._hash=e.hash&&(new m).addTo(this),this._hash&&this._hash._onHashChange()||this.jumpTo({center:e.center,zoom:e.zoom,bearing:e.bearing,pitch:e.pitch}),this.resize(),e.style&&this.setStyle(e.style,{localIdeographFontFamily:e.localIdeographFontFamily}),e.attributionControl&&this.addControl(new w),this.addControl(new E,e.logoPosition),this.on("style.load",function(){this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",this._onData),this.on("dataloading",this._onDataLoading)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={showTileBoundaries:{},showCollisionBoxes:{},showOverdrawInspector:{},repaint:{},vertices:{}};return e.prototype.addControl=function(t,e){void 0===e&&t.getDefaultPosition&&(e=t.getDefaultPosition()),void 0===e&&(e="top-right");var n=t.onAdd(this),i=this._controlPositions[e];return-1!==e.indexOf("bottom")?i.insertBefore(n,i.firstChild):i.appendChild(n),this},e.prototype.removeControl=function(t){return t.onRemove(this),this},e.prototype.resize=function(){var t=this._containerDimensions(),e=t[0],n=t[1];return this._resizeCanvas(e,n),this.transform.resize(e,n),this.painter.resize(e,n),this.fire("movestart").fire("move").fire("resize").fire("moveend")},e.prototype.getBounds=function(){var t=new _(this.transform.pointLocation(new b(0,this.transform.height)),this.transform.pointLocation(new b(this.transform.width,0)));return(this.transform.angle||this.transform.pitch)&&(t.extend(this.transform.pointLocation(new b(this.transform.size.x,0))),t.extend(this.transform.pointLocation(new b(0,this.transform.size.y)))),t},e.prototype.getMaxBounds=function(){return this.transform.latRange&&2===this.transform.latRange.length&&this.transform.lngRange&&2===this.transform.lngRange.length?new _([this.transform.lngRange[0],this.transform.latRange[0]],[this.transform.lngRange[1],this.transform.latRange[1]]):null},e.prototype.setMaxBounds=function(t){if(t){var e=_.convert(t);this.transform.lngRange=[e.getWest(),e.getEast()],this.transform.latRange=[e.getSouth(),e.getNorth()],this.transform._constrain(),this._update()}else null!==t&&void 0!==t||(this.transform.lngRange=null,this.transform.latRange=null,this._update());return this},e.prototype.setMinZoom=function(t){if((t=null===t||void 0===t?0:t)>=0&&t<=this.transform.maxZoom)return this.transform.minZoom=t,this._update(),this.getZoom()<t&&this.setZoom(t),this;throw new Error("minZoom must be between 0 and the current maxZoom, inclusive")},e.prototype.getMinZoom=function(){return this.transform.minZoom},e.prototype.setMaxZoom=function(t){if((t=null===t||void 0===t?22:t)>=this.transform.minZoom)return this.transform.maxZoom=t,this._update(),this.getZoom()>t&&this.setZoom(t),this;throw new Error("maxZoom must be greater than the current minZoom")},e.prototype.getMaxZoom=function(){return this.transform.maxZoom},e.prototype.project=function(t){return this.transform.locationPoint(x.convert(t))},e.prototype.unproject=function(t){return this.transform.pointLocation(b.convert(t))},e.prototype.on=function(e,n,i){var o=this;if(void 0===i)return t.prototype.on.call(this,e,n);var a=function(){if("mouseenter"===e||"mouseover"===e){var t=!1;return{layer:n,listener:i,delegates:{mousemove:function(a){var s=o.getLayer(n)?o.queryRenderedFeatures(a.point,{layers:[n]}):[];s.length?t||(t=!0,i.call(o,r.extend({features:s},a,{type:e}))):t=!1},mouseout:function(){t=!1}}}}if("mouseleave"===e||"mouseout"===e){var a=!1;return{layer:n,listener:i,delegates:{mousemove:function(t){(o.getLayer(n)?o.queryRenderedFeatures(t.point,{layers:[n]}):[]).length?a=!0:a&&(a=!1,i.call(o,r.extend({},t,{type:e})))},mouseout:function(t){a&&(a=!1,i.call(o,r.extend({},t,{type:e})))}}}}var s=function(t){var e=o.getLayer(n)?o.queryRenderedFeatures(t.point,{layers:[n]}):[];e.length&&i.call(o,r.extend({features:e},t))};return{layer:n,listener:i,delegates:(l={},l[e]=s,l)};var l}();this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[e]=this._delegatedListeners[e]||[],this._delegatedListeners[e].push(a);for(var s in a.delegates)o.on(s,a.delegates[s]);return this},e.prototype.off=function(e,n,i){var r=this;if(void 0===i)return t.prototype.off.call(this,e,n);if(this._delegatedListeners&&this._delegatedListeners[e])for(var o=this._delegatedListeners[e],a=0;a<o.length;a++){var s=o[a];if(s.layer===n&&s.listener===i){for(var l in s.delegates)r.off(l,s.delegates[l]);return o.splice(a,1),r}}return this},e.prototype.queryRenderedFeatures=function(t,e){return 2===arguments.length?(t=arguments[0],e=arguments[1]):1===arguments.length&&function(t){return t instanceof b||Array.isArray(t)}(arguments[0])?(t=arguments[0],e={}):1===arguments.length?(t=void 0,e=arguments[0]):(t=void 0,e={}),this.style?this.style.queryRenderedFeatures(this._makeQueryGeometry(t),e,this.transform.zoom,this.transform.angle):[]},e.prototype._makeQueryGeometry=function(t){var e=this;void 0===t&&(t=[b.convert([0,0]),b.convert([this.transform.width,this.transform.height])]);var n;if(t instanceof b||"number"==typeof t[0])n=[b.convert(t)];else{var i=[b.convert(t[0]),b.convert(t[1])];n=[i[0],new b(i[1].x,i[0].y),i[1],new b(i[0].x,i[1].y),i[0]]}return n=n.map(function(t){return e.transform.pointCoordinate(t)})},e.prototype.querySourceFeatures=function(t,e){return this.style.querySourceFeatures(t,e)},e.prototype.setStyle=function(t,e){if((!e||!1!==e.diff&&!e.localIdeographFontFamily)&&this.style&&t&&"object"==typeof t)try{return this.style.setState(t)&&this._update(!0),this}catch(t){r.warnOnce("Unable to perform style diff: "+(t.message||t.error||t)+".  Rebuilding the style from scratch.")}return this.style&&(this.style.setEventedParent(null),this.style._remove()),t?(this.style=new p(this,e||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof t?this.style.loadURL(t):this.style.loadJSON(t),this):(delete this.style,this)},e.prototype.getStyle=function(){if(this.style)return this.style.serialize()},e.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():r.warnOnce("There is no style added to the map.")},e.prototype.addSource=function(t,e){return this.style.addSource(t,e),this._update(!0),this},e.prototype.isSourceLoaded=function(t){var e=this.style&&this.style.sourceCaches[t];return void 0===e?void this.fire("error",{error:new Error("There is no source with ID '"+t+"'")}):e.loaded()},e.prototype.areTilesLoaded=function(){var t=this.style&&this.style.sourceCaches;for(var e in t){var n=t[e],i=n._tiles;for(var r in i){var o=i[r];if("loaded"!==o.state&&"errored"!==o.state)return!1}}return!0},e.prototype.addSourceType=function(t,e,n){return this.style.addSourceType(t,e,n)},e.prototype.removeSource=function(t){return this.style.removeSource(t),this._update(!0),this},e.prototype.getSource=function(t){return this.style.getSource(t)},e.prototype.addImage=function(t,e,n){void 0===n&&(n={});var i=n.pixelRatio;void 0===i&&(i=1);var r=n.sdf;if(void 0===r&&(r=!1),e instanceof l){var a=o.getImageData(e),s=a.width,u=a.height,c=a.data;this.style.addImage(t,{data:new S({width:s,height:u},c),pixelRatio:i,sdf:r})}else{if(void 0===e.width||void 0===e.height)return this.fire("error",{error:new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")});var h=e.width,p=e.height,d=e.data;this.style.addImage(t,{data:new S({width:h,height:p},d.slice(0)),pixelRatio:i,sdf:r})}},e.prototype.hasImage=function(t){return t?!!this.style.getImage(t):(this.fire("error",{error:new Error("Missing required image id")}),!1)},e.prototype.removeImage=function(t){this.style.removeImage(t)},e.prototype.loadImage=function(t,e){h.getImage(this._transformRequest(t,h.ResourceType.Image),e)},e.prototype.addLayer=function(t,e){return this.style.addLayer(t,e),this._update(!0),this},e.prototype.moveLayer=function(t,e){return this.style.moveLayer(t,e),this._update(!0),this},e.prototype.removeLayer=function(t){return this.style.removeLayer(t),this._update(!0),this},e.prototype.getLayer=function(t){return this.style.getLayer(t)},e.prototype.setFilter=function(t,e){return this.style.setFilter(t,e),this._update(!0),this},e.prototype.setLayerZoomRange=function(t,e,n){return this.style.setLayerZoomRange(t,e,n),this._update(!0),this},e.prototype.getFilter=function(t){return this.style.getFilter(t)},e.prototype.setPaintProperty=function(t,e,n){return this.style.setPaintProperty(t,e,n),this._update(!0),this},e.prototype.getPaintProperty=function(t,e){return this.style.getPaintProperty(t,e)},e.prototype.setLayoutProperty=function(t,e,n){return this.style.setLayoutProperty(t,e,n),this._update(!0),this},e.prototype.getLayoutProperty=function(t,e){return this.style.getLayoutProperty(t,e)},e.prototype.setLight=function(t){return this.style.setLight(t),this._update(!0),this},e.prototype.getLight=function(){return this.style.getLight()},e.prototype.getContainer=function(){return this._container},e.prototype.getCanvasContainer=function(){return this._canvasContainer},e.prototype.getCanvas=function(){return this._canvas},e.prototype._containerDimensions=function(){var t=0,e=0;return this._container&&(t=this._container.offsetWidth||400,e=this._container.offsetHeight||300),[t,e]},e.prototype._setupContainer=function(){var t=this._container;t.classList.add("mapboxgl-map"),(this._missingCSSContainer=c.create("div","mapboxgl-missing-css",t)).innerHTML="Missing Mapbox GL JS CSS";var e=this._canvasContainer=c.create("div","mapboxgl-canvas-container",t);this._interactive&&e.classList.add("mapboxgl-interactive"),this._canvas=c.create("canvas","mapboxgl-canvas",e),this._canvas.style.position="absolute",this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map");var n=this._containerDimensions();this._resizeCanvas(n[0],n[1]);var i=this._controlContainer=c.create("div","mapboxgl-control-container",t),r=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(t){r[t]=c.create("div","mapboxgl-ctrl-"+t,i)})},e.prototype._resizeCanvas=function(t,e){var n=a.devicePixelRatio||1;this._canvas.width=n*t,this._canvas.height=n*e,this._canvas.style.width=t+"px",this._canvas.style.height=e+"px"},e.prototype._setupPainter=function(){var t=r.extend({failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer},M.webGLContextAttributes),e=this._canvas.getContext("webgl",t)||this._canvas.getContext("experimental-webgl",t);if(!e)return void this.fire("error",{error:new Error("Failed to initialize WebGL")});this.painter=new f(e,this.transform)},e.prototype._contextLost=function(t){t.preventDefault(),this._frameId&&(o.cancelFrame(this._frameId),this._frameId=null),this.fire("webglcontextlost",{originalEvent:t})},e.prototype._contextRestored=function(t){this._setupPainter(),this.resize(),this._update(),this.fire("webglcontextrestored",{originalEvent:t})},e.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!(!this.style||!this.style.loaded())},e.prototype._update=function(t){this.style&&(this._styleDirty=this._styleDirty||t,this._sourcesDirty=!0,this._rerender())},e.prototype._render=function(){this._updateCamera();var t=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var e=this.transform.zoom,n=o.now();this.style.zoomHistory.update(e,n);var i=new d(e,{now:n,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),r=i.crossFadingFactor();1===r&&r===this._crossFadingFactor||(t=!0,this._crossFadingFactor=r),this.style.update(i)}return this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.rotating,zooming:this.zooming,fadeDuration:this._fadeDuration}),this.fire("render"),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire("load")),this.style&&(this.style.hasTransitions()||t)&&(this._styleDirty=!0),(this._sourcesDirty||this._repaint||this._styleDirty||this._placementDirty)&&this._rerender(),this},e.prototype.remove=function(){this._hash&&this._hash.remove(),o.cancelFrame(this._frameId),this._frameId=null,this.setStyle(null),void 0!==a&&(a.removeEventListener("resize",this._onWindowResize,!1),a.removeEventListener("online",this._onWindowOnline,!1));var t=this.painter.context.gl.getExtension("WEBGL_lose_context");t&&t.loseContext(),i(this._canvasContainer),i(this._controlContainer),i(this._missingCSSContainer),this._container.classList.remove("mapboxgl-map"),this.fire("remove")},e.prototype._rerender=function(){var t=this;this.style&&!this._frameId&&(this._frameId=o.frame(function(){t._frameId=null,t._render()}))},e.prototype._onWindowOnline=function(){this._update()},e.prototype._onWindowResize=function(){this._trackResize&&this.stop().resize()._update()},n.showTileBoundaries.get=function(){return!!this._showTileBoundaries},n.showTileBoundaries.set=function(t){this._showTileBoundaries!==t&&(this._showTileBoundaries=t,this._update())},n.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},n.showCollisionBoxes.set=function(t){this._showCollisionBoxes!==t&&(this._showCollisionBoxes=t,t?this.style._generateCollisionBoxes():this._update())},n.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},n.showOverdrawInspector.set=function(t){this._showOverdrawInspector!==t&&(this._showOverdrawInspector=t,this._update())},n.repaint.get=function(){return!!this._repaint},n.repaint.set=function(t){this._repaint=t,this._update()},n.vertices.get=function(){return!!this._vertices},n.vertices.set=function(t){this._vertices=t,this._update()},e.prototype._onData=function(t){this._update("style"===t.dataType),this.fire(t.dataType+"data",t)},e.prototype._onDataLoading=function(t){this.fire(t.dataType+"dataloading",t)},Object.defineProperties(e.prototype,n),e}(g);e.exports=C},{"../geo/lng_lat":62,"../geo/lng_lat_bounds":63,"../geo/transform":64,"../render/painter":90,"../style/evaluation_parameters":182,"../style/style":190,"../util/ajax":251,"../util/browser":252,"../util/dom":259,"../util/image":263,"../util/util":275,"../util/window":254,"./bind_handlers":230,"./camera":231,"./control/attribution_control":232,"./control/logo_control":235,"./events":238,"./hash":246,"@mapbox/mapbox-gl-supported":3,"@mapbox/point-geometry":4}],248:[function(t,e,n){"use strict";var i=t("../util/dom"),r=t("../geo/lng_lat"),o=t("@mapbox/point-geometry"),a=t("../util/smart_wrap"),s=t("../util/util"),l=s.bindAll,u=function(t,e){if(l(["_update","_onMapClick"],this),!t){t=i.create("div");var n=i.createNS("http://www.w3.org/2000/svg","svg");n.setAttributeNS(null,"height","41px"),n.setAttributeNS(null,"width","27px"),n.setAttributeNS(null,"viewBox","0 0 27 41");var r=i.createNS("http://www.w3.org/2000/svg","g");r.setAttributeNS(null,"stroke","none"),r.setAttributeNS(null,"stroke-width","1"),r.setAttributeNS(null,"fill","none"),r.setAttributeNS(null,"fill-rule","evenodd");var a=i.createNS("http://www.w3.org/2000/svg","g");a.setAttributeNS(null,"fill-rule","nonzero");var s=i.createNS("http://www.w3.org/2000/svg","g");s.setAttributeNS(null,"transform","translate(3.0, 29.0)"),s.setAttributeNS(null,"fill","#000000");for(var u=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}],c=0,h=u;c<h.length;c+=1){var p=h[c],d=i.createNS("http://www.w3.org/2000/svg","ellipse");d.setAttributeNS(null,"opacity","0.04"),d.setAttributeNS(null,"cx","10.5"),d.setAttributeNS(null,"cy","5.80029008"),d.setAttributeNS(null,"rx",p.rx),d.setAttributeNS(null,"ry",p.ry),s.appendChild(d)}var f=i.createNS("http://www.w3.org/2000/svg","g");f.setAttributeNS(null,"fill","#3FB1CE");var y=i.createNS("http://www.w3.org/2000/svg","path");y.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),f.appendChild(y);var m=i.createNS("http://www.w3.org/2000/svg","g");m.setAttributeNS(null,"opacity","0.25"),m.setAttributeNS(null,"fill","#000000");var v=i.createNS("http://www.w3.org/2000/svg","path");v.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),m.appendChild(v);var g=i.createNS("http://www.w3.org/2000/svg","g");g.setAttributeNS(null,"transform","translate(6.0, 7.0)"),g.setAttributeNS(null,"fill","#FFFFFF");var x=i.createNS("http://www.w3.org/2000/svg","g");x.setAttributeNS(null,"transform","translate(8.0, 8.0)");var _=i.createNS("http://www.w3.org/2000/svg","circle");_.setAttributeNS(null,"fill","#000000"),_.setAttributeNS(null,"opacity","0.25"),_.setAttributeNS(null,"cx","5.5"),_.setAttributeNS(null,"cy","5.5"),_.setAttributeNS(null,"r","5.4999962");var b=i.createNS("http://www.w3.org/2000/svg","circle");b.setAttributeNS(null,"fill","#FFFFFF"),b.setAttributeNS(null,"cx","5.5"),b.setAttributeNS(null,"cy","5.5"),b.setAttributeNS(null,"r","5.4999962"),x.appendChild(_),x.appendChild(b),a.appendChild(s),a.appendChild(f),a.appendChild(m),a.appendChild(g),a.appendChild(x),n.appendChild(a),t.appendChild(n);var w=[0,-14];e&&e.offset||(e?e.offset=w:e={offset:w})}this._offset=o.convert(e&&e.offset||[0,0]),t.classList.add("mapboxgl-marker"),this._element=t,this._popup=null};u.prototype.addTo=function(t){return this.remove(),this._map=t,t.getCanvasContainer().appendChild(this._element),t.on("move",this._update),t.on("moveend",this._update),this._update(),this._map.on("click",this._onMapClick),this},u.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),delete this._map),i.remove(this._element),this._popup&&this._popup.remove(),this},u.prototype.getLngLat=function(){return this._lngLat},u.prototype.setLngLat=function(t){return this._lngLat=r.convert(t),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},u.prototype.getElement=function(){return this._element},u.prototype.setPopup=function(t){return this._popup&&(this._popup.remove(),this._popup=null),t&&("offset"in t.options||(t.options.offset=this._offset),this._popup=t,this._lngLat&&this._popup.setLngLat(this._lngLat)),this},u.prototype._onMapClick=function(t){var e=t.originalEvent.target,n=this._element;this._popup&&(e===n||n.contains(e))&&this.togglePopup()},u.prototype.getPopup=function(){return this._popup},u.prototype.togglePopup=function(){var t=this._popup;return t?(t.isOpen()?t.remove():t.addTo(this._map),this):this},u.prototype._update=function(t){this._map&&(this._map.transform.renderWorldCopies&&(this._lngLat=a(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset),t&&"moveend"!==t.type||(this._pos=this._pos.round()),i.setTransform(this._element,"translate(-50%, -50%) translate("+this._pos.x+"px, "+this._pos.y+"px)"))},u.prototype.getOffset=function(){return this._offset},u.prototype.setOffset=function(t){return this._offset=o.convert(t),this._update(),this},e.exports=u},{"../geo/lng_lat":62,"../util/dom":259,"../util/smart_wrap":270,"../util/util":275,"@mapbox/point-geometry":4}],249:[function(t,e,n){"use strict";function i(t){if(t){if("number"==typeof t){var e=Math.round(Math.sqrt(.5*Math.pow(t,2)));return{top:new l(0,t),"top-left":new l(e,e),"top-right":new l(-e,e),bottom:new l(0,-t),"bottom-left":new l(e,-e),"bottom-right":new l(-e,-e),left:new l(t,0),right:new l(-t,0)}}if(t instanceof l||Array.isArray(t)){var n=l.convert(t);return{top:n,"top-left":n,"top-right":n,bottom:n,"bottom-left":n,"bottom-right":n,left:n,right:n}}return{top:l.convert(t.top||[0,0]),"top-left":l.convert(t["top-left"]||[0,0]),"top-right":l.convert(t["top-right"]||[0,0]),bottom:l.convert(t.bottom||[0,0]),"bottom-left":l.convert(t["bottom-left"]||[0,0]),"bottom-right":l.convert(t["bottom-right"]||[0,0]),left:l.convert(t.left||[0,0]),right:l.convert(t.right||[0,0])}}return i(new l(0,0))}var r=t("../util/util"),o=t("../util/evented"),a=t("../util/dom"),s=t("../geo/lng_lat"),l=t("@mapbox/point-geometry"),u=t("../util/window"),c=t("../util/smart_wrap"),h={closeButton:!0,closeOnClick:!0},p=function(t){function e(e){t.call(this),this.options=r.extend(Object.create(h),e),r.bindAll(["_update","_onClickClose"],this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addTo=function(t){return this._map=t,this._map.on("move",this._update),this.options.closeOnClick&&this._map.on("click",this._onClickClose),this._update(),this},e.prototype.isOpen=function(){return!!this._map},e.prototype.remove=function(){return this._content&&a.remove(this._content),this._container&&(a.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("click",this._onClickClose),delete this._map),this.fire("close"),this},e.prototype.getLngLat=function(){return this._lngLat},e.prototype.setLngLat=function(t){return this._lngLat=s.convert(t),this._pos=null,this._update(),this},e.prototype.setText=function(t){return this.setDOMContent(u.document.createTextNode(t))},e.prototype.setHTML=function(t){var e,n=u.document.createDocumentFragment(),i=u.document.createElement("body");for(i.innerHTML=t;e=i.firstChild;)n.appendChild(e);return this.setDOMContent(n)},e.prototype.setDOMContent=function(t){return this._createContent(),this._content.appendChild(t),this._update(),this},e.prototype._createContent=function(){this._content&&a.remove(this._content),this._content=a.create("div","mapboxgl-popup-content",this._container),this.options.closeButton&&(this._closeButton=a.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClickClose))},e.prototype._update=function(){if(this._map&&this._lngLat&&this._content){this._container||(this._container=a.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=a.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content)),this._map.transform.renderWorldCopies&&(this._lngLat=c(this._lngLat,this._pos,this._map.transform));var t=this._pos=this._map.project(this._lngLat),e=this.options.anchor,n=i(this.options.offset);if(!e){var r=this._container.offsetWidth,o=this._container.offsetHeight;e=t.y+n.bottom.y<o?["top"]:t.y>this._map.transform.height-o?["bottom"]:[],t.x<r/2?e.push("left"):t.x>this._map.transform.width-r/2&&e.push("right"),e=0===e.length?"bottom":e.join("-")}var s=t.add(n[e]).round(),l={top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"},u=this._container.classList;for(var h in l)u.remove("mapboxgl-popup-anchor-"+h);u.add("mapboxgl-popup-anchor-"+e),a.setTransform(this._container,l[e]+" translate("+s.x+"px,"+s.y+"px)")}},e.prototype._onClickClose=function(){this.remove()},e}(o);e.exports=p},{"../geo/lng_lat":62,"../util/dom":259,"../util/evented":260,"../util/smart_wrap":270,"../util/util":275,"../util/window":254,"@mapbox/point-geometry":4}],250:[function(t,e,n){"use strict";var i=t("./util"),r=t("./web_worker_transfer"),o=r.serialize,a=r.deserialize,s=function(t,e,n){this.target=t,this.parent=e,this.mapId=n,this.callbacks={},this.callbackID=0,i.bindAll(["receive"],this),this.target.addEventListener("message",this.receive,!1)};s.prototype.send=function(t,e,n,i){var r=n?this.mapId+":"+this.callbackID++:null;n&&(this.callbacks[r]=n);var a=[];this.target.postMessage({targetMapId:i,sourceMapId:this.mapId,type:t,id:String(r),data:o(e,a)},a)},s.prototype.receive=function(t){var e,n=this,i=t.data,r=i.id;if(!i.targetMapId||this.mapId===i.targetMapId){var s=function(t,e){var i=[];n.target.postMessage({sourceMapId:n.mapId,type:"<response>",id:String(r),error:t?String(t):null,data:o(e,i)},i)};if("<response>"===i.type)e=this.callbacks[i.id],delete this.callbacks[i.id],e&&i.error?e(new Error(i.error)):e&&e(null,a(i.data));else if(void 0!==i.id&&this.parent[i.type])this.parent[i.type](i.sourceMapId,a(i.data),s);else if(void 0!==i.id&&this.parent.getWorkerSource){var l=i.type.split("."),u=this.parent.getWorkerSource(i.sourceMapId,l[0]);u[l[1]](a(i.data),s)}else this.parent[i.type](a(i.data))}},s.prototype.remove=function(){this.target.removeEventListener("message",this.receive,!1)},e.exports=s},{"./util":275,"./web_worker_transfer":278}],251:[function(t,e,n){"use strict";function i(t){var e=new o.XMLHttpRequest;e.open("GET",t.url,!0);for(var n in t.headers)e.setRequestHeader(n,t.headers[n]);return e.withCredentials="include"===t.credentials,e}function r(t){var e=o.document.createElement("a");return e.href=t,e.protocol===o.document.location.protocol&&e.host===o.document.location.host}var o=t("./window"),a={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};n.ResourceType=a,"function"==typeof Object.freeze&&Object.freeze(a);var s=function(t){function e(e,n){t.call(this,e),this.status=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error);n.getJSON=function(t,e){var n=i(t);return n.setRequestHeader("Accept","application/json"),n.onerror=function(){e(new Error(n.statusText))},n.onload=function(){if(n.status>=200&&n.status<300&&n.response){var t;try{t=JSON.parse(n.response)}catch(t){return e(t)}e(null,t)}else e(new s(n.statusText,n.status))},n.send(),n},n.getArrayBuffer=function(t,e){var n=i(t);return n.responseType="arraybuffer",n.onerror=function(){e(new Error(n.statusText))},n.onload=function(){var t=n.response;if(0===t.byteLength&&200===n.status)return e(new Error("http status 200 returned without content."));n.status>=200&&n.status<300&&n.response?e(null,{data:t,cacheControl:n.getResponseHeader("Cache-Control"),expires:n.getResponseHeader("Expires")}):e(new s(n.statusText,n.status))},n.send(),n};n.getImage=function(t,e){return n.getArrayBuffer(t,function(t,n){if(t)e(t);else if(n){var i=new o.Image,r=o.URL||o.webkitURL;i.onload=function(){e(null,i),r.revokeObjectURL(i.src)};var a=new o.Blob([new Uint8Array(n.data)],{type:"image/png"});i.cacheControl=n.cacheControl,i.expires=n.expires,i.src=n.data.byteLength?r.createObjectURL(a):"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII="}})},n.getVideo=function(t,e){var n=o.document.createElement("video");n.onloadstart=function(){e(null,n)};for(var i=0;i<t.length;i++){var a=o.document.createElement("source");r(t[i])||(n.crossOrigin="Anonymous"),a.src=t[i],n.appendChild(a)}return n}},{"./window":254}],252:[function(t,e,n){"use strict";var i=t("./window"),r=i.performance&&i.performance.now?i.performance.now.bind(i.performance):Date.now.bind(Date),o=i.requestAnimationFrame||i.mozRequestAnimationFrame||i.webkitRequestAnimationFrame||i.msRequestAnimationFrame,a=i.cancelAnimationFrame||i.mozCancelAnimationFrame||i.webkitCancelAnimationFrame||i.msCancelAnimationFrame;e.exports={now:r,frame:function(t){return o(t)},cancelFrame:function(t){return a(t)},getImageData:function(t){var e=i.document.createElement("canvas"),n=e.getContext("2d");if(!n)throw new Error("failed to create canvas 2d context");return e.width=t.width,e.height=t.height,n.drawImage(t,0,0,t.width,t.height),n.getImageData(0,0,t.width,t.height)},hardwareConcurrency:i.navigator.hardwareConcurrency||4,get devicePixelRatio(){return i.devicePixelRatio},supportsWebp:!1};var s=i.document.createElement("img");s.onload=function(){e.exports.supportsWebp=!0},s.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="},{"./window":254}],253:[function(t,e,n){"use strict";var i=t("webworkify"),r=t("../window"),o=r.URL.createObjectURL(new i(t("../../source/worker"),{bare:!0}));e.exports=function(){return new r.Worker(o)}},{"../../source/worker":118,"../window":254,webworkify:36}],254:[function(t,e,n){"use strict";e.exports=self},{}],255:[function(t,e,n){"use strict";function i(t,e){return e.area-t.area}var r=t("quickselect"),o=t("./util").calculateSignedArea;e.exports=function(t,e){var n=t.length;if(n<=1)return[t];for(var a,s,l=[],u=0;u<n;u++){var c=o(t[u]);0!==c&&(t[u].area=Math.abs(c),void 0===s&&(s=c<0),s===c<0?(a&&l.push(a),a=[t[u]]):a.push(t[u]))}if(a&&l.push(a),e>1)for(var h=0;h<l.length;h++)l[h].length<=e||(r(l[h],e,1,l[h].length-1,i),l[h]=l[h].slice(0,e));return l}},{"./util":275,quickselect:31}],256:[function(t,e,n){"use strict";var i={API_URL:"https://api.mapbox.com",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null};e.exports=i},{}],257:[function(t,e,n){"use strict";var i=function(t){var e=this;this._stringToNumber={},this._numberToString=[];for(var n=0;n<t.length;n++){var i=t[n];e._stringToNumber[i]=n,e._numberToString[n]=i}};i.prototype.encode=function(t){return this._stringToNumber[t]},i.prototype.decode=function(t){return this._numberToString[t]},e.exports=i},{}],258:[function(t,e,n){"use strict";var i=t("./util"),r=t("./actor"),o=function(t,e){var n=this;this.workerPool=t,this.actors=[],this.currentActor=0,this.id=i.uniqueId();for(var o=this.workerPool.acquire(this.id),a=0;a<o.length;a++){var s=o[a],l=new r(s,e,n.id);l.name="Worker "+a,n.actors.push(l)}};o.prototype.broadcast=function(t,e,n){n=n||function(){},i.asyncAll(this.actors,function(n,i){n.send(t,e,i)},n)},o.prototype.send=function(t,e,n,i){return("number"!=typeof i||isNaN(i))&&(i=this.currentActor=(this.currentActor+1)%this.actors.length),this.actors[i].send(t,e,n),i},o.prototype.remove=function(){this.actors.forEach(function(t){t.remove()}),this.actors=[],this.workerPool.release(this.id)},e.exports=o},{"./actor":250,"./util":275}],259:[function(t,e,n){"use strict";function i(t){for(var e=0;e<t.length;e++)if(t[e]in s)return t[e];return t[0]}var r=t("@mapbox/point-geometry"),o=t("./window");n.create=function(t,e,n){var i=o.document.createElement(t);return e&&(i.className=e),n&&n.appendChild(i),i},n.createNS=function(t,e){return o.document.createElementNS(t,e)};var a,s=o.document.documentElement.style,l=i(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);n.disableDrag=function(){l&&(a=s[l],s[l]="none")},n.enableDrag=function(){l&&(s[l]=a)};var u=i(["transform","WebkitTransform"]);n.setTransform=function(t,e){t.style[u]=e};var c=!1;try{var h=Object.defineProperty({},"passive",{get:function(){c=!0}});o.addEventListener("test",h,h),o.removeEventListener("test",h,h)}catch(t){c=!1}n.addEventListener=function(t,e,n,i){void 0===i&&(i={}),"passive"in i&&c?t.addEventListener(e,n,i):t.addEventListener(e,n,i.capture)},n.removeEventListener=function(t,e,n,i){void 0===i&&(i={}),"passive"in i&&c?t.removeEventListener(e,n,i):t.removeEventListener(e,n,i.capture)};var p=function(t){t.preventDefault(),t.stopPropagation(),o.removeEventListener("click",p,!0)};n.suppressClick=function(){o.addEventListener("click",p,!0),o.setTimeout(function(){o.removeEventListener("click",p,!0)},0)},n.mousePos=function(t,e){var n=t.getBoundingClientRect();return e=e.touches?e.touches[0]:e,new r(e.clientX-n.left-t.clientLeft,e.clientY-n.top-t.clientTop)},n.touchPos=function(t,e){for(var n=t.getBoundingClientRect(),i=[],o="touchend"===e.type?e.changedTouches:e.touches,a=0;a<o.length;a++)i.push(new r(o[a].clientX-n.left-t.clientLeft,o[a].clientY-n.top-t.clientTop));return i},n.remove=function(t){t.parentNode&&t.parentNode.removeChild(t)}},{"./window":254,"@mapbox/point-geometry":4}],260:[function(t,e,n){"use strict";function i(t,e,n){n[t]=n[t]||[],n[t].push(e)}function r(t,e,n){if(n&&n[t]){var i=n[t].indexOf(e);-1!==i&&n[t].splice(i,1)}}var o=t("./util"),a=function(){};a.prototype.on=function(t,e){return this._listeners=this._listeners||{},i(t,e,this._listeners),this},a.prototype.off=function(t,e){return r(t,e,this._listeners),r(t,e,this._oneTimeListeners),this},a.prototype.once=function(t,e){return this._oneTimeListeners=this._oneTimeListeners||{},i(t,e,this._oneTimeListeners),this},a.prototype.fire=function(t,e){var n=this;if(this.listens(t)){e=o.extend({},e,{type:t,target:this});for(var i=this._listeners&&this._listeners[t]?this._listeners[t].slice():[],a=0,s=i;a<s.length;a+=1)s[a].call(n,e);for(var l=this._oneTimeListeners&&this._oneTimeListeners[t]?this._oneTimeListeners[t].slice():[],u=0,c=l;u<c.length;u+=1){var h=c[u];r(t,h,n._oneTimeListeners),h.call(n,e)}this._eventedParent&&this._eventedParent.fire(t,o.extend({},e,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData))}else o.endsWith(t,"error")&&console.error(e&&e.error||e||"Empty error event");return this},a.prototype.listens=function(t){return this._listeners&&this._listeners[t]&&this._listeners[t].length>0||this._oneTimeListeners&&this._oneTimeListeners[t]&&this._oneTimeListeners[t].length>0||this._eventedParent&&this._eventedParent.listens(t)},a.prototype.setEventedParent=function(t,e){return this._eventedParent=t,this._eventedParentData=e,this},e.exports=a},{"./util":275}],261:[function(t,e,n){"use strict";function i(t,e){return e.max-t.max}function r(t,e,n,i){this.p=new l(t,e),this.h=n,this.d=o(this.p,i),this.max=this.d+this.h*Math.SQRT2}function o(t,e){for(var n=!1,i=1/0,r=0;r<e.length;r++)for(var o=e[r],a=0,s=o.length,l=s-1;a<s;l=a++){var c=o[a],h=o[l];c.y>t.y!=h.y>t.y&&t.x<(h.x-c.x)*(t.y-c.y)/(h.y-c.y)+c.x&&(n=!n),i=Math.min(i,u(t,c,h))}return(n?1:-1)*Math.sqrt(i)}function a(t){for(var e=0,n=0,i=0,o=t[0],a=0,s=o.length,l=s-1;a<s;l=a++){var u=o[a],c=o[l],h=u.x*c.y-c.x*u.y;n+=(u.x+c.x)*h,i+=(u.y+c.y)*h,e+=3*h}return new r(n/e,i/e,0,t)}var s=t("tinyqueue"),l=t("@mapbox/point-geometry"),u=t("./intersection_tests").distToSegmentSquared;e.exports=function(t,e,n){void 0===e&&(e=1),void 0===n&&(n=!1);for(var o=1/0,u=1/0,c=-1/0,h=-1/0,p=t[0],d=0;d<p.length;d++){var f=p[d];(!d||f.x<o)&&(o=f.x),(!d||f.y<u)&&(u=f.y),(!d||f.x>c)&&(c=f.x),(!d||f.y>h)&&(h=f.y)}var y=c-o,m=h-u,v=Math.min(y,m),g=v/2,x=new s(null,i);if(0===v)return new l(o,u);for(var _=o;_<c;_+=v)for(var b=u;b<h;b+=v)x.push(new r(_+g,b+g,g,t));for(var w=a(t),E=x.length;x.length;){var M=x.pop();(M.d>w.d||!w.d)&&(w=M,n&&console.log("found best %d after %d probes",Math.round(1e4*M.d)/1e4,E)),M.max-w.d<=e||(g=M.h/2,x.push(new r(M.p.x-g,M.p.y-g,g,t)),x.push(new r(M.p.x+g,M.p.y-g,g,t)),x.push(new r(M.p.x-g,M.p.y+g,g,t)),x.push(new r(M.p.x+g,M.p.y+g,g,t)),E+=4)}return n&&(console.log("num probes: "+E),console.log("best distance: "+w.d)),w.p}},{"./intersection_tests":264,"@mapbox/point-geometry":4,tinyqueue:33}],262:[function(t,e,n){"use strict";var i,r=t("./worker_pool");e.exports=function(){return i||(i=new r),i}},{"./worker_pool":279}],263:[function(t,e,n){"use strict";function i(t,e,n,i){var r=e.width,o=e.height;if(i){if(i.length!==r*o*n)throw new RangeError("mismatched image size")}else i=new Uint8Array(r*o*n);return t.width=r,t.height=o,t.data=i,t}function r(t,e,n){var r=e.width,a=e.height;if(r!==t.width||a!==t.height){var s=i({},{width:r,height:a},n);o(t,s,{x:0,y:0},{x:0,y:0},{width:Math.min(t.width,r),height:Math.min(t.height,a)},n),t.width=r,t.height=a,t.data=s.data}}function o(t,e,n,i,r,o){if(0===r.width||0===r.height)return e;if(r.width>t.width||r.height>t.height||n.x>t.width-r.width||n.y>t.height-r.height)throw new RangeError("out of range source coordinates for image copy");if(r.width>e.width||r.height>e.height||i.x>e.width-r.width||i.y>e.height-r.height)throw new RangeError("out of range destination coordinates for image copy");for(var a=t.data,s=e.data,l=0;l<r.height;l++)for(var u=((n.y+l)*t.width+n.x)*o,c=((i.y+l)*e.width+i.x)*o,h=0;h<r.width*o;h++)s[c+h]=a[u+h];return e}var a=t("./web_worker_transfer"),s=a.register,l=function(t,e){i(this,t,1,e)};l.prototype.resize=function(t){r(this,t,1)},l.prototype.clone=function(){return new l({width:this.width,height:this.height},new Uint8Array(this.data))},l.copy=function(t,e,n,i,r){o(t,e,n,i,r,1)};var u=function(t,e){i(this,t,4,e)};u.prototype.resize=function(t){r(this,t,4)},u.prototype.clone=function(){return new u({width:this.width,height:this.height},new Uint8Array(this.data))},u.copy=function(t,e,n,i,r){o(t,e,n,i,r,4)},s("AlphaImage",l),s("RGBAImage",u),e.exports={AlphaImage:l,RGBAImage:u}},{"./web_worker_transfer":278}],264:[function(t,e,n){"use strict";function i(t,e){for(var n=0;n<t.length;n++)if(d(e,t[n]))return!0;for(var i=0;i<e.length;i++)if(d(t,e[i]))return!0;return!!l(t,e)}function r(t,e,n){for(var i=0;i<t.length;i++)for(var r=t[i],o=0;o<e.length;o++)for(var a=e[o],s=0;s<a.length;s++){var l=a[s];if(d(r,l))return!0;if(c(l,r,n))return!0}return!1}function o(t,e){if(1===t.length&&1===t[0].length)return p(e,t[0][0]);for(var n=0;n<e.length;n++)for(var i=e[n],r=0;r<i.length;r++)if(p(t,i[r]))return!0;for(var o=0;o<t.length;o++){for(var a=t[o],s=0;s<a.length;s++)if(p(e,a[s]))return!0;for(var u=0;u<e.length;u++)if(l(a,e[u]))return!0}return!1}function a(t,e,n){for(var i=0;i<e.length;i++)for(var r=e[i],o=0;o<t.length;o++){var a=t[o];if(a.length>=3)for(var l=0;l<r.length;l++)if(d(a,r[l]))return!0;if(s(a,r,n))return!0}return!1}function s(t,e,n){if(t.length>1){if(l(t,e))return!0;for(var i=0;i<e.length;i++)if(c(e[i],t,n))return!0}for(var r=0;r<t.length;r++)if(c(t[r],e,n))return!0;return!1}function l(t,e){if(0===t.length||0===e.length)return!1;for(var n=0;n<t.length-1;n++)for(var i=t[n],r=t[n+1],o=0;o<e.length-1;o++){var a=e[o],s=e[o+1];if(u(i,r,a,s))return!0}return!1}function u(t,e,n,i){return y(t,n,i)!==y(e,n,i)&&y(t,e,n)!==y(t,e,i)}function c(t,e,n){var i=n*n;if(1===e.length)return t.distSqr(e[0])<i;for(var r=1;r<e.length;r++)if(h(t,e[r-1],e[r])<i)return!0;return!1}function h(t,e,n){var i=e.distSqr(n);if(0===i)return t.distSqr(e);var r=((t.x-e.x)*(n.x-e.x)+(t.y-e.y)*(n.y-e.y))/i;return r<0?t.distSqr(e):r>1?t.distSqr(n):t.distSqr(n.sub(e)._mult(r)._add(e))}function p(t,e){for(var n,i,r,o=!1,a=0;a<t.length;a++){n=t[a];for(var s=0,l=n.length-1;s<n.length;l=s++)i=n[s],r=n[l],i.y>e.y!=r.y>e.y&&e.x<(r.x-i.x)*(e.y-i.y)/(r.y-i.y)+i.x&&(o=!o)}return o}function d(t,e){for(var n=!1,i=0,r=t.length-1;i<t.length;r=i++){var o=t[i],a=t[r];o.y>e.y!=a.y>e.y&&e.x<(a.x-o.x)*(e.y-o.y)/(a.y-o.y)+o.x&&(n=!n)}return n}var f=t("./util"),y=f.isCounterClockwise;e.exports={multiPolygonIntersectsBufferedMultiPoint:r,multiPolygonIntersectsMultiPolygon:o,multiPolygonIntersectsBufferedMultiLine:a,polygonIntersectsPolygon:i,distToSegmentSquared:h}},{"./util":275}],265:[function(t,e,n){"use strict";var i={"Latin-1 Supplement":function(t){return t>=128&&t<=255},Arabic:function(t){return t>=1536&&t<=1791},"Arabic Supplement":function(t){return t>=1872&&t<=1919},"Arabic Extended-A":function(t){return t>=2208&&t<=2303},"Hangul Jamo":function(t){return t>=4352&&t<=4607},"Unified Canadian Aboriginal Syllabics":function(t){return t>=5120&&t<=5759},"Unified Canadian Aboriginal Syllabics Extended":function(t){return t>=6320&&t<=6399},"General Punctuation":function(t){return t>=8192&&t<=8303},"Letterlike Symbols":function(t){return t>=8448&&t<=8527},"Number Forms":function(t){return t>=8528&&t<=8591},"Miscellaneous Technical":function(t){return t>=8960&&t<=9215},"Control Pictures":function(t){return t>=9216&&t<=9279},"Optical Character Recognition":function(t){return t>=9280&&t<=9311},"Enclosed Alphanumerics":function(t){return t>=9312&&t<=9471},"Geometric Shapes":function(t){return t>=9632&&t<=9727},"Miscellaneous Symbols":function(t){return t>=9728&&t<=9983},"Miscellaneous Symbols and Arrows":function(t){return t>=11008&&t<=11263},"CJK Radicals Supplement":function(t){return t>=11904&&t<=12031},"Kangxi Radicals":function(t){return t>=12032&&t<=12255},"Ideographic Description Characters":function(t){return t>=12272&&t<=12287},"CJK Symbols and Punctuation":function(t){return t>=12288&&t<=12351},Hiragana:function(t){return t>=12352&&t<=12447},Katakana:function(t){return t>=12448&&t<=12543},Bopomofo:function(t){return t>=12544&&t<=12591},"Hangul Compatibility Jamo":function(t){return t>=12592&&t<=12687},Kanbun:function(t){return t>=12688&&t<=12703},"Bopomofo Extended":function(t){return t>=12704&&t<=12735},"CJK Strokes":function(t){return t>=12736&&t<=12783},"Katakana Phonetic Extensions":function(t){return t>=12784&&t<=12799},"Enclosed CJK Letters and Months":function(t){return t>=12800&&t<=13055},"CJK Compatibility":function(t){return t>=13056&&t<=13311},"CJK Unified Ideographs Extension A":function(t){return t>=13312&&t<=19903},"Yijing Hexagram Symbols":function(t){return t>=19904&&t<=19967},"CJK Unified Ideographs":function(t){return t>=19968&&t<=40959},"Yi Syllables":function(t){return t>=40960&&t<=42127},"Yi Radicals":function(t){return t>=42128&&t<=42191},"Hangul Jamo Extended-A":function(t){return t>=43360&&t<=43391},"Hangul Syllables":function(t){return t>=44032&&t<=55215},"Hangul Jamo Extended-B":function(t){return t>=55216&&t<=55295},"Private Use Area":function(t){return t>=57344&&t<=63743},"CJK Compatibility Ideographs":function(t){return t>=63744&&t<=64255},"Arabic Presentation Forms-A":function(t){return t>=64336&&t<=65023},"Vertical Forms":function(t){return t>=65040&&t<=65055},"CJK Compatibility Forms":function(t){return t>=65072&&t<=65103},"Small Form Variants":function(t){return t>=65104&&t<=65135},"Arabic Presentation Forms-B":function(t){return t>=65136&&t<=65279},"Halfwidth and Fullwidth Forms":function(t){return t>=65280&&t<=65519}};e.exports=i},{}],266:[function(t,e,n){"use strict";var i=function(t,e){this.max=t,this.onRemove=e,this.reset()};i.prototype.reset=function(){var t=this;for(var e in t.data)t.onRemove(t.data[e]);return this.data={},this.order=[],this},i.prototype.add=function(t,e){if(this.has(t))this.order.splice(this.order.indexOf(t),1),this.data[t]=e,this.order.push(t);else if(this.data[t]=e,this.order.push(t),this.order.length>this.max){var n=this.getAndRemove(this.order[0]);n&&this.onRemove(n)}return this},i.prototype.has=function(t){return t in this.data},i.prototype.keys=function(){return this.order},i.prototype.getAndRemove=function(t){if(!this.has(t))return null;var e=this.data[t];return delete this.data[t],this.order.splice(this.order.indexOf(t),1),e},i.prototype.get=function(t){return this.has(t)?this.data[t]:null},i.prototype.remove=function(t){if(!this.has(t))return this;var e=this.data[t];return delete this.data[t],this.onRemove(e),this.order.splice(this.order.indexOf(t),1),this},i.prototype.setMaxSize=function(t){var e=this;for(this.max=t;this.order.length>this.max;){var n=e.getAndRemove(e.order[0]);n&&e.onRemove(n)}return this},e.exports=i},{}],267:[function(t,e,n){"use strict";function i(t,e){var n=a(l.API_URL);if(t.protocol=n.protocol,t.authority=n.authority,"/"!==n.path&&(t.path=""+n.path+t.path),!l.REQUIRE_ACCESS_TOKEN)return s(t);if(!(e=e||l.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+c);if("s"===e[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+c);return t.params.push("access_token="+e),s(t)}function r(t){return 0===t.indexOf("mapbox:")}function o(t){for(var e=0;e<t.length;e++)0===t[e].indexOf("access_token=tk.")&&(t[e]="access_token="+(l.ACCESS_TOKEN||""))}function a(t){var e=t.match(p);if(!e)throw new Error("Unable to parse URL object");return{protocol:e[1],authority:e[2],path:e[3]||"/",params:e[4]?e[4].split("&"):[]}}function s(t){var e=t.params.length?"?"+t.params.join("&"):"";return t.protocol+"://"+t.authority+t.path+e}var l=t("./config"),u=t("./browser"),c="See https://www.mapbox.com/api-documentation/#access-tokens";n.isMapboxURL=r,n.normalizeStyleURL=function(t,e){if(!r(t))return t;var n=a(t);return n.path="/styles/v1"+n.path,i(n,e)},n.normalizeGlyphsURL=function(t,e){if(!r(t))return t;var n=a(t);return n.path="/fonts/v1"+n.path,i(n,e)},n.normalizeSourceURL=function(t,e){if(!r(t))return t;var n=a(t);return n.path="/v4/"+n.authority+".json",n.params.push("secure"),i(n,e)},n.normalizeSpriteURL=function(t,e,n,o){var l=a(t);return r(t)?(l.path="/styles/v1"+l.path+"/sprite"+e+n,i(l,o)):(l.path+=""+e+n,s(l))};var h=/(\.(png|jpg)\d*)(?=$)/;n.normalizeTileURL=function(t,e,n){if(!e||!r(e))return t;var i=a(t),l=u.devicePixelRatio>=2||512===n?"@2x":"",c=u.supportsWebp?".webp":"$1";return i.path=i.path.replace(h,""+l+c),o(i.params),s(i)};var p=/^(\w+):\/\/([^\/?]*)(\/[^?]+)?\??(.+)?/},{"./browser":252,"./config":256}],268:[function(t,e,n){"use strict";e.exports={getEntriesByName:function(t){return!(!performance||!performance.getEntriesByName)&&performance.getEntriesByName(t)}}},{}],269:[function(t,e,n){"use strict";var i=t("./is_char_in_unicode_block");e.exports.allowsIdeographicBreaking=function(t){for(var e=0,i=t;e<i.length;e+=1){var r=i[e];if(!n.charAllowsIdeographicBreaking(r.charCodeAt(0)))return!1}return!0},e.exports.allowsVerticalWritingMode=function(t){for(var e=0,i=t;e<i.length;e+=1){var r=i[e];if(n.charHasUprightVerticalOrientation(r.charCodeAt(0)))return!0}return!1},e.exports.allowsLetterSpacing=function(t){for(var e=0,i=t;e<i.length;e+=1){var r=i[e];if(!n.charAllowsLetterSpacing(r.charCodeAt(0)))return!1}return!0},e.exports.charAllowsLetterSpacing=function(t){return!i.Arabic(t)&&!i["Arabic Supplement"](t)&&!i["Arabic Extended-A"](t)&&!i["Arabic Presentation Forms-A"](t)&&!i["Arabic Presentation Forms-B"](t)},e.exports.charAllowsIdeographicBreaking=function(t){return!(t<11904)&&(!!i["Bopomofo Extended"](t)||!!i.Bopomofo(t)||!!i["CJK Compatibility Forms"](t)||!!i["CJK Compatibility Ideographs"](t)||!!i["CJK Compatibility"](t)||!!i["CJK Radicals Supplement"](t)||!!i["CJK Strokes"](t)||!!i["CJK Symbols and Punctuation"](t)||!!i["CJK Unified Ideographs Extension A"](t)||!!i["CJK Unified Ideographs"](t)||!!i["Enclosed CJK Letters and Months"](t)||!!i["Halfwidth and Fullwidth Forms"](t)||!!i.Hiragana(t)||!!i["Ideographic Description Characters"](t)||!!i["Kangxi Radicals"](t)||!!i["Katakana Phonetic Extensions"](t)||!!i.Katakana(t)||!!i["Vertical Forms"](t)||!!i["Yi Radicals"](t)||!!i["Yi Syllables"](t))},n.charHasUprightVerticalOrientation=function(t){return 746===t||747===t||!(t<4352)&&(!!i["Bopomofo Extended"](t)||!!i.Bopomofo(t)||!(!i["CJK Compatibility Forms"](t)||t>=65097&&t<=65103)||!!i["CJK Compatibility Ideographs"](t)||!!i["CJK Compatibility"](t)||!!i["CJK Radicals Supplement"](t)||!!i["CJK Strokes"](t)||!(!i["CJK Symbols and Punctuation"](t)||t>=12296&&t<=12305||t>=12308&&t<=12319||12336===t)||!!i["CJK Unified Ideographs Extension A"](t)||!!i["CJK Unified Ideographs"](t)||!!i["Enclosed CJK Letters and Months"](t)||!!i["Hangul Compatibility Jamo"](t)||!!i["Hangul Jamo Extended-A"](t)||!!i["Hangul Jamo Extended-B"](t)||!!i["Hangul Jamo"](t)||!!i["Hangul Syllables"](t)||!!i.Hiragana(t)||!!i["Ideographic Description Characters"](t)||!!i.Kanbun(t)||!!i["Kangxi Radicals"](t)||!!i["Katakana Phonetic Extensions"](t)||!(!i.Katakana(t)||12540===t)||!(!i["Halfwidth and Fullwidth Forms"](t)||65288===t||65289===t||65293===t||t>=65306&&t<=65310||65339===t||65341===t||65343===t||t>=65371&&t<=65503||65507===t||t>=65512&&t<=65519)||!(!i["Small Form Variants"](t)||t>=65112&&t<=65118||t>=65123&&t<=65126)||!!i["Unified Canadian Aboriginal Syllabics"](t)||!!i["Unified Canadian Aboriginal Syllabics Extended"](t)||!!i["Vertical Forms"](t)||!!i["Yijing Hexagram Symbols"](t)||!!i["Yi Syllables"](t)||!!i["Yi Radicals"](t))},n.charHasNeutralVerticalOrientation=function(t){return!(!i["Latin-1 Supplement"](t)||167!==t&&169!==t&&174!==t&&177!==t&&188!==t&&189!==t&&190!==t&&215!==t&&247!==t)||!(!i["General Punctuation"](t)||8214!==t&&8224!==t&&8225!==t&&8240!==t&&8241!==t&&8251!==t&&8252!==t&&8258!==t&&8263!==t&&8264!==t&&8265!==t&&8273!==t)||!!i["Letterlike Symbols"](t)||!!i["Number Forms"](t)||!(!i["Miscellaneous Technical"](t)||!(t>=8960&&t<=8967||t>=8972&&t<=8991||t>=8996&&t<=9e3||9003===t||t>=9085&&t<=9114||t>=9150&&t<=9165||9167===t||t>=9169&&t<=9179||t>=9186&&t<=9215))||!(!i["Control Pictures"](t)||9251===t)||!!i["Optical Character Recognition"](t)||!!i["Enclosed Alphanumerics"](t)||!!i["Geometric Shapes"](t)||!(!i["Miscellaneous Symbols"](t)||t>=9754&&t<=9759)||!(!i["Miscellaneous Symbols and Arrows"](t)||!(t>=11026&&t<=11055||t>=11088&&t<=11097||t>=11192&&t<=11243))||!!i["CJK Symbols and Punctuation"](t)||!!i.Katakana(t)||!!i["Private Use Area"](t)||!!i["CJK Compatibility Forms"](t)||!!i["Small Form Variants"](t)||!!i["Halfwidth and Fullwidth Forms"](t)||8734===t||8756===t||8757===t||t>=9984&&t<=10087||t>=10102&&t<=10131||65532===t||65533===t},n.charHasRotatedVerticalOrientation=function(t){return!(n.charHasUprightVerticalOrientation(t)||n.charHasNeutralVerticalOrientation(t))}},{"./is_char_in_unicode_block":265}],270:[function(t,e,n){"use strict";var i=t("../geo/lng_lat");e.exports=function(t,e,n){if(t=new i(t.lng,t.lat),e){var r=new i(t.lng-360,t.lat),o=new i(t.lng+360,t.lat),a=n.locationPoint(t).distSqr(e);n.locationPoint(r).distSqr(e)<a?t=r:n.locationPoint(o).distSqr(e)<a&&(t=o)}for(;Math.abs(t.lng-n.center.lng)>180;){var s=n.locationPoint(t);if(s.x>=0&&s.y>=0&&s.x<=n.width&&s.y<=n.height)break;t.lng>n.center.lng?t.lng-=360:t.lng+=360}return t}},{"../geo/lng_lat":62}],271:[function(t,e,n){"use strict";function i(t,e){void 0===e&&(e=1);var n=0,i=0;return{members:t.map(function(t){var a=r(t.type),s=n=o(n,Math.max(e,a)),l=t.components||1;return i=Math.max(i,a),n+=a*l,{name:t.name,type:t.type,components:l,offset:s}}),size:o(n,Math.max(i,e)),alignment:e}}function r(t){return a[t].BYTES_PER_ELEMENT}function o(t,e){return Math.ceil(t/e)*e}var a={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},s=function(t,e){this._structArray=t,this._pos1=e*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},l=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};l.serialize=function(t,e){return t._trim(),e&&(t.isTransferred=!0,e.push(t.arrayBuffer)),{length:t.length,arrayBuffer:t.arrayBuffer}},l.deserialize=function(t){var e=Object.create(this.prototype);return e.arrayBuffer=t.arrayBuffer,e.length=t.length,e.capacity=t.arrayBuffer.byteLength/e.bytesPerElement,e._refreshViews(),e},l.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},l.prototype.clear=function(){this.length=0},l.prototype.resize=function(t){this.reserve(t),this.length=t},l.prototype.reserve=function(t){if(t>this.capacity){this.capacity=Math.max(t,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var e=this.uint8;this._refreshViews(),e&&this.uint8.set(e)}},l.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")},e.exports.StructArray=l,e.exports.Struct=s,e.exports.viewTypes=a,e.exports.createLayout=i},{}],272:[function(t,e,n){"use strict";e.exports=function(t,e){var n=!1,i=0,r=function(){i=0,n&&(t(),i=setTimeout(r,e),n=!1)};return function(){return n=!0,i||r(),i}}},{}],273:[function(t,e,n){"use strict";function i(t,e,n,i){function r(e,r,a){var u,c,h,p;if(a>=0&&a<=o)for(u=e;u<r;u++)c=Math.floor(u/o),h=(u%o+o)%o,0!==c&&!0!==i||(p=new l(n,c,t,h,a),s[p.key]=p)}void 0===i&&(i=!0);var o=1<<t,s={};return a(e[0],e[1],e[2],0,o,r),a(e[2],e[3],e[0],0,o,r),Object.keys(s).map(function(t){return s[t]})}function r(t,e){if(t.row>e.row){var n=t;t=e,e=n}return{x0:t.column,y0:t.row,x1:e.column,y1:e.row,dx:e.column-t.column,dy:e.row-t.row}}function o(t,e,n,i,r){var o=Math.max(n,Math.floor(e.y0)),a=Math.min(i,Math.ceil(e.y1));if(t.x0===e.x0&&t.y0===e.y0?t.x0+e.dy/t.dy*t.dx<e.x1:t.x1-e.dy/t.dy*t.dx<e.x0){var s=t;t=e,e=s}for(var l=t.dx/t.dy,u=e.dx/e.dy,c=t.dx>0,h=e.dx<0,p=o;p<a;p++){var d=l*Math.max(0,Math.min(t.dy,p+c-t.y0))+t.x0,f=u*Math.max(0,Math.min(e.dy,p+h-e.y0))+e.x0;r(Math.floor(f),Math.ceil(d),p)}}function a(t,e,n,i,a,s){var l,u=r(t,e),c=r(e,n),h=r(n,t);u.dy>c.dy&&(l=u,u=c,c=l),u.dy>h.dy&&(l=u,u=h,h=l),c.dy>h.dy&&(l=c,c=h,h=l),u.dy&&o(h,u,i,a,s),c.dy&&o(h,c,i,a,s)}var s=(t("../geo/coordinate"),t("../source/tile_id")),l=s.OverscaledTileID;e.exports=i},{"../geo/coordinate":61,"../source/tile_id":114}],274:[function(t,e,n){"use strict";function i(t,e){return e.replace(/{([^{}]+)}/g,function(e,n){return n in t?String(t[n]):""})}e.exports=i},{}],275:[function(t,e,n){"use strict";var i=t("@mapbox/unitbezier"),r=t("../geo/coordinate");t("@mapbox/point-geometry");n.easeCubicInOut=function(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)},n.bezier=function(t,e,n,r){var o=new i(t,e,n,r);return function(t){return o.solve(t)}},n.ease=n.bezier(.25,.1,.25,1),n.clamp=function(t,e,n){return Math.min(n,Math.max(e,t))},n.wrap=function(t,e,n){var i=n-e,r=((t-e)%i+i)%i+e;return r===e?n:r},n.asyncAll=function(t,e,n){if(!t.length)return n(null,[]);var i=t.length,r=new Array(t.length),o=null;t.forEach(function(t,a){e(t,function(t,e){t&&(o=t),r[a]=e,0==--i&&n(o,r)})})},n.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},n.keysDifference=function(t,e){var n=[];for(var i in t)i in e||n.push(i);return n},n.extend=function(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];for(var i=0,r=e;i<r.length;i+=1){var o=r[i];for(var a in o)t[a]=o[a]}return t},n.pick=function(t,e){for(var n={},i=0;i<e.length;i++){var r=e[i];r in t&&(n[r]=t[r])}return n};var o=1;n.uniqueId=function(){return o++},n.bindAll=function(t,e){t.forEach(function(t){e[t]&&(e[t]=e[t].bind(e))})},n.getCoordinatesCenter=function(t){for(var e=1/0,n=1/0,i=-1/0,o=-1/0,a=0;a<t.length;a++)e=Math.min(e,t[a].column),n=Math.min(n,t[a].row),i=Math.max(i,t[a].column),o=Math.max(o,t[a].row);var s=i-e,l=o-n,u=Math.max(s,l),c=Math.max(0,Math.floor(-Math.log(u)/Math.LN2));return new r((e+i)/2,(n+o)/2,0).zoomTo(c)},n.endsWith=function(t,e){return-1!==t.indexOf(e,t.length-e.length)},n.mapObject=function(t,e,n){var i=this,r={};for(var o in t)r[o]=e.call(n||i,t[o],o,t);return r},n.filterObject=function(t,e,n){var i=this,r={};for(var o in t)e.call(n||i,t[o],o,t)&&(r[o]=t[o]);return r},n.deepEqual=t("../style-spec/util/deep_equal"),n.clone=function(t){return Array.isArray(t)?t.map(n.clone):"object"==typeof t&&t?n.mapObject(t,n.clone):t},n.arraysIntersect=function(t,e){for(var n=0;n<t.length;n++)if(e.indexOf(t[n])>=0)return!0;return!1};var a={};n.warnOnce=function(t){a[t]||("undefined"!=typeof console&&console.warn(t),a[t]=!0)},n.isCounterClockwise=function(t,e,n){return(n.y-t.y)*(e.x-t.x)>(e.y-t.y)*(n.x-t.x)},n.calculateSignedArea=function(t){for(var e=0,n=0,i=t.length,r=i-1,o=void 0,a=void 0;n<i;r=n++)o=t[n],a=t[r],e+=(a.x-o.x)*(o.y+a.y);return e},n.isClosedPolygon=function(t){if(t.length<4)return!1;var e=t[0],i=t[t.length-1];return!(Math.abs(e.x-i.x)>0||Math.abs(e.y-i.y)>0)&&Math.abs(n.calculateSignedArea(t))>.01},n.sphericalToCartesian=function(t){var e=t[0],n=t[1],i=t[2];return n+=90,n*=Math.PI/180,i*=Math.PI/180,{x:e*Math.cos(n)*Math.sin(i),y:e*Math.sin(n)*Math.sin(i),z:e*Math.cos(i)}},n.parseCacheControl=function(t){var e=/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,n={};if(t.replace(e,function(t,e,i,r){var o=i||r;return n[e]=!o||o.toLowerCase(),""}),n["max-age"]){var i=parseInt(n["max-age"],10);isNaN(i)?delete n["max-age"]:n["max-age"]=i}return n}},{"../geo/coordinate":61,"../style-spec/util/deep_equal":155,"@mapbox/point-geometry":4,"@mapbox/unitbezier":7}],276:[function(t,e,n){"use strict";var i=function(t,e,n,i){this.type="Feature",this._vectorTileFeature=t,t._z=e,t._x=n,t._y=i,this.properties=t.properties,null!=t.id&&(this.id=t.id)},r={geometry:{}};r.geometry.get=function(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},r.geometry.set=function(t){this._geometry=t},i.prototype.toJSON=function(){var t=this,e={geometry:this.geometry};for(var n in t)"_geometry"!==n&&"_vectorTileFeature"!==n&&(e[n]=t[n]);return e},Object.defineProperties(i.prototype,r),e.exports=i},{}],277:[function(t,e,n){"use strict";var i=t("./script_detection");e.exports=function(t){for(var n="",r=0;r<t.length;r++){var o=t.charCodeAt(r+1)||null,a=t.charCodeAt(r-1)||null;o&&i.charHasRotatedVerticalOrientation(o)&&!e.exports.lookup[t[r+1]]||a&&i.charHasRotatedVerticalOrientation(a)&&!e.exports.lookup[t[r-1]]||!e.exports.lookup[t[r]]?n+=t[r]:n+=e.exports.lookup[t[r]]}return n},e.exports.lookup={"!":"\ufe15","#":"\uff03",$:"\uff04","%":"\uff05","&":"\uff06","(":"\ufe35",")":"\ufe36","*":"\uff0a","+":"\uff0b",",":"\ufe10","-":"\ufe32",".":"\u30fb","/":"\uff0f",":":"\ufe13",";":"\ufe14","<":"\ufe3f","=":"\uff1d",">":"\ufe40","?":"\ufe16","@":"\uff20","[":"\ufe47","\\":"\uff3c","]":"\ufe48","^":"\uff3e",_:"\ufe33","`":"\uff40","{":"\ufe37","|":"\u2015","}":"\ufe38","~":"\uff5e","\xa2":"\uffe0","\xa3":"\uffe1","\xa5":"\uffe5","\xa6":"\uffe4","\xac":"\uffe2","\xaf":"\uffe3","\u2013":"\ufe32","\u2014":"\ufe31","\u2018":"\ufe43","\u2019":"\ufe44","\u201c":"\ufe41","\u201d":"\ufe42","\u2026":"\ufe19","\u2027":"\u30fb","\u20a9":"\uffe6","\u3001":"\ufe11","\u3002":"\ufe12","\u3008":"\ufe3f","\u3009":"\ufe40","\u300a":"\ufe3d","\u300b":"\ufe3e","\u300c":"\ufe41","\u300d":"\ufe42","\u300e":"\ufe43","\u300f":"\ufe44","\u3010":"\ufe3b","\u3011":"\ufe3c","\u3014":"\ufe39","\u3015":"\ufe3a","\u3016":"\ufe17","\u3017":"\ufe18","\uff01":"\ufe15","\uff08":"\ufe35","\uff09":"\ufe36","\uff0c":"\ufe10","\uff0d":"\ufe32","\uff0e":"\u30fb","\uff1a":"\ufe13","\uff1b":"\ufe14","\uff1c":"\ufe3f","\uff1e":"\ufe40","\uff1f":"\ufe16","\uff3b":"\ufe47","\uff3d":"\ufe48","\uff3f":"\ufe33","\uff5b":"\ufe37","\uff5c":"\u2015","\uff5d":"\ufe38","\uff5f":"\ufe35","\uff60":"\ufe36","\uff61":"\ufe12","\uff62":"\ufe41","\uff63":"\ufe42"}},{"./script_detection":269}],278:[function(t,e,n){"use strict";function i(t,e,n){void 0===n&&(n={}),Object.defineProperty(e,"_classRegistryKey",{value:t,writeable:!1}),x[t]={klass:e,omit:n.omit||[],shallow:n.shallow||[]}}function r(t,e){if(null===t||void 0===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp)return t;if(t instanceof ArrayBuffer)return e&&e.push(t),t;if(ArrayBuffer.isView(t)){var n=t;return e&&e.push(n.buffer),n}if(t instanceof g)return e&&e.push(t.data.buffer),t;if(Array.isArray(t)){for(var i=[],o=0,a=t;o<a.length;o+=1){var s=a[o];i.push(r(s,e))}return i}if("object"==typeof t){var l=t.constructor,u=l._classRegistryKey;if(!u)throw new Error("can't serialize object of unregistered class");var c={};if(l.serialize)c._serialized=l.serialize(t,e);else for(var h in t)if(t.hasOwnProperty(h)&&!(x[u].omit.indexOf(h)>=0)){var p=t[h];c[h]=x[u].shallow.indexOf(h)>=0?p:r(p,e)}return{name:u,properties:c}}throw new Error("can't serialize object of type "+typeof t)}function o(t){if(null===t||void 0===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp||t instanceof ArrayBuffer||ArrayBuffer.isView(t)||t instanceof g)return t;if(Array.isArray(t))return t.map(function(t){return o(t)});if("object"==typeof t){var e=t,n=e.name,i=e.properties;if(!n)throw new Error("can't deserialize object of anonymous class");var r=x[n],a=r.klass;if(!a)throw new Error("can't deserialize unregistered class "+n);if(a.deserialize)return a.deserialize(i._serialized);for(var s=Object.create(a.prototype),l=0,u=Object.keys(i);l<u.length;l+=1){var c=u[l];s[c]=x[n].shallow.indexOf(c)>=0?i[c]:o(i[c])}return s}throw new Error("can't deserialize object of type "+typeof t)}var a=t("grid-index"),s=t("../style-spec/util/color"),l=t("../style-spec/expression"),u=l.StylePropertyFunction,c=l.StyleExpression,h=l.StyleExpressionWithErrorHandling,p=l.ZoomDependentExpression,d=l.ZoomConstantExpression,f=t("../style-spec/expression/compound_expression"),y=f.CompoundExpression,m=t("../style-spec/expression/definitions"),v=t("./window"),g=v.ImageData,x={};i("Object",Object),a.serialize=function(t,e){var n=t.toArrayBuffer();return e&&e.push(n),n},a.deserialize=function(t){return new a(t)},i("Grid",a),i("Color",s),i("StylePropertyFunction",u),i("StyleExpression",c,{omit:["_evaluator"]}),i("StyleExpressionWithErrorHandling",h,{omit:["_evaluator"]}),i("ZoomDependentExpression",p),i("ZoomConstantExpression",d),i("CompoundExpression",y,{omit:["_evaluate"]});for(var _ in m)m[_]._classRegistryKey||i("Expression_"+_,m[_]);e.exports={register:i,serialize:r,deserialize:o}},{"../style-spec/expression":139,"../style-spec/expression/compound_expression":123,"../style-spec/expression/definitions":131,"../style-spec/util/color":153,"./window":254,"grid-index":24}],279:[function(t,e,n){"use strict";var i=t("./web_worker"),r=function(){this.active={}};r.prototype.acquire=function(e){var n=this;if(!this.workers){var r=t("../").workerCount;for(this.workers=[];this.workers.length<r;)n.workers.push(new i)}return this.active[e]=!0,this.workers.slice()},r.prototype.release=function(t){delete this.active[t],0===Object.keys(this.active).length&&(this.workers.forEach(function(t){t.terminate()}),this.workers=null)},e.exports=r},{"../":73,"./web_worker":253}]},{},[73])(73)})},function(t,e,n){"use strict";var i=n(1);n.n(i);setTimeout(function(){document.querySelectorAll(".widget-secondary-nav").forEach(function(t){new i(t.querySelector(".swiper-container"),{slidesPerView:"auto",spaceBetween:0,slideClass:"slide",freeMode:!0,navigation:{nextEl:t.querySelector(".swiper-button-next"),prevEl:t.querySelector(".swiper-button-prev")}})})},100)}]);
//# sourceMappingURL=main.ltr.js.map